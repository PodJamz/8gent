module.exports=[918622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},193695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},550729,e=>{"use strict";let r="https://queue.fal.run",t={landscape_short:{name:"Landscape Short",width:768,height:512,num_frames:97,description:"16:9 landscape, 4 seconds"},landscape_long:{name:"Landscape Long",width:768,height:512,num_frames:145,description:"16:9 landscape, 6 seconds"},portrait_short:{name:"Portrait Short",width:512,height:768,num_frames:97,description:"9:16 portrait (stories/reels), 4 seconds"},portrait_long:{name:"Portrait Long",width:512,height:768,num_frames:145,description:"9:16 portrait (stories/reels), 6 seconds"},square:{name:"Square",width:512,height:512,num_frames:97,description:"1:1 square, 4 seconds"},cinematic:{name:"Cinematic",width:832,height:448,num_frames:121,description:"2.39:1 cinematic widescreen, 5 seconds"}};async function s(e,t,s){let n=process.env.FAL_KEY;if(!n)throw Error("FAL_KEY not configured");let o=s?.maxAttempts??180,a=s?.pollInterval??5e3,i=await fetch(`${r}/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Key ${n}`},body:JSON.stringify(t)});if(!i.ok){let e=await i.text();throw Error(`LTX-2 submit error: ${e}`)}let m=await i.json(),u=`${r}/${e}/requests/${m.request_id}/status`,d=`${r}/${e}/requests/${m.request_id}`,p=0;for(;p<o;){await new Promise(e=>setTimeout(e,a));let e=await fetch(u,{headers:{Authorization:`Key ${n}`}});if(!e.ok){p++;continue}let r=await e.json();if(s?.onProgress?.(r.status,r.logs),"COMPLETED"===r.status){let e=await fetch(d,{headers:{Authorization:`Key ${n}`}});if(!e.ok)throw Error("Failed to fetch LTX-2 result");return e.json()}if("FAILED"===r.status)throw Error(`LTX-2 job failed: ${r.error||"Unknown error"}`);p++}throw Error("LTX-2 job timed out")}async function n(e,r){if(e.num_frames&&(e.num_frames-1)%8!=0){let r=8*Math.floor((e.num_frames-1)/8)+1;console.warn(`LTX-2: Correcting num_frames from ${e.num_frames} to ${r} (must be 8n+1)`),e.num_frames=r}return e.width&&e.width%32!=0&&(e.width=32*Math.floor(e.width/32)),e.height&&e.height%32!=0&&(e.height=32*Math.floor(e.height/32)),s("fal-ai/ltx-video",{prompt:e.prompt,negative_prompt:e.negative_prompt||"blurry, low quality, distorted, watermark",num_frames:e.num_frames||97,width:e.width||768,height:e.height||512,seed:e.seed,num_inference_steps:e.num_inference_steps||30,guidance_scale:e.guidance_scale||7.5},{onProgress:e=>r?.onProgress?.(e)})}async function o(e,r){if(e.num_frames&&(e.num_frames-1)%8!=0){let r=8*Math.floor((e.num_frames-1)/8)+1;e.num_frames=r}return s("fal-ai/ltx-video/image-to-video",{prompt:e.prompt,image_url:e.image_url,negative_prompt:e.negative_prompt||"blurry, low quality, distorted, watermark",num_frames:e.num_frames||97,seed:e.seed,num_inference_steps:e.num_inference_steps||30,guidance_scale:e.guidance_scale||7.5},{onProgress:e=>r?.onProgress?.(e)})}async function a(e,r,s){let a=t[r];if(!a)throw Error(`Unknown preset: ${r}`);return s?.image_url?o({prompt:e,image_url:s.image_url,negative_prompt:s.negative_prompt,num_frames:a.num_frames,seed:s.seed},{onProgress:s?.onProgress}):n({prompt:e,negative_prompt:s?.negative_prompt,width:a.width,height:a.height,num_frames:a.num_frames,seed:s?.seed},{onProgress:s?.onProgress})}function i(){return!!process.env.FAL_KEY}function m(e){return 8*Math.floor((Math.round(24*e)-1)/8)+1}e.s(["LTX_PRESETS",0,t,"generateVideoFromImage",()=>o,"generateVideoFromText",()=>n,"generateVideoWithPreset",()=>a,"getFrameCountForDuration",()=>m,"isLTXConfigured",()=>i])},291447,(e,r,t)=>{"use strict";var s=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,i={},m={VercelOidcTokenError:()=>d};for(var u in m)s(i,u,{get:m[u],enumerable:!0});r.exports=((e,r,t,i)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let t of o(r))a.call(e,t)||void 0===t||s(e,t,{get:()=>r[t],enumerable:!(i=n(r,t))||i.enumerable});return e})(s({},"__esModule",{value:!0}),i);class d extends Error{constructor(e,r){super(e),this.name="VercelOidcTokenError",this.cause=r}toString(){return this.cause?`${this.name}: ${this.message}: ${this.cause}`:`${this.name}: ${this.message}`}}},666263,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__3043a010._.js"].map(r=>e.l(r))).then(()=>r(771329)))},249241,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__d63c17b3._.js"].map(r=>e.l(r))).then(()=>r(480800)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__47acd8c2._.js.map