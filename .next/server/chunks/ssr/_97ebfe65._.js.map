{"version":3,"sources":["../../../../node_modules/.pnpm/three-stdlib%402.36.1_three%400.170.0/node_modules/src/controls/EventDispatcher.ts","../../../../node_modules/.pnpm/%40babel%2Bruntime%407.28.6/node_modules/%40babel/runtime/helpers/esm/extends.js","../../../../node_modules/.pnpm/%40react-three%2Bdrei%4010.7.7_%40react-three%2Bfiber%409.5.0_%40types%2Breact%4019.2.8_react-dom%4019.2.3_react%40_otfyaga7ti6f5mvznauek6nyga/node_modules/%40react-three/drei/core/Texture.js","../../../../src/components/gallery-3d/SphereGallery.tsx"],"sourcesContent":["/*\nDue to @types/three r168 breaking change\nwe have to manually copy the EventDispatcher class from three.js.\nSo this files merges the declarations from https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/three/src/core/EventDispatcher.d.ts\nwith the implementation from https://github.com/mrdoob/three.js/blob/dev/src/core/EventDispatcher.js\nMore info in https://github.com/pmndrs/three-stdlib/issues/387\n*/\n\n/**\n * The minimal basic Event that can be dispatched by a {@link EventDispatcher<>}.\n */\nexport interface BaseEvent<TEventType extends string = string> {\n    readonly type: TEventType;\n    // not defined in @types/three\n    target: any;\n}\n\n/**\n * The minimal expected contract of a fired Event that was dispatched by a {@link EventDispatcher<>}.\n */\nexport interface Event<TEventType extends string = string, TTarget = unknown> {\n    readonly type: TEventType;\n    readonly target: TTarget;\n}\n\nexport type EventListener<TEventData, TEventType extends string, TTarget> = (\n    event: TEventData & Event<TEventType, TTarget>,\n) => void;\n\nexport class EventDispatcher<TEventMap extends {} = {}> {\n    // not defined in @types/three\n    private _listeners: any;\n\n    /**\n     * Adds a listener to an event type.\n     * @param type The type of event to listen to.\n     * @param listener The function that gets called when the event is fired.\n     */\n\taddEventListener<T extends Extract<keyof TEventMap, string>>(\n        type: T,\n        listener: EventListener<TEventMap[T], T, this>,\n    ): void {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\t/**\n     * Checks if listener is added to an event type.\n     * @param type The type of event to listen to.\n     * @param listener The function that gets called when the event is fired.\n     */\n    hasEventListener<T extends Extract<keyof TEventMap, string>>(\n        type: T,\n        listener: EventListener<TEventMap[T], T, this>,\n    ): boolean {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\t/**\n     * Removes a listener from an event type.\n     * @param type The type of the listener that gets removed.\n     * @param listener The listener function that gets removed.\n     */\n    removeEventListener<T extends Extract<keyof TEventMap, string>>(\n        type: T,\n        listener: EventListener<TEventMap[T], T, this>,\n    ): void {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n     * Fire an event type.\n     * @param event The event that gets fired.\n     */\n    dispatchEvent<T extends Extract<keyof TEventMap, string>>(event: BaseEvent<T> & TEventMap[T]): void {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import * as React from 'react';\nimport { useLayoutEffect, useEffect, useMemo } from 'react';\nimport { TextureLoader, Texture as Texture$1 } from 'three';\nimport { useThree, useLoader } from '@react-three/fiber';\n\nconst IsObject = url => url === Object(url) && !Array.isArray(url) && typeof url !== 'function';\nfunction useTexture(input, onLoad) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(TextureLoader, IsObject(input) ? Object.values(input) : input);\n  useLayoutEffect(() => {\n    onLoad == null || onLoad(textures);\n  }, [onLoad]);\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  // NOTE: only available for WebGLRenderer\n  useEffect(() => {\n    if ('initTexture' in gl) {\n      let textureArray = [];\n      if (Array.isArray(textures)) {\n        textureArray = textures;\n      } else if (textures instanceof Texture$1) {\n        textureArray = [textures];\n      } else if (IsObject(textures)) {\n        textureArray = Object.values(textures);\n      }\n      textureArray.forEach(texture => {\n        if (texture instanceof Texture$1) {\n          gl.initTexture(texture);\n        }\n      });\n    }\n  }, [gl, textures]);\n  const mappedTextures = useMemo(() => {\n    if (IsObject(input)) {\n      const keyed = {};\n      let i = 0;\n      for (const key in input) keyed[key] = textures[i++];\n      return keyed;\n    } else {\n      return textures;\n    }\n  }, [input, textures]);\n  return mappedTextures;\n}\nuseTexture.preload = url => useLoader.preload(TextureLoader, url);\nuseTexture.clear = input => useLoader.clear(TextureLoader, input);\n\n//\n\nconst Texture = ({\n  children,\n  input,\n  onLoad\n}) => {\n  const ret = useTexture(input, onLoad);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(ret));\n};\n\nexport { IsObject, Texture, useTexture };\n","'use client';\n\nimport { useRef, useMemo, useState, useCallback } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { useTexture, Html, OrbitControls } from '@react-three/drei';\nimport * as THREE from 'three';\nimport type { GalleryImage, AudioReactiveData } from './types';\nimport { fibonacciSphere, damp } from './utils';\n\ninterface SphereGalleryProps {\n  images: GalleryImage[];\n  className?: string;\n  autoRotate?: boolean;\n  rotationSpeed?: number;\n  radius?: number;\n  itemSize?: number;\n  onImageClick?: (image: GalleryImage, index: number) => void;\n  audioData?: AudioReactiveData;\n}\n\ninterface ImageCardProps {\n  image: GalleryImage;\n  position: THREE.Vector3;\n  index: number;\n  isHovered: boolean;\n  isSelected: boolean;\n  onHover: (index: number | null) => void;\n  onClick: (index: number) => void;\n  cardSize: number;\n  audioData?: AudioReactiveData;\n}\n\nfunction ImageCard({\n  image,\n  position,\n  index,\n  isHovered,\n  isSelected,\n  onHover,\n  onClick,\n  cardSize,\n  audioData,\n}: ImageCardProps) {\n  const meshRef = useRef<THREE.Mesh>(null);\n  const glowRef = useRef<THREE.Mesh>(null);\n  const texture = useTexture(image.src);\n  const [scale, setScale] = useState(1);\n\n  // Calculate rotation to face center\n  const rotation = useMemo(() => {\n    const lookAt = new THREE.Matrix4();\n    lookAt.lookAt(position, new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 1, 0));\n    const euler = new THREE.Euler();\n    euler.setFromRotationMatrix(lookAt);\n    return euler;\n  }, [position]);\n\n  useFrame((state, delta) => {\n    // Base target scale\n    let targetScale = isHovered ? 1.3 : isSelected ? 1.5 : 1;\n\n    // Audio-reactive scale pulse\n    if (audioData?.enabled) {\n      // Different items respond to different frequencies based on their index\n      const freqIndex = index % 5;\n      const freqValues = [\n        audioData.bass,\n        audioData.lowMid,\n        audioData.mid,\n        audioData.highMid,\n        audioData.treble,\n      ];\n      const freqResponse = freqValues[freqIndex] || 0;\n\n      // Pulse on beat\n      if (audioData.isBeat) {\n        targetScale *= 1 + audioData.beatIntensity * 0.4;\n      }\n\n      // Continuous frequency response\n      targetScale *= 1 + freqResponse * 0.2;\n    }\n\n    setScale((prev) => damp(prev, targetScale, 8, delta));\n\n    if (meshRef.current) {\n      meshRef.current.scale.setScalar(scale);\n\n      // Audio-reactive emissive glow\n      if (audioData?.enabled && meshRef.current.material instanceof THREE.MeshStandardMaterial) {\n        const intensity = audioData.energy * 0.5;\n        meshRef.current.material.emissive.setRGB(\n          0.31 * intensity,\n          0.27 * intensity,\n          0.9 * intensity\n        );\n        meshRef.current.material.emissiveIntensity = intensity;\n      }\n    }\n\n    // Pulse glow effect on beat\n    if (glowRef.current && audioData?.enabled) {\n      const glowScale = 1.1 + audioData.beatIntensity * 0.3;\n      glowRef.current.scale.setScalar(glowScale);\n      if (glowRef.current.material instanceof THREE.MeshBasicMaterial) {\n        glowRef.current.material.opacity = 0.2 + audioData.beatIntensity * 0.4;\n      }\n    }\n  });\n\n  // Calculate aspect ratio\n  const aspect = texture.image ? texture.image.width / texture.image.height : 1;\n  const width = aspect > 1 ? cardSize : cardSize * aspect;\n  const height = aspect > 1 ? cardSize / aspect : cardSize;\n\n  return (\n    <group position={position} rotation={rotation}>\n      <mesh\n        ref={meshRef}\n        onPointerEnter={() => onHover(index)}\n        onPointerLeave={() => onHover(null)}\n        onClick={() => onClick(index)}\n      >\n        <planeGeometry args={[width, height]} />\n        <meshStandardMaterial\n          map={texture}\n          transparent\n          opacity={isHovered || isSelected ? 1 : 0.85}\n          side={THREE.DoubleSide}\n          emissive=\"#4f46e5\"\n          emissiveIntensity={0}\n        />\n      </mesh>\n\n      {/* Audio-reactive glow ring */}\n      {audioData?.enabled && (\n        <mesh ref={glowRef} scale={1.1} position={[0, 0, -0.01]}>\n          <ringGeometry args={[Math.max(width, height) * 0.52, Math.max(width, height) * 0.58, 32]} />\n          <meshBasicMaterial\n            color=\"#4f46e5\"\n            transparent\n            opacity={0.2}\n            side={THREE.DoubleSide}\n          />\n        </mesh>\n      )}\n\n      {/* Glow effect on hover */}\n      {isHovered && !audioData?.enabled && (\n        <mesh scale={1.1}>\n          <planeGeometry args={[width, height]} />\n          <meshBasicMaterial\n            color=\"#4f46e5\"\n            transparent\n            opacity={0.3}\n            side={THREE.DoubleSide}\n          />\n        </mesh>\n      )}\n\n      {/* Info tooltip on hover */}\n      {isHovered && image.alt && (\n        <Html center position={[0, -height / 2 - 0.3, 0.1]}>\n          <div className=\"bg-black/80 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap backdrop-blur-sm\">\n            {image.alt}\n          </div>\n        </Html>\n      )}\n    </group>\n  );\n}\n\ninterface SphereSceneProps {\n  images: GalleryImage[];\n  autoRotate: boolean;\n  rotationSpeed: number;\n  radius: number;\n  itemSize: number;\n  onImageClick?: (image: GalleryImage, index: number) => void;\n  audioData?: AudioReactiveData;\n}\n\nfunction SphereScene({\n  images,\n  autoRotate,\n  rotationSpeed,\n  radius,\n  itemSize,\n  onImageClick,\n  audioData,\n}: SphereSceneProps) {\n  const groupRef = useRef<THREE.Group>(null);\n  const coreRef = useRef<THREE.Mesh>(null);\n  const wireframeRef = useRef<THREE.Mesh>(null);\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n  const { camera } = useThree();\n\n  // Calculate positions using Fibonacci sphere distribution\n  const positions = useMemo(\n    () => fibonacciSphere(images.length, radius),\n    [images.length, radius]\n  );\n\n  // Auto-rotation with audio modulation\n  useFrame((state, delta) => {\n    if (groupRef.current && autoRotate && hoveredIndex === null) {\n      // Base rotation\n      let speed = rotationSpeed;\n\n      // Audio-reactive rotation speed\n      if (audioData?.enabled) {\n        speed *= 1 + audioData.energy * 2;\n        // Add wobble on beat\n        if (audioData.isBeat) {\n          groupRef.current.rotation.x += Math.sin(state.clock.elapsedTime * 10) * 0.02 * audioData.beatIntensity;\n        }\n      }\n\n      groupRef.current.rotation.y += speed * delta;\n    }\n\n    // Audio-reactive central core\n    if (coreRef.current && audioData?.enabled) {\n      const pulseScale = radius * 0.15 * (1 + audioData.bass * 0.8 + audioData.beatIntensity * 0.5);\n      coreRef.current.scale.setScalar(pulseScale / (radius * 0.15));\n\n      if (coreRef.current.material instanceof THREE.MeshBasicMaterial) {\n        // Color shifts based on frequency\n        const hue = (state.clock.elapsedTime * 0.1 + audioData.mid) % 1;\n        coreRef.current.material.color.setHSL(hue, 0.8, 0.5);\n        coreRef.current.material.opacity = 0.2 + audioData.energy * 0.5;\n      }\n    }\n\n    // Wireframe pulse\n    if (wireframeRef.current && audioData?.enabled) {\n      const wireScale = 0.98 + audioData.bass * 0.1;\n      wireframeRef.current.scale.setScalar(wireScale);\n      if (wireframeRef.current.material instanceof THREE.MeshBasicMaterial) {\n        wireframeRef.current.material.opacity = 0.1 + audioData.energy * 0.2;\n      }\n    }\n  });\n\n  const handleClick = useCallback(\n    (index: number) => {\n      setSelectedIndex(selectedIndex === index ? null : index);\n      onImageClick?.(images[index], index);\n\n      // Animate camera to look at selected image\n      if (selectedIndex !== index && positions[index]) {\n        const targetPosition = positions[index].clone().multiplyScalar(1.5);\n        camera.position.lerp(targetPosition, 0.1);\n      }\n    },\n    [selectedIndex, onImageClick, images, positions, camera]\n  );\n\n  return (\n    <>\n      {/* Ambient lighting with audio reactivity */}\n      <ambientLight intensity={audioData?.enabled ? 0.4 + audioData.energy * 0.4 : 0.6} />\n      <pointLight\n        position={[10, 10, 10]}\n        intensity={audioData?.enabled ? 0.8 + audioData.treble * 0.5 : 1}\n        color={audioData?.enabled ? `hsl(${240 + audioData.mid * 60}, 80%, 60%)` : '#ffffff'}\n      />\n      <pointLight\n        position={[-10, -10, -10]}\n        intensity={audioData?.enabled ? 0.3 + audioData.bass * 0.4 : 0.5}\n        color=\"#4f46e5\"\n      />\n\n      {/* Central glow sphere */}\n      <mesh ref={coreRef}>\n        <sphereGeometry args={[radius * 0.15, 32, 32]} />\n        <meshBasicMaterial color=\"#4f46e5\" transparent opacity={0.1} />\n      </mesh>\n\n      {/* Wireframe sphere guide */}\n      <mesh ref={wireframeRef}>\n        <sphereGeometry args={[radius * 0.98, 32, 16]} />\n        <meshBasicMaterial color=\"#334155\" wireframe transparent opacity={0.1} />\n      </mesh>\n\n      {/* Audio-reactive outer ring */}\n      {audioData?.enabled && (\n        <mesh rotation={[Math.PI / 2, 0, 0]}>\n          <ringGeometry args={[radius * 1.1, radius * 1.15 + audioData.bass * 0.2, 64]} />\n          <meshBasicMaterial\n            color={`hsl(${260 + audioData.mid * 40}, 80%, 50%)`}\n            transparent\n            opacity={0.3 + audioData.beatIntensity * 0.4}\n            side={THREE.DoubleSide}\n          />\n        </mesh>\n      )}\n\n      {/* Image cards */}\n      <group ref={groupRef}>\n        {images.map((image, index) => (\n          <ImageCard\n            key={`${image.src}-${index}`}\n            image={image}\n            position={positions[index]}\n            index={index}\n            isHovered={hoveredIndex === index}\n            isSelected={selectedIndex === index}\n            onHover={setHoveredIndex}\n            onClick={handleClick}\n            cardSize={itemSize}\n            audioData={audioData}\n          />\n        ))}\n      </group>\n\n      {/* Orbit controls for user interaction */}\n      <OrbitControls\n        enablePan={false}\n        enableZoom={true}\n        minDistance={radius * 0.5}\n        maxDistance={radius * 3}\n        autoRotate={autoRotate && hoveredIndex === null}\n        autoRotateSpeed={audioData?.enabled ? rotationSpeed * 2 * (1 + audioData.energy) : rotationSpeed * 2}\n      />\n    </>\n  );\n}\n\nfunction FallbackGallery({ images }: { images: GalleryImage[] }) {\n  return (\n    <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800\">\n      <div className=\"text-center\">\n        <p className=\"text-slate-400 mb-4\">WebGL not supported</p>\n        <div className=\"grid grid-cols-3 gap-2 max-w-md\">\n          {images.slice(0, 9).map((img, i) => (\n            <img\n              key={i}\n              src={img.src}\n              alt={img.alt || ''}\n              className=\"w-24 h-24 object-cover rounded-lg\"\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function SphereGallery({\n  images,\n  className = 'w-full h-[600px]',\n  autoRotate = true,\n  rotationSpeed = 0.3,\n  radius = 5,\n  itemSize = 1.2,\n  onImageClick,\n  audioData,\n}: SphereGalleryProps) {\n  const [webglSupported, setWebglSupported] = useState(true);\n\n  // Check WebGL support on mount\n  if (typeof window !== 'undefined' && webglSupported) {\n    try {\n      const canvas = document.createElement('canvas');\n      if (!canvas.getContext('webgl') && !canvas.getContext('experimental-webgl')) {\n        setWebglSupported(false);\n      }\n    } catch {\n      setWebglSupported(false);\n    }\n  }\n\n  if (!webglSupported) {\n    return (\n      <div className={className}>\n        <FallbackGallery images={images} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      <Canvas\n        camera={{ position: [0, 0, radius * 2], fov: 60 }}\n        gl={{ antialias: true, alpha: true }}\n        style={{ background: 'linear-gradient(to bottom right, #0f172a, #1e1b4b)' }}\n      >\n        <SphereScene\n          images={images}\n          autoRotate={autoRotate}\n          rotationSpeed={rotationSpeed}\n          radius={radius}\n          itemSize={itemSize}\n          onImageClick={onImageClick}\n          audioData={audioData}\n        />\n      </Canvas>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2]}