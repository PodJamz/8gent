{"version":3,"sources":["../../../../src/components/ios/PageTransitionWrapper.tsx/__nextjs-internal-proxy.mjs","../../../../src/data/vault.ts","../../../../src/components/vault/VaultHeroPreview.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/vault/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PageTransitionWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call PageTransitionWrapper() from the server but PageTransitionWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ios/PageTransitionWrapper.tsx\",\n    \"PageTransitionWrapper\",\n);\n","import fs from \"fs\";\nimport matter from \"gray-matter\";\nimport path from \"path\";\nimport rehypePrettyCode from \"rehype-pretty-code\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\nimport { unified } from \"unified\";\n\ntype Author = {\n  name: string;\n  role: string;\n  gradientClass: string;\n};\n\ntype Metadata = {\n  title: string;\n  publishedAt: string;\n  summary: string;\n  image?: string;\n  gradient?: string;\n  authors?: Author[];\n  bookmarked?: boolean;\n};\n\nfunction getMDXFiles(dir: string) {\n  return fs.existsSync(dir)\n    ? fs.readdirSync(dir).filter((file) => path.extname(file) === \".mdx\")\n    : [];\n}\n\nexport async function markdownToHTML(markdown: string) {\n  const p = await unified()\n    .use(remarkParse)\n    .use(remarkRehype)\n    .use(rehypePrettyCode, {\n      theme: { light: \"min-light\", dark: \"min-dark\" },\n      keepBackground: false,\n    })\n    .use(rehypeStringify)\n    .process(markdown);\n  return p.toString();\n}\n\nexport async function getVaultPost(slug: string) {\n  const filePath = path.join(\"content\", \"vault\", `${slug}.mdx`);\n  let source = fs.readFileSync(filePath, \"utf-8\");\n  const { content: rawContent, data: metadata } = matter(source);\n  const content = await markdownToHTML(rawContent);\n  return { source: content, metadata: metadata as Metadata, slug };\n}\n\nasync function getAllVaultPosts(dir: string) {\n  let mdxFiles = getMDXFiles(dir);\n  return Promise.all(\n    mdxFiles.map(async (file) => {\n      let slug = path.basename(file, path.extname(file));\n      let { metadata, source } = await getVaultPost(slug);\n      return { metadata, slug, source };\n    })\n  );\n}\n\nexport async function getVaultPosts() {\n  return getAllVaultPosts(path.join(process.cwd(), \"content\", \"vault\"));\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VaultHeroPreview = registerClientReference(\n    function() { throw new Error(\"Attempted to call VaultHeroPreview() from the server but VaultHeroPreview is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/vault/VaultHeroPreview.tsx\",\n    \"VaultHeroPreview\",\n);\n","import { getVaultPosts } from \"@/data/vault\";\nimport { VaultHeroPreview } from \"@/components/vault/VaultHeroPreview\";\nimport { PageTransitionWrapper } from \"@/components/ios/PageTransitionWrapper\";\n\nexport const metadata = {\n  title: \"Vault\",\n  description: \"Private posts\",\n};\n\nexport default async function VaultHome() {\n  const posts = await getVaultPosts();\n  const sorted = posts.sort((a, b) => {\n    if (new Date(a.metadata.publishedAt) > new Date(b.metadata.publishedAt)) return -1;\n    return 1;\n  });\n\n  if (sorted.length === 0) {\n    return (\n      <PageTransitionWrapper>\n        <section className=\"max-w-[800px] mx-auto\">\n          <h1 className=\"text-3xl font-bold mb-8\">No vault posts found</h1>\n        </section>\n      </PageTransitionWrapper>\n    );\n  }\n\n  return (\n    <PageTransitionWrapper>\n      <div className=\"min-h-screen\">\n        <div className=\"animate-in fade-in duration-700 slide-in-from-bottom-4\">\n          <div className=\"py-8 lg:py-12 max-w-4xl mx-auto px-4 sm:px-6 lg:px-0\">\n            <div className=\"space-y-12\">\n              {sorted.map((post, idx) => (\n                <div key={post.slug}>\n                  <VaultHeroPreview slug={post.slug} metadata={post.metadata as any} />\n                  {idx < sorted.length - 1 && (\n                    <div className=\"h-px w-full bg-zinc-200/70 dark:bg-zinc-800/70 mt-8\" />\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </PageTransitionWrapper>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,2]}