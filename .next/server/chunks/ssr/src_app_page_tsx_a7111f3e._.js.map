{"version":3,"sources":["../../../../src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { IOSHome } from \"@/components/ios\";\n\nconst ONBOARDING_COMPLETE_KEY = 'openclaw_onboarding_complete';\n\nexport default function Page() {\n  const router = useRouter();\n  const [isChecking, setIsChecking] = useState(true);\n\n  useEffect(() => {\n    // Check if user has completed onboarding\n    console.log('[OpenClaw] Checking onboarding status...');\n    const hasCompletedOnboarding = localStorage.getItem(ONBOARDING_COMPLETE_KEY) === 'true';\n    console.log('[OpenClaw] Onboarding complete:', hasCompletedOnboarding);\n\n    if (!hasCompletedOnboarding) {\n      console.log('[OpenClaw] Redirecting to /onboarding...');\n      // Use router.replace for cleaner history and force it to happen\n      router.replace('/onboarding');\n\n      // Fallback to window.location if router fails after a timeout\n      const fallbackTimer = setTimeout(() => {\n        if (window.location.pathname === '/') {\n          console.log('[OpenClaw] Router navigation timed out, using window.location...');\n          window.location.href = '/onboarding';\n        }\n      }, 2000);\n      return () => clearTimeout(fallbackTimer);\n    } else {\n      console.log('[OpenClaw] Onboarding complete, loading IOSHome...');\n      setIsChecking(false);\n    }\n  }, [router]);\n\n  // Show loading state while checking\n  if (isChecking) {\n    return (\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\n        <div className=\"text-emerald-400 text-lg\">Loading 8gent...</div>\n      </div>\n    );\n  }\n\n  return <IOSHome />;\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAIe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SA4B7C,CA1BA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,QAAQ,GAAG,CAAC,4CACZ,IAAM,EAA2E,SAAlD,aAAa,OAAO,CAAC,AATxB,gCAY5B,GAFA,CAEI,OAFI,GAAG,CAAC,kCAAmC,GAE1C,EAcH,QAAQ,GAAG,CAAC,sDACZ,GAAc,OAfa,CAC3B,QAAQ,GAAG,CAAC,4CAEZ,EAAO,OAAO,CAAC,eAGf,IAAM,EAAgB,WAAW,KACE,KAAK,CAAlC,OAAO,QAAQ,CAAC,QAAQ,GAC1B,QAAQ,GAAG,CAAC,oEACZ,OAAO,QAAQ,CAAC,IAAI,CAAG,cAE3B,EAAG,KACH,MAAO,IAAM,aAAa,EAC5B,CAIF,EAAG,CAAC,EAAO,CAJF,CAOL,GAEA,CAAA,EAAA,EAAA,GAAA,CAFY,CAEX,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCAA2B,uBAKzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAA,EACjB"}