module.exports=[928740,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(155399),e=a.i(189198),f=a.i(567031),g=a.i(278739);a.i(617620);var h=a.i(617864),i=a.i(677409),j=a.i(174912),k=a.i(885275),l=a.i(80335),m=a.i(662482),n=a.i(705772),n=n,o=a.i(745682),p=a.i(341386),q=a.i(496760),r=a.i(79611),s=a.i(53010),t=a.i(887080),u=a.i(688306),v=a.i(951399),w=a.i(924373),x=a.i(374570),y=a.i(233849),z=a.i(135981);function A({name:a,description:c,icon:d,iconBg:e,isConnected:f,isLoading:g,onConnect:h,onDisconnect:i,onSettings:l,connectedAccount:p,connectionStatus:q,buttonIcon:r,buttonText:s}){return(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${e}`,children:d}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"text-base font-medium text-white",children:a}),f&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-emerald-400 bg-emerald-500/20 px-2 py-0.5 rounded-full",children:[(0,b.jsx)(k.Check,{className:"w-3 h-3"}),"Connected"]}),"error"===q&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400 bg-red-500/20 px-2 py-0.5 rounded-full",children:[(0,b.jsx)(o.AlertCircle,{className:"w-3 h-3"}),"Error"]})]}),(0,b.jsx)("p",{className:"text-sm text-white/50 mt-1",children:c}),f&&p&&(0,b.jsx)("p",{className:`text-sm mt-2 flex items-center gap-1 ${{disconnected:"text-white/40",connecting:"text-amber-400",connected:"text-emerald-400",error:"text-red-400"}[q||"connected"]}`,children:p})]})]}),(0,b.jsx)("div",{className:"mt-4 flex gap-2",children:f?(0,b.jsxs)(b.Fragment,{children:[l&&(0,b.jsxs)("button",{onClick:l,className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium text-white/70 bg-white/5 hover:bg-white/10 transition-colors",children:[(0,b.jsx)(u.Settings,{className:"w-4 h-4"}),"Settings"]}),(0,b.jsxs)("button",{onClick:i,disabled:g,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 transition-colors disabled:opacity-50",children:[g?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(n.default,{className:"w-4 h-4"}),"Disconnect"]})]}):(0,b.jsx)("button",{onClick:h,disabled:g,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium text-white bg-[hsl(142_70%_45%)] hover:bg-[hsl(142_70%_40%)] transition-colors disabled:opacity-50",children:g?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[r||(0,b.jsx)(j.Github,{className:"w-4 h-4"}),s||"Connect"]})})})]})}function B({platform:a,onClose:d,onConnect:e,isLoading:g}){let[h,i]=(0,c.useState)({platformUserId:"",platformUsername:"",botToken:"",serverUrl:"",serverPassword:"",webhookSecret:""});if(!a)return null;let j={whatsapp:{title:"Connect WhatsApp",description:"Link your WhatsApp to receive 8gent messages.",fields:[{key:"platformUserId",label:"Phone Number",placeholder:"+1234567890",required:!0},{key:"platformUsername",label:"Display Name",placeholder:"Your name",required:!1}],note:"WhatsApp Business API or Baileys session will be used for connection."},telegram:{title:"Connect Telegram Bot",description:"Create a bot via @BotFather and paste the token.",fields:[{key:"botToken",label:"Bot Token",placeholder:"123456:ABC-DEF...",required:!0},{key:"platformUserId",label:"Your Telegram ID",placeholder:"123456789",required:!0},{key:"platformUsername",label:"Username",placeholder:"@username",required:!1}],note:"Send /start to your bot to enable messaging."},slack:{title:"Connect Slack",description:"Install the 8gent app to your Slack workspace.",fields:[{key:"platformUserId",label:"User ID",placeholder:"U0123456789",required:!0},{key:"platformUsername",label:"Display Name",placeholder:"Your name",required:!1},{key:"webhookSecret",label:"Webhook Secret",placeholder:"xoxb-...",required:!0}],note:"OAuth flow will be added soon for seamless connection."},discord:{title:"Connect Discord",description:"Add the 8gent bot to your Discord server.",fields:[{key:"botToken",label:"Bot Token",placeholder:"Bot token from Developer Portal",required:!0},{key:"platformUserId",label:"Your Discord ID",placeholder:"123456789012345678",required:!0},{key:"platformUsername",label:"Username",placeholder:"user#1234",required:!1}],note:"Enable Developer Mode in Discord to copy your user ID."},email:{title:"Connect Email",description:"Receive 8gent responses via email.",fields:[{key:"platformUserId",label:"Your Email Address",placeholder:"you@example.com",required:!0},{key:"platformUsername",label:"Display Name",placeholder:"Your name",required:!1}],note:"Send emails to ai@openclaw.io to chat with 8gent."}}[a];return(0,b.jsx)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:d,children:(0,b.jsxs)(f.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-md bg-zinc-900 rounded-2xl border border-white/10 overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:j.title}),(0,b.jsx)("button",{onClick:d,className:"p-1 rounded-lg hover:bg-white/10 transition-colors",children:(0,b.jsx)(t.X,{className:"w-5 h-5 text-white/60"})})]}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault();let c={};h.botToken&&(c.botToken=h.botToken),h.serverUrl&&(c.serverUrl=h.serverUrl),h.serverPassword&&(c.serverPassword=h.serverPassword),h.webhookSecret&&(c.webhookSecret=h.webhookSecret),e({platform:a,platformUserId:h.platformUserId,platformUsername:h.platformUsername||void 0,credentials:c})},className:"p-4 space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-white/60",children:j.description}),j.fields.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white/80 mb-1",children:[a.label,a.required&&(0,b.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:h[a.key],onChange:b=>i(c=>({...c,[a.key]:b.target.value})),placeholder:a.placeholder,required:a.required,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-white/30 transition-colors"})]},a.key)),(0,b.jsx)("p",{className:"text-xs text-white/40",children:j.note}),(0,b.jsx)("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-medium text-white bg-[hsl(142_70%_45%)] hover:bg-[hsl(142_70%_40%)] transition-colors disabled:opacity-50",children:g?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):"Connect Channel"})]})]})})}function C(){let a,d,k,n,t,{user:u,isLoaded:C}=(0,x.useUser)(),D=(0,x.useClerk)(),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(null),M=u?.id||"",N=(0,y.useQuery)(z.api.channels.getUserIntegrations,M?{userId:M}:"skip"),O=(0,y.useMutation)(z.api.channels.createIntegration),P=(0,y.useMutation)(z.api.channels.deleteIntegration),Q=u?.externalAccounts?.find(a=>"github"===a.provider),R=!!Q,S=a=>N?.find(b=>b.platform===a),T=async()=>{if(Q){F(!0),H(null);try{await Q.destroy(),await u?.reload()}catch(a){console.error("Failed to disconnect GitHub:",a),H("Failed to disconnect GitHub. Please try again.")}finally{F(!1)}}},U=async a=>{if(!M)return void H("Please sign in to connect channels.");F(!0),H(null);try{await O({userId:M,platform:a.platform,platformUserId:a.platformUserId,platformUsername:a.platformUsername,credentials:{botToken:a.credentials.botToken,serverUrl:a.credentials.serverUrl,serverPassword:a.credentials.serverPassword,webhookSecret:a.credentials.webhookSecret}}),J(null)}catch(b){console.error("Failed to connect channel:",b),H(`Failed to connect ${a.platform}. Please try again.`)}finally{F(!1)}},V=async a=>{L(a),H(null);try{await P({integrationId:a})}catch(a){console.error("Failed to disconnect channel:",a),H("Failed to disconnect channel. Please try again.")}finally{L(null)}};return(0,b.jsx)(h.PageTransition,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-950",children:[(0,b.jsx)("header",{className:"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10",children:(0,b.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-4 flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:"/settings",className:"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors","aria-label":"Back to settings",children:(0,b.jsx)(i.ChevronLeft,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Integrations"})]})}),(0,b.jsxs)("main",{className:"max-w-lg mx-auto px-4 py-6",children:[(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:(0,b.jsx)("p",{className:"text-sm text-amber-200/80",children:"Connect your accounts to unlock additional features like the OpenClaw coding assistant."})}),G&&(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-start gap-3",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-red-200/80",children:G})]}),C?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-white/60 uppercase tracking-wider mb-3",children:"Developer Tools"}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,b.jsx)(A,{name:"GitHub",description:"Connect GitHub to use the OpenClaw coding assistant and access your repositories.",icon:(0,b.jsx)(j.Github,{className:"w-6 h-6 text-white"}),iconBg:"bg-gradient-to-br from-gray-700 to-gray-900",isConnected:R,isLoading:E&&!I,onConnect:()=>{D.openUserProfile()},onDisconnect:T,connectedAccount:Q?.username||Q?.emailAddress||void 0,buttonIcon:(0,b.jsx)(j.Github,{className:"w-4 h-4"}),buttonText:"Connect GitHub"})})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-white/60 uppercase tracking-wider mb-3",children:"Messaging Channels"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:(a=S("whatsapp"),(0,b.jsx)(A,{name:"WhatsApp",description:"Chat with 8gent through WhatsApp. Perfect for on-the-go conversations.",icon:(0,b.jsx)(p.MessageCircle,{className:"w-6 h-6 text-white"}),iconBg:"bg-gradient-to-br from-green-600 to-green-800",isConnected:!!a,isLoading:K===a?.integrationId,onConnect:()=>J("whatsapp"),onDisconnect:()=>a&&V(a.integrationId),connectedAccount:a?.platformUsername||a?.platformUserId,connectionStatus:a?.connectionStatus,buttonIcon:(0,b.jsx)(v.QrCode,{className:"w-4 h-4"}),buttonText:"Connect WhatsApp"}))}),(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(d=S("telegram"),(0,b.jsx)(A,{name:"Telegram",description:"Connect your Telegram bot for instant 8gent access via Telegram.",icon:(0,b.jsx)(q.Send,{className:"w-6 h-6 text-white"}),iconBg:"bg-gradient-to-br from-blue-500 to-blue-700",isConnected:!!d,isLoading:K===d?.integrationId,onConnect:()=>J("telegram"),onDisconnect:()=>d&&V(d.integrationId),connectedAccount:d?.platformUsername||d?.platformUserId,connectionStatus:d?.connectionStatus,buttonIcon:(0,b.jsx)(s.Bot,{className:"w-4 h-4"}),buttonText:"Connect Telegram"}))}),(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:(k=S("slack"),(0,b.jsx)(A,{name:"Slack",description:"Bring 8gent to your Slack workspace for team-accessible AI assistance.",icon:(0,b.jsx)(r.Hash,{className:"w-6 h-6 text-white"}),iconBg:"bg-gradient-to-br from-purple-600 to-purple-800",isConnected:!!k,isLoading:K===k?.integrationId,onConnect:()=>J("slack"),onDisconnect:()=>k&&V(k.integrationId),connectedAccount:k?.platformUsername||k?.platformUserId,connectionStatus:k?.connectionStatus,buttonIcon:(0,b.jsx)(r.Hash,{className:"w-4 h-4"}),buttonText:"Connect Slack"}))}),(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:(n=S("discord"),(0,b.jsx)(A,{name:"Discord",description:"Add 8gent to your Discord server for chat-based AI interactions.",icon:(0,b.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),iconBg:"bg-gradient-to-br from-indigo-600 to-indigo-800",isConnected:!!n,isLoading:K===n?.integrationId,onConnect:()=>J("discord"),onDisconnect:()=>n&&V(n.integrationId),connectedAccount:n?.platformUsername||n?.platformUserId,connectionStatus:n?.connectionStatus,buttonIcon:(0,b.jsx)(s.Bot,{className:"w-4 h-4"}),buttonText:"Connect Discord"}))}),(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},children:(t=S("email"),(0,b.jsx)(A,{name:"Email",description:"Chat with 8gent via email at ai@openclaw.io.",icon:(0,b.jsx)(w.Mail,{className:"w-6 h-6 text-white"}),iconBg:"bg-gradient-to-br from-red-500 to-red-700",isConnected:!!t,isLoading:K===t?.integrationId,onConnect:()=>J("email"),onDisconnect:()=>t&&V(t.integrationId),connectedAccount:t?.platformUsername||t?.platformUserId,connectionStatus:t?.connectionStatus,buttonIcon:(0,b.jsx)(w.Mail,{className:"w-4 h-4"}),buttonText:"Connect Email"}))})]})]}),(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-4 rounded-xl bg-white/5 border border-white/10 border-dashed",children:(0,b.jsx)("p",{className:"text-sm text-white/40 text-center",children:"iMessage (BlueBubbles) coming soon..."})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(m.Loader2,{className:"w-6 h-6 text-white/50 animate-spin"})}),(0,b.jsx)(g.AnimatePresence,{children:I&&(0,b.jsx)(B,{platform:I,onClose:()=>J(null),onConnect:U,isLoading:E})}),(0,b.jsx)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 text-center",children:(0,b.jsxs)("a",{href:"https://clerk.com/docs/authentication/social-connections/github",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-white/40 hover:text-white/60 transition-colors",children:["Learn more about GitHub integration",(0,b.jsx)(l.ExternalLink,{className:"w-3 h-3"})]})})]})]})})}let D=(0,d.default)(()=>Promise.resolve(C),{ssr:!1,loading:function(){return(0,b.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,b.jsx)(m.Loader2,{className:"w-6 h-6 text-white/50 animate-spin"})})}});a.s(["default",0,D],928740)}];

//# sourceMappingURL=src_app_settings_integrations_page_tsx_dcd1a5b3._.js.map