module.exports=[802882,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(567031),e=a.i(278739),f=a.i(189198),g=a.i(480878),h=a.i(832835),i=a.i(46430),j=a.i(712957),k=a.i(767446),k=k,l=a.i(866542),m=a.i(688306),n=a.i(799057),o=a.i(169114),p=a.i(742926),q=a.i(858025),r=a.i(887080),s=a.i(436995),t=a.i(282902),u=a.i(588655),v=a.i(128002),w=a.i(468563),x=a.i(963131),x=x,y=a.i(456819),z=a.i(436040),z=z;let A={base:"Base Thread",parallel:"P-Thread",chained:"C-Thread",fusion:"F-Thread",big:"B-Thread",long:"L-Thread",zero:"Z-Thread"},B={base:{bg:"bg-slate-500",text:"text-slate-400",glow:"rgba(100, 116, 139, 0.5)"},parallel:{bg:"bg-blue-500",text:"text-blue-400",glow:"rgba(59, 130, 246, 0.5)"},chained:{bg:"bg-amber-500",text:"text-amber-400",glow:"rgba(245, 158, 11, 0.5)"},fusion:{bg:"bg-purple-500",text:"text-purple-400",glow:"rgba(168, 85, 247, 0.5)"},big:{bg:"bg-rose-500",text:"text-rose-400",glow:"rgba(244, 63, 94, 0.5)"},long:{bg:"bg-emerald-500",text:"text-emerald-400",glow:"rgba(16, 185, 129, 0.5)"},zero:{bg:"bg-cyan-500",text:"text-cyan-400",glow:"rgba(6, 182, 212, 0.5)"}},C={haiku:{name:"Claude Haiku",tier:1,color:"#94a3b8"},sonnet:{name:"Claude Sonnet",tier:2,color:"#a78bfa"},opus:{name:"Claude Opus",tier:3,color:"#f472b6"},"opus-4.5":{name:"Claude Opus 4.5",tier:4,color:"#f97316"},"gpt-4o":{name:"GPT-4o",tier:3,color:"#22c55e"},gemini:{name:"Gemini Pro",tier:3,color:"#3b82f6"}};function D(a){return a<.01?`$${(100*a).toFixed(2)}\xa2`:`$${a.toFixed(4)}`}function E(a){return a<1e3?`${a}`:a<1e6?`${(a/1e3).toFixed(1)}K`:`${(a/1e6).toFixed(2)}M`}let F=(0,c.memo)(function({children:a,onClick:e,variant:f="default",size:g="md",icon:h,label:i,shortcut:j,active:k=!1,disabled:l=!1,glow:m,className:n=""}){let[o,p]=(0,c.useState)(!1),q={default:{base:"linear-gradient(180deg, #2a2a2a 0%, #1f1f1f 50%, #1a1a1a 100%)",glow:k?"rgba(255,255,255,0.1)":"transparent",text:k?"text-white":"text-white/60"},primary:{base:k?"linear-gradient(180deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%)":"linear-gradient(180deg, #2a2a2a 0%, #1f1f1f 50%, #1a1a1a 100%)",glow:k?"rgba(59, 130, 246, 0.4)":"transparent",text:k?"text-white":"text-blue-400"},danger:{base:k?"linear-gradient(180deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%)":"linear-gradient(180deg, #2d1f1f 0%, #1f1515 50%, #1a1010 100%)",glow:k?"rgba(239, 68, 68, 0.4)":"transparent",text:k?"text-white":"text-red-400"},success:{base:k?"linear-gradient(180deg, #22c55e 0%, #16a34a 50%, #15803d 100%)":"linear-gradient(180deg, #1f2d1f 0%, #152015 50%, #101a10 100%)",glow:k?"rgba(34, 197, 94, 0.4)":"transparent",text:k?"text-white":"text-green-400"}}[f],r=()=>{l||(p(!0),setTimeout(()=>p(!1),150),e?.())};return(0,b.jsxs)(d.motion.button,{className:`
        relative flex flex-col items-center justify-center gap-0.5
        rounded-lg select-none overflow-hidden
        ${{sm:"min-w-[36px] sm:min-w-[40px] h-9 sm:h-10",md:"min-w-[44px] sm:min-w-[52px] h-10 sm:h-12",lg:"min-w-[56px] sm:min-w-[64px] h-12 sm:h-14",wide:"w-full h-9 sm:h-10"}[g]}
        ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${n}
      `,onMouseDown:()=>!l&&p(!0),onMouseUp:r,onMouseLeave:()=>p(!1),onTouchStart:()=>!l&&p(!0),onTouchEnd:r,disabled:l,animate:{y:2*!!o},transition:{type:"spring",stiffness:800,damping:20},children:[(0,b.jsx)("div",{className:"absolute inset-0 rounded-lg",style:{background:"linear-gradient(180deg, #1a1a1a 0%, #0a0a0a 100%)",transform:"translateY(4px)",opacity:o?.3:1}}),(k||m)&&(0,b.jsx)("div",{className:"absolute inset-0 rounded-lg transition-opacity duration-300",style:{background:`radial-gradient(ellipse at center, ${m||q.glow} 0%, transparent 70%)`,filter:"blur(8px)"}}),(0,b.jsx)("div",{className:"absolute inset-0 rounded-lg overflow-hidden transition-all duration-200",style:{background:q.base,boxShadow:o?"inset 0 2px 4px rgba(0,0,0,0.5), inset 0 -1px 1px rgba(255,255,255,0.05)":"inset 0 1px 1px rgba(255,255,255,0.1), inset 0 -2px 4px rgba(0,0,0,0.3)",transform:o?"translateY(2px)":"translateY(0)"},children:(0,b.jsx)("div",{className:"absolute top-0 left-0 right-0 h-px",style:{background:"linear-gradient(90deg, transparent 10%, rgba(255,255,255,0.15) 50%, transparent 90%)"}})}),(0,b.jsxs)("div",{className:`relative z-10 flex flex-col items-center justify-center gap-0.5 ${q.text}`,style:{transform:o?"translateY(2px)":"translateY(0)"},children:[h&&(0,b.jsx)("span",{className:"transition-colors",children:h}),i&&(0,b.jsx)("span",{className:"text-[7px] font-bold tracking-wider uppercase leading-tight text-center",children:i}),a]}),j&&(0,b.jsx)("div",{className:"absolute bottom-0.5 right-0.5 px-1 py-px rounded text-[5px] font-mono bg-black/30 text-white/30 z-20",style:{transform:o?"translateY(2px)":"translateY(0)"},children:j})]})}),G=["base","parallel","chained","fusion","big","long","zero"],H=(0,c.memo)(function({selected:a,onChange:c}){let e=G.indexOf(a),f=270/(G.length-1);return(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,b.jsxs)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 relative",children:[G.map((a,d)=>{let g=Math.PI/180*(-135+d*f-90),h=32*Math.cos(g),i=32*Math.sin(g),j=d<=e,k=B[a];return(0,b.jsx)("button",{onClick:()=>c(a),className:`absolute w-2 h-2 rounded-full transition-all duration-150 ${j?k.bg:"bg-white/20"}`,style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${h}px), calc(-50% + ${i}px))`,boxShadow:j?`0 0 6px ${k.glow}`:"none"},title:A[a]},a)}),(0,b.jsxs)(d.motion.div,{className:"absolute inset-2 rounded-full cursor-pointer",animate:{rotate:-135+e*f},transition:{type:"spring",stiffness:400,damping:25},style:{background:"linear-gradient(180deg, #4a4a4a 0%, #2a2a2a 30%, #1a1a1a 70%, #0f0f0f 100%)",boxShadow:`
              inset 0 2px 4px rgba(255,255,255,0.15),
              inset 0 -2px 4px rgba(0,0,0,0.5),
              0 4px 8px rgba(0,0,0,0.5)
            `},children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:[...Array(12)].map((a,c)=>(0,b.jsx)("div",{className:"absolute w-full h-px bg-white/10",style:{transform:`rotate(${180*c/12}deg)`}},c))}),(0,b.jsx)("div",{className:"absolute inset-2 rounded-full",style:{background:"linear-gradient(180deg, #3a3a3a 0%, #1a1a1a 100%)",boxShadow:"inset 0 1px 2px rgba(255,255,255,0.1)"}}),(0,b.jsx)("div",{className:"absolute top-1 left-1/2 w-1 h-2 -translate-x-1/2 rounded-full",style:{background:B[a].bg.replace("bg-",""),backgroundColor:B[a].glow,boxShadow:`0 0 6px ${B[a].glow}`}})]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:`text-[7px] sm:text-[8px] font-bold tracking-wider uppercase ${B[a].text}`,children:A[a]}),(0,b.jsx)("div",{className:"text-[5px] sm:text-[6px] text-white/40 uppercase tracking-wide",children:"Type"})]})]})}),I=(0,c.memo)(function({activeThreads:a,totalThreads:c,toolCalls:e,cost:f,efficiency:g,selectedThread:h}){return(0,b.jsx)("div",{className:"relative w-full rounded-lg overflow-hidden",style:{background:"linear-gradient(180deg, #0a0f0a 0%, #050805 100%)",boxShadow:`
          inset 0 2px 4px rgba(0,0,0,0.8),
          inset 0 -1px 1px rgba(255,255,255,0.05)
        `},children:(0,b.jsxs)("div",{className:"absolute inset-0.5 rounded-md overflow-hidden",style:{background:"linear-gradient(180deg, #0a120a 0%, #040804 100%)"},children:[(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0,0,0,0.3) 1px, rgba(0,0,0,0.3) 2px)"}}),(0,b.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(34, 197, 94, 0.05) 0%, transparent 70%)"}}),(0,b.jsxs)("div",{className:"relative h-full flex flex-col justify-between p-1.5 sm:p-2 font-mono text-green-400",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-[7px] sm:text-[8px]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,b.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"THREADS:"}),(0,b.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"THR:"}),(0,b.jsxs)("span",{className:"font-bold",children:[a,"/",c]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,b.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"CALLS:"}),(0,b.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"C:"}),(0,b.jsx)("span",{className:"font-bold",children:E(e)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,b.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"COST:"}),(0,b.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"$:"}),(0,b.jsx)("span",{className:"font-bold",children:D(f)})]})]}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center",children:h?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-[9px] sm:text-[10px] font-bold text-green-300 mb-0.5 truncate max-w-full",children:h.name}),(0,b.jsxs)("div",{className:"text-[7px] sm:text-[8px] text-green-500/80",children:[A[h.type]," • ",C[h.model].name]}),(0,b.jsx)("div",{className:"w-24 sm:w-32 h-1 bg-green-950/50 rounded-full mt-1.5 mx-auto overflow-hidden",children:(0,b.jsx)(d.motion.div,{className:"h-full rounded-full",style:{background:"linear-gradient(90deg, #22c55e 0%, #4ade80 100%)",boxShadow:"0 0 10px rgba(34, 197, 94, 0.5)"},animate:{width:`${h.progress}%`},transition:{duration:.3}})}),(0,b.jsxs)("div",{className:"text-[6px] sm:text-[7px] text-green-500/60 mt-1",children:[h.status.toUpperCase()," • ",h.progress,"%"]})]}):(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-[9px] sm:text-[10px] text-green-500/60",children:"NO THREAD SELECTED"}),(0,b.jsx)("div",{className:"text-[7px] sm:text-[8px] text-green-500/40",children:"Select or create a thread"})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-[6px] sm:text-[7px]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(z.default,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-green-500/60"}),(0,b.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"EFFICIENCY:"}),(0,b.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"EFF:"})]}),(0,b.jsx)("div",{className:"flex-1 mx-2 h-1 bg-green-950/50 rounded-full overflow-hidden",children:(0,b.jsx)(d.motion.div,{className:"h-full rounded-full",style:{background:g>50?"linear-gradient(90deg, #22c55e 0%, #4ade80 100%)":g>25?"linear-gradient(90deg, #eab308 0%, #facc15 100%)":"linear-gradient(90deg, #ef4444 0%, #f87171 100%)"},animate:{width:`${Math.min(g,100)}%`}})}),(0,b.jsx)("span",{className:"font-bold text-green-300",children:g.toFixed(1)})]})]})]})})}),J=(0,c.memo)(function({value:a,onChange:c,max:d=10}){return(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-0.5 sm:gap-1",children:[(0,b.jsx)("button",{onClick:()=>c(Math.max(a-1,1)),className:"w-4 h-4 sm:w-5 sm:h-5 rounded bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 flex items-center justify-center text-[10px] sm:text-xs font-bold",children:"-"}),(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center font-mono text-base sm:text-lg font-bold",style:{background:"linear-gradient(180deg, #1a1a1a 0%, #0f0f0f 100%)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.5)",color:a>1?"#3b82f6":"#ffffff60",textShadow:a>1?"0 0 10px rgba(59, 130, 246, 0.5)":"none"},children:a}),(0,b.jsx)("button",{onClick:()=>c(Math.min(a+1,d)),className:"w-4 h-4 sm:w-5 sm:h-5 rounded bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 flex items-center justify-center text-[10px] sm:text-xs font-bold",children:"+"})]}),(0,b.jsx)("div",{className:"text-[5px] sm:text-[6px] text-white/40 uppercase tracking-wide",children:"Spawn"})]})});function K({activeThreads:a=0,totalThreads:d=0,totalToolCalls:e=0,totalCost:f=0,efficiency:g=0,selectedThread:h,onCreateThread:i,onStartThread:j,onPauseThread:k,onStopThread:l,onFuseThreads:n,onSpawnParallel:o,onModelChange:p,onSettingsOpen:q,className:r=""}){let[z,A]=(0,c.useState)("base"),[C,D]=(0,c.useState)(3),[E,K]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=a=>{if(!["INPUT","TEXTAREA"].includes(a.target.tagName))switch(a.key.toLowerCase()){case"n":a.preventDefault(),i?.(z);break;case" ":a.preventDefault(),h?.status==="running"?(k?.(),K(!1)):(j?.(),K(!0));break;case"s":a.metaKey||a.ctrlKey||(a.preventDefault(),l?.(),K(!1));break;case"f":a.preventDefault(),n?.();break;case"p":a.preventDefault(),o?.(C)}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[z,C,h,i,j,k,l,n,o]),(0,b.jsx)("div",{className:`relative w-full max-w-sm sm:max-w-md mx-auto px-2 sm:px-0 ${r}`,children:(0,b.jsxs)("div",{className:"relative rounded-2xl overflow-hidden",style:{background:"linear-gradient(180deg, #d4d4d4 0%, #a8a8a8 5%, #c0c0c0 50%, #a0a0a0 95%, #888888 100%)",boxShadow:`
            0 20px 50px rgba(0,0,0,0.5),
            0 10px 20px rgba(0,0,0,0.3),
            inset 0 2px 0 rgba(255,255,255,0.6),
            inset 0 -2px 0 rgba(0,0,0,0.2)
          `},children:[(0,b.jsx)("div",{className:"absolute top-0 left-3 right-3 h-px z-10",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.8) 20%, rgba(255,255,255,0.8) 80%, transparent)"}}),(0,b.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,b.jsx)("div",{className:"mb-3 sm:mb-4 h-20 sm:h-24",children:(0,b.jsx)(I,{activeThreads:a,totalThreads:d,toolCalls:e,cost:f,efficiency:g,selectedThread:h})}),(0,b.jsxs)("div",{className:"flex items-end justify-between gap-2 sm:gap-3 mb-3 sm:mb-4",children:[(0,b.jsx)(H,{selected:z,onChange:A}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(F,{size:"md",variant:"success",icon:E?(0,b.jsx)(t.Pause,{className:"w-4 h-4"}):(0,b.jsx)(s.Play,{className:"w-4 h-4"}),label:E?"Pause":"Start",active:E,shortcut:"␣",onClick:()=>{E?k?.():j?.(),K(!E)}}),(0,b.jsx)(F,{size:"md",variant:"danger",icon:(0,b.jsx)(u.Square,{className:"w-4 h-4"}),label:"Stop",shortcut:"S",onClick:()=>{l?.(),K(!1)}})]}),(0,b.jsx)("div",{className:"text-[5px] sm:text-[6px] text-zinc-500 uppercase tracking-wide",children:"Transport"})]}),(0,b.jsx)(J,{value:C,onChange:D})]}),(0,b.jsxs)("div",{className:"grid grid-cols-5 gap-1 sm:gap-2 mb-2 sm:mb-3",children:[(0,b.jsx)(F,{size:"md",variant:"primary",icon:(0,b.jsx)(v.Plus,{className:"w-4 h-4"}),label:"New",shortcut:"N",onClick:()=>i?.(z),className:"!w-full"}),(0,b.jsx)(F,{size:"md",icon:(0,b.jsx)(w.Layers,{className:"w-4 h-4"}),label:"Spawn",shortcut:"P",onClick:()=>o?.(C),glow:"rgba(59, 130, 246, 0.3)",className:"!w-full"}),(0,b.jsx)(F,{size:"md",icon:(0,b.jsx)(x.default,{className:"w-4 h-4"}),label:"Fuse",shortcut:"F",onClick:n,glow:"rgba(168, 85, 247, 0.3)",className:"!w-full"}),(0,b.jsx)(F,{size:"md",icon:(0,b.jsx)(y.RefreshCw,{className:"w-4 h-4"}),label:"Retry",className:"!w-full"}),(0,b.jsx)(F,{size:"md",icon:(0,b.jsx)(m.Settings,{className:"w-4 h-4"}),label:"Config",onClick:q,className:"!w-full"})]}),(0,b.jsx)("div",{className:"flex gap-1 sm:gap-1.5",children:G.map(a=>{let c=B[a],d=z===a;return(0,b.jsx)("button",{onClick:()=>A(a),className:`flex-1 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[6px] sm:text-[7px] font-bold tracking-wider uppercase transition-all ${d?`${c.bg} text-white`:`bg-zinc-800/50 ${c.text} hover:bg-zinc-700/50`}`,style:{boxShadow:d?`0 0 12px ${c.glow}`:"none"},children:a.charAt(0).toUpperCase()},a)})})]}),(0,b.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-8 rounded-r",style:{background:"linear-gradient(90deg, #2a2a2a, #3a3a3a)",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.5)"}}),(0,b.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-8 rounded-l",style:{background:"linear-gradient(90deg, #3a3a3a, #2a2a2a)",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.5)"}})]})})}a.i(350889);var L=a.i(319112),M=a.i(217201),N=a.i(93016),O=a.i(662482),P=a.i(447108);let Q=(0,c.memo)(function({thread:a,isSelected:c,onSelect:e,onClose:f}){let g=B[a.type],h={idle:(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-500"}),running:(0,b.jsx)(d.motion.div,{className:"w-1.5 h-1.5 rounded-full bg-green-500",animate:{opacity:[1,.3,1]},transition:{duration:1,repeat:1/0}}),paused:(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),completed:(0,b.jsx)(M.CheckCircle,{className:"w-3 h-3 text-green-500"}),failed:(0,b.jsx)(N.XCircle,{className:"w-3 h-3 text-red-500"}),reviewing:(0,b.jsx)(d.motion.div,{className:"w-1.5 h-1.5 rounded-full bg-purple-500",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}}),fusing:(0,b.jsx)(O.Loader2,{className:"w-3 h-3 text-purple-500 animate-spin"})};return(0,b.jsxs)(d.motion.div,{layout:!0,initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},whileHover:{y:-2},className:`
        relative group flex items-center gap-1 sm:gap-1.5 px-1.5 sm:px-2 py-1 sm:py-1.5 rounded-t-lg cursor-pointer
        transition-colors border-b-2 flex-shrink-0
        ${c?"bg-zinc-800 border-b-transparent":"bg-zinc-900/80 border-b-zinc-700/50 hover:bg-zinc-800/80"}
      `,onClick:e,style:{borderTopColor:c?g.glow:"transparent",borderTopWidth:2},children:[(0,b.jsx)("div",{className:`w-0.5 sm:w-1 h-3 sm:h-4 rounded-full ${g.bg}`,style:{boxShadow:c?`0 0 8px ${g.glow}`:"none"}}),(0,b.jsx)("div",{className:"flex-shrink-0",children:h[a.status]}),(0,b.jsx)("span",{className:`text-[10px] sm:text-xs font-medium truncate max-w-[50px] sm:max-w-[80px] ${c?"text-white":"text-zinc-400"}`,children:a.name}),"running"===a.status&&(0,b.jsx)("div",{className:"hidden sm:block w-8 h-1 bg-zinc-700 rounded-full overflow-hidden",children:(0,b.jsx)(d.motion.div,{className:"h-full bg-green-500",initial:{width:0},animate:{width:`${a.progress}%`}})}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),f()},className:"flex-shrink-0 p-0.5 rounded hover:bg-zinc-700 opacity-0 group-hover:opacity-100 sm:transition-opacity",children:(0,b.jsx)(r.X,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-zinc-400 hover:text-white"})})]})});function R({threads:a,selectedThreadId:f,onSelectThread:g,onCloseThread:h,onReorderThreads:i,maxVisible:j=8,className:k=""}){let[l,m]=(0,c.useState)(!1),n=(0,L.useHorizontalScroll)(),o=a.slice(0,j),p=a.slice(j),q=p.length>0,r=a.reduce((a,b)=>(a[b.type]||(a[b.type]=[]),a[b.type].push(b),a),{});return(0,b.jsxs)("div",{className:`relative ${k}`,children:[(0,b.jsxs)("div",{ref:n,className:"flex items-end gap-0.5 px-1 sm:px-2 pb-0 overflow-x-auto scrollbar-hide",style:{background:"linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.3) 100%)"},children:[(0,b.jsx)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-shrink-0 flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-t-lg bg-zinc-800/50 border border-zinc-700/50 border-b-0 text-zinc-500 hover:text-white hover:bg-zinc-800 transition-colors",children:(0,b.jsx)("span",{className:"text-base sm:text-lg font-light",children:"+"})}),(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:o.map(a=>(0,b.jsx)(Q,{thread:a,isSelected:a.id===f,onSelect:()=>g(a.id),onClose:()=>h(a.id)},a.id))}),q&&(0,b.jsxs)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!l),className:"flex-shrink-0 relative flex items-center gap-1 px-1.5 sm:px-2 py-1.5 rounded-t-lg bg-zinc-900/80 hover:bg-zinc-800/80 text-zinc-400 hover:text-white transition-colors",children:[(0,b.jsx)(P.MoreHorizontal,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,b.jsxs)("span",{className:"text-[9px] sm:text-[10px] font-bold bg-zinc-700 px-1 rounded",children:["+",p.length]})]}),(0,b.jsx)("div",{className:"flex-1 min-w-4"}),(0,b.jsxs)("div",{className:"hidden xs:flex flex-shrink-0 items-center gap-2 sm:gap-3 px-2 sm:px-3 py-1.5 text-[9px] sm:text-[10px] text-zinc-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),(0,b.jsx)("span",{children:a.filter(a=>"running"===a.status).length}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"running"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(M.CheckCircle,{className:"w-3 h-3 text-zinc-600"}),(0,b.jsx)("span",{children:a.filter(a=>"completed"===a.status).length}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"done"})]})]})]}),(0,b.jsx)(e.AnimatePresence,{children:l&&q&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute bottom-full right-0 mb-1 w-64 max-h-80 overflow-auto rounded-lg bg-zinc-900 border border-zinc-800 shadow-xl",children:(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsxs)("div",{className:"text-[10px] text-zinc-500 uppercase tracking-wide px-2 py-1",children:["All Threads (",a.length,")"]}),Object.entries(r).map(([a,c])=>(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsxs)("div",{className:`text-[9px] font-bold uppercase tracking-wide px-2 py-1 ${B[a].text}`,children:[A[a]," (",c.length,")"]}),c.map(a=>(0,b.jsxs)("button",{onClick:()=>{g(a.id),m(!1)},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded hover:bg-zinc-800 transition-colors ${a.id===f?"bg-zinc-800":""}`,children:[(0,b.jsx)("div",{className:`w-1 h-3 rounded-full ${B[a.type].bg}`}),(0,b.jsx)("span",{className:"text-xs text-zinc-300 truncate flex-1 text-left",children:a.name}),(0,b.jsxs)("span",{className:"text-[10px] text-zinc-500",children:[a.progress,"%"]})]},a.id))]},a))]})})})]})}function S(a,b){let c=["idle","running","paused","completed","failed"],d=["haiku","sonnet","opus","opus-4.5"],e={base:["Analyze codebase","Fix bug #123","Refactor utils","Add tests"],parallel:["Research A","Research B","Research C","Research D"],chained:["Phase 1: Plan","Phase 2: Build","Phase 3: Test","Phase 4: Deploy"],fusion:["Model A output","Model B output","Model C output","Synthesized"],big:["Sprint 1","Sprint 2","Sprint 3","Sprint 4"],long:["Deep research","Full audit","Migration","Refactor all"],zero:["Auto-deploy","Auto-fix","Auto-test","Auto-review"]},f=c[Math.floor(Math.random()*c.length)],g=d[Math.floor(Math.random()*d.length)],h="completed"===f?100:"failed"===f?50*Math.random():100*Math.random(),i=Math.floor(500*Math.random()),j=Math.floor(3e5*Math.random());return{id:`thread_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:a,status:f,name:e[a][b%e[a].length],prompt:`Execute ${a} thread task`,model:g,createdAt:Date.now()-864e5*Math.random(),startedAt:"idle"!==f?Date.now()-j:void 0,completedAt:"completed"===f||"failed"===f?Date.now():void 0,progress:Math.round(h),currentStep:"running"===f?"Processing...":void 0,metrics:{toolCalls:i,tokensUsed:150*i,estimatedCost:.001*i,duration:j,checkpointCount:Math.floor(5*Math.random()),verificationAttempts:Math.floor(3*Math.random())+1,iterations:Math.floor(10*Math.random())}}}function T({icon:a,label:c,value:d,subValue:e,color:f="text-white"}){return(0,b.jsxs)("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("div",{className:"p-1.5 sm:p-2 rounded-lg bg-white/5",children:a}),e&&(0,b.jsx)("span",{className:"text-[9px] sm:text-[10px] text-zinc-500",children:e})]}),(0,b.jsx)("div",{className:`mt-1 sm:mt-2 text-lg sm:text-xl font-bold ${f}`,children:d}),(0,b.jsx)("div",{className:"text-[8px] sm:text-[10px] text-zinc-500 uppercase tracking-wide",children:c})]})}function U({thread:a,isSelected:c,onSelect:e}){let f=B[a.type];return(0,b.jsx)(d.motion.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:e,className:`w-full p-3 rounded-lg text-left transition-all ${c?"bg-zinc-800 border border-zinc-700":"bg-zinc-900/50 border border-transparent hover:bg-zinc-800/50"}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`w-2 h-full min-h-[40px] rounded-full ${f.bg}`,style:{boxShadow:`0 0 8px ${f.glow}`}}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-white truncate",children:a.name}),(0,b.jsx)("span",{className:`text-[9px] font-bold uppercase ${f.text}`,children:a.type})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${"completed"===a.status?"bg-green-500/20 text-green-400":"running"===a.status?"bg-blue-500/20 text-blue-400":"failed"===a.status?"bg-red-500/20 text-red-400":"bg-zinc-500/20 text-zinc-400"}`,children:a.status}),(0,b.jsxs)("span",{className:"text-[10px] text-zinc-500",children:[a.metrics.toolCalls," calls"]}),(0,b.jsx)("span",{className:"text-[10px] text-zinc-500",children:D(a.metrics.estimatedCost)})]}),"running"===a.status&&(0,b.jsx)("div",{className:"mt-2 h-1 bg-zinc-700 rounded-full overflow-hidden",children:(0,b.jsx)(d.motion.div,{className:"h-full bg-blue-500",initial:{width:0},animate:{width:`${a.progress}%`}})})]})]})})}function V(){let[a,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(),[v,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=[];["base","parallel","chained","fusion","big","long"].forEach((b,c)=>{for(let d=0;d<2;d++)a.push(S(b,2*c+d))}),s(a),a.length>0&&u(a[0].id)},[]);let x=(0,c.useMemo)(()=>a.find(a=>a.id===t),[a,t]),y=(0,c.useMemo)(()=>{let b=a.filter(a=>"running"===a.status).length,c=a.reduce((a,b)=>a+b.metrics.toolCalls,0),d=a.reduce((a,b)=>a+b.metrics.estimatedCost,0),e=a.filter(a=>"completed"===a.status);return{activeThreads:b,totalToolCalls:c,totalCost:d,avgEfficiency:e.length>0?e.reduce((a,b)=>a+function(a){if(!a.metrics.duration||0===a.metrics.duration)return 0;let b=a.metrics.duration/6e4;return Math.max(0,(a.metrics.toolCalls/Math.max(b,.1)-.1*a.metrics.checkpointCount)*(1===a.metrics.verificationAttempts?1.2:1))}(b),0)/e.length:0}},[a]),z=(0,c.useCallback)(b=>{let c=S(b,a.length);c.status="idle",c.progress=0,s(a=>[...a,c]),u(c.id)},[a.length]),A=(0,c.useCallback)(b=>{s(a=>a.filter(a=>a.id!==b)),t===b&&u(a.find(a=>a.id!==b)?.id)},[t,a]),C=(0,c.useCallback)(()=>{if(!t)return;s(a=>a.map(a=>a.id===t?{...a,status:"running",startedAt:Date.now()}:a));let a=setInterval(()=>{s(b=>b.map(b=>{if(b.id===t&&"running"===b.status){let c=Math.min(b.progress+10*Math.random(),100);return c>=100?(clearInterval(a),{...b,status:"completed",progress:100,completedAt:Date.now()}):{...b,progress:Math.round(c),metrics:{...b.metrics,toolCalls:b.metrics.toolCalls+Math.floor(5*Math.random())}}}return b}))},500)},[t]),F=(0,c.useCallback)(()=>{t&&s(a=>a.map(a=>a.id===t?{...a,status:"paused"}:a))},[t]),G=(0,c.useCallback)(()=>{t&&s(a=>a.map(a=>a.id===t?{...a,status:"idle",progress:0,startedAt:void 0}:a))},[t]),H=(0,c.useCallback)(b=>{let c=[];for(let d=0;d<b;d++){let b=S("parallel",a.length+d);b.name=`Parallel #${a.filter(a=>"parallel"===a.type).length+d+1}`,b.status="running",b.progress=0,c.push(b)}s(a=>[...a,...c])},[a]);return(0,b.jsxs)("div",{className:"min-h-[100dvh] flex flex-col",style:{background:"linear-gradient(180deg, #0a0a0a 0%, #111111 50%, #0a0a0a 100%)"},children:[(0,b.jsxs)("header",{className:"flex-shrink-0 flex items-center justify-between px-4 py-3 border-b border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(f.default,{href:"/",className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors",children:[(0,b.jsx)(g.ArrowLeft,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"OpenClaw-OS"})]}),(0,b.jsx)("div",{className:"w-px h-5 bg-white/10"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600",children:(0,b.jsx)(h.Cpu,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("span",{className:"text-sm font-semibold text-white",children:"Thread Engine"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>w(!v),className:"md:hidden p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors",children:v?(0,b.jsx)(r.X,{className:"w-4 h-4"}):(0,b.jsx)(q.Menu,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors",children:(0,b.jsx)(n.Info,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"hidden sm:flex p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors",children:(0,b.jsx)(m.Settings,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("div",{className:"flex-shrink-0 border-b border-white/5",children:(0,b.jsx)(R,{threads:a,selectedThreadId:t,onSelectThread:u,onCloseThread:A})}),(0,b.jsxs)("div",{className:"flex-1 flex min-h-0 relative",children:[(0,b.jsx)(e.AnimatePresence,{children:v&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),className:"md:hidden fixed inset-0 bg-black/60 z-40"}),(0,b.jsxs)(d.motion.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"md:hidden fixed left-0 top-0 bottom-0 w-72 max-w-[85vw] bg-zinc-900 border-r border-white/10 flex flex-col z-50",children:[(0,b.jsxs)("div",{className:"p-3 border-b border-white/5 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-2",children:["Threads (",a.length,")"]}),(0,b.jsx)("div",{className:"flex gap-1 flex-wrap",children:["base","parallel","chained","fusion","big","long","zero"].map(c=>{let d=a.filter(a=>a.type===c).length,e=B[c];return(0,b.jsxs)("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${e.bg} text-white`,children:[c.charAt(0).toUpperCase(),": ",d]},c)})})]}),(0,b.jsx)("button",{onClick:()=>w(!1),className:"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5",children:(0,b.jsx)(r.X,{className:"w-4 h-4"})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-2 space-y-2",children:(0,b.jsx)(e.AnimatePresence,{children:a.map(a=>(0,b.jsx)(U,{thread:a,isSelected:a.id===t,onSelect:()=>{u(a.id),w(!1)}},a.id))})})]})]})}),(0,b.jsxs)("aside",{className:"hidden md:flex w-72 flex-shrink-0 border-r border-white/5 flex-col",children:[(0,b.jsxs)("div",{className:"p-3 border-b border-white/5",children:[(0,b.jsxs)("div",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-2",children:["Threads (",a.length,")"]}),(0,b.jsx)("div",{className:"flex gap-1 flex-wrap",children:["base","parallel","chained","fusion","big","long","zero"].map(c=>{let d=a.filter(a=>a.type===c).length,e=B[c];return(0,b.jsxs)("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${e.bg} text-white`,children:[c.charAt(0).toUpperCase(),": ",d]},c)})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-2 space-y-2",children:(0,b.jsx)(e.AnimatePresence,{children:a.map(a=>(0,b.jsx)(U,{thread:a,isSelected:a.id===t,onSelect:()=>u(a.id)},a.id))})})]}),(0,b.jsxs)("main",{className:"flex-1 flex flex-col p-2 sm:p-4 min-w-0 overflow-auto",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-3 sm:mb-4",children:[(0,b.jsx)(T,{icon:(0,b.jsx)(i.Activity,{className:"w-4 h-4 text-green-400"}),label:"Active Threads",value:y.activeThreads,subValue:`/ ${a.length}`,color:"text-green-400"}),(0,b.jsx)(T,{icon:(0,b.jsx)(j.Zap,{className:"w-4 h-4 text-yellow-400"}),label:"Total Tool Calls",value:E(y.totalToolCalls),color:"text-yellow-400"}),(0,b.jsx)(T,{icon:(0,b.jsx)(k.default,{className:"w-4 h-4 text-emerald-400"}),label:"Total Cost",value:D(y.totalCost),color:"text-emerald-400"}),(0,b.jsx)(T,{icon:(0,b.jsx)(l.TrendingUp,{className:"w-4 h-4 text-blue-400"}),label:"Avg Efficiency",value:y.avgEfficiency.toFixed(1),subValue:"calls/min",color:"text-blue-400"})]}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,b.jsx)(K,{activeThreads:y.activeThreads,totalThreads:a.length,totalToolCalls:y.totalToolCalls,totalCost:y.totalCost,efficiency:y.avgEfficiency,selectedThread:x?{id:x.id,type:x.type,name:x.name,status:x.status,progress:x.progress,model:x.model,duration:x.metrics.duration,toolCalls:x.metrics.toolCalls}:void 0,onCreateThread:z,onStartThread:C,onPauseThread:F,onStopThread:G,onSpawnParallel:H})}),(0,b.jsxs)("div",{className:"hidden sm:flex items-center justify-center gap-2 text-[10px] text-zinc-500 mt-4",children:[(0,b.jsx)(o.Terminal,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Use keyboard shortcuts: [N] New • [Space] Start/Pause • [S] Stop • [P] Spawn Parallel • [F] Fuse"})]})]})]}),(0,b.jsxs)("footer",{className:"flex-shrink-0 px-3 sm:px-4 py-2 border-t border-white/5 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px] text-zinc-500",children:[(0,b.jsx)(p.Sparkles,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Thread-Based Engineering by Andy Devdan"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Thread Engine"})]}),(0,b.jsxs)("div",{className:"text-[9px] sm:text-[10px] text-zinc-600",children:[(0,b.jsx)("span",{className:"hidden sm:inline",children:"Scale your compute • Scale your impact"}),(0,b.jsx)("span",{className:"sm:hidden",children:"by Devdan"})]})]})]})}a.s(["default",()=>V],802882)}];

//# sourceMappingURL=src_app_threads_page_tsx_263dd32f._.js.map