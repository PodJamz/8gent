{"version":3,"sources":["../../../../node_modules/.pnpm/lucide-react%400.469.0_react%4019.2.3/node_modules/lucide-react/src/icons/chevron-left.ts","../../../../node_modules/.pnpm/lucide-react%400.469.0_react%4019.2.3/node_modules/lucide-react/src/icons/triangle-alert.ts","../../../../src/hooks/useAdminSession.ts","../../../../src/app/security/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('TriangleAlert', [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n]);\n\nexport default TriangleAlert;\n","\"use client\";\n\n/**\n * Admin Session Hook\n *\n * Provides client-side access to admin session state.\n * Used to conditionally show admin-only features.\n */\n\nimport { useState, useEffect, useCallback } from \"react\";\n\ninterface AdminSession {\n  isAuthenticated: boolean;\n  username?: string;\n  isLoading: boolean;\n}\n\nexport function useAdminSession(): AdminSession & { refresh: () => Promise<void> } {\n  const [session, setSession] = useState<AdminSession>({\n    isAuthenticated: false,\n    isLoading: true,\n  });\n\n  const checkSession = useCallback(async () => {\n    try {\n      const res = await fetch(\"/api/auth/admin\");\n      const data = await res.json();\n      setSession({\n        isAuthenticated: data.isAuthenticated ?? false,\n        username: data.username,\n        isLoading: false,\n      });\n    } catch {\n      setSession({\n        isAuthenticated: false,\n        isLoading: false,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    checkSession();\n  }, [checkSession]);\n\n  return {\n    ...session,\n    refresh: checkSession,\n  };\n}\n\nexport default useAdminSession;\n","'use client';\n\n/**\n * Security Command Center\n *\n * Admin-only fortress-level security monitoring dashboard.\n * Full visibility into all traffic, auth events, sessions, and threats.\n *\n * NOTE: Temporarily disabled until Convex security module is regenerated.\n * Run `npx convex dev` to regenerate the API types.\n */\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { PageTransition } from '@/components/ios';\nimport { useAdminSession } from '@/hooks/useAdminSession';\nimport {\n  Shield,\n  ChevronLeft,\n  Loader2,\n  AlertTriangle,\n} from 'lucide-react';\n\nexport default function SecurityPage() {\n  const router = useRouter();\n  const { isAuthenticated, isLoading, username } = useAdminSession();\n\n  // Redirect if not admin\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push('/settings');\n    }\n  }, [isAuthenticated, isLoading, router]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-950 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-white/50\" />\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-zinc-950\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10\">\n          <div className=\"max-w-7xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                <Link\n                  href=\"/settings\"\n                  className=\"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors\"\n                >\n                  <ChevronLeft className=\"w-5 h-5 text-white\" />\n                </Link>\n                <div>\n                  <h1 className=\"text-xl font-semibold text-white flex items-center gap-2\">\n                    <Shield className=\"w-6 h-6 text-red-400\" />\n                    Security Command Center\n                  </h1>\n                  <p className=\"text-xs text-white/50\">\n                    Logged in as {username}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Temporary Disabled Message */}\n        <main className=\"max-w-7xl mx-auto px-4 py-12\">\n          <div className=\"flex flex-col items-center justify-center text-center\">\n            <div className=\"w-20 h-20 rounded-full bg-yellow-500/20 flex items-center justify-center mb-6\">\n              <AlertTriangle className=\"w-10 h-10 text-yellow-500\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-white mb-4\">\n              Security Dashboard Temporarily Unavailable\n            </h2>\n            <p className=\"text-white/60 max-w-md mb-8\">\n              The Security Command Center is temporarily disabled while Convex API types are being regenerated.\n              Run <code className=\"px-2 py-1 bg-white/10 rounded text-sm\">npx convex dev</code> to restore full functionality.\n            </p>\n            <Link\n              href=\"/settings\"\n              className=\"px-6 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-white transition-colors\"\n            >\n              Back to Settings\n            </Link>\n          </div>\n        </main>\n      </div>\n    </PageTransition>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[1]}