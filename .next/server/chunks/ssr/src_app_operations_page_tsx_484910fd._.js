module.exports=[780308,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(925440),e=a.i(189198),f=a.i(567031);a.i(617620);var g=a.i(617864),h=a.i(579212),i=a.i(233849),j=a.i(135981),k=a.i(278739),l=a.i(46430),m=a.i(53010),n=a.i(139136),o=a.i(335943),p=a.i(589659),p=p,q=a.i(688306),r=a.i(282763),s=a.i(499506),t=a.i(217201),u=a.i(93016),v=a.i(51871),w=a.i(248536),x=a.i(683560),y=a.i(897690),z=a.i(712957);let A={none:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30",glow:"shadow-emerald-500/20"},low:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30",glow:"shadow-blue-500/20"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30",glow:"shadow-yellow-500/20"},high:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30",glow:"shadow-orange-500/20"},critical:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30",glow:"shadow-red-500/20"}},B={started:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30"},success:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30"},error:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30"},timeout:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},rate_limited:{bg:"bg-purple-500/20",text:"text-purple-400",border:"border-purple-500/30"}},C={ai_provider:{bg:"bg-violet-500/20",text:"text-violet-400",icon:"ü§ñ"},memory:{bg:"bg-pink-500/20",text:"text-pink-400",icon:"üß†"},tool_execution:{bg:"bg-amber-500/20",text:"text-amber-400",icon:"üîß"},webhook:{bg:"bg-cyan-500/20",text:"text-cyan-400",icon:"üì•"},system:{bg:"bg-slate-500/20",text:"text-slate-400",icon:"‚öôÔ∏è"}},D={lynkr:{bg:"bg-emerald-500/20",text:"text-emerald-400",icon:"üîó"},openai:{bg:"bg-green-500/20",text:"text-green-400",icon:"üü¢"},anthropic:{bg:"bg-orange-500/20",text:"text-orange-400",icon:"üü†"},ollama:{bg:"bg-blue-500/20",text:"text-blue-400",icon:"ü¶ô"},convex:{bg:"bg-red-500/20",text:"text-red-400",icon:"‚ö°"},internal:{bg:"bg-slate-500/20",text:"text-slate-400",icon:"üîí"}},E={ai_provider:m.Bot,memory:n.Brain,tool_execution:o.Wrench,webhook:p.default,system:q.Settings},F={started:r.Clock,success:t.CheckCircle,error:u.XCircle,timeout:v.Timer,rate_limited:w.Ban};function G({operation:a}){var d;let[e,g]=(0,c.useState)(!1),h=E[a.category]??l.Activity,i=F[a.status]??r.Clock,j=C[a.category]??C.system,m=B[a.status]??B.started,n=A[a.threatLevel??"none"],o=a.provider?D[a.provider]:null,p=a.requestSummary||a.responseSummary||a.errorMessage;return(0,b.jsxs)(f.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`
        border rounded-xl p-4 backdrop-blur-sm transition-all
        ${n.border} ${n.bg}
        hover:border-white/20
      `,children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"text-xs text-white/40 font-mono w-20 shrink-0",children:new Date(a.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),(0,b.jsx)("div",{className:`p-2 rounded-lg ${j.bg}`,children:(0,b.jsx)(h,{className:`w-4 h-4 ${j.text}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium text-white truncate",children:a.toolName||a.operation}),a.provider&&o&&(0,b.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full ${o.bg} ${o.text}`,children:[o.icon," ",a.provider]}),a.model&&(0,b.jsx)("span",{className:"text-xs text-white/40 truncate",children:a.model})]}),(0,b.jsx)("div",{className:"text-xs text-white/40 mt-0.5",children:a.category})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 shrink-0",children:[(a.inputTokens||a.outputTokens)&&(0,b.jsxs)("div",{className:"text-xs text-white/40 flex items-center gap-1",children:[(0,b.jsx)(z.Zap,{className:"w-3 h-3"}),a.inputTokens??0,"/",a.outputTokens??0]}),(0,b.jsx)("div",{className:"text-xs text-white/50 font-mono w-16 text-right",children:(d=a.latencyMs)?d<1e3?`${d}ms`:`${(d/1e3).toFixed(2)}s`:"-"}),(0,b.jsx)("div",{className:`p-1.5 rounded-lg ${m.bg}`,children:(0,b.jsx)(i,{className:`w-4 h-4 ${m.text}`})}),a.threatLevel&&"none"!==a.threatLevel&&(0,b.jsx)("div",{className:`p-1.5 rounded-lg ${n.bg}`,children:(0,b.jsx)(s.AlertTriangle,{className:`w-4 h-4 ${n.text}`})}),p&&(0,b.jsx)("button",{onClick:()=>g(!e),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:e?(0,b.jsx)(y.ChevronUp,{className:"w-4 h-4 text-white/40"}):(0,b.jsx)(x.ChevronDown,{className:"w-4 h-4 text-white/40"})})]})]}),(0,b.jsx)(k.AnimatePresence,{children:e&&p&&(0,b.jsxs)(f.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t border-white/10 space-y-2 overflow-hidden",children:[a.requestSummary&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-white/40 mb-1",children:"Request"}),(0,b.jsx)("div",{className:"text-sm text-white/70 font-mono bg-black/20 rounded-lg p-2 truncate",children:a.requestSummary})]}),a.responseSummary&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-white/40 mb-1",children:"Response"}),(0,b.jsx)("div",{className:"text-sm text-white/70 font-mono bg-black/20 rounded-lg p-2 truncate",children:a.responseSummary})]}),a.errorMessage&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-red-400 mb-1",children:"Error"}),(0,b.jsx)("div",{className:"text-sm text-red-300 font-mono bg-red-500/10 rounded-lg p-2",children:a.errorMessage})]})]})})]})}function H(){let[a,d]=(0,c.useState)(5),e=(0,i.useQuery)(j.api.observability.getActivityStream,{minutes:a,limit:50}),[,f]=(0,c.useState)(0);return(0,c.useEffect)(()=>{let a=setInterval(()=>f(a=>a+1),2e3);return()=>clearInterval(a)},[]),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(l.Activity,{className:"w-5 h-5 text-violet-400"}),"Activity Stream"]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:[1,5,15,30,60].map(c=>(0,b.jsx)("button",{onClick:()=>d(c),className:`
                px-3 py-1.5 rounded-lg text-sm transition-colors
                ${a===c?"bg-violet-500/30 text-violet-300 border border-violet-500/50":"bg-white/5 text-white/50 hover:bg-white/10 border border-transparent"}
              `,children:c<60?`${c}m`:"1h"},c))})]}),(0,b.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:void 0===e?(0,b.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-16 rounded-xl bg-white/5 animate-pulse"},c))}):0===e.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(l.Activity,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),(0,b.jsxs)("p",{className:"text-white/40",children:["No operations in the last ",a," minutes"]})]}):(0,b.jsx)(k.AnimatePresence,{mode:"popLayout",children:e.map(a=>(0,b.jsx)(G,{operation:a},a._id))})})]})}var I=a.i(802661),J=a.i(832835),K=a.i(404652),L=a.i(422720);let M={lynkr:{name:"Lynkr",description:"Local tunnel proxy",icon:a.i(745543).Link2,color:"emerald"},openai:{name:"OpenAI",description:"Cloud GPT models",icon:K.Cloud,color:"green"},anthropic:{name:"Anthropic",description:"Cloud Claude models",icon:J.Cpu,color:"orange"},ollama:{name:"Ollama",description:"Local LLM inference",icon:z.Zap,color:"blue"},whisper:{name:"Whisper",description:"Speech-to-text",icon:L.Mic,color:"pink"}},N={healthy:{icon:t.CheckCircle,label:"Healthy",color:"emerald"},degraded:{icon:s.AlertTriangle,label:"Degraded",color:"yellow"},unhealthy:{icon:u.XCircle,label:"Unhealthy",color:"red"},unknown:{icon:I.HelpCircle,label:"Unknown",color:"slate"}};function O({provider:a,health:c}){let d=M[a],e=N[c?.status??"unknown"],g=d.icon,h=e.icon,i={emerald:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30",glow:"shadow-emerald-500/10"},green:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/30",glow:"shadow-green-500/10"},orange:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30",glow:"shadow-orange-500/10"},blue:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30",glow:"shadow-blue-500/10"},pink:{bg:"bg-pink-500/20",text:"text-pink-400",border:"border-pink-500/30",glow:"shadow-pink-500/10"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30",glow:"shadow-yellow-500/10"},red:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30",glow:"shadow-red-500/10"},slate:{bg:"bg-slate-500/20",text:"text-slate-400",border:"border-slate-500/30",glow:"shadow-slate-500/10"}},j=i[d.color],k=i[e.color];return(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`
        relative overflow-hidden rounded-2xl border backdrop-blur-sm
        ${j.border} bg-white/5
        hover:bg-white/10 transition-colors
      `,children:[(0,b.jsx)("div",{className:`absolute top-0 left-0 right-0 h-1 ${k.bg}`}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${j.bg}`,children:(0,b.jsx)(g,{className:`w-5 h-5 ${j.text}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:d.name}),(0,b.jsx)("p",{className:"text-xs text-white/40",children:d.description})]})]}),(0,b.jsxs)("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full ${k.bg}`,children:[(0,b.jsx)(h,{className:`w-3.5 h-3.5 ${k.text}`}),(0,b.jsx)("span",{className:`text-xs font-medium ${k.text}`,children:e.label})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"bg-black/20 rounded-xl p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-white/40 text-xs mb-1",children:[(0,b.jsx)(r.Clock,{className:"w-3 h-3"}),"Latency"]}),(0,b.jsx)("div",{className:"text-lg font-semibold text-white",children:c?.latencyMs?`${c.latencyMs}ms`:"-"})]}),(0,b.jsxs)("div",{className:"bg-black/20 rounded-xl p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-white/40 text-xs mb-1",children:[(0,b.jsx)(l.Activity,{className:"w-3 h-3"}),"Failures"]}),(0,b.jsx)("div",{className:"text-lg font-semibold text-white",children:c?.consecutiveFailures??0})]})]}),c?.features&&(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap gap-1.5",children:[c.features.memory&&(0,b.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-violet-500/20 text-violet-300",children:"Memory"}),c.features.tools&&(0,b.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-300",children:"Tools"}),c.features.streaming&&(0,b.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-cyan-500/20 text-cyan-300",children:"Streaming"}),c.features.embeddings&&(0,b.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-pink-500/20 text-pink-300",children:"Embeddings"})]}),c?.lastCheckAt&&(0,b.jsxs)("div",{className:"mt-3 text-xs text-white/30",children:["Last checked ",new Date(c.lastCheckAt).toLocaleTimeString()]})]})]})}function P(){let a=(0,i.useQuery)(j.api.observability.getProviderHealthStatus);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(l.Activity,{className:"w-5 h-5 text-emerald-400"}),"Provider Status"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:["lynkr","openai","anthropic","ollama","whisper"].map(c=>(0,b.jsx)(O,{provider:c,health:a?.[c]},c))})]})}var Q=a.i(371029),R=a.i(866542),S=a.i(274509),T=a.i(175326),T=T;function U({label:a,value:c,subValue:d,icon:e,color:g,trend:h}){let i={violet:"bg-violet-500/20 text-violet-400 border-violet-500/30",emerald:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",amber:"bg-amber-500/20 text-amber-400 border-amber-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30",blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",pink:"bg-pink-500/20 text-pink-400 border-pink-500/30"},j=i[g].split(" ")[1];return(0,b.jsxs)(f.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`
        relative overflow-hidden rounded-2xl border backdrop-blur-sm p-4
        bg-white/5 border-white/10 hover:border-white/20 transition-colors
      `,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-white/40 mb-1",children:a}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:c}),d&&(0,b.jsx)("p",{className:"text-xs text-white/40 mt-1",children:d})]}),(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${i[g].split(" ").slice(0,1).join(" ")}`,children:(0,b.jsx)(e,{className:`w-5 h-5 ${j}`})})]}),h&&"neutral"!==h&&(0,b.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,b.jsx)(R.TrendingUp,{className:`w-4 h-4 ${"up"===h?"text-emerald-400":"text-red-400 rotate-180"}`})})]})}function V({data:a,title:c}){let d=Object.values(a).reduce((a,b)=>a+b,0),e=Object.entries(a).sort((a,b)=>b[1]-a[1]),g={ai_provider:"bg-violet-500",memory:"bg-pink-500",tool_execution:"bg-amber-500",webhook:"bg-cyan-500",system:"bg-slate-500",lynkr:"bg-emerald-500",openai:"bg-green-500",anthropic:"bg-orange-500",ollama:"bg-blue-500"};return(0,b.jsxs)("div",{className:"bg-white/5 rounded-2xl border border-white/10 p-4",children:[(0,b.jsxs)("h3",{className:"text-sm font-medium text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(T.default,{className:"w-4 h-4 text-white/40"}),c]}),(0,b.jsx)("div",{className:"space-y-3",children:e.map(([a,c])=>{let e=d>0?Math.round(c/d*100):0,h=g[a]??"bg-slate-500";return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,b.jsx)("span",{className:"text-white/60 capitalize",children:a.replace(/_/g," ")}),(0,b.jsxs)("span",{className:"text-white/40",children:[c," (",e,"%)"]})]}),(0,b.jsx)("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,b.jsx)(f.motion.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${h}`})})]},a)})})]})}function W({data:a}){let c={none:{bg:"bg-emerald-500/20",text:"text-emerald-400"},low:{bg:"bg-blue-500/20",text:"text-blue-400"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400"},high:{bg:"bg-orange-500/20",text:"text-orange-400"},critical:{bg:"bg-red-500/20",text:"text-red-400"}},d=Object.values(a).reduce((a,b)=>a+b,0);return(0,b.jsxs)("div",{className:"bg-white/5 rounded-2xl border border-white/10 p-4",children:[(0,b.jsxs)("h3",{className:"text-sm font-medium text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(Q.Shield,{className:"w-4 h-4 text-white/40"}),"Threat Levels"]}),(0,b.jsx)("div",{className:"flex gap-2",children:["none","low","medium","high","critical"].map(e=>{let f=a[e]??0,g=c[e],h=d>0?Math.round(f/d*100):0;return(0,b.jsxs)("div",{className:`flex-1 rounded-xl p-3 ${g.bg} border border-white/5`,children:[(0,b.jsx)("div",{className:`text-lg font-bold ${g.text}`,children:f}),(0,b.jsx)("div",{className:"text-[10px] text-white/40 capitalize",children:e}),(0,b.jsxs)("div",{className:"text-[10px] text-white/30",children:[h,"%"]})]},e)})})]})}function X(){let a=(0,i.useQuery)(j.api.observability.getDashboardOverview,{hours:24});return a?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(S.BarChart3,{className:"w-5 h-5 text-amber-400"}),"Metrics Overview (24h)"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(U,{label:"Total Operations",value:a.totalOperations.toLocaleString(),subValue:`${a.operationsPerMinute}/min`,icon:l.Activity,color:"violet"}),(0,b.jsx)(U,{label:"Error Rate",value:`${a.errorRate}%`,subValue:`${a.totalErrors} errors`,icon:s.AlertTriangle,color:a.errorRate>5?"red":a.errorRate>1?"amber":"emerald"}),(0,b.jsx)(U,{label:"Avg Latency",value:`${a.avgLatencyMs}ms`,subValue:`P99: ${a.p99LatencyMs}ms`,icon:r.Clock,color:"blue"}),(0,b.jsx)(U,{label:"Token Usage",value:a.totalTokens.toLocaleString(),subValue:`$${a.estimatedCostUsd.toFixed(4)} est`,icon:z.Zap,color:"pink"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(U,{label:"Last Hour",value:a.operationsLastHour.toLocaleString(),icon:R.TrendingUp,color:"emerald"}),(0,b.jsx)(U,{label:"High Threats",value:a.highThreatEvents,subValue:`${a.threatEvents} total`,icon:Q.Shield,color:a.highThreatEvents>0?"red":"emerald"}),(0,b.jsx)(U,{label:"Input Tokens",value:a.totalInputTokens.toLocaleString(),icon:z.Zap,color:"violet"}),(0,b.jsx)(U,{label:"Output Tokens",value:a.totalOutputTokens.toLocaleString(),icon:z.Zap,color:"amber"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(V,{data:a.byCategory,title:"By Category"}),(0,b.jsx)(V,{data:a.byProvider,title:"By Provider"}),(0,b.jsx)(W,{data:a.byThreatLevel})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(S.BarChart3,{className:"w-5 h-5 text-amber-400"}),"Metrics Overview"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(8)].map((a,c)=>(0,b.jsx)("div",{className:"h-28 bg-white/5 rounded-2xl animate-pulse"},c))})]})}var Y=a.i(436995),Z=a.i(662482),$=a.i(686014),_=a.i(979794),aa=a.i(41783),ab=a.i(28120),ac=a.i(327428),ad=a.i(591412),ad=ad,ae=a.i(727586);let af=[{id:"direct",name:"Direct Extraction",icon:$.Target},{id:"encoded",name:"Encoding Bypass",icon:aa.Lock},{id:"persona",name:"Persona Jailbreak",icon:ac.Eye},{id:"social",name:"Social Engineering",icon:ae.Bug},{id:"format",name:"Format Injection",icon:ad.default},{id:"crescendo",name:"Crescendo Attack",icon:z.Zap}],ag=[{id:"prompt_injection",name:"Prompt Injection",description:"Test for prompt injection vulnerabilities",icon:ae.Bug},{id:"jailbreak_attempt",name:"Jailbreak Detection",description:"Test jailbreak resistance",icon:ab.Unlock},{id:"data_extraction",name:"Data Extraction",description:"Test for sensitive data leakage",icon:ac.Eye},{id:"system_prompt_leak",name:"System Prompt Leak",description:"Test system prompt protection",icon:aa.Lock},{id:"comprehensive",name:"Comprehensive Scan",description:"Full security assessment",icon:Q.Shield}],ah={secure:{color:"emerald",icon:t.CheckCircle,label:"Secure"},low:{color:"blue",icon:s.AlertTriangle,label:"Low Risk"},medium:{color:"yellow",icon:s.AlertTriangle,label:"Medium Risk"},high:{color:"orange",icon:s.AlertTriangle,label:"High Risk"},critical:{color:"red",icon:u.XCircle,label:"Critical"}};function ai({scan:a}){let c=ah[a.severity??"secure"],d=c.icon,e={emerald:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",yellow:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",orange:"bg-orange-500/20 text-orange-400 border-orange-500/30",red:"bg-red-500/20 text-red-400 border-red-500/30"}[c.color];return(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-xl border p-4 ${e}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-white capitalize",children:a.scanType.replace(/_/g," ")}),(0,b.jsx)("p",{className:"text-xs text-white/40",children:new Date(a.startedAt).toLocaleString()})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:"running"===a.status?(0,b.jsx)(Z.Loader2,{className:"w-5 h-5 text-white/60 animate-spin"}):(0,b.jsx)(d,{className:"w-5 h-5"})})]}),"completed"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,b.jsx)("span",{className:"text-white/40",children:"Vulnerability Score"}),(0,b.jsxs)("span",{className:"font-medium text-white",children:[a.vulnerabilityScore??0,"/100"]})]}),(0,b.jsx)("div",{className:"h-2 bg-black/30 rounded-full overflow-hidden",children:(0,b.jsx)(f.motion.div,{initial:{width:0},animate:{width:`${a.vulnerabilityScore??0}%`},transition:{duration:.5},className:`h-full rounded-full ${(a.vulnerabilityScore??0)>70?"bg-red-500":(a.vulnerabilityScore??0)>40?"bg-yellow-500":"bg-emerald-500"}`})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e}`,children:c.label}),a.leakStatus&&(0,b.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs bg-white/10 text-white/60",children:["Leak: ",a.leakStatus]})]}),a.durationMs&&(0,b.jsxs)("p",{className:"text-xs text-white/30",children:["Completed in ",(a.durationMs/1e3).toFixed(2),"s"]})]}),"failed"===a.status&&(0,b.jsx)("p",{className:"text-xs text-red-400",children:"Scan failed"})]})}function aj(){let[a,d]=(0,c.useState)("comprehensive"),[e,f]=(0,c.useState)(["direct","encoded","persona"]),[g,h]=(0,c.useState)(!1),l=(0,i.useQuery)(j.api.observability.getSecurityScans,{limit:10}),m=(0,i.useMutation)(j.api.observability.createSecurityScan),n=async()=>{h(!0);try{await m({scanType:a,attackVectors:e,triggeredBy:"manual"})}catch(a){console.error("Failed to start scan:",a)}finally{h(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(_.Scan,{className:"w-5 h-5 text-red-400"}),"Security Scanner"]}),(0,b.jsx)("span",{className:"text-xs text-white/40",children:"ZeroLeaks-inspired"})]}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-2xl border border-white/10 p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Scan Type"}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-2",children:ag.map(c=>{let e=c.icon,f=a===c.id;return(0,b.jsxs)("button",{onClick:()=>d(c.id),className:`
                    p-3 rounded-xl border transition-all text-left
                    ${f?"bg-violet-500/20 border-violet-500/50 text-violet-300":"bg-white/5 border-white/10 text-white/60 hover:bg-white/10"}
                  `,children:[(0,b.jsx)(e,{className:"w-4 h-4 mb-2"}),(0,b.jsx)("div",{className:"text-xs font-medium",children:c.name})]},c.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Attack Vectors"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:af.map(a=>{let c=a.icon,d=e.includes(a.id);return(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void f(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`
                    flex items-center gap-2 px-3 py-2 rounded-lg border transition-all
                    ${d?"bg-amber-500/20 border-amber-500/50 text-amber-300":"bg-white/5 border-white/10 text-white/50 hover:bg-white/10"}
                  `,children:[(0,b.jsx)(c,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-xs",children:a.name})]},a.id)})})]}),(0,b.jsx)("button",{onClick:n,disabled:g||0===e.length,className:`
            w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl
            font-medium transition-all
            ${g||0===e.length?"bg-white/10 text-white/40 cursor-not-allowed":"bg-red-500/20 text-red-300 border border-red-500/50 hover:bg-red-500/30"}
          `,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z.Loader2,{className:"w-4 h-4 animate-spin"}),"Starting Scan..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y.Play,{className:"w-4 h-4"}),"Start Security Scan"]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Recent Scans"}),void 0===l?(0,b.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-24 bg-white/5 rounded-xl animate-pulse"},c))}):0===l.length?(0,b.jsxs)("div",{className:"text-center py-8 text-white/40",children:[(0,b.jsx)(Q.Shield,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No security scans yet"}),(0,b.jsx)("p",{className:"text-xs mt-1",children:"Start a scan to test your AI's defenses"})]}):(0,b.jsx)("div",{className:"grid gap-3",children:(0,b.jsx)(k.AnimatePresence,{children:l.map(a=>(0,b.jsx)(ai,{scan:a},a._id))})})]})]})}var ak=a.i(677409),al=a.i(456819),am=a.i(169114);let an=[{id:"activity",label:"Activity",icon:l.Activity},{id:"metrics",label:"Metrics",icon:S.BarChart3},{id:"providers",label:"Providers",icon:z.Zap},{id:"security",label:"Security",icon:_.Scan}];function ao(){let a=(0,d.useRouter)(),{isAuthenticated:i,isLoading:j,username:k}=(0,h.useAdminSession)(),[l,m]=(0,c.useState)("activity"),[n,o]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{j||i||a.push("/settings")},[i,j,a]),j)?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,b.jsx)(Z.Loader2,{className:"w-8 h-8 animate-spin text-white/50"})}):i?(0,b.jsx)(g.PageTransition,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-950",children:[(0,b.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-radial from-violet-500/10 to-transparent animate-pulse"}),(0,b.jsx)("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-radial from-emerald-500/10 to-transparent animate-pulse delay-1000"})]}),(0,b.jsx)("header",{className:"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:"/settings",className:"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,b.jsx)(ak.ChevronLeft,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(am.Terminal,{className:"w-6 h-6 text-violet-400"}),"Operations Center"]}),(0,b.jsxs)("p",{className:"text-xs text-white/50",children:["Logged in as ",k]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{o(!0),m("metrics"),setTimeout(()=>{m(l),o(!1)},100)},disabled:n,className:"p-2 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:(0,b.jsx)(al.RefreshCw,{className:`w-5 h-5 text-white/60 ${n?"animate-spin":""}`})}),(0,b.jsx)(e.default,{href:"/security",className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,b.jsx)(Q.Shield,{className:"w-5 h-5 text-white/60"})}),(0,b.jsx)(e.default,{href:"/settings",className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:(0,b.jsx)(q.Settings,{className:"w-5 h-5 text-white/60"})})]})]}),(0,b.jsx)("div",{className:"flex gap-2 mt-4",children:an.map(a=>{let c=a.icon,d=l===a.id;return(0,b.jsxs)("button",{onClick:()=>m(a.id),className:`
                      relative flex items-center gap-2 px-4 py-2 rounded-xl
                      text-sm font-medium transition-all
                      ${d?"text-white":"text-white/50 hover:text-white/70 hover:bg-white/5"}
                    `,children:[d&&(0,b.jsx)(f.motion.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white/10 rounded-xl border border-white/20",transition:{type:"spring",bounce:.2,duration:.4}}),(0,b.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.label]})]},a.id)})})]})}),(0,b.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-8 relative z-10",children:(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:["activity"===l&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsx)(ap,{label:"Active",value:"Live",color:"emerald",pulse:!0}),(0,b.jsx)(ap,{label:"Providers",value:"5",color:"violet"}),(0,b.jsx)(ap,{label:"Last 5m",value:"--",color:"amber"}),(0,b.jsx)(ap,{label:"Threats",value:"0",color:"red"})]}),(0,b.jsx)(H,{})]}),"metrics"===l&&(0,b.jsx)(X,{}),"providers"===l&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(P,{}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-2xl border border-white/10 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Provider Actions"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,b.jsx)("button",{className:"px-4 py-2 rounded-xl bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 hover:bg-emerald-500/30 transition-colors",children:"Check All Health"}),(0,b.jsx)("button",{className:"px-4 py-2 rounded-xl bg-violet-500/20 text-violet-300 border border-violet-500/30 hover:bg-violet-500/30 transition-colors",children:"View Lynkr Logs"}),(0,b.jsx)("button",{className:"px-4 py-2 rounded-xl bg-amber-500/20 text-amber-300 border border-amber-500/30 hover:bg-amber-500/30 transition-colors",children:"Test Connection"}),(0,b.jsx)("button",{onClick:()=>m("security"),className:"px-4 py-2 rounded-xl bg-red-500/20 text-red-300 border border-red-500/30 hover:bg-red-500/30 transition-colors",children:"Run Security Scan"})]})]})]}),"security"===l&&(0,b.jsx)(aj,{})]},l)}),(0,b.jsx)("footer",{className:"border-t border-white/10 py-4 mt-12",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 text-center text-xs text-white/30",children:"Operations Center v1.0 | 8gent Observability System"})})]})}):null}function ap({label:a,value:c,color:d,pulse:e}){return(0,b.jsxs)("div",{className:`
        relative rounded-xl border p-3 backdrop-blur-sm
        ${{emerald:"text-emerald-400 bg-emerald-500/20 border-emerald-500/30",violet:"text-violet-400 bg-violet-500/20 border-violet-500/30",amber:"text-amber-400 bg-amber-500/20 border-amber-500/30",red:"text-red-400 bg-red-500/20 border-red-500/30"}[d]}
      `,children:[e&&(0,b.jsxs)("span",{className:"absolute top-2 right-2 flex h-2 w-2",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),(0,b.jsx)("div",{className:"text-xs text-white/40",children:a}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:c})]})}a.s(["default",()=>ao],780308)}];

//# sourceMappingURL=src_app_operations_page_tsx_484910fd._.js.map