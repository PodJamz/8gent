{"version":3,"sources":["../../../../node_modules/.pnpm/lucide-react%400.469.0_react%4019.2.3/node_modules/lucide-react/src/icons/calendar.ts","../../../../node_modules/.pnpm/lucide-react%400.469.0_react%4019.2.3/node_modules/lucide-react/src/icons/chevron-left.ts","../../../../node_modules/.pnpm/lucide-react%400.469.0_react%4019.2.3/node_modules/lucide-react/src/icons/external-link.ts","../../../../src/components/motion/index.ts","../../../../node_modules/.pnpm/lucide-react%400.469.0_react%4019.2.3/node_modules/lucide-react/src/icons/video.ts","../../../../src/lib/scheduling/types.ts","../../../../src/lib/scheduling/utils.ts","../../../../src/app/book/%5Busername%5D/%5BeventSlug%5D/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('Calendar', [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n]);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('ExternalLink', [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n]);\n\nexport default ExternalLink;\n","// Motion Primitives - Global Animation System\n// Inspired by https://motion-primitives.com\n\n// Configuration\nexport {\n  motionConfig,\n  presets,\n  containerVariants,\n  createStaggerContainer,\n  type PresetName,\n} from './config';\n\n// Provider\nexport { MotionProvider, useMotion } from './provider';\n\n// Core Components\nexport { InView, type InViewProps } from './in-view';\nexport { TextEffect, type TextEffectProps, type TextPreset, type PerType } from './text-effect';\nexport { AnimatedGroup, type AnimatedGroupProps } from './animated-group';\nexport { FadeIn, FadeInUp, FadeInDown, FadeInBlur, FadeInScale, type FadeInProps } from './fade-in';\n\n// Re-export motion for convenience\nexport { motion, AnimatePresence } from 'motion/react';\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Video\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTMgNS4yMjMgMy40ODJhLjUuNSAwIDAgMCAuNzc3LS40MTZWNy44N2EuNS41IDAgMCAwLS43NTItLjQzMkwxNiAxMC41IiAvPgogIDxyZWN0IHg9IjIiIHk9IjYiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMiIgcng9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/video\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Video = createLucideIcon('Video', [\n  [\n    'path',\n    {\n      d: 'm16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5',\n      key: 'ftymec',\n    },\n  ],\n  ['rect', { x: '2', y: '6', width: '14', height: '12', rx: '2', key: '158x01' }],\n]);\n\nexport default Video;\n","/**\n * Scheduling Types - TypeScript definitions for the Calendly clone\n */\n\nexport type LocationType = \"google_meet\" | \"zoom\" | \"phone\" | \"in_person\" | \"custom\";\n\nexport type BookingStatus =\n  | \"pending\"\n  | \"confirmed\"\n  | \"cancelled\"\n  | \"rescheduled\"\n  | \"completed\"\n  | \"no_show\";\n\nexport interface TimeSlot {\n  start: string; // \"HH:mm\" format\n  end: string;\n}\n\nexport interface DaySchedule {\n  dayOfWeek: number; // 0-6 (Sunday-Saturday)\n  isAvailable: boolean;\n  slots: TimeSlot[];\n}\n\nexport interface Question {\n  id: string;\n  label: string;\n  type: \"text\" | \"textarea\" | \"select\";\n  required: boolean;\n  options?: string[];\n}\n\nexport interface QuestionResponse {\n  questionId: string;\n  questionLabel: string;\n  answer: string;\n}\n\nexport interface EventType {\n  _id: string;\n  ownerId: string;\n  title: string;\n  slug: string;\n  description?: string;\n  duration: number;\n  color: string;\n  isActive: boolean;\n  bufferBefore: number;\n  bufferAfter: number;\n  maxBookingsPerDay?: number;\n  minNotice: number;\n  maxAdvance: number;\n  locationType: LocationType;\n  locationValue?: string;\n  questions: Question[];\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface Availability {\n  _id: string;\n  ownerId: string;\n  name: string;\n  isDefault: boolean;\n  timezone: string;\n  schedule: DaySchedule[];\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface AvailabilityOverride {\n  _id: string;\n  ownerId: string;\n  date: string;\n  isBlocked: boolean;\n  slots?: TimeSlot[];\n  reason?: string;\n}\n\nexport interface Booking {\n  _id: string;\n  eventTypeId: string;\n  hostId: string;\n  guestEmail: string;\n  guestName: string;\n  guestTimezone: string;\n  startTime: number;\n  endTime: number;\n  status: BookingStatus;\n  title: string;\n  location?: string;\n  locationType: string;\n  notes?: string;\n  responses?: QuestionResponse[];\n  googleEventId?: string;\n  cancelledAt?: number;\n  cancelReason?: string;\n  cancelledBy?: \"host\" | \"guest\";\n  rescheduledFrom?: string;\n  rescheduledTo?: string;\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface CalendarIntegration {\n  _id: string;\n  ownerId: string;\n  provider: \"google\";\n  accessToken: string;\n  refreshToken: string;\n  tokenExpiry: number;\n  calendarId: string;\n  calendarEmail: string;\n  syncEnabled: boolean;\n  blockExternalEvents: boolean;\n  lastSyncAt?: number;\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface AvailableSlot {\n  time: string; // \"HH:mm\" format\n  timestamp: number;\n}\n\nexport interface GoogleCalendarEvent {\n  id?: string;\n  summary: string;\n  description?: string;\n  start: {\n    dateTime: string;\n    timeZone: string;\n  };\n  end: {\n    dateTime: string;\n    timeZone: string;\n  };\n  attendees?: Array<{\n    email: string;\n    displayName?: string;\n    responseStatus?: string;\n  }>;\n  conferenceData?: {\n    createRequest?: {\n      requestId: string;\n      conferenceSolutionKey: {\n        type: string;\n      };\n    };\n    entryPoints?: Array<{\n      entryPointType: string;\n      uri: string;\n      label?: string;\n    }>;\n  };\n  reminders?: {\n    useDefault: boolean;\n    overrides?: Array<{\n      method: string;\n      minutes: number;\n    }>;\n  };\n}\n\nexport interface GoogleTokenResponse {\n  access_token: string;\n  refresh_token?: string;\n  expires_in: number;\n  token_type: string;\n  scope: string;\n}\n\nexport interface GoogleCalendarListResponse {\n  items: Array<{\n    id: string;\n    summary: string;\n    primary?: boolean;\n    accessRole: string;\n  }>;\n}\n\nexport interface GoogleFreeBusyResponse {\n  calendars: {\n    [calendarId: string]: {\n      busy: Array<{\n        start: string;\n        end: string;\n      }>;\n    };\n  };\n}\n\n// Form types for UI\nexport interface BookingFormData {\n  guestName: string;\n  guestEmail: string;\n  guestTimezone: string;\n  notes?: string;\n  responses?: QuestionResponse[];\n}\n\nexport interface EventTypeFormData {\n  title: string;\n  description?: string;\n  duration: number;\n  color: string;\n  locationType: LocationType;\n  locationValue?: string;\n  bufferBefore?: number;\n  bufferAfter?: number;\n  minNotice?: number;\n  maxAdvance?: number;\n  questions?: Question[];\n}\n\n// Calendar view types\nexport type CalendarView = \"month\" | \"week\" | \"day\" | \"list\";\n\nexport interface CalendarDay {\n  date: Date;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  bookings: Booking[];\n}\n\n// Duration options\nexport const DURATION_OPTIONS = [\n  { value: 15, label: \"15 minutes\" },\n  { value: 30, label: \"30 minutes\" },\n  { value: 45, label: \"45 minutes\" },\n  { value: 60, label: \"1 hour\" },\n  { value: 90, label: \"1.5 hours\" },\n  { value: 120, label: \"2 hours\" },\n] as const;\n\n// Color options for event types\nexport const EVENT_COLORS = [\n  { value: \"#3b82f6\", label: \"Blue\" },\n  { value: \"#10b981\", label: \"Green\" },\n  { value: \"#f59e0b\", label: \"Yellow\" },\n  { value: \"#ef4444\", label: \"Red\" },\n  { value: \"#8b5cf6\", label: \"Purple\" },\n  { value: \"#ec4899\", label: \"Pink\" },\n  { value: \"#06b6d4\", label: \"Cyan\" },\n  { value: \"#f97316\", label: \"Orange\" },\n] as const;\n\n// Day names\nexport const DAY_NAMES = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n] as const;\n\nexport const DAY_NAMES_SHORT = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"] as const;\n","/**\n * Scheduling Utilities\n *\n * Helper functions for date/time handling and formatting.\n */\n\nimport { DAY_NAMES, DAY_NAMES_SHORT, type DaySchedule, type TimeSlot } from \"./types\";\n\n// Re-export constants for convenience\nexport { DAY_NAMES, DAY_NAMES_SHORT };\n\n/**\n * Format a date to \"YYYY-MM-DD\" string\n */\nexport function formatDateString(date: Date): string {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Parse \"YYYY-MM-DD\" string to Date\n */\nexport function parseDateString(dateString: string): Date {\n  const [year, month, day] = dateString.split(\"-\").map(Number);\n  return new Date(year, month - 1, day);\n}\n\n/**\n * Format time string from minutes\n */\nexport function formatTimeFromMinutes(minutes: number): string {\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  return `${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}`;\n}\n\n/**\n * Parse \"HH:mm\" string to minutes from midnight\n */\nexport function parseTimeToMinutes(time: string): number {\n  const [hours, minutes] = time.split(\":\").map(Number);\n  return hours * 60 + minutes;\n}\n\n/**\n * Format timestamp to human-readable date\n */\nexport function formatDate(timestamp: number, options?: Intl.DateTimeFormatOptions): string {\n  return new Date(timestamp).toLocaleDateString(\"en-US\", {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    ...options,\n  });\n}\n\n/**\n * Format timestamp to human-readable time\n */\nexport function formatTime(timestamp: number, timezone?: string): string {\n  return new Date(timestamp).toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hour12: true,\n    ...(timezone && { timeZone: timezone }),\n  });\n}\n\n/**\n * Format timestamp to human-readable date and time\n */\nexport function formatDateTime(timestamp: number, timezone?: string): string {\n  return new Date(timestamp).toLocaleString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hour12: true,\n    ...(timezone && { timeZone: timezone }),\n  });\n}\n\n/**\n * Format duration in minutes to human-readable string\n */\nexport function formatDuration(minutes: number): string {\n  if (minutes < 60) {\n    return `${minutes} min`;\n  }\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  if (mins === 0) {\n    return hours === 1 ? \"1 hour\" : `${hours} hours`;\n  }\n  return `${hours}h ${mins}m`;\n}\n\n/**\n * Get relative time string (e.g., \"in 2 hours\", \"tomorrow\")\n */\nexport function getRelativeTime(timestamp: number): string {\n  const now = Date.now();\n  const diff = timestamp - now;\n\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  const days = Math.floor(diff / 86400000);\n\n  if (diff < 0) {\n    return \"Past\";\n  }\n\n  if (minutes < 60) {\n    return `in ${minutes} min`;\n  }\n\n  if (hours < 24) {\n    return `in ${hours} hour${hours === 1 ? \"\" : \"s\"}`;\n  }\n\n  if (days === 1) {\n    return \"Tomorrow\";\n  }\n\n  if (days < 7) {\n    return `in ${days} days`;\n  }\n\n  return formatDate(timestamp, { weekday: undefined, year: undefined });\n}\n\n/**\n * Get user's timezone\n */\nexport function getUserTimezone(): string {\n  return Intl.DateTimeFormat().resolvedOptions().timeZone;\n}\n\n/**\n * Format timezone for display\n */\nexport function formatTimezone(timezone: string): string {\n  try {\n    const now = new Date();\n    const formatter = new Intl.DateTimeFormat(\"en-US\", {\n      timeZone: timezone,\n      timeZoneName: \"short\",\n    });\n    const parts = formatter.formatToParts(now);\n    const tzPart = parts.find((p) => p.type === \"timeZoneName\");\n    return tzPart ? `${timezone} (${tzPart.value})` : timezone;\n  } catch {\n    return timezone;\n  }\n}\n\n/**\n * Get day name from day of week number\n */\nexport function getDayName(dayOfWeek: number, short = false): string {\n  return short ? DAY_NAMES_SHORT[dayOfWeek] : DAY_NAMES[dayOfWeek];\n}\n\n/**\n * Generate dates for a calendar month view\n */\nexport function getCalendarDates(year: number, month: number): Date[] {\n  const firstDay = new Date(year, month, 1);\n  const lastDay = new Date(year, month + 1, 0);\n\n  // Start from the Sunday of the first week\n  const startDate = new Date(firstDay);\n  startDate.setDate(startDate.getDate() - firstDay.getDay());\n\n  // End at the Saturday of the last week\n  const endDate = new Date(lastDay);\n  endDate.setDate(endDate.getDate() + (6 - lastDay.getDay()));\n\n  const dates: Date[] = [];\n  const current = new Date(startDate);\n\n  while (current <= endDate) {\n    dates.push(new Date(current));\n    current.setDate(current.getDate() + 1);\n  }\n\n  return dates;\n}\n\n/**\n * Generate dates for a week view\n */\nexport function getWeekDates(date: Date): Date[] {\n  const startOfWeek = new Date(date);\n  startOfWeek.setDate(date.getDate() - date.getDay());\n\n  const dates: Date[] = [];\n  for (let i = 0; i < 7; i++) {\n    const d = new Date(startOfWeek);\n    d.setDate(startOfWeek.getDate() + i);\n    dates.push(d);\n  }\n\n  return dates;\n}\n\n/**\n * Check if two dates are the same day\n */\nexport function isSameDay(date1: Date, date2: Date): boolean {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  );\n}\n\n/**\n * Check if a date is today\n */\nexport function isToday(date: Date): boolean {\n  return isSameDay(date, new Date());\n}\n\n/**\n * Check if a date is in the past\n */\nexport function isPast(date: Date): boolean {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  return date < today;\n}\n\n/**\n * Get start and end of day timestamps\n */\nexport function getDayBounds(date: Date): { start: number; end: number } {\n  const start = new Date(date);\n  start.setHours(0, 0, 0, 0);\n\n  const end = new Date(date);\n  end.setHours(23, 59, 59, 999);\n\n  return { start: start.getTime(), end: end.getTime() };\n}\n\n/**\n * Create default availability schedule (9-5 weekdays)\n */\nexport function createDefaultSchedule(): DaySchedule[] {\n  return [\n    { dayOfWeek: 0, isAvailable: false, slots: [] },\n    { dayOfWeek: 1, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 2, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 3, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 4, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 5, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 6, isAvailable: false, slots: [] },\n  ];\n}\n\n/**\n * Merge overlapping time slots\n */\nexport function mergeTimeSlots(slots: TimeSlot[]): TimeSlot[] {\n  if (slots.length === 0) return [];\n\n  // Sort by start time\n  const sorted = [...slots].sort((a, b) =>\n    parseTimeToMinutes(a.start) - parseTimeToMinutes(b.start)\n  );\n\n  const merged: TimeSlot[] = [sorted[0]];\n\n  for (let i = 1; i < sorted.length; i++) {\n    const current = sorted[i];\n    const last = merged[merged.length - 1];\n\n    const lastEnd = parseTimeToMinutes(last.end);\n    const currentStart = parseTimeToMinutes(current.start);\n\n    if (currentStart <= lastEnd) {\n      // Overlapping, merge\n      const currentEnd = parseTimeToMinutes(current.end);\n      if (currentEnd > lastEnd) {\n        last.end = current.end;\n      }\n    } else {\n      // No overlap, add new slot\n      merged.push(current);\n    }\n  }\n\n  return merged;\n}\n\n/**\n * Generate time slot options for select inputs\n */\nexport function generateTimeOptions(\n  startHour = 0,\n  endHour = 24,\n  intervalMinutes = 30\n): Array<{ value: string; label: string }> {\n  const options: Array<{ value: string; label: string }> = [];\n\n  for (let minutes = startHour * 60; minutes < endHour * 60; minutes += intervalMinutes) {\n    const time = formatTimeFromMinutes(minutes);\n    const label = formatTime(new Date().setHours(0, minutes, 0, 0));\n    options.push({ value: time, label });\n  }\n\n  return options;\n}\n\n/**\n * Convert timestamp to timezone-aware Date\n */\nexport function toTimezone(timestamp: number, timezone: string): Date {\n  const date = new Date(timestamp);\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: timezone,\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: false,\n  };\n\n  const parts = new Intl.DateTimeFormat(\"en-CA\", options).formatToParts(date);\n  const get = (type: string) => parts.find((p) => p.type === type)?.value || \"0\";\n\n  return new Date(\n    parseInt(get(\"year\")),\n    parseInt(get(\"month\")) - 1,\n    parseInt(get(\"day\")),\n    parseInt(get(\"hour\")),\n    parseInt(get(\"minute\")),\n    parseInt(get(\"second\"))\n  );\n}\n\n/**\n * Get booking link URL\n */\nexport function getBookingLink(username: string, eventSlug: string): string {\n  if (typeof window !== \"undefined\") {\n    return `${window.location.origin}/book/${username}/${eventSlug}`;\n  }\n  return `/book/${username}/${eventSlug}`;\n}\n\n/**\n * Copy text to clipboard\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  try {\n    await navigator.clipboard.writeText(text);\n    return true;\n  } catch {\n    // Fallback for older browsers\n    const textarea = document.createElement(\"textarea\");\n    textarea.value = text;\n    textarea.style.position = \"fixed\";\n    textarea.style.opacity = \"0\";\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      document.execCommand(\"copy\");\n      return true;\n    } catch {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n}\n\n/**\n * Validate email format\n */\nexport function isValidEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Generate a unique ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 11) + Date.now().toString(36);\n}\n","'use client';\n\n/**\n * Public Booking Page\n *\n * Allows guests to book a meeting by selecting a date and time.\n */\n\nimport { useState, useMemo } from 'react';\nimport { useParams } from 'next/navigation';\nimport { useQuery, useMutation } from '@/lib/openclaw/hooks';\nimport { Clock, ArrowLeft, Loader2 } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport {\n  BookingCalendar,\n  TimeSlotPicker,\n  BookingForm,\n  BookingConfirmation,\n} from '@/components/scheduling';\nimport type { EventType, AvailableSlot, Booking } from '@/lib/scheduling/types';\nimport { formatDuration, getUserTimezone, formatDateString } from '@/lib/scheduling/utils';\n\nimport { api } from '@/lib/convex-shim';\n\ntype BookingStep = 'select-date' | 'select-time' | 'enter-details' | 'confirmed';\n\nexport default function BookingPage() {\n  const params = useParams();\n  const username = params.username as string;\n  const eventSlug = params.eventSlug as string;\n\n  const [step, setStep] = useState<BookingStep>('select-date');\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\n  const [selectedSlot, setSelectedSlot] = useState<AvailableSlot | null>(null);\n  const [confirmedBooking, setConfirmedBooking] = useState<Booking | null>(null);\n  const [guestTimezone] = useState(getUserTimezone());\n\n  // Check if schema is ready\n  const schemaReady = api?.scheduling?.getPublicEventTypes !== undefined;\n\n  // Get event type by slug\n  // Note: In a real app, you'd have a query to get event type by username + slug\n  // For now, we'll get all public event types and filter\n  const eventTypes = useQuery(\n    api?.scheduling?.getPublicEventTypes ?? (null as never),\n    schemaReady ? { ownerId: username } : 'skip'\n  );\n  const eventType = useMemo(\n    () => (eventTypes as EventType[] | undefined)?.find((et: EventType) => et.slug === eventSlug),\n    [eventTypes, eventSlug]\n  );\n\n  // Get available slots for selected date\n  const availableSlots = useQuery(\n    api?.scheduling?.getAvailableSlots ?? (null as never),\n    schemaReady && selectedDate && eventType\n      ? {\n        eventTypeId: eventType._id as any,\n        date: formatDateString(selectedDate),\n        timezone: guestTimezone,\n      }\n      : 'skip'\n  ) as AvailableSlot[] | undefined;\n\n  // Create booking mutation\n  const createBookingMutation = useMutation(\n    api?.scheduling?.createBooking ?? (null as never)\n  );\n\n  // Handle date selection\n  const handleSelectDate = (date: Date) => {\n    setSelectedDate(date);\n    setSelectedSlot(null);\n    setStep('select-time');\n  };\n\n  // Handle time slot selection\n  const handleSelectSlot = (slot: AvailableSlot) => {\n    setSelectedSlot(slot);\n    setStep('enter-details');\n  };\n\n  // Handle booking submission\n  const handleSubmitBooking = async (data: {\n    guestName: string;\n    guestEmail: string;\n    guestTimezone: string;\n    notes?: string;\n    responses?: Array<{\n      questionId: string;\n      questionLabel: string;\n      answer: string;\n    }>;\n  }) => {\n    if (!eventType || !selectedSlot || !createBookingMutation) return;\n\n    const bookingId = await createBookingMutation({\n      eventTypeId: eventType._id as any,\n      guestEmail: data.guestEmail,\n      guestName: data.guestName,\n      guestTimezone: data.guestTimezone,\n      startTime: selectedSlot.timestamp,\n      notes: data.notes,\n      responses: data.responses,\n    });\n\n    // Fetch the created booking to show confirmation\n    // For now, we'll construct it from the data we have\n    setConfirmedBooking({\n      _id: bookingId as string,\n      eventTypeId: eventType._id,\n      hostId: username,\n      guestEmail: data.guestEmail,\n      guestName: data.guestName,\n      guestTimezone: data.guestTimezone,\n      startTime: selectedSlot.timestamp,\n      endTime: selectedSlot.timestamp + eventType.duration * 60 * 1000,\n      status: 'confirmed',\n      title: eventType.title,\n      locationType: eventType.locationType,\n      notes: data.notes,\n      responses: data.responses,\n      createdAt: Date.now(),\n      updatedAt: Date.now(),\n    });\n    setStep('confirmed');\n  };\n\n  // Handle back navigation\n  const handleBack = () => {\n    if (step === 'select-time') {\n      setStep('select-date');\n      setSelectedSlot(null);\n    } else if (step === 'enter-details') {\n      setStep('select-time');\n    }\n  };\n\n  // Schema not deployed yet\n  if (!schemaReady) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-6\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"text-6xl mb-4\">üóìÔ∏è</div>\n          <h1 className=\"text-2xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            Coming Soon\n          </h1>\n          <p className=\"mb-6\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            The booking system is being set up. Check back soon!\n          </p>\n          <Link\n            href=\"/\"\n            className=\"inline-flex items-center gap-2 px-6 py-3 rounded-full font-medium\"\n            style={{\n              backgroundColor: 'hsl(var(--primary))',\n              color: 'hsl(var(--primary-foreground))',\n            }}\n          >\n            Return Home\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  // Loading state\n  if (eventTypes === undefined) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-pulse text-center\">\n          <Loader2 className=\"w-8 h-8 mx-auto mb-4 animate-spin opacity-50\" />\n          <p style={{ color: 'hsl(var(--muted-foreground))' }}>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Event type not found\n  if (!eventType) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-4\">\n        <LiquidGlass className=\"p-8 rounded-2xl text-center max-w-md\">\n          <h1 className=\"text-2xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            Event Not Found\n          </h1>\n          <p style={{ color: 'hsl(var(--muted-foreground))' }}>\n            This booking link may be invalid or the event type has been disabled.\n          </p>\n        </LiquidGlass>\n      </div>\n    );\n  }\n\n  // Confirmation view\n  if (step === 'confirmed' && confirmedBooking) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-4\">\n        <BookingConfirmation\n          booking={confirmedBooking}\n          eventType={eventType}\n          onClose={() => window.close()}\n        />\n      </div>\n    );\n  }\n\n  const locationLabels: Record<string, string> = {\n    google_meet: 'Google Meet',\n    zoom: 'Zoom',\n    phone: 'Phone Call',\n    in_person: 'In Person',\n    custom: 'Custom',\n  };\n\n  return (\n    <div className=\"min-h-screen p-4 md:p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"grid md:grid-cols-[300px,1fr] gap-8\">\n          {/* Event info sidebar */}\n          <div>\n            <LiquidGlass className=\"p-6 rounded-2xl sticky top-8\">\n              {/* Back button */}\n              {step !== 'select-date' && step !== 'confirmed' && (\n                <button\n                  onClick={handleBack}\n                  className=\"flex items-center gap-2 text-sm mb-4 hover:underline\"\n                  style={{ color: 'hsl(var(--muted-foreground))' }}\n                >\n                  <ArrowLeft className=\"w-4 h-4\" />\n                  Back\n                </button>\n              )}\n\n              {/* Event type info */}\n              <div\n                className=\"w-3 h-12 rounded-full mb-4\"\n                style={{ backgroundColor: eventType.color }}\n              />\n\n              <h1 className=\"text-xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                {eventType.title}\n              </h1>\n\n              {eventType.description && (\n                <p className=\"text-sm mb-4\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                  {eventType.description}\n                </p>\n              )}\n\n              <div className=\"space-y-2 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"w-4 h-4\" />\n                  {formatDuration(eventType.duration)}\n                </div>\n                <p>{locationLabels[eventType.locationType]}</p>\n              </div>\n            </LiquidGlass>\n          </div>\n\n          {/* Booking steps */}\n          <div>\n            <AnimatePresence mode=\"wait\">\n              {step === 'select-date' && (\n                <motion.div\n                  key=\"select-date\"\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  exit={{ opacity: 0, x: -20 }}\n                >\n                  <LiquidGlass className=\"p-6 rounded-2xl\">\n                    <h2\n                      className=\"text-lg font-semibold mb-4\"\n                      style={{ color: 'hsl(var(--foreground))' }}\n                    >\n                      Select a Date\n                    </h2>\n                    <BookingCalendar\n                      selectedDate={selectedDate}\n                      onSelectDate={handleSelectDate}\n                      currentMonth={currentMonth}\n                      onMonthChange={setCurrentMonth}\n                      maxAdvanceDays={eventType.maxAdvance}\n                    />\n                  </LiquidGlass>\n                </motion.div>\n              )}\n\n              {step === 'select-time' && selectedDate && (\n                <motion.div\n                  key=\"select-time\"\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  exit={{ opacity: 0, x: -20 }}\n                >\n                  <LiquidGlass className=\"p-6 rounded-2xl\">\n                    <h2\n                      className=\"text-lg font-semibold mb-4\"\n                      style={{ color: 'hsl(var(--foreground))' }}\n                    >\n                      Select a Time\n                    </h2>\n                    <p className=\"text-sm mb-4\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                      {selectedDate.toLocaleDateString('en-US', {\n                        weekday: 'long',\n                        month: 'long',\n                        day: 'numeric',\n                      })}\n                    </p>\n                    <TimeSlotPicker\n                      slots={availableSlots || []}\n                      selectedSlot={selectedSlot}\n                      onSelectSlot={handleSelectSlot}\n                      timezone={guestTimezone}\n                      isLoading={availableSlots === undefined}\n                    />\n                  </LiquidGlass>\n                </motion.div>\n              )}\n\n              {step === 'enter-details' && selectedDate && selectedSlot && (\n                <motion.div\n                  key=\"enter-details\"\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  exit={{ opacity: 0, x: -20 }}\n                >\n                  <BookingForm\n                    eventType={eventType}\n                    selectedDate={selectedDate}\n                    selectedSlot={selectedSlot}\n                    onSubmit={handleSubmitBooking}\n                    onBack={handleBack}\n                  />\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,2,4]}