module.exports=[463071,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(567031),e=a.i(278739),f=a.i(617864),g=a.i(106427),h=a.i(422720),i=a.i(691589),i=i,j=a.i(742926),k=a.i(292606),l=a.i(456819),m=a.i(284069),n=a.i(885275),o=a.i(662482),p=a.i(443305),q=a.i(484020),r=a.i(728660),s=a.i(596682),t=a.i(887080);let u=[{value:"podcast_studio",label:"Podcast Studio",description:"Professional recording setup"},{value:"office",label:"Modern Office",description:"Clean workspace environment"},{value:"outdoor",label:"Outdoor",description:"Natural scenery backdrop"},{value:"news_desk",label:"News Desk",description:"Professional broadcast setup"},{value:"living_room",label:"Living Room",description:"Cozy home setting"},{value:"conference",label:"Conference Room",description:"Business meeting space"}],v=[{value:"professional",label:"Professional"},{value:"casual",label:"Casual"},{value:"educational",label:"Educational"},{value:"entertaining",label:"Entertaining"}];function w(){let a,[w,x]=(0,c.useState)("topic"),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)("podcast_studio"),[G,H]=(0,c.useState)("professional"),[I,J]=(0,c.useState)(90),[K,L]=(0,c.useState)(null),M=(0,c.useCallback)(a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onloadend=()=>{D(a.result),B(a.result)},a.readAsDataURL(b)}},[]),N=(0,c.useCallback)(async()=>{if(y&&A){x("generating"),L({status:"generating_script"});try{let a=await fetch("/api/talking-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"run_workflow",topic:y,sourcePhotoUrl:A,sceneStyle:E,tone:G,duration:I})}),b=await a.json();b.error?L({status:"error",error:b.error}):(L({status:"complete",script:b.script,audioUrl:b.audioUrl,backgroundVideoUrl:b.backgroundVideoUrl,finalVideoUrl:b.finalVideoUrl}),x("complete"))}catch(a){L({status:"error",error:a instanceof Error?a.message:"Generation failed"})}}},[y,A,E,G,I]),O=(0,c.useCallback)(()=>{x("topic"),z(""),B(""),D(null),F("podcast_studio"),H("professional"),J(90),L(null)},[]);return(0,b.jsx)(f.PageTransition,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,b.jsx)("header",{className:"sticky top-0 z-40 bg-black/80 backdrop-blur-xl border-b border-white/10",children:(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl",children:(0,b.jsx)(g.Video,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:"Talking Video"}),(0,b.jsx)("p",{className:"text-xs text-white/40",children:"AI-powered video creation"})]})]}),"topic"!==w&&(0,b.jsx)("button",{onClick:O,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,b.jsx)(l.RefreshCw,{className:"w-5 h-5"})})]})}),(0,b.jsxs)("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[(a=[{id:"topic",label:"Topic",icon:j.Sparkles},{id:"photo",label:"Photo",icon:i.default},{id:"scene",label:"Scene",icon:q.Film},{id:"generating",label:"Create",icon:r.Wand2}],(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:a.map((c,d)=>{let e=c.icon,f=w===c.id||"complete"===w&&"generating"===c.id,g=a.findIndex(a=>a.id===w)>d||"complete"===w&&"generating"!==c.id;return(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-all ${f?"bg-white text-black":g?"bg-green-500/20 text-green-400":"bg-white/10 text-white/40"}`,children:[g?(0,b.jsx)(n.Check,{className:"w-4 h-4"}):(0,b.jsx)(e,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:c.label})]}),d<a.length-1&&(0,b.jsx)(m.ChevronRight,{className:"w-4 h-4 text-white/20 mx-1"})]},c.id)})})),(0,b.jsxs)(e.AnimatePresence,{mode:"wait",children:["topic"===w&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"What do you want to talk about?"}),(0,b.jsxs)("p",{className:"text-white/50",children:["AI will write a ",I,"-second script for your video"]})]}),(0,b.jsx)("textarea",{value:y,onChange:a=>z(a.target.value),placeholder:"e.g., The future of AI in creative industries, Why I love building products, Tips for startup founders...",className:"w-full h-32 bg-white/5 rounded-xl p-4 text-lg placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-purple-500/50 resize-none",autoFocus:!0}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm text-white/60",children:"Tone"}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:v.map(a=>(0,b.jsx)("button",{onClick:()=>H(a.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${G===a.value?"bg-purple-500 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-white/60",children:"Duration"}),(0,b.jsxs)("span",{className:"text-white",children:[I," seconds"]})]}),(0,b.jsx)("input",{type:"range",min:30,max:180,step:15,value:I,onChange:a=>J(Number(a.target.value)),className:"w-full accent-purple-500"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-white/40",children:[(0,b.jsx)("span",{children:"30s"}),(0,b.jsx)("span",{children:"90s"}),(0,b.jsx)("span",{children:"180s"})]})]}),(0,b.jsx)("button",{onClick:()=>x("photo"),disabled:!y.trim(),className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Continue"})]},"topic"),"photo"===w&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Upload your photo"}),(0,b.jsx)("p",{className:"text-white/50",children:"A clear headshot works best for the talking video"})]}),C?(0,b.jsxs)("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-white/5",children:[(0,b.jsx)("img",{src:C,alt:"Preview",className:"w-full h-full object-contain"}),(0,b.jsx)("button",{onClick:()=>{D(null),B("")},className:"absolute top-3 right-3 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",children:(0,b.jsx)(t.X,{className:"w-4 h-4"})})]}):(0,b.jsxs)("label",{className:"block aspect-video rounded-xl border-2 border-dashed border-white/20 hover:border-purple-500/50 transition-colors cursor-pointer",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:M,className:"hidden"}),(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center gap-4",children:[(0,b.jsx)("div",{className:"p-4 bg-white/10 rounded-full",children:(0,b.jsx)(s.Upload,{className:"w-8 h-8 text-white/60"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"font-medium",children:"Click to upload"}),(0,b.jsx)("p",{className:"text-sm text-white/40",children:"or drag and drop"})]})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("div",{className:"w-full border-t border-white/10"})}),(0,b.jsx)("div",{className:"relative flex justify-center",children:(0,b.jsx)("span",{className:"px-3 bg-black text-sm text-white/40",children:"or paste URL"})})]}),(0,b.jsx)("input",{type:"url",value:A.startsWith("data:")?"":A,onChange:a=>{B(a.target.value),D(a.target.value)},placeholder:"https://example.com/photo.jpg",className:"w-full bg-white/5 rounded-xl px-4 py-3 placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-purple-500/50"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>x("topic"),className:"flex-1 py-4 bg-white/10 rounded-xl font-medium hover:bg-white/20 transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:()=>x("scene"),disabled:!A,className:"flex-1 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Continue"})]})]},"photo"),"scene"===w&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Choose your scene"}),(0,b.jsx)("p",{className:"text-white/50",children:"Select a background environment for your video"})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:u.map(a=>(0,b.jsxs)("button",{onClick:()=>F(a.value),className:`p-4 rounded-xl text-left transition-all ${E===a.value?"bg-purple-500/20 border-2 border-purple-500":"bg-white/5 border-2 border-transparent hover:bg-white/10"}`,children:[(0,b.jsx)("p",{className:"font-medium",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:a.description})]},a.value))}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>x("photo"),className:"flex-1 py-4 bg-white/10 rounded-xl font-medium hover:bg-white/20 transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:N,className:"flex-1 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl font-semibold transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Generate Video"})]})]},"scene"),"generating"===w&&K&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Creating your video"}),(0,b.jsx)("p",{className:"text-white/50",children:"This may take a few minutes"})]}),(0,b.jsx)("div",{className:"space-y-4",children:[{id:"generating_script",label:"Writing script",icon:j.Sparkles,statuses:["generating_script"]},{id:"generating_voice",label:"Generating voice",icon:h.Mic,statuses:["script_ready","generating_voice"]},{id:"generating_background",label:"Creating background",icon:q.Film,statuses:["voice_ready","generating_background"]},{id:"lip_syncing",label:"Syncing lips",icon:p.Volume2,statuses:["background_ready","lip_syncing"]}].map((a,c)=>{let d=a.icon,e=a.statuses.includes(K.status),f=["script_ready","voice_ready","background_ready","complete"].indexOf(K.status)>c||"complete"===K.status;return(0,b.jsxs)("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all ${e?"bg-purple-500/20 border border-purple-500/50":f?"bg-green-500/10 border border-green-500/30":"bg-white/5 border border-transparent"}`,children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${e?"bg-purple-500/30":f?"bg-green-500/30":"bg-white/10"}`,children:e?(0,b.jsx)(o.Loader2,{className:"w-5 h-5 animate-spin"}):f?(0,b.jsx)(n.Check,{className:"w-5 h-5 text-green-400"}):(0,b.jsx)(d,{className:"w-5 h-5 text-white/40"})}),(0,b.jsx)("span",{className:e?"text-white":f?"text-green-400":"text-white/40",children:a.label})]},a.id)})}),"error"===K.status&&(0,b.jsxs)("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-xl",children:[(0,b.jsx)("p",{className:"text-red-400",children:K.error}),(0,b.jsx)("button",{onClick:O,className:"mt-3 px-4 py-2 bg-red-500/30 rounded-lg text-sm font-medium hover:bg-red-500/40 transition-colors",children:"Try Again"})]})]},"generating"),"complete"===w&&K?.finalVideoUrl&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500/20 rounded-full text-green-400 mb-4",children:[(0,b.jsx)(n.Check,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Video complete!"})]}),(0,b.jsx)("h2",{className:"text-2xl font-bold",children:y})]}),(0,b.jsx)("div",{className:"aspect-video rounded-xl overflow-hidden bg-black",children:(0,b.jsx)("video",{src:K.finalVideoUrl,controls:!0,className:"w-full h-full",poster:C||void 0})}),K.script&&(0,b.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,b.jsx)("p",{className:"text-sm text-white/40 mb-2",children:"Generated Script"}),(0,b.jsx)("p",{className:"text-sm text-white/80 whitespace-pre-wrap",children:K.script})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("a",{href:K.finalVideoUrl,download:`talking-video-${Date.now()}.mp4`,className:"flex-1 flex items-center justify-center gap-2 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl font-semibold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[(0,b.jsx)(k.Download,{className:"w-5 h-5"}),"Download"]}),(0,b.jsx)("button",{onClick:O,className:"px-6 py-4 bg-white/10 rounded-xl font-medium hover:bg-white/20 transition-colors",children:"New Video"})]})]},"complete")]})]})]})})}a.s(["default",()=>w],463071)}];

//# sourceMappingURL=src_app_video_page_tsx_4a3ea875._.js.map