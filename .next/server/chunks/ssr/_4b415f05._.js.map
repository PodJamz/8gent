{"version":3,"sources":["../../../../src/components/ios/AppFolder.tsx","../../../../src/components/ui/perspective-grid.tsx","../../../../src/components/ios/LockScreen.tsx","../../../../src/components/ios/DraggableAppIcon.tsx","../../../../node_modules/.pnpm/motion-utils%4012.29.2/node_modules/motion-utils/src/wrap.ts","../../../../node_modules/.pnpm/motion-dom%4012.34.0/node_modules/motion-dom/src/animation/GroupAnimation.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/sequence/utils/sort.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/sequence/utils/calc-repeat-duration.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/utils/is-dom-keyframes.ts","../../../../node_modules/.pnpm/motion-dom%4012.34.0/node_modules/motion-dom/src/animation/GroupAnimationWithThen.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/utils/create-visual-element.ts","../../../../node_modules/.pnpm/motion-dom%4012.34.0/node_modules/motion-dom/src/render/object/ObjectVisualElement.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/sequence/utils/edit.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/animate/resolve-subjects.ts","../../../../node_modules/.pnpm/motion-utils%4012.29.2/node_modules/motion-utils/src/easing/utils/get-easing-for-segment.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/sequence/utils/calc-time.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/animate/sequence.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/animate/index.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/sequence/utils/normalize-times.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/animate/subject.ts","../../../../node_modules/.pnpm/framer-motion%4012.34.0_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/framer-motion/src/animation/sequence/create.ts","../../../../src/components/watch/WorldClockView.tsx","../../../../src/components/watch/TimezoneDetailModal.tsx","../../../../src/components/ios/StatusBarWatch.tsx","../../../../src/components/ios/DynamicIsland.tsx","../../../../src/components/ios/IOSHome.tsx","../../../../src/components/ios/Desktop.tsx","../../../../src/components/ios/index.ts"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback, useState, useEffect, useMemo } from 'react';\nimport { motion, AnimatePresence, useMotionValue, animate, PanInfo } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\nimport { useHomeScreen, FolderItem, AppItem } from '@/context/HomeScreenContext';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\nimport { X, Pencil } from 'lucide-react';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { DraggableAppIcon } from './DraggableAppIcon';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface AppFolderProps {\n  folder: FolderItem;\n  index: number;\n  delay?: number;\n}\n\n// Long press duration (ms) to enter edit mode\nconst LONG_PRESS_DURATION = 500;\n\nexport function AppFolder({ folder, index, delay = 0 }: AppFolderProps) {\n  const folderRef = useRef<HTMLDivElement>(null);\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isDraggingRef = useRef(false);\n  const [isRenaming, setIsRenaming] = useState(false);\n  const [folderName, setFolderName] = useState(folder.name);\n\n  const {\n    isEditMode,\n    enterEditMode,\n    openFolderId,\n    openFolder,\n    closeFolder,\n    renameFolder,\n    removeFromFolder,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n  } = useHomeScreen();\n\n  const { getUnreadCountForApp, markAppNotificationsRead } = useSessionBrain();\n\n  const isOpen = openFolderId === folder.id;\n  const isDragging = dragState.isDragging && dragState.draggedIndex === index;\n  const isDropTarget = dragState.dropTargetIndex === index && !isDragging;\n\n  // Calculate total notification count for folder\n  const folderNotificationCount = useMemo(() => {\n    return folder.apps.reduce((count, app) => count + getUnreadCountForApp(app.id), 0);\n  }, [folder.apps, getUnreadCountForApp]);\n\n  // Mark notifications as read when opening an app\n  const handleAppOpen = useCallback((appId: string) => {\n    markAppNotificationsRead(appId);\n  }, [markAppNotificationsRead]);\n\n  // Motion values for drag\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const scale = useMotionValue(1);\n  const zIndex = useMotionValue(0);\n\n  // Reset position when not dragging\n  useEffect(() => {\n    if (!isDragging) {\n      animate(x, 0, springs.tight);\n      animate(y, 0, springs.tight);\n      animate(scale, 1, springs.tight);\n      zIndex.set(0);\n    }\n  }, [isDragging, x, y, scale, zIndex]);\n\n  // Long press handler\n  const handleLongPressStart = useCallback(() => {\n    longPressTimerRef.current = setTimeout(() => {\n      if (!isDraggingRef.current && !isOpen) {\n        enterEditMode();\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }, LONG_PRESS_DURATION);\n  }, [enterEditMode, isOpen]);\n\n  const handleLongPressEnd = useCallback(() => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Handle folder open\n  const handleFolderTap = useCallback(() => {\n    if (isEditMode || isDraggingRef.current) return;\n    openFolder(folder.id);\n  }, [isEditMode, folder.id, openFolder]);\n\n  // Handle rename\n  const handleRenameSubmit = useCallback(() => {\n    renameFolder(folder.id, folderName);\n    setIsRenaming(false);\n  }, [folder.id, folderName, renameFolder]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || isOpen) return;\n\n    isDraggingRef.current = true;\n    handleLongPressEnd();\n\n    zIndex.set(100);\n    animate(scale, 1.1, springs.snappy);\n\n    startDrag({ type: 'folder', item: folder }, index, { x: info.point.x, y: info.point.y });\n  }, [isEditMode, isOpen, folder, index, startDrag, handleLongPressEnd, scale, zIndex]);\n\n  const handleDrag = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || !dragState.isDragging) return;\n\n    updateDragPosition({ x: info.point.x, y: info.point.y });\n\n    if (folderRef.current) {\n      const gridContainer = folderRef.current.closest('.app-grid-container');\n      if (gridContainer) {\n        const icons = gridContainer.querySelectorAll('.app-icon-wrapper, .folder-wrapper');\n        let closestIndex = -1;\n        let closestDistance = Infinity;\n\n        icons.forEach((icon, i) => {\n          if (i === index) return;\n          const rect = icon.getBoundingClientRect();\n          const center = { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 };\n          const distance = Math.hypot(info.point.x - center.x, info.point.y - center.y);\n\n          if (distance < closestDistance && distance < 80) {\n            closestDistance = distance;\n            closestIndex = i;\n          }\n        });\n\n        setDropTarget(closestIndex >= 0 ? closestIndex : null);\n      }\n    }\n  }, [isEditMode, dragState.isDragging, index, updateDragPosition, setDropTarget]);\n\n  const handleDragEnd = useCallback(() => {\n    isDraggingRef.current = false;\n    animate(scale, 1, springs.snappy);\n    zIndex.set(0);\n    endDrag();\n  }, [endDrag, scale, zIndex]);\n\n  // Preview icons (show up to 4 in a 2x2 grid)\n  const previewApps = folder.apps.slice(0, 4);\n\n  // Use CSS class for wiggle animation to avoid Framer Motion type issues\n  const shouldWiggle = isEditMode && !isDragging && !isOpen;\n\n  return (\n    <>\n      <motion.div\n        ref={folderRef}\n        className={`folder-wrapper flex flex-col items-center gap-2 relative ${\n          shouldWiggle ? (index % 2 === 0 ? 'animate-ios-wiggle' : 'animate-ios-wiggle-alt') : ''\n        }`}\n        initial={{ opacity: 0, scale: 0.5, y: 20 }}\n        animate={{\n          opacity: dragState.isDragging && dragState.draggedIndex !== index && isDropTarget ? 0.5 : 1,\n          scale: 1,\n          y: 0,\n        }}\n        transition={{\n          delay,\n          ...springs.snappy,\n        }}\n        style={{\n          x: isDragging ? x : 0,\n          y: isDragging ? y : 0,\n          scale,\n          zIndex,\n        }}\n        drag={isEditMode && !isOpen}\n        dragMomentum={motionConfig.drag.momentum}\n        dragElastic={motionConfig.drag.elastic}\n        onDragStart={handleDragStart}\n        onDrag={handleDrag}\n        onDragEnd={handleDragEnd}\n        onPointerDown={handleLongPressStart}\n        onPointerUp={handleLongPressEnd}\n        onPointerCancel={handleLongPressEnd}\n        whileHover={!isEditMode && !isOpen ? { scale: 1.05 } : undefined}\n        whileTap={!isEditMode && !isOpen ? { scale: 0.95 } : undefined}\n      >\n        {/* Delete button in edit mode */}\n        {isEditMode && !isOpen && (\n          <motion.button\n            className=\"absolute -top-1 -left-1 z-20 w-6 h-6 bg-black/70 rounded-full flex items-center justify-center border border-white/20\"\n            initial={{ opacity: 0, scale: 0 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0 }}\n            onClick={(e) => {\n              e.stopPropagation();\n              // Could implement delete folder functionality\n            }}\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.9 }}\n          >\n            <X className=\"w-3 h-3 text-white\" />\n          </motion.button>\n        )}\n\n        {/* Notification badge for folder */}\n        <AnimatePresence>\n          {folderNotificationCount > 0 && !isEditMode && (\n            <motion.div\n              className=\"absolute -top-1 -right-1 z-20 min-w-[18px] h-[18px] px-1 bg-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30\"\n              initial={{ scale: 0, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0, opacity: 0 }}\n              transition={springs.tight}\n            >\n              {/* Pulse ring */}\n              <motion.div\n                className=\"absolute inset-0 bg-red-500 rounded-full\"\n                animate={{\n                  scale: [1, 1.5, 1],\n                  opacity: [0.5, 0, 0.5],\n                }}\n                transition={{\n                  duration: 1.2,\n                  repeat: Infinity,\n                  ease: 'easeOut',\n                }}\n              />\n              <span className=\"relative text-[10px] font-bold text-white\">\n                {folderNotificationCount > 99 ? '99+' : folderNotificationCount}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Drop target indicator */}\n        {isDropTarget && (\n          <motion.div\n            className=\"absolute inset-0 rounded-[22px] border-2 border-white/50 bg-white/10\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n          />\n        )}\n\n        {/* Folder icon - shows 2x2 preview of apps */}\n        <div\n          onClick={handleFolderTap}\n          className=\"block cursor-pointer\"\n        >\n          <motion.div\n            className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden backdrop-blur-xl bg-white/10 border border-white/20\"\n            animate={{\n              boxShadow: isDragging\n                ? '0 25px 50px -12px rgba(0, 0, 0, 0.5)'\n                : isDropTarget\n                  ? '0 0 20px rgba(255, 255, 255, 0.3)'\n                  : '0 10px 15px -3px rgba(0, 0, 0, 0.3)',\n            }}\n          >\n            {/* 2x2 Preview grid */}\n            <div className=\"grid grid-cols-2 gap-1 p-2\">\n              {previewApps.map((app, i) => (\n                <div\n                  key={app.id}\n                  className=\"w-5 h-5 sm:w-6 sm:h-6 rounded-md overflow-hidden relative\"\n                  style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n                >\n                  {app.imageUrl ? (\n                    <img\n                      src={app.imageUrl}\n                      alt={app.name}\n                      className=\"w-full h-full object-cover\"\n                      draggable={false}\n                    />\n                  ) : (\n                    <>\n                      <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent\" />\n                      {app.icon && (\n                        <div className=\"absolute inset-0 flex items-center justify-center text-white scale-[0.45]\">\n                          {app.icon}\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              ))}\n              {/* Empty slots */}\n              {Array.from({ length: 4 - previewApps.length }).map((_, i) => (\n                <div\n                  key={`empty-${i}`}\n                  className=\"w-5 h-5 sm:w-6 sm:h-6 rounded-md bg-white/5\"\n                />\n              ))}\n            </div>\n          </motion.div>\n        </div>\n\n        {/* Folder name */}\n        {isRenaming ? (\n          <input\n            type=\"text\"\n            value={folderName}\n            onChange={(e) => setFolderName(e.target.value)}\n            onBlur={handleRenameSubmit}\n            onKeyDown={(e) => e.key === 'Enter' && handleRenameSubmit()}\n            className=\"text-white/90 text-xs font-medium text-center max-w-[72px] bg-transparent border border-white/30 rounded px-1 py-0.5 outline-none\"\n            autoFocus\n          />\n        ) : (\n          <span\n            className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate select-none\"\n            onClick={(e) => {\n              if (isEditMode) {\n                e.stopPropagation();\n                setIsRenaming(true);\n              }\n            }}\n          >\n            {folder.name}\n          </span>\n        )}\n      </motion.div>\n\n      {/* Expanded folder overlay */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            className=\"fixed inset-0 z-50 flex items-center justify-center\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={springs.smooth}\n            onClick={closeFolder}\n          >\n            {/* Backdrop blur */}\n            <motion.div\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={springs.smooth}\n            />\n\n            {/* Folder content */}\n            <motion.div\n              className=\"relative z-10 w-[90%] max-w-md\"\n              initial={{ scale: 0.5, opacity: 0, y: 50 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.5, opacity: 0, y: 50 }}\n              transition={springs.snappy}\n              onClick={(e) => e.stopPropagation()}\n            >\n              <LiquidGlass\n                variant=\"panel\"\n                intensity=\"medium\"\n                className=\"!p-6\"\n                rippleEffect={false}\n              >\n                {/* Folder header */}\n                <div className=\"flex items-center justify-between mb-6\">\n                  {isRenaming ? (\n                    <input\n                      type=\"text\"\n                      value={folderName}\n                      onChange={(e) => setFolderName(e.target.value)}\n                      onBlur={handleRenameSubmit}\n                      onKeyDown={(e) => e.key === 'Enter' && handleRenameSubmit()}\n                      className=\"text-white text-lg font-semibold bg-transparent border-b border-white/30 outline-none\"\n                      autoFocus\n                    />\n                  ) : (\n                    <h2\n                      className=\"text-white text-lg font-semibold flex items-center gap-2 cursor-pointer group\"\n                      onClick={() => setIsRenaming(true)}\n                    >\n                      {folder.name}\n                      <Pencil className=\"w-4 h-4 opacity-0 group-hover:opacity-50 transition-opacity\" />\n                    </h2>\n                  )}\n                  <button\n                    onClick={closeFolder}\n                    className=\"text-white/50 hover:text-white transition-colors\"\n                  >\n                    <X className=\"w-6 h-6\" />\n                  </button>\n                </div>\n\n                {/* Apps grid inside folder */}\n                <div className=\"grid grid-cols-4 gap-4\">\n                  {folder.apps.map((app, i) => (\n                    <FolderAppIcon\n                      key={app.id}\n                      app={app}\n                      folderId={folder.id}\n                      index={i}\n                      notificationCount={getUnreadCountForApp(app.id)}\n                      onAppOpen={handleAppOpen}\n                    />\n                  ))}\n                </div>\n              </LiquidGlass>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n\n// Simplified app icon inside folder\ninterface FolderAppIconProps {\n  app: AppItem;\n  folderId: string;\n  index: number;\n  notificationCount?: number;\n  onAppOpen?: (appId: string) => void;\n}\n\nfunction FolderAppIcon({ app, folderId, index, notificationCount = 0, onAppOpen }: FolderAppIconProps) {\n  const { isEditMode, removeFromFolder, closeFolder } = useHomeScreen();\n  const router = useRouter();\n\n  const handleTap = useCallback(() => {\n    if (isEditMode) return;\n\n    // Mark notifications as read\n    if (onAppOpen) {\n      onAppOpen(app.id);\n    }\n\n    if (app.external && app.href) {\n      window.open(app.href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    if (app.href && !app.isChat) {\n      closeFolder();\n      router.push(app.href);\n    }\n  }, [app, router, isEditMode, closeFolder, onAppOpen]);\n\n  return (\n    <motion.div\n      className=\"flex flex-col items-center gap-1 relative\"\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ delay: 0.05 }}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n    >\n      {/* Remove button in edit mode */}\n      {isEditMode && (\n        <motion.button\n          className=\"absolute -top-1 -left-1 z-20 w-5 h-5 bg-black/70 rounded-full flex items-center justify-center border border-white/20\"\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          onClick={(e) => {\n            e.stopPropagation();\n            removeFromFolder(folderId, app.id);\n          }}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n        >\n          <X className=\"w-2.5 h-2.5 text-white\" />\n        </motion.button>\n      )}\n\n      {/* Notification badge */}\n      <AnimatePresence>\n        {notificationCount > 0 && !isEditMode && (\n          <motion.div\n            className=\"absolute -top-1 -right-1 z-20 min-w-[16px] h-[16px] px-0.5 bg-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30\"\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={springs.tight}\n          >\n            <span className=\"text-[9px] font-bold text-white\">\n              {notificationCount > 99 ? '99+' : notificationCount}\n            </span>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <div\n        onClick={handleTap}\n        className=\"cursor-pointer\"\n      >\n        <div\n          className=\"w-14 h-14 rounded-[14px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n        >\n          {app.imageUrl ? (\n            <img\n              src={app.imageUrl}\n              alt={app.name}\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n          ) : (\n            <>\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n              <div className=\"relative z-10 text-white scale-90\">\n                {app.icon}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <span className=\"text-white/90 text-[10px] font-medium text-center max-w-[56px] truncate select-none\">\n        {app.name}\n      </span>\n    </motion.div>\n  );\n}\n","'use client';\n\nimport { useRef, useEffect, useCallback } from 'react';\n\ninterface PerspectiveGridProps {\n  className?: string;\n  lineColor?: string;\n  glowColor?: string;\n  vanishY?: number; // 0-1, where 0 is top, 0.5 is middle\n  gridLines?: number;\n  horizontalLines?: number;\n  animated?: boolean;\n}\n\nexport function PerspectiveGrid({\n  className = '',\n  lineColor = 'rgba(255, 255, 255, 0.15)',\n  glowColor = 'rgba(120, 180, 255, 0.3)',\n  vanishY = 0.35,\n  gridLines = 24,\n  horizontalLines = 12,\n  animated = true,\n}: PerspectiveGridProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationRef = useRef<number>(0);\n  const timeRef = useRef(0);\n\n  const draw = useCallback((ctx: CanvasRenderingContext2D, width: number, height: number, time: number) => {\n    ctx.clearRect(0, 0, width, height);\n\n    const vanishX = width / 2;\n    const vanishYPos = height * vanishY;\n\n    // Subtle animation offset\n    const animOffset = animated ? Math.sin(time * 0.0005) * 0.02 : 0;\n    const pulseIntensity = animated ? 0.7 + Math.sin(time * 0.001) * 0.3 : 1;\n\n    // Draw radial lines from vanishing point to bottom edges\n    ctx.strokeStyle = lineColor;\n    ctx.lineWidth = 1;\n\n    // Vertical lines converging to vanishing point\n    for (let i = 0; i <= gridLines; i++) {\n      const t = i / gridLines;\n      const bottomX = width * t;\n\n      ctx.beginPath();\n      ctx.moveTo(vanishX, vanishYPos);\n      ctx.lineTo(bottomX, height);\n      ctx.stroke();\n    }\n\n    // Horizontal lines with perspective spacing (closer together near vanishing point)\n    for (let i = 1; i <= horizontalLines; i++) {\n      const t = i / horizontalLines;\n      // Exponential spacing for perspective effect\n      const perspectiveT = Math.pow(t, 1.8 + animOffset);\n      const y = vanishYPos + (height - vanishYPos) * perspectiveT;\n\n      // Calculate x intersection points with the outer diagonal lines\n      const progress = (y - vanishYPos) / (height - vanishYPos);\n      const leftX = vanishX - (vanishX * progress);\n      const rightX = vanishX + (vanishX * progress);\n\n      ctx.beginPath();\n      ctx.moveTo(leftX, y);\n      ctx.lineTo(rightX, y);\n      ctx.stroke();\n    }\n\n    // Add subtle glow at vanishing point\n    const gradient = ctx.createRadialGradient(\n      vanishX, vanishYPos, 0,\n      vanishX, vanishYPos, height * 0.4\n    );\n    gradient.addColorStop(0, glowColor.replace(/[\\d.]+\\)$/, `${0.4 * pulseIntensity})`));\n    gradient.addColorStop(0.5, glowColor.replace(/[\\d.]+\\)$/, `${0.1 * pulseIntensity})`));\n    gradient.addColorStop(1, 'transparent');\n\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, width, height);\n\n  }, [lineColor, glowColor, vanishY, gridLines, horizontalLines, animated]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const resize = () => {\n      const dpr = Math.min(window.devicePixelRatio, 2);\n      const rect = canvas.getBoundingClientRect();\n      canvas.width = rect.width * dpr;\n      canvas.height = rect.height * dpr;\n      ctx.scale(dpr, dpr);\n      draw(ctx, rect.width, rect.height, timeRef.current);\n    };\n\n    const animate = (time: number) => {\n      timeRef.current = time;\n      const rect = canvas.getBoundingClientRect();\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      const dpr = Math.min(window.devicePixelRatio, 2);\n      ctx.scale(dpr, dpr);\n      draw(ctx, rect.width, rect.height, time);\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    resize();\n\n    if (animated) {\n      animationRef.current = requestAnimationFrame(animate);\n    }\n\n    window.addEventListener('resize', resize);\n\n    return () => {\n      window.removeEventListener('resize', resize);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [draw, animated]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`absolute inset-0 w-full h-full ${className}`}\n      style={{ pointerEvents: 'none' }}\n    />\n  );\n}\n","'use client';\n\nimport { useState, useEffect, useCallback, Suspense } from 'react';\nimport { motion, useMotionValue, useTransform, animate, useReducedMotion, AnimatePresence } from 'framer-motion';\nimport { useMusic } from '@/context/MusicContext';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { PerspectiveGrid } from '@/components/ui/perspective-grid';\nimport { Play, Pause, SkipBack, SkipForward, ChevronUp } from 'lucide-react';\nimport { springs, motionConfig } from '@/components/motion/config';\nimport dynamic from 'next/dynamic';\n\n// Dynamically import 3D tunnel to avoid SSR issues\nconst Tunnel3D = dynamic(\n  () => import('@/components/ui/tunnel-3d').then(mod => ({ default: mod.Tunnel3D })),\n  { ssr: false, loading: () => null }\n);\n\ninterface LockScreenProps {\n  onUnlock: () => void;\n  onBackgroundReady?: () => void;\n  backgroundReady?: boolean;\n}\n\nexport function LockScreen({ onUnlock, onBackgroundReady, backgroundReady = false }: LockScreenProps) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [tunnelMounted, setTunnelMounted] = useState(false);\n  const { currentTrack, isPlaying, currentTime: trackTime, duration, togglePlay, skipToNext, skipToPrevious } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n\n  // Track when tunnel is ready\n  const handleTunnelReady = useCallback(() => {\n    setTunnelMounted(true);\n    onBackgroundReady?.();\n  }, [onBackgroundReady]);\n\n  // Auto-trigger ready for reduced motion users\n  useEffect(() => {\n    if (prefersReducedMotion && !backgroundReady) {\n      onBackgroundReady?.();\n    }\n  }, [prefersReducedMotion, backgroundReady, onBackgroundReady]);\n\n  // Determine if UI should show (background ready or after timeout)\n  const showUI = backgroundReady || tunnelMounted || prefersReducedMotion;\n\n  const y = useMotionValue(0);\n  const opacity = useTransform(y, [-150, 0], [0, 1]);\n  const scale = useTransform(y, [-150, 0], [1.05, 1]);\n  const blur = useTransform(y, [-150, 0], [20, 0]);\n\n  // Update time every second\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: false,\n    });\n  };\n\n  const formatDate = (date: Date) => {\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric',\n    });\n  };\n\n  const formatTrackTime = (time: number) => {\n    if (isNaN(time)) return '0:00';\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const progressPercent = duration ? (trackTime / duration) * 100 : 0;\n\n  const handleDragEnd = useCallback(() => {\n    if (y.get() < -100) {\n      // Trigger unlock with smooth animation\n      animate(y, -300, {\n        ...springs.smooth,\n        onComplete: onUnlock,\n      });\n    } else {\n      // Snap back with snappy spring\n      animate(y, 0, springs.snappy);\n    }\n  }, [y, onUnlock]);\n\n  // Handle tap on bottom area to unlock\n  const handleUnlockTap = useCallback(() => {\n    if (prefersReducedMotion) {\n      // Skip animation for reduced motion\n      onUnlock();\n      return;\n    }\n    animate(y, -300, {\n      ...springs.smooth,\n      onComplete: onUnlock,\n    });\n  }, [y, onUnlock, prefersReducedMotion]);\n\n  const getGreeting = () => {\n    const hour = currentTime.getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 17) return 'Good afternoon';\n    return 'Good evening';\n  };\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 z-50 flex flex-col items-center justify-between overflow-hidden select-none\"\n      style={{\n        opacity,\n        scale,\n        filter: useTransform(blur, (v) => `blur(${v}px)`),\n      }}\n      drag=\"y\"\n      dragConstraints={{ top: -300, bottom: 0 }}\n      dragElastic={motionConfig.drag.elastic}\n      onDragEnd={handleDragEnd}\n      onDrag={(_, info) => {\n        y.set(info.offset.y);\n      }}\n    >\n      {/* 3D Tunnel Background - Loads first, always visible */}\n      {!prefersReducedMotion ? (\n        <Tunnel3D speed={0.4} lineColor=\"#475569\" onReady={handleTunnelReady} />\n      ) : (\n        <>\n          {/* Fallback for reduced motion */}\n          <div className=\"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900 to-indigo-950\" />\n          <PerspectiveGrid\n            lineColor=\"rgba(148, 163, 184, 0.12)\"\n            glowColor=\"rgba(99, 155, 255, 0.25)\"\n            vanishY={0.32}\n            gridLines={28}\n            horizontalLines={14}\n            animated={false}\n          />\n        </>\n      )}\n\n      {/* Subtle vignette overlay for depth */}\n      <div\n        className=\"absolute inset-0 pointer-events-none z-[1]\"\n        style={{\n          background: 'radial-gradient(ellipse at center 40%, transparent 0%, rgba(0,0,0,0.5) 100%)',\n        }}\n      />\n\n      {/* UI Components - Only animate in after background is ready */}\n      <AnimatePresence>\n        {showUI && (\n          <>\n            {/* Top section - Time & Date */}\n            <motion.div\n              className=\"relative z-10 pt-16 sm:pt-20 text-center\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.1, ...springs.smooth }}\n            >\n              <div className=\"text-white/60 text-sm sm:text-base font-medium mb-1\">\n                {formatDate(currentTime)}\n              </div>\n              <div className=\"text-white text-7xl sm:text-8xl md:text-9xl font-thin tracking-tight\">\n                {formatTime(currentTime)}\n              </div>\n            </motion.div>\n\n            {/* Middle section - Profile & Greeting */}\n            <div className=\"relative z-10 flex flex-col items-center\">\n              <motion.div\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 0.2, ...springs.smooth }}\n                className=\"mb-6\"\n              >\n                <div className=\"relative\">\n                  <div className=\"w-24 h-24 sm:w-28 sm:h-28 rounded-full overflow-hidden border-2 border-white/20 shadow-2xl\">\n                    <img\n                      src=\"/8gent-logo.png\"\n                      alt=\"8gent\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  {/* Online indicator */}\n                  <div className=\"absolute bottom-1 right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-slate-900\" />\n                </div>\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.3, ...springs.smooth }}\n                className=\"text-center mb-8\"\n              >\n                <div className=\"text-white/40 text-xs uppercase tracking-widest mb-2\">Welcome to</div>\n                <div className=\"text-white text-2xl sm:text-3xl font-bold tracking-tight\">8gent</div>\n                <div className=\"text-white/50 text-sm mt-2 max-w-[280px] leading-relaxed\">\n                  Your AI-native operating system\n                </div>\n              </motion.div>\n\n              {/* Music Widget */}\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.4, ...springs.smooth }}\n              >\n                <LiquidGlass\n                  variant=\"card\"\n                  intensity=\"subtle\"\n                  className=\"w-[320px] sm:w-[360px] !p-4\"\n                  rippleEffect={false}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    {/* Album Art */}\n                    <div className=\"w-14 h-14 rounded-xl bg-white/10 flex-shrink-0 overflow-hidden\">\n                      {currentTrack.albumArt ? (\n                        <img\n                          src={currentTrack.albumArt}\n                          alt={currentTrack.album}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-2xl\">\n                          ðŸŽµ\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Track Info & Controls */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-white font-medium text-sm truncate\">\n                        {currentTrack.title}\n                      </div>\n                      <div className=\"text-white/50 text-xs truncate mb-2\">\n                        {currentTrack.artist}\n                      </div>\n\n                      {/* Progress Bar */}\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-[10px] text-white/40 w-8\">\n                          {formatTrackTime(trackTime)}\n                        </span>\n                        <div className=\"flex-1 h-1 bg-white/10 rounded-full overflow-hidden\">\n                          <div\n                            className=\"h-full bg-white/60 transition-all duration-150\"\n                            style={{ width: `${progressPercent}%` }}\n                          />\n                        </div>\n                        <span className=\"text-[10px] text-white/40 w-8 text-right\">\n                          {formatTrackTime(duration)}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Play Controls */}\n                    <div className=\"flex items-center gap-1\">\n                      <button\n                        onClick={(e) => { e.stopPropagation(); skipToPrevious(); }}\n                        className=\"p-2 text-white/60 hover:text-white transition-colors\"\n                      >\n                        <SkipBack className=\"w-4 h-4\" fill=\"currentColor\" />\n                      </button>\n                      <button\n                        onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n                        className=\"p-2 bg-white/20 rounded-full text-white hover:bg-white/30 transition-colors\"\n                      >\n                        {isPlaying ? (\n                          <Pause className=\"w-5 h-5\" fill=\"currentColor\" />\n                        ) : (\n                          <Play className=\"w-5 h-5\" fill=\"currentColor\" />\n                        )}\n                      </button>\n                      <button\n                        onClick={(e) => { e.stopPropagation(); skipToNext(); }}\n                        className=\"p-2 text-white/60 hover:text-white transition-colors\"\n                      >\n                        <SkipForward className=\"w-4 h-4\" fill=\"currentColor\" />\n                      </button>\n                    </div>\n                  </div>\n                </LiquidGlass>\n              </motion.div>\n            </div>\n\n            {/* Bottom section - Unlock hint (tappable) */}\n            <motion.div\n              className=\"relative z-10 pb-12 sm:pb-16 text-center cursor-pointer\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.5, ...springs.smooth }}\n              onClick={handleUnlockTap}\n              whileTap={{ scale: 0.95 }}\n              style={{ paddingTop: '60px', marginTop: '-60px' }} // Larger tap target\n            >\n              <motion.div\n                animate={prefersReducedMotion ? {} : { y: [0, -8, 0] }}\n                transition={{ repeat: Infinity, duration: 2, ease: 'easeInOut' }}\n                className=\"flex flex-col items-center text-white/40\"\n              >\n                <ChevronUp className=\"w-6 h-6 mb-1\" />\n                <span className=\"text-sm font-medium\">Swipe to begin your journey</span>\n              </motion.div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n","'use client';\n\nimport { useRef, useCallback, useState, useEffect } from 'react';\nimport type React from 'react';\nimport { motion, useMotionValue, animate, PanInfo, AnimatePresence } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\nimport { useHomeScreen, AppItem } from '@/context/HomeScreenContext';\nimport { X } from 'lucide-react';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface DraggableAppIconProps {\n  app: AppItem;\n  index: number;\n  delay?: number;\n  onClick?: () => void;\n  notificationCount?: number;\n  onAppOpen?: (appId: string) => void;\n  /** Tab index for keyboard navigation */\n  tabIndex?: number;\n  /** Focus handler for roving tabindex */\n  onFocus?: () => void;\n}\n\n// Store transition origin for page animations\nexport const APP_TRANSITION_KEY = 'openclaw_appTransition';\n\n// Long press duration (ms) to enter edit mode\nconst LONG_PRESS_DURATION = 500;\n\nexport function DraggableAppIcon({\n  app,\n  index,\n  delay = 0,\n  onClick,\n  notificationCount = 0,\n  onAppOpen,\n  tabIndex = 0,\n  onFocus,\n}: DraggableAppIconProps) {\n  const iconRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isDraggingRef = useRef(false);\n\n  const {\n    isEditMode,\n    enterEditMode,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n    gridItems,\n  } = useHomeScreen();\n\n  // Motion values for drag\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const scale = useMotionValue(1);\n  const zIndex = useMotionValue(0);\n\n  // Derived values\n  const isDragging = dragState.isDragging && dragState.draggedIndex === index;\n  const isDropTarget = dragState.dropTargetIndex === index && !isDragging;\n\n  // Reset position when not dragging\n  useEffect(() => {\n    if (!isDragging) {\n      animate(x, 0, springs.tight);\n      animate(y, 0, springs.tight);\n      animate(scale, 1, springs.tight);\n      zIndex.set(0);\n    }\n  }, [isDragging, x, y, scale, zIndex]);\n\n  // Long press handler to enter edit mode\n  const handleLongPressStart = useCallback(() => {\n    longPressTimerRef.current = setTimeout(() => {\n      if (!isDraggingRef.current) {\n        enterEditMode();\n        // Haptic feedback if available\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }, LONG_PRESS_DURATION);\n  }, [enterEditMode]);\n\n  const handleLongPressEnd = useCallback(() => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Handle tap/click\n  const handleTap = useCallback((e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault();\n\n    // Don't navigate if in edit mode or currently dragging\n    if (isEditMode || isDraggingRef.current) return;\n\n    // Mark notifications as read when opening app\n    if (onAppOpen) {\n      onAppOpen(app.id);\n    }\n\n    // Custom onClick handler (e.g., for 8gent chat)\n    if (onClick) {\n      onClick();\n      return;\n    }\n\n    // External links open in new tab\n    if (app.external && app.href) {\n      window.open(app.href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Internal navigation with transition\n    if (app.href && !app.isChat) {\n      if (iconRef.current) {\n        const rect = iconRef.current.getBoundingClientRect();\n        const transitionData = {\n          x: rect.left + rect.width / 2,\n          y: rect.top + rect.height / 2,\n          width: rect.width,\n          height: rect.height,\n          gradient: app.gradient,\n          timestamp: Date.now(),\n        };\n        sessionStorage.setItem(APP_TRANSITION_KEY, JSON.stringify(transitionData));\n      }\n      router.push(app.href);\n    }\n  }, [app, router, onClick, isEditMode, onAppOpen]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode) return;\n\n    isDraggingRef.current = true;\n    handleLongPressEnd();\n\n    zIndex.set(100);\n    animate(scale, 1.1, springs.snappy);\n\n    const offset = {\n      x: info.point.x,\n      y: info.point.y,\n    };\n\n    startDrag({ type: 'app', item: app }, index, offset);\n  }, [isEditMode, app, index, startDrag, handleLongPressEnd, scale, zIndex]);\n\n  const handleDrag = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || !dragState.isDragging) return;\n\n    updateDragPosition({ x: info.point.x, y: info.point.y });\n\n    // Calculate which grid position we're over\n    if (iconRef.current) {\n      const iconCenter = {\n        x: info.point.x,\n        y: info.point.y,\n      };\n\n      // Find potential drop target\n      const gridContainer = iconRef.current.closest('.app-grid-container');\n      if (gridContainer) {\n        const icons = gridContainer.querySelectorAll('.app-icon-wrapper');\n        let closestIndex = -1;\n        let closestDistance = Infinity;\n\n        icons.forEach((icon, i) => {\n          if (i === index) return; // Skip self\n\n          const rect = icon.getBoundingClientRect();\n          const center = {\n            x: rect.left + rect.width / 2,\n            y: rect.top + rect.height / 2,\n          };\n\n          const distance = Math.hypot(iconCenter.x - center.x, iconCenter.y - center.y);\n\n          if (distance < closestDistance && distance < 80) {\n            closestDistance = distance;\n            closestIndex = i;\n          }\n        });\n\n        setDropTarget(closestIndex >= 0 ? closestIndex : null);\n      }\n    }\n  }, [isEditMode, dragState.isDragging, index, updateDragPosition, setDropTarget]);\n\n  const handleDragEnd = useCallback(() => {\n    isDraggingRef.current = false;\n    animate(scale, 1, springs.snappy);\n    zIndex.set(0);\n    endDrag();\n  }, [endDrag, scale, zIndex]);\n\n  // Mouse/Touch event handlers\n  const handlePointerDown = useCallback((e: React.PointerEvent) => {\n    handleLongPressStart();\n  }, [handleLongPressStart]);\n\n  const handlePointerUp = useCallback(() => {\n    handleLongPressEnd();\n  }, [handleLongPressEnd]);\n\n  const handlePointerCancel = useCallback(() => {\n    handleLongPressEnd();\n  }, [handleLongPressEnd]);\n\n  // Use CSS class for wiggle animation to avoid Framer Motion type issues\n  const shouldWiggle = isEditMode && !isDragging;\n\n  // Handle keyboard activation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (!isEditMode) {\n        handleTap(e as unknown as React.MouseEvent);\n      }\n    }\n  }, [isEditMode, handleTap]);\n\n  return (\n    <motion.div\n      className={`app-icon-wrapper flex flex-col items-center gap-2 relative ${shouldWiggle ? (index % 2 === 0 ? 'animate-ios-wiggle' : 'animate-ios-wiggle-alt') : ''\n        }`}\n      initial={{ opacity: 0, scale: 0.5, y: 20 }}\n      animate={{\n        opacity: dragState.isDragging && dragState.draggedIndex !== index && isDropTarget ? 0.5 : 1,\n        scale: 1,\n        y: 0,\n      }}\n      transition={{\n        delay,\n        ...springs.snappy,\n      }}\n      style={{\n        x: isDragging ? x : 0,\n        y: isDragging ? y : 0,\n        scale,\n        zIndex,\n      }}\n      drag={isEditMode}\n      dragMomentum={motionConfig.drag.momentum}\n      dragElastic={motionConfig.drag.elastic}\n      onDragStart={handleDragStart}\n      onDrag={handleDrag}\n      onDragEnd={handleDragEnd}\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n      onPointerCancel={handlePointerCancel}\n      whileHover={!isEditMode ? { scale: 1.05 } : undefined}\n      whileTap={!isEditMode ? { scale: 0.95 } : undefined}\n      tabIndex={tabIndex}\n      onFocus={onFocus}\n      onKeyDown={handleKeyDown}\n      role=\"gridcell\"\n      aria-label={`${app.name}${notificationCount > 0 ? `, ${notificationCount} notifications` : ''}`}\n      data-app-icon\n    >\n      {/* Delete button in edit mode */}\n      {isEditMode && (\n        <motion.button\n          className=\"absolute -top-1 -left-1 z-20 w-6 h-6 bg-black/70 rounded-full flex items-center justify-center border border-white/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0 }}\n          onClick={(e) => {\n            e.stopPropagation();\n            // Could implement remove functionality here\n          }}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n          aria-label={`Remove ${app.name}`}\n        >\n          <X className=\"w-3 h-3 text-white\" aria-hidden=\"true\" />\n        </motion.button>\n      )}\n\n      {/* Notification badge */}\n      <AnimatePresence>\n        {notificationCount > 0 && !isEditMode && (\n          <motion.div\n            className=\"absolute -top-1 -right-1 z-20 min-w-[18px] h-[18px] px-1 bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-red-500/30\"\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={springs.tight}\n          >\n            {notificationCount > 99 ? '99+' : notificationCount}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Drop target indicator */}\n      {isDropTarget && (\n        <motion.div\n          className=\"absolute inset-0 rounded-[22px] border-2 border-white/50 bg-white/10\"\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          layoutId=\"drop-indicator\"\n        />\n      )}\n\n      <div\n        ref={iconRef}\n        onClick={handleTap}\n        className=\"block cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent rounded-[20px]\"\n      >\n        <motion.div\n          className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n          animate={{\n            boxShadow: isDragging\n              ? '0 25px 50px -12px rgba(0, 0, 0, 0.5)'\n              : isDropTarget\n                ? '0 0 20px rgba(255, 255, 255, 0.3)'\n                : '0 10px 15px -3px rgba(0, 0, 0, 0.3)',\n          }}\n        >\n          {app.imageUrl ? (\n            <img\n              src={app.imageUrl}\n              alt={app.name}\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n          ) : (\n            <>\n              {/* Glass overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n\n              {/* Icon */}\n              <div className=\"relative z-10 text-white\">\n                {app.icon}\n              </div>\n            </>\n          )}\n        </motion.div>\n      </div>\n      <span className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate select-none\">\n        {app.name}\n      </span>\n    </motion.div>\n  );\n}\n","export const wrap = (min: number, max: number, v: number) => {\n    const rangeSize = max - min\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min\n}\n","import { AnimationPlaybackControls, TimelineWithFallback } from \"./types\"\n\ntype PropNames =\n    | \"time\"\n    | \"speed\"\n    | \"duration\"\n    | \"attachTimeline\"\n    | \"startTime\"\n    | \"state\"\n\nexport type AcceptedAnimations = AnimationPlaybackControls\n\nexport type GroupedAnimations = AcceptedAnimations[]\n\nexport class GroupAnimation implements AnimationPlaybackControls {\n    animations: GroupedAnimations\n\n    constructor(animations: Array<AcceptedAnimations | undefined>) {\n        this.animations = animations.filter(Boolean) as GroupedAnimations\n    }\n\n    get finished() {\n        return Promise.all(\n            this.animations.map((animation) => animation.finished)\n        )\n    }\n\n    /**\n     * TODO: Filter out cancelled or stopped animations before returning\n     */\n    private getAll(propName: PropNames) {\n        return this.animations[0][propName] as any\n    }\n\n    private setAll(propName: PropNames, newValue: any) {\n        for (let i = 0; i < this.animations.length; i++) {\n            ;(this.animations[i][propName] as any) = newValue\n        }\n    }\n\n    attachTimeline(timeline: TimelineWithFallback) {\n        const subscriptions = this.animations.map((animation) =>\n            animation.attachTimeline(timeline)\n        )\n\n        return () => {\n            subscriptions.forEach((cancel, i) => {\n                cancel && cancel()\n                this.animations[i].stop()\n            })\n        }\n    }\n\n    get time() {\n        return this.getAll(\"time\")\n    }\n\n    set time(time: number) {\n        this.setAll(\"time\", time)\n    }\n\n    get speed() {\n        return this.getAll(\"speed\")\n    }\n\n    set speed(speed: number) {\n        this.setAll(\"speed\", speed)\n    }\n\n    get state() {\n        return this.getAll(\"state\")\n    }\n\n    get startTime() {\n        return this.getAll(\"startTime\")\n    }\n\n    get duration() {\n        return getMax(this.animations, \"duration\")\n    }\n\n    get iterationDuration() {\n        return getMax(this.animations, \"iterationDuration\")\n    }\n\n    private runAll(\n        methodName: keyof Omit<\n            AnimationPlaybackControls,\n            PropNames | \"then\" | \"finished\" | \"iterationDuration\"\n        >\n    ) {\n        this.animations.forEach((controls) => controls[methodName]())\n    }\n\n    play() {\n        this.runAll(\"play\")\n    }\n\n    pause() {\n        this.runAll(\"pause\")\n    }\n\n    // Bound to accomadate common `return animation.stop` pattern\n    stop = () => this.runAll(\"stop\")\n\n    cancel() {\n        this.runAll(\"cancel\")\n    }\n\n    complete() {\n        this.runAll(\"complete\")\n    }\n}\n\nfunction getMax(\n    animations: GroupedAnimations,\n    propName: \"iterationDuration\" | \"duration\"\n): number {\n    let max = 0\n\n    for (let i = 0; i < animations.length; i++) {\n        const value = animations[i][propName]\n        if (value !== null && value > max) {\n            max = value\n        }\n    }\n    return max\n}\n","import { AbsoluteKeyframe } from \"../types\"\n\nexport function compareByTime(\n    a: AbsoluteKeyframe,\n    b: AbsoluteKeyframe\n): number {\n    if (a.at === b.at) {\n        if (a.value === null) return 1\n        if (b.value === null) return -1\n        return 0\n    } else {\n        return a.at - b.at\n    }\n}\n","export function calculateRepeatDuration(\n    duration: number,\n    repeat: number,\n    _repeatDelay: number\n): number {\n    return duration * (repeat + 1)\n}\n","import { DOMKeyframesDefinition } from \"motion-dom\"\n\nexport function isDOMKeyframes(\n    keyframes: unknown\n): keyframes is DOMKeyframesDefinition {\n    return typeof keyframes === \"object\" && !Array.isArray(keyframes)\n}\n","import { GroupAnimation } from \"./GroupAnimation\"\nimport { AnimationPlaybackControlsWithThen } from \"./types\"\n\nexport class GroupAnimationWithThen\n    extends GroupAnimation\n    implements AnimationPlaybackControlsWithThen\n{\n    then(onResolve: VoidFunction, _onReject?: VoidFunction) {\n        return this.finished.finally(onResolve).then(() => {})\n    }\n}\n","import {\n    HTMLVisualElement,\n    isSVGElement,\n    isSVGSVGElement,\n    ObjectVisualElement,\n    SVGVisualElement,\n    visualElementStore,\n} from \"motion-dom\"\n\nexport function createDOMVisualElement(element: HTMLElement | SVGElement) {\n    const options = {\n        presenceContext: null,\n        props: {},\n        visualState: {\n            renderState: {\n                transform: {},\n                transformOrigin: {},\n                style: {},\n                vars: {},\n                attrs: {},\n            },\n            latestValues: {},\n        },\n    }\n    const node =\n        isSVGElement(element) && !isSVGSVGElement(element)\n            ? new SVGVisualElement(options)\n            : new HTMLVisualElement(options)\n\n    node.mount(element as any)\n\n    visualElementStore.set(element, node)\n}\n\nexport function createObjectVisualElement(subject: Object) {\n    const options = {\n        presenceContext: null,\n        props: {},\n        visualState: {\n            renderState: {\n                output: {},\n            },\n            latestValues: {},\n        },\n    }\n    const node = new ObjectVisualElement(options)\n\n    node.mount(subject)\n\n    visualElementStore.set(subject, node)\n}\n","import { createBox } from \"../../projection/geometry/models\"\nimport { ResolvedValues } from \"../types\"\nimport { VisualElement } from \"../VisualElement\"\n\ninterface ObjectRenderState {\n    output: ResolvedValues\n}\n\nfunction isObjectKey(key: string, object: Object): key is keyof Object {\n    return key in object\n}\n\nexport class ObjectVisualElement extends VisualElement<\n    Object,\n    ObjectRenderState\n> {\n    type = \"object\"\n\n    readValueFromInstance(instance: Object, key: string) {\n        if (isObjectKey(key, instance)) {\n            const value = instance[key]\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                return value\n            }\n        }\n\n        return undefined\n    }\n\n    getBaseTargetFromProps() {\n        return undefined\n    }\n\n    removeValueFromRenderState(\n        key: string,\n        renderState: ObjectRenderState\n    ): void {\n        delete renderState.output[key]\n    }\n\n    measureInstanceViewportBox() {\n        return createBox()\n    }\n\n    build(renderState: ObjectRenderState, latestValues: ResolvedValues) {\n        Object.assign(renderState.output, latestValues)\n    }\n\n    renderInstance(instance: Object, { output }: ObjectRenderState) {\n        Object.assign(instance, output)\n    }\n\n    sortInstanceNodePosition() {\n        return 0\n    }\n}\n","import { mixNumber, UnresolvedValueKeyframe } from \"motion-dom\"\nimport { Easing, getEasingForSegment, removeItem } from \"motion-utils\"\nimport type { ValueSequence } from \"../types\"\n\nexport function eraseKeyframes(\n    sequence: ValueSequence,\n    startTime: number,\n    endTime: number\n): void {\n    for (let i = 0; i < sequence.length; i++) {\n        const keyframe = sequence[i]\n\n        if (keyframe.at > startTime && keyframe.at < endTime) {\n            removeItem(sequence, keyframe)\n\n            // If we remove this item we have to push the pointer back one\n            i--\n        }\n    }\n}\n\nexport function addKeyframes(\n    sequence: ValueSequence,\n    keyframes: UnresolvedValueKeyframe[],\n    easing: Easing | Easing[],\n    offset: number[],\n    startTime: number,\n    endTime: number\n): void {\n    /**\n     * Erase every existing value between currentTime and targetTime,\n     * this will essentially splice this timeline into any currently\n     * defined ones.\n     */\n    eraseKeyframes(sequence, startTime, endTime)\n\n    for (let i = 0; i < keyframes.length; i++) {\n        sequence.push({\n            value: keyframes[i],\n            at: mixNumber(startTime, endTime, offset[i]),\n            easing: getEasingForSegment(easing, i),\n        })\n    }\n}\n","import {\n    AnimationScope,\n    DOMKeyframesDefinition,\n    SelectorCache,\n    resolveElements,\n} from \"motion-dom\"\nimport { ObjectTarget } from \"../sequence/types\"\nimport { isDOMKeyframes } from \"../utils/is-dom-keyframes\"\n\nexport function resolveSubjects<O extends {}>(\n    subject:\n        | string\n        | Element\n        | Element[]\n        | NodeListOf<Element>\n        | O\n        | O[]\n        | null\n        | undefined,\n    keyframes: DOMKeyframesDefinition | ObjectTarget<O>,\n    scope?: AnimationScope,\n    selectorCache?: SelectorCache\n) {\n    if (subject == null) {\n        return []\n    }\n\n    if (typeof subject === \"string\" && isDOMKeyframes(keyframes)) {\n        return resolveElements(subject, scope, selectorCache)\n    } else if (subject instanceof NodeList) {\n        return Array.from(subject)\n    } else if (Array.isArray(subject)) {\n        return subject.filter((s) => s != null)\n    } else {\n        return [subject]\n    }\n}\n","import { wrap } from \"../../wrap\"\nimport { Easing } from \"../types\"\nimport { isEasingArray } from \"./is-easing-array\"\n\nexport function getEasingForSegment(\n    easing: Easing | Easing[],\n    i: number\n): Easing {\n    return isEasingArray(easing) ? easing[wrap(0, easing.length, i)] : easing\n}\n","import { SequenceTime } from \"../types\"\n\n/**\n * Given a absolute or relative time definition and current/prev time state of the sequence,\n * calculate an absolute time for the next keyframes.\n */\nexport function calcNextTime(\n    current: number,\n    next: SequenceTime,\n    prev: number,\n    labels: Map<string, number>\n): number {\n    if (typeof next === \"number\") {\n        return next\n    } else if (next.startsWith(\"-\") || next.startsWith(\"+\")) {\n        return Math.max(0, current + parseFloat(next))\n    } else if (next === \"<\") {\n        return prev\n    } else if (next.startsWith(\"<\")) {\n        return Math.max(0, prev + parseFloat(next.slice(1)))\n    } else {\n        return labels.get(next) ?? current\n    }\n}\n","import {\n    AnimationPlaybackControlsWithThen,\n    AnimationScope,\n    motionValue,\n    spring,\n} from \"motion-dom\"\nimport { createAnimationsFromSequence } from \"../sequence/create\"\nimport { AnimationSequence, SequenceOptions } from \"../sequence/types\"\nimport { animateSubject } from \"./subject\"\n\nexport function animateSequence(\n    sequence: AnimationSequence,\n    options?: SequenceOptions,\n    scope?: AnimationScope\n) {\n    const animations: AnimationPlaybackControlsWithThen[] = []\n\n    /**\n     * Pre-process: replace function segments with MotionValue segments,\n     * subscribe callbacks immediately\n     */\n    const processedSequence = sequence.map((segment) => {\n        if (Array.isArray(segment) && typeof segment[0] === \"function\") {\n            const callback = segment[0] as (value: any) => void\n            const mv = motionValue(0)\n            mv.on(\"change\", callback)\n\n            if (segment.length === 1) {\n                return [mv, [0, 1]] as any\n            } else if (segment.length === 2) {\n                return [mv, [0, 1], segment[1]] as any\n            } else {\n                return [mv, segment[1], segment[2]] as any\n            }\n        }\n        return segment\n    }) as AnimationSequence\n\n    const animationDefinitions = createAnimationsFromSequence(\n        processedSequence,\n        options,\n        scope,\n        { spring }\n    )\n\n    animationDefinitions.forEach(({ keyframes, transition }, subject) => {\n        animations.push(...animateSubject(subject, keyframes, transition))\n    })\n\n    return animations\n}\n","import type {\n    AnimationPlaybackControlsWithThen,\n    AnimationScope,\n    DOMKeyframesDefinition,\n    AnimationOptions as DynamicAnimationOptions,\n    ElementOrSelector,\n    MotionValue,\n    UnresolvedValueKeyframe,\n    ValueAnimationTransition,\n} from \"motion-dom\"\nimport { GroupAnimationWithThen } from \"motion-dom\"\nimport { removeItem } from \"motion-utils\"\nimport {\n    AnimationSequence,\n    ObjectTarget,\n    SequenceOptions,\n} from \"../sequence/types\"\nimport { animateSequence } from \"./sequence\"\nimport { animateSubject } from \"./subject\"\n\nfunction isSequence(value: unknown): value is AnimationSequence {\n    return Array.isArray(value) && value.some(Array.isArray)\n}\n\ninterface ScopedAnimateOptions {\n    scope?: AnimationScope\n    reduceMotion?: boolean\n}\n\n/**\n * Creates an animation function that is optionally scoped\n * to a specific element.\n */\nexport function createScopedAnimate(options: ScopedAnimateOptions = {}) {\n    const { scope, reduceMotion } = options\n    /**\n     * Animate a sequence\n     */\n    function scopedAnimate(\n        sequence: AnimationSequence,\n        options?: SequenceOptions\n    ): AnimationPlaybackControlsWithThen\n    /**\n     * Animate a string\n     */\n    function scopedAnimate(\n        value: string | MotionValue<string>,\n        keyframes: string | UnresolvedValueKeyframe<string>[],\n        options?: ValueAnimationTransition<string>\n    ): AnimationPlaybackControlsWithThen\n    /**\n     * Animate a number\n     */\n    function scopedAnimate(\n        value: number | MotionValue<number>,\n        keyframes: number | UnresolvedValueKeyframe<number>[],\n        options?: ValueAnimationTransition<number>\n    ): AnimationPlaybackControlsWithThen\n    /**\n     * Animate a generic motion value\n     */\n    function scopedAnimate<V extends string | number>(\n        value: V | MotionValue<V>,\n        keyframes: V | UnresolvedValueKeyframe<V>[],\n        options?: ValueAnimationTransition<V>\n    ): AnimationPlaybackControlsWithThen\n    /**\n     * Animate an Element\n     */\n    function scopedAnimate(\n        element: ElementOrSelector,\n        keyframes: DOMKeyframesDefinition,\n        options?: DynamicAnimationOptions\n    ): AnimationPlaybackControlsWithThen\n    /**\n     * Animate an object\n     */\n    function scopedAnimate<O extends {}>(\n        object: O | O[],\n        keyframes: ObjectTarget<O>,\n        options?: DynamicAnimationOptions\n    ): AnimationPlaybackControlsWithThen\n    /**\n     * Implementation\n     */\n    function scopedAnimate<O extends {}>(\n        subjectOrSequence:\n            | AnimationSequence\n            | MotionValue<number>\n            | MotionValue<string>\n            | number\n            | string\n            | ElementOrSelector\n            | O\n            | O[],\n        optionsOrKeyframes?:\n            | SequenceOptions\n            | number\n            | string\n            | UnresolvedValueKeyframe<number>[]\n            | UnresolvedValueKeyframe<string>[]\n            | DOMKeyframesDefinition\n            | ObjectTarget<O>,\n        options?:\n            | ValueAnimationTransition<number>\n            | ValueAnimationTransition<string>\n            | DynamicAnimationOptions\n    ): AnimationPlaybackControlsWithThen {\n        let animations: AnimationPlaybackControlsWithThen[] = []\n        let animationOnComplete: VoidFunction | undefined\n\n        if (isSequence(subjectOrSequence)) {\n            animations = animateSequence(\n                subjectOrSequence,\n                reduceMotion !== undefined\n                    ? { reduceMotion, ...(optionsOrKeyframes as SequenceOptions) }\n                    : (optionsOrKeyframes as SequenceOptions),\n                scope\n            )\n        } else {\n            // Extract top-level onComplete so it doesn't get applied per-value\n            const { onComplete, ...rest } = options || {}\n            if (typeof onComplete === \"function\") {\n                animationOnComplete = onComplete as VoidFunction\n            }\n            animations = animateSubject(\n                subjectOrSequence as ElementOrSelector,\n                optionsOrKeyframes as DOMKeyframesDefinition,\n                (reduceMotion !== undefined\n                    ? { reduceMotion, ...rest }\n                    : rest) as DynamicAnimationOptions,\n                scope\n            )\n        }\n\n        const animation = new GroupAnimationWithThen(animations)\n\n        if (animationOnComplete) {\n            animation.finished.then(animationOnComplete)\n        }\n\n        if (scope) {\n            scope.animations.push(animation)\n            animation.finished.then(() => {\n                removeItem(scope.animations, animation)\n            })\n        }\n\n        return animation\n    }\n\n    return scopedAnimate\n}\n\nexport const animate = createScopedAnimate()\n","/**\n * Take an array of times that represent repeated keyframes. For instance\n * if we have original times of [0, 0.5, 1] then our repeated times will\n * be [0, 0.5, 1, 1, 1.5, 2]. Loop over the times and scale them back\n * down to a 0-1 scale.\n */\nexport function normalizeTimes(times: number[], repeat: number): void {\n    for (let i = 0; i < times.length; i++) {\n        times[i] = times[i] / (repeat + 1)\n    }\n}\n","import {\n    animateTarget,\n    AnimationPlaybackControlsWithThen,\n    AnimationScope,\n    AnyResolvedKeyframe,\n    DOMKeyframesDefinition,\n    AnimationOptions as DynamicAnimationOptions,\n    ElementOrSelector,\n    isMotionValue,\n    MotionValue,\n    TargetAndTransition,\n    UnresolvedValueKeyframe,\n    ValueAnimationTransition,\n    visualElementStore,\n} from \"motion-dom\"\nimport { invariant } from \"motion-utils\"\nimport { ObjectTarget } from \"../sequence/types\"\nimport {\n    createDOMVisualElement,\n    createObjectVisualElement,\n} from \"../utils/create-visual-element\"\nimport { isDOMKeyframes } from \"../utils/is-dom-keyframes\"\nimport { resolveSubjects } from \"./resolve-subjects\"\nimport { animateSingleValue } from \"motion-dom\"\n\nexport type AnimationSubject = Element | MotionValue<any> | any\n\nfunction isSingleValue(\n    subject: unknown,\n    keyframes: unknown\n): subject is MotionValue | AnyResolvedKeyframe {\n    return (\n        isMotionValue(subject) ||\n        typeof subject === \"number\" ||\n        (typeof subject === \"string\" && !isDOMKeyframes(keyframes))\n    )\n}\n\n/**\n * Animate a string\n */\nexport function animateSubject(\n    value: string | MotionValue<string>,\n    keyframes: string | UnresolvedValueKeyframe<string>[],\n    options?: ValueAnimationTransition<string>\n): AnimationPlaybackControlsWithThen[]\n/**\n * Animate a number\n */\nexport function animateSubject(\n    value: number | MotionValue<number>,\n    keyframes: number | UnresolvedValueKeyframe<number>[],\n    options?: ValueAnimationTransition<number>\n): AnimationPlaybackControlsWithThen[]\n/**\n * Animate a Element\n */\nexport function animateSubject(\n    element: ElementOrSelector,\n    keyframes: DOMKeyframesDefinition,\n    options?: DynamicAnimationOptions,\n    scope?: AnimationScope\n): AnimationPlaybackControlsWithThen[]\n/**\n * Animate a object\n */\nexport function animateSubject<O extends Object>(\n    object: O | O[],\n    keyframes: ObjectTarget<O>,\n    options?: DynamicAnimationOptions\n): AnimationPlaybackControlsWithThen[]\n/**\n * Implementation\n */\nexport function animateSubject<O extends Object>(\n    subject:\n        | MotionValue<number>\n        | MotionValue<string>\n        | number\n        | string\n        | ElementOrSelector\n        | O\n        | O[],\n    keyframes:\n        | number\n        | string\n        | UnresolvedValueKeyframe<number>[]\n        | UnresolvedValueKeyframe<string>[]\n        | DOMKeyframesDefinition\n        | ObjectTarget<O>,\n    options?:\n        | ValueAnimationTransition<number>\n        | ValueAnimationTransition<string>\n        | DynamicAnimationOptions,\n    scope?: AnimationScope\n): AnimationPlaybackControlsWithThen[] {\n    const animations: AnimationPlaybackControlsWithThen[] = []\n\n    if (isSingleValue(subject, keyframes)) {\n        animations.push(\n            animateSingleValue(\n                subject,\n                isDOMKeyframes(keyframes)\n                    ? (keyframes as any).default || keyframes\n                    : keyframes,\n                options ? (options as any).default || options : options\n            )\n        )\n    } else {\n        // Gracefully handle null/undefined subjects (e.g., from querySelector returning null)\n        if (subject == null) {\n            return animations\n        }\n\n        const subjects = resolveSubjects(\n            subject,\n            keyframes as DOMKeyframesDefinition,\n            scope\n        )\n\n        const numSubjects = subjects.length\n\n        invariant(\n            Boolean(numSubjects),\n            \"No valid elements provided.\",\n            \"no-valid-elements\"\n        )\n\n        for (let i = 0; i < numSubjects; i++) {\n            const thisSubject = subjects[i]\n\n            const createVisualElement =\n                thisSubject instanceof Element\n                    ? createDOMVisualElement\n                    : createObjectVisualElement\n\n            if (!visualElementStore.has(thisSubject)) {\n                createVisualElement(thisSubject as any)\n            }\n\n            const visualElement = visualElementStore.get(thisSubject)!\n            const transition = { ...options }\n\n            /**\n             * Resolve stagger function if provided.\n             */\n            if (\n                \"delay\" in transition &&\n                typeof transition.delay === \"function\"\n            ) {\n                transition.delay = transition.delay(i, numSubjects)\n            }\n\n            animations.push(\n                ...animateTarget(\n                    visualElement,\n                    { ...(keyframes as {}), transition } as TargetAndTransition,\n                    {}\n                )\n            )\n        }\n    }\n\n    return animations\n}\n","import {\n    AnimationScope,\n    createGeneratorEasing,\n    defaultOffset,\n    DOMKeyframesDefinition,\n    AnimationOptions as DynamicAnimationOptions,\n    fillOffset,\n    GeneratorFactory,\n    isGenerator,\n    isMotionValue,\n    Transition,\n    UnresolvedValueKeyframe,\n    type AnyResolvedKeyframe,\n    type MotionValue,\n} from \"motion-dom\"\nimport {\n    Easing,\n    getEasingForSegment,\n    invariant,\n    progress,\n    secondsToMilliseconds,\n} from \"motion-utils\"\nimport { resolveSubjects } from \"../animate/resolve-subjects\"\nimport {\n    AnimationSequence,\n    At,\n    ResolvedAnimationDefinitions,\n    SequenceMap,\n    SequenceOptions,\n    ValueSequence,\n} from \"./types\"\nimport { calculateRepeatDuration } from \"./utils/calc-repeat-duration\"\nimport { calcNextTime } from \"./utils/calc-time\"\nimport { addKeyframes } from \"./utils/edit\"\nimport { normalizeTimes } from \"./utils/normalize-times\"\nimport { compareByTime } from \"./utils/sort\"\n\nconst defaultSegmentEasing = \"easeInOut\"\n\nconst MAX_REPEAT = 20\n\nexport function createAnimationsFromSequence(\n    sequence: AnimationSequence,\n    { defaultTransition = {}, ...sequenceTransition }: SequenceOptions = {},\n    scope?: AnimationScope,\n    generators?: { [key: string]: GeneratorFactory }\n): ResolvedAnimationDefinitions {\n    const defaultDuration = defaultTransition.duration || 0.3\n    const animationDefinitions: ResolvedAnimationDefinitions = new Map()\n    const sequences = new Map<Element | MotionValue, SequenceMap>()\n    const elementCache = {}\n    const timeLabels = new Map<string, number>()\n\n    let prevTime = 0\n    let currentTime = 0\n    let totalDuration = 0\n\n    /**\n     * Build the timeline by mapping over the sequence array and converting\n     * the definitions into keyframes and offsets with absolute time values.\n     * These will later get converted into relative offsets in a second pass.\n     */\n    for (let i = 0; i < sequence.length; i++) {\n        const segment = sequence[i]\n\n        /**\n         * If this is a timeline label, mark it and skip the rest of this iteration.\n         */\n        if (typeof segment === \"string\") {\n            timeLabels.set(segment, currentTime)\n            continue\n        } else if (!Array.isArray(segment)) {\n            timeLabels.set(\n                segment.name,\n                calcNextTime(currentTime, segment.at, prevTime, timeLabels)\n            )\n            continue\n        }\n\n        let [subject, keyframes, transition = {}] = segment\n\n        /**\n         * If a relative or absolute time value has been specified we need to resolve\n         * it in relation to the currentTime.\n         */\n        if (transition.at !== undefined) {\n            currentTime = calcNextTime(\n                currentTime,\n                transition.at,\n                prevTime,\n                timeLabels\n            )\n        }\n\n        /**\n         * Keep track of the maximum duration in this definition. This will be\n         * applied to currentTime once the definition has been parsed.\n         */\n        let maxDuration = 0\n\n        const resolveValueSequence = (\n            valueKeyframes: UnresolvedValueKeyframe | UnresolvedValueKeyframe[],\n            valueTransition: Transition | DynamicAnimationOptions,\n            valueSequence: ValueSequence,\n            elementIndex = 0,\n            numSubjects = 0\n        ) => {\n            const valueKeyframesAsList = keyframesAsList(valueKeyframes)\n            const {\n                delay = 0,\n                times = defaultOffset(valueKeyframesAsList),\n                type = defaultTransition.type || \"keyframes\",\n                repeat,\n                repeatType,\n                repeatDelay = 0,\n                ...remainingTransition\n            } = valueTransition\n            let { ease = defaultTransition.ease || \"easeOut\", duration } =\n                valueTransition\n\n            /**\n             * Resolve stagger() if defined.\n             */\n            const calculatedDelay =\n                typeof delay === \"function\"\n                    ? delay(elementIndex, numSubjects)\n                    : delay\n\n            /**\n             * If this animation should and can use a spring, generate a spring easing function.\n             */\n            const numKeyframes = valueKeyframesAsList.length\n            const createGenerator = isGenerator(type)\n                ? type\n                : generators?.[type || \"keyframes\"]\n\n            if (numKeyframes <= 2 && createGenerator) {\n                /**\n                 * As we're creating an easing function from a spring,\n                 * ideally we want to generate it using the real distance\n                 * between the two keyframes. However this isn't always\n                 * possible - in these situations we use 0-100.\n                 */\n                let absoluteDelta = 100\n                if (\n                    numKeyframes === 2 &&\n                    isNumberKeyframesArray(valueKeyframesAsList)\n                ) {\n                    const delta =\n                        valueKeyframesAsList[1] - valueKeyframesAsList[0]\n                    absoluteDelta = Math.abs(delta)\n                }\n\n                const springTransition = {\n                    ...defaultTransition,\n                    ...remainingTransition,\n                }\n                if (duration !== undefined) {\n                    springTransition.duration = secondsToMilliseconds(duration)\n                }\n\n                const springEasing = createGeneratorEasing(\n                    springTransition,\n                    absoluteDelta,\n                    createGenerator\n                )\n\n                ease = springEasing.ease\n                duration = springEasing.duration\n            }\n\n            duration ??= defaultDuration\n\n            const startTime = currentTime + calculatedDelay\n\n            /**\n             * If there's only one time offset of 0, fill in a second with length 1\n             */\n            if (times.length === 1 && times[0] === 0) {\n                times[1] = 1\n            }\n\n            /**\n             * Fill out if offset if fewer offsets than keyframes\n             */\n            const remainder = times.length - valueKeyframesAsList.length\n            remainder > 0 && fillOffset(times, remainder)\n\n            /**\n             * If only one value has been set, ie [1], push a null to the start of\n             * the keyframe array. This will let us mark a keyframe at this point\n             * that will later be hydrated with the previous value.\n             */\n            valueKeyframesAsList.length === 1 &&\n                valueKeyframesAsList.unshift(null)\n\n            /**\n             * Handle repeat options\n             */\n            if (repeat) {\n                invariant(\n                    repeat < MAX_REPEAT,\n                    \"Repeat count too high, must be less than 20\",\n                    \"repeat-count-high\"\n                )\n\n                duration = calculateRepeatDuration(\n                    duration,\n                    repeat,\n                    repeatDelay\n                )\n\n                const originalKeyframes = [...valueKeyframesAsList]\n                const originalTimes = [...times]\n                ease = Array.isArray(ease) ? [...ease] : [ease]\n                const originalEase = [...ease]\n\n                for (let repeatIndex = 0; repeatIndex < repeat; repeatIndex++) {\n                    valueKeyframesAsList.push(...originalKeyframes)\n\n                    for (\n                        let keyframeIndex = 0;\n                        keyframeIndex < originalKeyframes.length;\n                        keyframeIndex++\n                    ) {\n                        times.push(\n                            originalTimes[keyframeIndex] + (repeatIndex + 1)\n                        )\n                        ease.push(\n                            keyframeIndex === 0\n                                ? \"linear\"\n                                : getEasingForSegment(\n                                      originalEase,\n                                      keyframeIndex - 1\n                                  )\n                        )\n                    }\n                }\n\n                normalizeTimes(times, repeat)\n            }\n\n            const targetTime = startTime + duration\n\n            /**\n             * Add keyframes, mapping offsets to absolute time.\n             */\n            addKeyframes(\n                valueSequence,\n                valueKeyframesAsList,\n                ease as Easing | Easing[],\n                times,\n                startTime,\n                targetTime\n            )\n\n            maxDuration = Math.max(calculatedDelay + duration, maxDuration)\n            totalDuration = Math.max(targetTime, totalDuration)\n        }\n\n        if (isMotionValue(subject)) {\n            const subjectSequence = getSubjectSequence(subject, sequences)\n            resolveValueSequence(\n                keyframes as AnyResolvedKeyframe,\n                transition,\n                getValueSequence(\"default\", subjectSequence)\n            )\n        } else {\n            const subjects = resolveSubjects(\n                subject,\n                keyframes as DOMKeyframesDefinition,\n                scope,\n                elementCache\n            )\n\n            const numSubjects = subjects.length\n\n            /**\n             * For every element in this segment, process the defined values.\n             */\n            for (\n                let subjectIndex = 0;\n                subjectIndex < numSubjects;\n                subjectIndex++\n            ) {\n                /**\n                 * Cast necessary, but we know these are of this type\n                 */\n                keyframes = keyframes as DOMKeyframesDefinition\n                transition = transition as DynamicAnimationOptions\n\n                const thisSubject = subjects[subjectIndex]\n                const subjectSequence = getSubjectSequence(\n                    thisSubject,\n                    sequences\n                )\n\n                for (const key in keyframes) {\n                    resolveValueSequence(\n                        keyframes[\n                            key as keyof typeof keyframes\n                        ] as UnresolvedValueKeyframe,\n                        getValueTransition(transition, key),\n                        getValueSequence(key, subjectSequence),\n                        subjectIndex,\n                        numSubjects\n                    )\n                }\n            }\n        }\n\n        prevTime = currentTime\n        currentTime += maxDuration\n    }\n\n    /**\n     * For every element and value combination create a new animation.\n     */\n    sequences.forEach((valueSequences, element) => {\n        for (const key in valueSequences) {\n            const valueSequence = valueSequences[key]\n\n            /**\n             * Arrange all the keyframes in ascending time order.\n             */\n            valueSequence.sort(compareByTime)\n\n            const keyframes: UnresolvedValueKeyframe[] = []\n            const valueOffset: number[] = []\n            const valueEasing: Easing[] = []\n\n            /**\n             * For each keyframe, translate absolute times into\n             * relative offsets based on the total duration of the timeline.\n             */\n            for (let i = 0; i < valueSequence.length; i++) {\n                const { at, value, easing } = valueSequence[i]\n                keyframes.push(value)\n                valueOffset.push(progress(0, totalDuration, at))\n                valueEasing.push(easing || \"easeOut\")\n            }\n\n            /**\n             * If the first keyframe doesn't land on offset: 0\n             * provide one by duplicating the initial keyframe. This ensures\n             * it snaps to the first keyframe when the animation starts.\n             */\n            if (valueOffset[0] !== 0) {\n                valueOffset.unshift(0)\n                keyframes.unshift(keyframes[0])\n                valueEasing.unshift(defaultSegmentEasing)\n            }\n\n            /**\n             * If the last keyframe doesn't land on offset: 1\n             * provide one with a null wildcard value. This will ensure it\n             * stays static until the end of the animation.\n             */\n            if (valueOffset[valueOffset.length - 1] !== 1) {\n                valueOffset.push(1)\n                keyframes.push(null)\n            }\n\n            if (!animationDefinitions.has(element)) {\n                animationDefinitions.set(element, {\n                    keyframes: {},\n                    transition: {},\n                })\n            }\n\n            const definition = animationDefinitions.get(element)!\n\n            definition.keyframes[key] = keyframes\n\n            /**\n             * Exclude `type` from defaultTransition since springs have been\n             * converted to duration-based easing functions in resolveValueSequence.\n             * Including `type: \"spring\"` would cause JSAnimation to error when\n             * the merged keyframes array has more than 2 keyframes.\n             */\n            const { type: _type, ...remainingDefaultTransition } =\n                defaultTransition\n            definition.transition[key] = {\n                ...remainingDefaultTransition,\n                duration: totalDuration,\n                ease: valueEasing,\n                times: valueOffset,\n                ...sequenceTransition,\n            }\n        }\n    })\n\n    return animationDefinitions\n}\n\nfunction getSubjectSequence<O extends {}>(\n    subject: Element | MotionValue | O,\n    sequences: Map<Element | MotionValue | O, SequenceMap>\n): SequenceMap {\n    !sequences.has(subject) && sequences.set(subject, {})\n    return sequences.get(subject)!\n}\n\nfunction getValueSequence(name: string, sequences: SequenceMap): ValueSequence {\n    if (!sequences[name]) sequences[name] = []\n    return sequences[name]\n}\n\nfunction keyframesAsList(\n    keyframes: UnresolvedValueKeyframe | UnresolvedValueKeyframe[]\n): UnresolvedValueKeyframe[] {\n    return Array.isArray(keyframes) ? keyframes : [keyframes]\n}\n\nexport function getValueTransition(\n    transition: DynamicAnimationOptions & At,\n    key: string\n): DynamicAnimationOptions {\n    return transition && transition[key as keyof typeof transition]\n        ? {\n              ...transition,\n              ...(transition[key as keyof typeof transition] as Transition),\n          }\n        : { ...transition }\n}\n\nconst isNumber = (keyframe: unknown) => typeof keyframe === \"number\"\nconst isNumberKeyframesArray = (\n    keyframes: UnresolvedValueKeyframe[]\n): keyframes is number[] => keyframes.every(isNumber)\n","'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { TimezoneDetailModal } from './TimezoneDetailModal';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimeZone {\n  id: string;\n  city: string;\n  timezone: string;\n}\n\nconst TIME_ZONES: TimeZone[] = [\n  { id: 'dublin', city: 'Dublin', timezone: 'Europe/Dublin' },\n  { id: 'paris', city: 'Paris', timezone: 'Europe/Paris' },\n  { id: 'tokyo', city: 'Tokyo', timezone: 'Asia/Tokyo' },\n  { id: 'sanfrancisco', city: 'San Francisco', timezone: 'America/Los_Angeles' },\n  { id: 'salvador', city: 'Salvador', timezone: 'America/Bahia' },\n];\n\ninterface WorldClockViewProps {\n  watchDNA: WatchDNA;\n  onClose?: () => void;\n}\n\nfunction formatTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatFullDate(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }).format(date);\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): string {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return '/icons/weather/sunrise.svg';\n  } else if (hour >= 7 && hour < 12) {\n    return '/icons/weather/clear-day.svg';\n  } else if (hour >= 12 && hour < 17) {\n    return '/icons/weather/partly-cloudy-day.svg';\n  } else if (hour >= 17 && hour < 20) {\n    return '/icons/weather/sunset.svg';\n  } else {\n    return '/icons/weather/clear-night.svg';\n  }\n}\n\nfunction getTimeForTimezone(date: Date, timezone: string): Date {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: timezone,\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n    hour12: false,\n  };\n\n  const formatter = new Intl.DateTimeFormat('en-US', options);\n  const parts = formatter.formatToParts(date);\n\n  const getPart = (type: string) => {\n    const part = parts.find(p => p.type === type);\n    return part ? parseInt(part.value, 10) : 0;\n  };\n\n  const tzDate = new Date(\n    getPart('year'),\n    getPart('month') - 1,\n    getPart('day'),\n    getPart('hour'),\n    getPart('minute'),\n    getPart('second')\n  );\n\n  return tzDate;\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 20%, 12%)',\n    handColor: 'hsl(0, 0%, 90%)',\n    indexColor: 'hsl(0, 0%, 80%)',\n    bezelColor: 'hsl(220, 15%, 18%)',\n  };\n}\n\nexport function WorldClockView({ watchDNA, onClose }: WorldClockViewProps) {\n  const [time, setTime] = useState(new Date());\n  const [selectedTimezone, setSelectedTimezone] = useState<TimeZone | null>(null);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formattedDate = useMemo(() => formatFullDate(time), [time]);\n\n  const handleTimezoneClick = useCallback((tz: TimeZone) => {\n    setSelectedTimezone(tz);\n  }, []);\n\n  const handleCloseDetail = useCallback(() => {\n    setSelectedTimezone(null);\n  }, []);\n\n  return (\n    <>\n      <motion.div\n        className=\"relative flex flex-col items-center gap-6 p-6 rounded-3xl backdrop-blur-xl\"\n        style={{\n          background: 'var(--glass-bg, rgba(255,255,255,0.1))',\n          border: '1px solid var(--glass-border, rgba(255,255,255,0.2))',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.2)',\n          minWidth: '320px',\n        }}\n        initial={{ opacity: 0, scale: 0.9, y: -20 }}\n        animate={{ opacity: 1, scale: 1, y: 0 }}\n        exit={{ opacity: 0, scale: 0.9, y: -20 }}\n        transition={{ type: 'spring', stiffness: 300, damping: 25 }}\n      >\n        {/* Close Button */}\n        {onClose && (\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10\"\n            aria-label=\"Close world clock\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              className=\"text-white/70\"\n            >\n              <path d=\"M18 6L6 18M6 6l12 12\" />\n            </svg>\n          </button>\n        )}\n\n        {/* Date Header */}\n        <div className=\"text-center border-b border-white/10 pb-4 w-full\">\n          <h2\n            className=\"text-lg font-light tracking-wide\"\n            style={{ color: 'var(--text-primary, white)' }}\n          >\n            {formattedDate}\n          </h2>\n        </div>\n\n        {/* Time Zones */}\n        <div className=\"flex flex-col gap-3 w-full\">\n          {TIME_ZONES.map((tz, index) => {\n            const isNight = isNighttime(time, tz.timezone);\n            const weatherIcon = getWeatherIconForTime(time, tz.timezone);\n            const effectiveWatchDNA = isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA;\n\n            return (\n              <motion.button\n                key={tz.id}\n                onClick={() => handleTimezoneClick(tz)}\n                className=\"flex items-center gap-3 p-3 rounded-2xl transition-all cursor-pointer text-left hover:scale-[1.02] active:scale-[0.98]\"\n                style={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(15,23,42,0.9) 0%, rgba(30,41,59,0.8) 100%)'\n                    : 'var(--glass-bg-subtle, rgba(255,255,255,0.05))',\n                  border: isNight ? '1px solid rgba(71,85,105,0.3)' : 'none',\n                }}\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: index * 0.05, duration: 0.3 }}\n                whileHover={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(30,41,59,0.95) 0%, rgba(51,65,85,0.9) 100%)'\n                    : 'rgba(255,255,255,0.1)',\n                }}\n              >\n                {/* Mini Watch Face */}\n                <div className=\"flex-shrink-0 relative\">\n                  <WatchFace\n                    watchDNA={effectiveWatchDNA}\n                    size={48}\n                    showCase={false}\n                    interactive={false}\n                    timezone={tz.timezone}\n                  />\n                  {/* Nighttime overlay glow */}\n                  {isNight && (\n                    <div\n                      className=\"absolute inset-0 rounded-full pointer-events-none\"\n                      style={{\n                        boxShadow: 'inset 0 0 12px rgba(99,102,241,0.3)',\n                      }}\n                    />\n                  )}\n                </div>\n\n                {/* Location & Time */}\n                <div className=\"flex flex-col flex-1 min-w-0\">\n                  <span\n                    className=\"text-sm font-medium truncate\"\n                    style={{ color: isNight ? 'rgba(226,232,240,0.9)' : 'var(--text-primary, white)' }}\n                  >\n                    {tz.city}\n                  </span>\n                  <span\n                    className=\"text-2xl font-light tabular-nums tracking-tight\"\n                    style={{ color: isNight ? 'rgba(248,250,252,0.95)' : 'var(--text-primary, white)' }}\n                  >\n                    {formatTime(time, tz.timezone)}\n                  </span>\n                </div>\n\n                {/* Weather Icon */}\n                <div className=\"flex-shrink-0 w-8 h-8\">\n                  <img\n                    src={weatherIcon}\n                    alt=\"weather\"\n                    width={32}\n                    height={32}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: isNight ? 'drop-shadow(0 0 4px rgba(147,197,253,0.4))' : 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))',\n                    }}\n                  />\n                </div>\n\n                {/* Arrow indicator */}\n                <div className=\"flex-shrink-0\" style={{ color: isNight ? 'rgba(148,163,184,0.5)' : 'rgba(255,255,255,0.3)' }}>\n                  <svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  >\n                    <path d=\"M9 18l6-6-6-6\" />\n                  </svg>\n                </div>\n              </motion.button>\n            );\n          })}\n        </div>\n\n        {/* Hint text */}\n        <p className=\"text-[10px] text-white/30 text-center\">\n          Tap a timezone for details\n        </p>\n      </motion.div>\n\n      {/* Timezone Detail Modal */}\n      {selectedTimezone && (\n        <TimezoneDetailModal\n          isOpen={!!selectedTimezone}\n          onClose={handleCloseDetail}\n          timezone={selectedTimezone}\n          watchDNA={watchDNA}\n        />\n      )}\n    </>\n  );\n}\n\nexport default WorldClockView;\n","'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimezoneDetailModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  timezone: {\n    id: string;\n    city: string;\n    timezone: string;\n  };\n  watchDNA: WatchDNA;\n}\n\nfunction formatDetailedTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatDetailedDate(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    timeZone: timezone,\n  }).format(date);\n}\n\nfunction getTimezoneOffset(timezone: string): string {\n  const now = new Date();\n  const formatter = new Intl.DateTimeFormat('en-US', {\n    timeZone: timezone,\n    timeZoneName: 'shortOffset',\n  });\n  const parts = formatter.formatToParts(now);\n  const offsetPart = parts.find(p => p.type === 'timeZoneName');\n  return offsetPart?.value || '';\n}\n\nfunction getTimeDifference(timezone: string): string {\n  const now = new Date();\n\n  // Get the offset for the target timezone\n  const targetDate = new Date(now.toLocaleString('en-US', { timeZone: timezone }));\n  const localDate = new Date(now.toLocaleString('en-US'));\n\n  const diffMs = targetDate.getTime() - localDate.getTime();\n  const diffHours = Math.round(diffMs / (1000 * 60 * 60));\n\n  if (diffHours === 0) return 'Same as local time';\n  if (diffHours > 0) return `${diffHours}h ahead`;\n  return `${Math.abs(diffHours)}h behind`;\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): { icon: string; label: string } {\n  const hour = getHourInTimezone(date, timezone);\n\n  if (hour >= 5 && hour < 7) {\n    return { icon: '/icons/weather/sunrise.svg', label: 'Dawn' };\n  } else if (hour >= 7 && hour < 12) {\n    return { icon: '/icons/weather/clear-day.svg', label: 'Morning' };\n  } else if (hour >= 12 && hour < 17) {\n    return { icon: '/icons/weather/partly-cloudy-day.svg', label: 'Afternoon' };\n  } else if (hour >= 17 && hour < 20) {\n    return { icon: '/icons/weather/sunset.svg', label: 'Evening' };\n  } else if (hour >= 20 && hour < 22) {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Dusk' };\n  } else {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Night' };\n  }\n}\n\nfunction getTimeOfDay(date: Date, timezone: string): { period: string; weatherIcon: string; gradient: string; isNight: boolean } {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return { period: 'Dawn', weatherIcon: '/icons/weather/sunrise.svg', gradient: 'from-orange-500/30 to-pink-500/30', isNight: false };\n  } else if (hour >= 7 && hour < 12) {\n    return { period: 'Morning', weatherIcon: '/icons/weather/clear-day.svg', gradient: 'from-yellow-500/25 to-orange-500/25', isNight: false };\n  } else if (hour >= 12 && hour < 17) {\n    return { period: 'Afternoon', weatherIcon: '/icons/weather/partly-cloudy-day.svg', gradient: 'from-blue-500/25 to-cyan-500/25', isNight: false };\n  } else if (hour >= 17 && hour < 20) {\n    return { period: 'Evening', weatherIcon: '/icons/weather/sunset.svg', gradient: 'from-orange-500/30 to-red-500/30', isNight: false };\n  } else if (hour >= 20 && hour < 22) {\n    return { period: 'Dusk', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-purple-500/30 to-indigo-500/30', isNight: true };\n  } else {\n    return { period: 'Night', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-indigo-600/40 to-slate-800/40', isNight: true };\n  }\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 25%, 10%)',\n    handColor: 'hsl(210, 20%, 85%)',\n    indexColor: 'hsl(210, 15%, 70%)',\n    bezelColor: 'hsl(220, 20%, 15%)',\n    lumeColor: 'hsl(200, 100%, 70%)',\n  };\n}\n\nexport function TimezoneDetailModal({\n  isOpen,\n  onClose,\n  timezone,\n  watchDNA,\n}: TimezoneDetailModalProps) {\n  const [time, setTime] = useState(new Date());\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isOpen]);\n\n  const formattedTime = useMemo(() => formatDetailedTime(time, timezone.timezone), [time, timezone.timezone]);\n  const formattedDate = useMemo(() => formatDetailedDate(time, timezone.timezone), [time, timezone.timezone]);\n  const timezoneOffset = useMemo(() => getTimezoneOffset(timezone.timezone), [timezone.timezone]);\n  const timeDifference = useMemo(() => getTimeDifference(timezone.timezone), [timezone.timezone]);\n  const timeOfDay = useMemo(() => getTimeOfDay(time, timezone.timezone), [time, timezone.timezone]);\n\n  // Get dark mode watch DNA for nighttime\n  const effectiveWatchDNA = useMemo(\n    () => (timeOfDay.isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA),\n    [watchDNA, timeOfDay.isNight]\n  );\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          className=\"fixed inset-0 z-[200] flex items-center justify-center p-4\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n        >\n          {/* Backdrop */}\n          <motion.div\n            className={`absolute inset-0 backdrop-blur-md ${timeOfDay.isNight ? 'bg-black/70' : 'bg-black/60'}`}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n          />\n\n          {/* Modal Content */}\n          <motion.div\n            className=\"relative z-10 w-full max-w-sm rounded-3xl overflow-hidden\"\n            style={{\n              background: timeOfDay.isNight\n                ? 'linear-gradient(180deg, rgba(15,23,42,0.98) 0%, rgba(2,6,23,0.98) 100%)'\n                : 'linear-gradient(180deg, rgba(30,30,30,0.98) 0%, rgba(15,15,15,0.98) 100%)',\n              border: timeOfDay.isNight\n                ? '1px solid rgba(71,85,105,0.3)'\n                : '1px solid rgba(255,255,255,0.1)',\n              boxShadow: timeOfDay.isNight\n                ? '0 25px 50px -12px rgba(0,0,0,0.8), inset 0 1px 0 rgba(148,163,184,0.1)'\n                : '0 25px 50px -12px rgba(0,0,0,0.6)',\n            }}\n            initial={{ scale: 0.9, opacity: 0, y: 20 }}\n            animate={{ scale: 1, opacity: 1, y: 0 }}\n            exit={{ scale: 0.9, opacity: 0, y: 20 }}\n            transition={{\n              type: 'spring',\n              stiffness: 400,\n              damping: 30,\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Close Button */}\n            <button\n              onClick={onClose}\n              className={`absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full transition-colors z-20 ${\n                timeOfDay.isNight\n                  ? 'bg-slate-700/50 hover:bg-slate-600/60'\n                  : 'bg-white/10 hover:bg-white/20'\n              }`}\n              aria-label=\"Close timezone detail\"\n            >\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                className={timeOfDay.isNight ? 'text-slate-400' : 'text-white/70'}\n              >\n                <path d=\"M18 6L6 18M6 6l12 12\" />\n              </svg>\n            </button>\n\n            {/* Header with gradient accent and weather icon */}\n            <div className={`px-6 pt-6 pb-4 bg-gradient-to-r ${timeOfDay.gradient}`}>\n              <div className=\"flex items-center gap-3 mb-2\">\n                {/* Weather Icon */}\n                <motion.div\n                  initial={{ scale: 0, rotate: -180 }}\n                  animate={{ scale: 1, rotate: 0 }}\n                  transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 20 }}\n                  className=\"w-12 h-12\"\n                >\n                  <img\n                    src={timeOfDay.weatherIcon}\n                    alt={timeOfDay.period}\n                    width={48}\n                    height={48}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: timeOfDay.isNight\n                        ? 'drop-shadow(0 0 8px rgba(147,197,253,0.5))'\n                        : 'drop-shadow(0 4px 8px rgba(0,0,0,0.3))',\n                    }}\n                  />\n                </motion.div>\n                <div>\n                  <span\n                    className={`text-sm font-medium ${\n                      timeOfDay.isNight ? 'text-slate-400' : 'text-white/60'\n                    }`}\n                  >\n                    {timeOfDay.period}\n                  </span>\n                  <h2\n                    className={`text-2xl font-semibold tracking-tight ${\n                      timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                    }`}\n                  >\n                    {timezone.city}\n                  </h2>\n                </div>\n              </div>\n              <p\n                className={`text-sm mt-1 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n              >\n                {timezoneOffset} â€¢ {timeDifference}\n              </p>\n            </div>\n\n            {/* Watch Face - Centered and larger */}\n            <div className=\"flex justify-center py-8 relative\">\n              {/* Nighttime glow effect */}\n              {timeOfDay.isNight && (\n                <div\n                  className=\"absolute inset-0 pointer-events-none\"\n                  style={{\n                    background: 'radial-gradient(circle at center, rgba(99,102,241,0.15) 0%, transparent 70%)',\n                  }}\n                />\n              )}\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 25 }}\n                className=\"relative\"\n              >\n                <WatchFace\n                  watchDNA={effectiveWatchDNA}\n                  size={180}\n                  showCase={true}\n                  interactive={false}\n                  timezone={timezone.timezone}\n                />\n                {/* Lume glow for nighttime */}\n                {timeOfDay.isNight && (\n                  <div\n                    className=\"absolute inset-0 rounded-full pointer-events-none\"\n                    style={{\n                      boxShadow: 'inset 0 0 30px rgba(147,197,253,0.2)',\n                    }}\n                  />\n                )}\n              </motion.div>\n            </div>\n\n            {/* Digital Time Display */}\n            <div className=\"text-center px-6 pb-4\">\n              <motion.div\n                className={`text-5xl font-light tabular-nums tracking-tight ${\n                  timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                }`}\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.15 }}\n              >\n                {formattedTime}\n              </motion.div>\n              <motion.p\n                className={`text-sm mt-2 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.2 }}\n              >\n                {formattedDate}\n              </motion.p>\n            </div>\n\n            {/* Info Cards */}\n            <div className=\"grid grid-cols-2 gap-3 px-6 pb-6\">\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: -10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.25 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  Timezone\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezone.timezone.split('/').pop()?.replace('_', ' ')}\n                </p>\n              </motion.div>\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: 10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.3 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  UTC Offset\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezoneOffset}\n                </p>\n              </motion.div>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport default TimezoneDetailModal;\n","'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from '@/components/watch/WatchFace';\nimport { WorldClockView } from '@/components/watch/WorldClockView';\nimport { themeToWatch } from '@/lib/watch/theme-to-watch';\nimport { useDesignTheme } from '@/context/DesignThemeContext';\n\nexport function StatusBarWatch() {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const { theme } = useDesignTheme();\n\n  const watchDNA = useMemo(() => themeToWatch(theme), [theme]);\n\n  const toggleExpanded = useCallback(() => {\n    setIsExpanded((prev) => !prev);\n  }, []);\n\n  const handleBackdropClick = useCallback((e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      setIsExpanded(false);\n    }\n  }, []);\n\n  return (\n    <>\n      {/* Mini watch in status bar */}\n      <motion.button\n        onClick={toggleExpanded}\n        className=\"relative w-8 h-8 flex items-center justify-center cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-full\"\n        aria-label=\"Expand watch\"\n        aria-expanded={isExpanded}\n        whileHover={{ scale: 1.1 }}\n        whileTap={{ scale: 0.95 }}\n      >\n        <WatchFace\n          watchDNA={watchDNA}\n          size={28}\n          showCase={false}\n          interactive={false}\n          className=\"pointer-events-none\"\n        />\n      </motion.button>\n\n      {/* Expanded watch overlay */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            className=\"fixed inset-0 z-[100] flex items-start justify-center pt-20\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            onClick={handleBackdropClick}\n          >\n            {/* Backdrop */}\n            <motion.div\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            />\n\n            {/* World Clock View */}\n            <motion.div\n              className=\"relative z-10\"\n              initial={{ scale: 0.9, opacity: 0, y: -30 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.9, opacity: 0, y: -30 }}\n              transition={{\n                type: 'spring',\n                stiffness: 400,\n                damping: 30,\n              }}\n            >\n              <WorldClockView\n                watchDNA={watchDNA}\n                onClose={toggleExpanded}\n              />\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","'use client';\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  ReactNode,\n} from 'react';\nimport { motion, AnimatePresence, useReducedMotion, Variants } from 'framer-motion';\nimport { useMusic } from '@/context/MusicContext';\nimport { useProviderStatus, type ProviderType, type ConnectionStatus } from '@/hooks/useProviderStatus';\nimport { Play, Pause, SkipForward, SkipBack, Timer, Bell, Phone, Mic, Check, X, ChevronDown, Cloud, Cpu, Wifi } from 'lucide-react';\n\n// ============================================================================\n// Types and Configuration\n// ============================================================================\n\nexport type DynamicIslandSize =\n  | 'default'\n  | 'compact'\n  | 'large'\n  | 'tall'\n  | 'long'\n  | 'medium'\n  | 'ultra';\n\nexport type IslandContentType =\n  | 'idle'\n  | 'music'\n  | 'timer'\n  | 'notification'\n  | 'call'\n  | 'recording'\n  | 'success'\n  | 'loading'\n  | 'ralph'\n  | 'provider';\n\ninterface IslandState {\n  size: DynamicIslandSize;\n  previousSize: DynamicIslandSize;\n  contentType: IslandContentType;\n  notification?: {\n    title: string;\n    message: string;\n    icon?: ReactNode;\n  };\n  ralph?: {\n    iteration: number;\n    maxIterations: number;\n    description: string;\n  };\n}\n\ninterface DynamicIslandContextType {\n  state: IslandState;\n  setSize: (size: DynamicIslandSize) => void;\n  setContentType: (type: IslandContentType) => void;\n  showNotification: (title: string, message: string, icon?: ReactNode, duration?: number) => void;\n  showRalphMode: (iteration: number, maxIterations: number, description: string) => void;\n  hideRalphMode: () => void;\n  expand: () => void;\n  collapse: () => void;\n  scheduleAnimation: (size: DynamicIslandSize, delay?: number) => void;\n}\n\n// Size dimensions - based on cult-ui reference and iPhone proportions\nconst SIZE_PRESETS: Record<DynamicIslandSize, { width: number; height: number; aspectRatio: string }> = {\n  default: { width: 126, height: 37, aspectRatio: '126/37' },\n  compact: { width: 100, height: 32, aspectRatio: '100/32' },\n  large: { width: 350, height: 100, aspectRatio: '350/100' }, // Taller for music player with progress\n  tall: { width: 350, height: 200, aspectRatio: '350/200' },\n  long: { width: 350, height: 56, aspectRatio: '350/56' },\n  medium: { width: 350, height: 130, aspectRatio: '350/130' },\n  ultra: { width: 350, height: 300, aspectRatio: '350/300' },\n};\n\n// ============================================================================\n// Context Provider\n// ============================================================================\n\nconst DynamicIslandContext = createContext<DynamicIslandContextType | null>(null);\n\nexport function useDynamicIsland() {\n  const context = useContext(DynamicIslandContext);\n  if (!context) {\n    throw new Error('useDynamicIsland must be used within DynamicIslandProvider');\n  }\n  return context;\n}\n\ninterface DynamicIslandProviderProps {\n  children: ReactNode;\n  initialSize?: DynamicIslandSize;\n}\n\nexport function DynamicIslandProvider({\n  children,\n  initialSize = 'default',\n}: DynamicIslandProviderProps) {\n  const [state, setState] = useState<IslandState>({\n    size: initialSize,\n    previousSize: initialSize,\n    contentType: 'idle',\n  });\n\n  const setSize = useCallback((size: DynamicIslandSize) => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size,\n    }));\n  }, []);\n\n  const setContentType = useCallback((contentType: IslandContentType) => {\n    setState((prev) => ({ ...prev, contentType }));\n  }, []);\n\n  const showNotification = useCallback(\n    (title: string, message: string, icon?: ReactNode, duration = 4000) => {\n      setState((prev) => ({\n        ...prev,\n        previousSize: prev.size,\n        size: 'long',\n        contentType: 'notification',\n        notification: { title, message, icon },\n      }));\n\n      if (duration > 0) {\n        setTimeout(() => {\n          setState((prev) => ({\n            ...prev,\n            previousSize: prev.size,\n            size: 'default',\n            contentType: 'idle',\n            notification: undefined,\n          }));\n        }, duration);\n      }\n    },\n    []\n  );\n\n  const showRalphMode = useCallback(\n    (iteration: number, maxIterations: number, description: string) => {\n      setState((prev) => ({\n        ...prev,\n        previousSize: prev.size,\n        size: 'long',\n        contentType: 'ralph',\n        ralph: { iteration, maxIterations, description },\n      }));\n    },\n    []\n  );\n\n  const hideRalphMode = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'default',\n      contentType: 'idle',\n      ralph: undefined,\n    }));\n  }, []);\n\n  const expand = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'large',\n    }));\n  }, []);\n\n  const collapse = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'default',\n    }));\n  }, []);\n\n  const scheduleAnimation = useCallback((size: DynamicIslandSize, delay = 1000) => {\n    setTimeout(() => setSize(size), delay);\n  }, [setSize]);\n\n  return (\n    <DynamicIslandContext.Provider\n      value={{\n        state,\n        setSize,\n        setContentType,\n        showNotification,\n        showRalphMode,\n        hideRalphMode,\n        expand,\n        collapse,\n        scheduleAnimation,\n      }}\n    >\n      {children}\n    </DynamicIslandContext.Provider>\n  );\n}\n\n// ============================================================================\n// Styled Sub-components\n// ============================================================================\n\ninterface DynamicContainerProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function DynamicContainer({ children, className = '' }: DynamicContainerProps) {\n  return (\n    <div className={`absolute inset-0 flex items-center justify-center ${className}`}>\n      {children}\n    </div>\n  );\n}\n\ninterface DynamicTitleProps {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function DynamicTitle({ children, className = '', style }: DynamicTitleProps) {\n  return (\n    <motion.h3\n      initial={{ opacity: 0, y: 5 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -5 }}\n      className={`font-bold tracking-tight ${className}`}\n      style={style}\n    >\n      {children}\n    </motion.h3>\n  );\n}\n\ninterface DynamicDescriptionProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function DynamicDescription({ children, className = '' }: DynamicDescriptionProps) {\n  return (\n    <motion.p\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className={`text-sm ${className}`}\n    >\n      {children}\n    </motion.p>\n  );\n}\n\n// ============================================================================\n// Content Renderers\n// ============================================================================\n\nfunction MusicContent({ expanded }: { expanded: boolean }) {\n  const { currentTrack, isPlaying, togglePlay, skipToNext, skipToPrevious, currentTime, duration } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n  const [imageError, setImageError] = useState(false);\n\n  const progressPercent = duration ? (currentTime / duration) * 100 : 0;\n\n  const formatTime = (time: number) => {\n    if (isNaN(time)) return '0:00';\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  if (!expanded) {\n    // Compact music view - like iPhone\n    return (\n      <DynamicContainer className=\"px-2\">\n        <div className=\"flex items-center justify-between w-full\">\n          {/* Album art or profile */}\n          <motion.div\n            className=\"w-7 h-7 rounded-lg overflow-hidden flex-shrink-0\"\n            animate={\n              isPlaying && !prefersReducedMotion\n                ? { scale: [1, 1.03, 1] }\n                : {}\n            }\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            {currentTrack.albumArt && !imageError ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={currentTrack.albumArt}\n                alt={currentTrack.album}\n                className=\"w-full h-full object-cover\"\n                onError={() => setImageError(true)}\n              />\n            ) : (\n              <div\n                className=\"w-full h-full flex items-center justify-center\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                }}\n              >\n                <span className=\"text-xs\">ðŸŽµ</span>\n              </div>\n            )}\n          </motion.div>\n\n          {/* Visualizer bars */}\n          {isPlaying && (\n            <motion.div\n              className=\"flex gap-0.5 items-end h-4\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n            >\n              {[...Array(3)].map((_, i) => (\n                <motion.div\n                  key={i}\n                  className=\"w-0.5 rounded-full\"\n                  style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                  animate={\n                    prefersReducedMotion\n                      ? { height: '8px' }\n                      : { height: ['4px', '14px', '6px'] }\n                  }\n                  transition={{\n                    duration: 0.5,\n                    repeat: Infinity,\n                    delay: i * 0.12,\n                  }}\n                />\n              ))}\n            </motion.div>\n          )}\n\n          {/* Track title */}\n          <span className=\"text-white/80 text-[11px] font-medium truncate max-w-[50px]\">\n            {currentTrack.title}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  // Expanded music view with full controls\n  return (\n    <DynamicContainer className=\"px-4 py-2\">\n      <div className=\"flex flex-col w-full gap-2\">\n        {/* Top row: Album art, track info, controls */}\n        <div className=\"flex items-center justify-between w-full gap-3\">\n          {/* Album art */}\n          <motion.div\n            className=\"w-14 h-14 rounded-xl overflow-hidden flex-shrink-0\"\n            style={{\n              boxShadow: '0 4px 20px hsl(var(--theme-primary) / 0.4)',\n            }}\n            animate={\n              isPlaying && !prefersReducedMotion\n                ? { scale: [1, 1.02, 1] }\n                : {}\n            }\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            {currentTrack.albumArt && !imageError ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={currentTrack.albumArt}\n                alt={currentTrack.album}\n                className=\"w-full h-full object-cover\"\n                onError={() => setImageError(true)}\n              />\n            ) : (\n              <div\n                className=\"w-full h-full flex items-end justify-center gap-1 p-2\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                }}\n              >\n                {/* Visualizer bars when no album art */}\n                {isPlaying && [...Array(5)].map((_, i) => (\n                  <motion.div\n                    key={i}\n                    className=\"w-1.5 bg-white/80 rounded-full\"\n                    animate={\n                      prefersReducedMotion\n                        ? { height: '40%' }\n                        : { height: ['20%', '80%', '40%', '100%', '30%'] }\n                    }\n                    transition={{\n                      duration: 0.8,\n                      repeat: Infinity,\n                      delay: i * 0.1,\n                      ease: 'easeInOut',\n                    }}\n                  />\n                ))}\n              </div>\n            )}\n          </motion.div>\n\n          {/* Track info */}\n          <div className=\"flex-1 min-w-0\">\n            <DynamicTitle className=\"text-white text-sm truncate\">\n              {currentTrack.title}\n            </DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs truncate\">\n              {currentTrack.artist}\n            </DynamicDescription>\n          </div>\n\n          {/* Controls */}\n          <div className=\"flex items-center gap-1\" role=\"group\" aria-label=\"Music playback controls\">\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); skipToPrevious(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              aria-label=\"Previous track\"\n            >\n              <SkipBack className=\"w-4 h-4 text-white/70\" fill=\"currentColor\" aria-hidden=\"true\" />\n            </motion.button>\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-10 h-10 rounded-full flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              style={{\n                background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n              }}\n              aria-label={isPlaying ? 'Pause' : 'Play'}\n              aria-pressed={isPlaying}\n            >\n              {isPlaying ? (\n                <Pause className=\"w-5 h-5 text-white\" fill=\"currentColor\" aria-hidden=\"true\" />\n              ) : (\n                <Play className=\"w-5 h-5 text-white ml-0.5\" fill=\"currentColor\" aria-hidden=\"true\" />\n              )}\n            </motion.button>\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); skipToNext(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              aria-label=\"Next track\"\n            >\n              <SkipForward className=\"w-4 h-4 text-white/70\" fill=\"currentColor\" aria-hidden=\"true\" />\n            </motion.button>\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"flex items-center gap-2 w-full\">\n          <span className=\"text-[10px] text-white/40 tabular-nums w-8 text-right\" aria-hidden=\"true\">\n            {formatTime(currentTime)}\n          </span>\n          <div\n            className=\"flex-1 h-1 bg-white/10 rounded-full overflow-hidden\"\n            role=\"progressbar\"\n            aria-label=\"Track progress\"\n            aria-valuenow={Math.round(progressPercent)}\n            aria-valuemin={0}\n            aria-valuemax={100}\n            aria-valuetext={`${formatTime(currentTime)} of ${formatTime(duration)}`}\n          >\n            <motion.div\n              className=\"h-full rounded-full\"\n              style={{\n                background: 'linear-gradient(90deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                width: `${progressPercent}%`,\n              }}\n              transition={{ duration: 0.1 }}\n            />\n          </div>\n          <span className=\"text-[10px] text-white/40 tabular-nums w-8\" aria-hidden=\"true\">\n            {formatTime(duration)}\n          </span>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction NotificationContent({ notification }: { notification?: { title: string; message: string; icon?: ReactNode } }) {\n  if (!notification) return null;\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center gap-3 w-full\">\n        <div\n          className=\"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0\"\n          style={{\n            background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n          }}\n        >\n          {notification.icon || <Bell className=\"w-5 h-5 text-white\" />}\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <DynamicTitle className=\"text-white text-sm truncate\">\n            {notification.title}\n          </DynamicTitle>\n          <DynamicDescription className=\"text-white/60 text-xs truncate\">\n            {notification.message}\n          </DynamicDescription>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction IdleContent() {\n  const { status, getStatusColor } = useProviderStatus();\n  const prefersReducedMotion = useReducedMotion();\n\n  return (\n    <DynamicContainer className=\"px-2\">\n      <div className=\"flex items-center justify-between w-full\">\n        {/* Profile image on left like iPhone */}\n        <div className=\"w-7 h-7 rounded-full overflow-hidden flex-shrink-0 border border-white/20\">\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img\n            src=\"/8gent-logo.png\"\n            alt=\"James\"\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n        {/* Provider status indicator on right */}\n        <motion.div\n          className=\"w-3 h-3 rounded-full flex items-center justify-center\"\n          style={{ backgroundColor: getStatusColor() }}\n          animate={\n            status === 'connecting' && !prefersReducedMotion\n              ? { scale: [1, 1.2, 1], opacity: [1, 0.6, 1] }\n              : {}\n          }\n          transition={{ duration: 1.5, repeat: Infinity }}\n          title={`AI: ${status}`}\n        >\n          <div className=\"w-1.5 h-1.5 rounded-full bg-white/80\" />\n        </motion.div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction ProviderContent({ expanded }: { expanded: boolean }) {\n  const { providerType, status, latencyMs, getStatusColor, getProviderDisplayName } = useProviderStatus();\n  const prefersReducedMotion = useReducedMotion();\n\n  const getProviderIcon = () => {\n    switch (providerType) {\n      case 'lynkr':\n        return <Wifi className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n      case 'local':\n        return <Cpu className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n      case 'cloud':\n      default:\n        return <Cloud className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n    }\n  };\n\n  if (!expanded) {\n    // Compact provider view\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <motion.div\n              className=\"w-2 h-2 rounded-full\"\n              style={{ backgroundColor: getStatusColor() }}\n              animate={\n                status === 'connecting' && !prefersReducedMotion\n                  ? { scale: [1, 1.3, 1], opacity: [1, 0.5, 1] }\n                  : {}\n              }\n              transition={{ duration: 1, repeat: Infinity }}\n            />\n            {getProviderIcon()}\n          </div>\n          <span className=\"text-white/70 text-xs font-medium\">\n            {getProviderDisplayName()}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  // Expanded provider view with full status\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div className=\"flex items-center gap-3\">\n          {/* Provider icon with status glow */}\n          <div\n            className=\"w-12 h-12 rounded-full flex items-center justify-center relative\"\n            style={{\n              background: `linear-gradient(135deg, ${getStatusColor()}20 0%, ${getStatusColor()}10 100%)`,\n            }}\n          >\n            {providerType === 'lynkr' && <Wifi className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {providerType === 'local' && <Cpu className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {providerType === 'cloud' && <Cloud className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {/* Pulse ring for connecting state */}\n            {status === 'connecting' && !prefersReducedMotion && (\n              <motion.div\n                className=\"absolute inset-0 rounded-full\"\n                style={{ border: `2px solid ${getStatusColor()}` }}\n                animate={{ scale: [1, 1.3], opacity: [0.8, 0] }}\n                transition={{ duration: 1.5, repeat: Infinity }}\n              />\n            )}\n          </div>\n          <div>\n            <DynamicTitle\n              className=\"text-sm\"\n              style={{ color: getStatusColor() }}\n            >\n              {getProviderDisplayName()}\n            </DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs capitalize\">\n              {status}\n              {latencyMs !== undefined && status === 'connected' && (\n                <span className=\"ml-2 text-white/30\">{latencyMs}ms</span>\n              )}\n            </DynamicDescription>\n          </div>\n        </div>\n        {/* Status indicator */}\n        <motion.div\n          className=\"w-3 h-3 rounded-full\"\n          style={{ backgroundColor: getStatusColor() }}\n          animate={\n            status === 'connecting' && !prefersReducedMotion\n              ? { scale: [1, 1.2, 1], opacity: [1, 0.6, 1] }\n              : {}\n          }\n          transition={{ duration: 1, repeat: Infinity }}\n        />\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction TimerContent({ expanded }: { expanded: boolean }) {\n  const [time, setTime] = useState(125); // 2:05 in seconds\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime((t) => Math.max(0, t - 1));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const minutes = Math.floor(time / 60);\n  const seconds = time % 60;\n  const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n\n  if (!expanded) {\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <Timer className=\"w-4 h-4\" style={{ color: 'hsl(var(--theme-primary))' }} />\n          <span\n            className=\"text-sm font-bold tabular-nums\"\n            style={{ color: 'hsl(var(--theme-primary))' }}\n          >\n            {display}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div\n          className=\"w-12 h-12 rounded-full flex items-center justify-center\"\n          style={{\n            background: 'linear-gradient(135deg, hsl(var(--theme-primary) / 0.2) 0%, hsl(var(--theme-accent) / 0.2) 100%)',\n          }}\n        >\n          <Timer className=\"w-6 h-6\" style={{ color: 'hsl(var(--theme-primary))' }} />\n        </div>\n        <div className=\"flex-1\">\n          <span\n            className=\"text-3xl font-bold tabular-nums\"\n            style={{ color: 'hsl(var(--theme-primary))' }}\n          >\n            {display}\n          </span>\n        </div>\n        <motion.button\n          whileTap={{ scale: 0.9 }}\n          className=\"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center\"\n        >\n          <X className=\"w-5 h-5 text-white/70\" />\n        </motion.button>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction CallContent({ expanded }: { expanded: boolean }) {\n  if (!expanded) {\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <motion.div\n              className=\"w-2 h-2 rounded-full bg-green-400\"\n              animate={{ scale: [1, 1.2, 1], opacity: [1, 0.7, 1] }}\n              transition={{ duration: 1, repeat: Infinity }}\n            />\n            <Phone className=\"w-4 h-4 text-green-400\" />\n          </div>\n          <span className=\"text-white/70 text-xs font-medium\">12:34</span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center\">\n            <Phone className=\"w-6 h-6 text-white\" />\n          </div>\n          <div>\n            <DynamicTitle className=\"text-white text-sm\">Incoming Call</DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs\">Mobile â€¢ 12:34</DynamicDescription>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <motion.button\n            whileTap={{ scale: 0.9 }}\n            className=\"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5 text-white\" />\n          </motion.button>\n          <motion.button\n            whileTap={{ scale: 0.9 }}\n            className=\"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center\"\n          >\n            <Phone className=\"w-5 h-5 text-white\" />\n          </motion.button>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction RecordingContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center justify-between w-full\">\n        <div className=\"flex items-center gap-2\">\n          <motion.div\n            className=\"w-2 h-2 rounded-full bg-red-500\"\n            animate={{ opacity: [1, 0.3, 1] }}\n            transition={{ duration: 1, repeat: Infinity }}\n          />\n          <Mic className=\"w-4 h-4 text-red-400\" />\n        </div>\n        <span className=\"text-white/70 text-xs font-medium\">Recording...</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction SuccessContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center gap-2\">\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\"\n        >\n          <Check className=\"w-3 h-3 text-white\" />\n        </motion.div>\n        <span className=\"text-green-400 text-xs font-medium\">Success</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction LoadingContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center gap-2\">\n        <motion.div\n          className=\"w-4 h-4 border-2 border-white/20 rounded-full\"\n          style={{ borderTopColor: 'hsl(var(--theme-primary))' }}\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n        />\n        <span className=\"text-white/50 text-xs font-medium\">Loading...</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction RalphModeContent({ ralph }: { ralph?: { iteration: number; maxIterations: number; description: string } }) {\n  const prefersReducedMotion = useReducedMotion();\n\n  if (!ralph) return null;\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center gap-3 w-full\">\n        {/* Animated icon */}\n        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0\">\n          <motion.div\n            animate={prefersReducedMotion ? {} : { rotate: 360 }}\n            transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\n          >\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\">\n              <path d=\"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83\" />\n            </svg>\n          </motion.div>\n        </div>\n\n        {/* Status text */}\n        <div className=\"flex-1 min-w-0\">\n          <DynamicTitle className=\"text-white text-sm\">\n            Refining {ralph.iteration}/{ralph.maxIterations}\n          </DynamicTitle>\n          <DynamicDescription className=\"text-white/50 text-xs truncate\">\n            {ralph.description}\n          </DynamicDescription>\n        </div>\n\n        {/* Progress indicator */}\n        <div className=\"w-8 h-8 relative flex-shrink-0\">\n          <svg className=\"w-8 h-8 -rotate-90\" viewBox=\"0 0 32 32\">\n            <circle\n              cx=\"16\"\n              cy=\"16\"\n              r=\"12\"\n              stroke=\"rgba(255,255,255,0.1)\"\n              strokeWidth=\"3\"\n              fill=\"none\"\n            />\n            <motion.circle\n              cx=\"16\"\n              cy=\"16\"\n              r=\"12\"\n              stroke=\"url(#ralph-gradient)\"\n              strokeWidth=\"3\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              strokeDasharray={75.4}\n              initial={{ strokeDashoffset: 75.4 }}\n              animate={{ strokeDashoffset: 75.4 * (1 - ralph.iteration / ralph.maxIterations) }}\n              transition={{ duration: 0.5 }}\n            />\n            <defs>\n              <linearGradient id=\"ralph-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                <stop offset=\"0%\" stopColor=\"#818cf8\" />\n                <stop offset=\"100%\" stopColor=\"#a855f7\" />\n              </linearGradient>\n            </defs>\n          </svg>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\n// ============================================================================\n// Main DynamicIsland Component\n// ============================================================================\n\ninterface DynamicIslandProps {\n  id?: string;\n  className?: string;\n  children?: ReactNode;\n}\n\nexport function DynamicIsland({ id, className = '', children }: DynamicIslandProps) {\n  const { state, expand, collapse } = useDynamicIsland();\n  const { isPlaying } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n  const [isHovered, setIsHovered] = useState(false);\n\n  const { size, contentType, notification } = state;\n  const isExpanded = ['large', 'tall', 'long', 'medium', 'ultra'].includes(size);\n  const preset = SIZE_PRESETS[size];\n\n  // Auto-expand for music when playing\n  useEffect(() => {\n    if (isPlaying && contentType === 'idle') {\n      // Don't auto-expand, just show music indicator\n    }\n  }, [isPlaying, contentType]);\n\n  // Handle hover to expand music\n  useEffect(() => {\n    if (isHovered && isPlaying && size === 'default') {\n      expand();\n    } else if (!isHovered && size === 'large' && contentType !== 'notification') {\n      collapse();\n    }\n  }, [isHovered, isPlaying, size, contentType, expand, collapse]);\n\n  const handleClick = () => {\n    if (size === 'default' || size === 'compact') {\n      expand();\n    } else {\n      collapse();\n    }\n  };\n\n  // Animation variants\n  const containerVariants: Variants = {\n    initial: {\n      width: SIZE_PRESETS.default.width,\n      height: SIZE_PRESETS.default.height,\n    },\n    animate: {\n      width: preset.width,\n      height: preset.height,\n      transition: prefersReducedMotion\n        ? { duration: 0.2 }\n        : {\n            type: 'spring',\n            stiffness: 400,\n            damping: 30,\n          },\n    },\n  };\n\n  // Render appropriate content\n  const renderContent = () => {\n    if (children) return children;\n\n    switch (contentType) {\n      case 'music':\n        return <MusicContent expanded={isExpanded} />;\n      case 'notification':\n        return <NotificationContent notification={notification} />;\n      case 'timer':\n        return <TimerContent expanded={isExpanded} />;\n      case 'call':\n        return <CallContent expanded={isExpanded} />;\n      case 'recording':\n        return <RecordingContent />;\n      case 'success':\n        return <SuccessContent />;\n      case 'loading':\n        return <LoadingContent />;\n      case 'ralph':\n        return <RalphModeContent ralph={state.ralph} />;\n      case 'provider':\n        return <ProviderContent expanded={isExpanded} />;\n      default:\n        // If music is playing, show music content\n        if (isPlaying) {\n          return <MusicContent expanded={isExpanded} />;\n        }\n        return <IdleContent />;\n    }\n  };\n\n  return (\n    <motion.div\n      id={id}\n      className={`dynamic-island relative cursor-pointer select-none ${className}`}\n      variants={containerVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n      onClick={handleClick}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      role=\"status\"\n      aria-label=\"Dynamic Island\"\n      style={{\n        transformOrigin: 'top center',\n      }}\n    >\n      {/* Background with glass effect */}\n      <motion.div\n        className=\"absolute inset-0 overflow-hidden\"\n        style={{\n          borderRadius: isExpanded ? 32 : 20,\n          background: 'linear-gradient(180deg, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.95) 100%)',\n          boxShadow: `\n            0 4px 30px rgba(0, 0, 0, 0.3),\n            inset 0 1px 0 rgba(255, 255, 255, 0.1),\n            0 0 0 1px rgba(255, 255, 255, 0.05)\n          `,\n        }}\n        layout\n      />\n\n      {/* Subtle glow effect when active */}\n      {(isPlaying || contentType !== 'idle') && !prefersReducedMotion && (\n        <motion.div\n          className=\"absolute inset-0 pointer-events-none\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 0.6 }}\n          style={{\n            borderRadius: isExpanded ? 32 : 20,\n            background: `radial-gradient(ellipse at center, hsl(var(--theme-primary) / 0.15) 0%, transparent 70%)`,\n            filter: 'blur(15px)',\n          }}\n        />\n      )}\n\n      {/* Content */}\n      <AnimatePresence mode=\"wait\">\n        <motion.div\n          key={`${size}-${contentType}`}\n          className=\"relative h-full w-full\"\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.9 }}\n          transition={{ duration: 0.15 }}\n        >\n          {renderContent()}\n        </motion.div>\n      </AnimatePresence>\n\n      {/* Expand indicator */}\n      {isExpanded && (\n        <motion.div\n          className=\"absolute -bottom-6 left-1/2 -translate-x-1/2\"\n          initial={{ opacity: 0, y: -5 }}\n          animate={{ opacity: 0.5, y: 0 }}\n          exit={{ opacity: 0 }}\n        >\n          <ChevronDown className=\"w-4 h-4 text-white/30\" />\n        </motion.div>\n      )}\n\n      {/* Breathing animation for idle state */}\n      {contentType === 'idle' && !isPlaying && !prefersReducedMotion && (\n        <motion.div\n          className=\"absolute inset-0 pointer-events-none\"\n          style={{\n            borderRadius: 20,\n            border: '1px solid rgba(255, 255, 255, 0.1)',\n          }}\n          animate={{\n            scale: [1, 1.02, 1],\n            opacity: [0.3, 0.6, 0.3],\n          }}\n          transition={{\n            duration: 3,\n            repeat: Infinity,\n            ease: 'easeInOut',\n          }}\n        />\n      )}\n    </motion.div>\n  );\n}\n\n// ============================================================================\n// Compact Version (for status bar)\n// ============================================================================\n\nexport function DynamicIslandCompact({ className = '' }: { className?: string }) {\n  const { isPlaying, currentTrack } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n\n  return (\n    <motion.div\n      className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full cursor-pointer ${className}`}\n      style={{\n        background: 'linear-gradient(180deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%)',\n        boxShadow: 'inset 0 1px 0 rgba(255, 255, 255, 0.1)',\n      }}\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n    >\n      {isPlaying ? (\n        <>\n          <motion.div\n            className=\"flex gap-0.5\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            {[...Array(3)].map((_, i) => (\n              <motion.div\n                key={i}\n                className=\"w-0.5 rounded-full\"\n                style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                animate={\n                  prefersReducedMotion\n                    ? { height: '8px' }\n                    : { height: ['4px', '10px', '4px'] }\n                }\n                transition={{\n                  duration: 0.5,\n                  repeat: Infinity,\n                  delay: i * 0.15,\n                }}\n              />\n            ))}\n          </motion.div>\n          <span className=\"text-white/70 text-xs font-medium truncate max-w-[100px]\">\n            {currentTrack.title}\n          </span>\n        </>\n      ) : (\n        <>\n          <div\n            className=\"w-1.5 h-1.5 rounded-full\"\n            style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n          />\n          <span className=\"text-white/50 text-xs font-medium\">James OS</span>\n        </>\n      )}\n    </motion.div>\n  );\n}\n\n","'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { LockScreen } from './LockScreen';\nimport { Desktop } from './Desktop';\nimport { HomeScreenProvider } from '@/context/HomeScreenContext';\nimport { GALLERY_IMAGES } from '@/lib/gallery-images';\n\nconst UNLOCK_KEY = 'openclaw_unlocked';\n\n// Preload images in the background\nfunction preloadImages(urls: string[]): Promise<void[]> {\n  return Promise.all(\n    urls.map(\n      (url) =>\n        new Promise<void>((resolve) => {\n          const img = new Image();\n          img.onload = () => resolve();\n          img.onerror = () => resolve(); // Don't block on errors\n          img.src = url;\n        })\n    )\n  );\n}\n\nfunction IOSHomeContent() {\n  const [isLocked, setIsLocked] = useState(true);\n  const [showDesktop, setShowDesktop] = useState(false);\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [backgroundReady, setBackgroundReady] = useState(false);\n\n  // Check sessionStorage on mount to restore unlock state\n  useEffect(() => {\n    const wasUnlocked = sessionStorage.getItem(UNLOCK_KEY) === 'true';\n    if (wasUnlocked) {\n      setIsLocked(false);\n      setShowDesktop(true);\n    }\n    setIsHydrated(true);\n\n    // Preload home screen backgrounds in parallel\n    const imagesToPreload = [\n      '/8gent-logo.png',\n      ...GALLERY_IMAGES.slice(0, 3).map((img) => img.src),\n    ];\n    preloadImages(imagesToPreload);\n  }, []);\n\n  // Callback when 3D background is ready\n  const handleBackgroundReady = useCallback(() => {\n    setBackgroundReady(true);\n  }, []);\n\n  const handleUnlock = () => {\n    setIsLocked(false);\n    sessionStorage.setItem(UNLOCK_KEY, 'true');\n    // Small delay before showing desktop for smooth transition\n    setTimeout(() => {\n      setShowDesktop(true);\n    }, 100);\n  };\n\n  // Allow re-locking with Escape key (for demo purposes)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && !isLocked) {\n        setShowDesktop(false);\n        sessionStorage.removeItem(UNLOCK_KEY);\n        setTimeout(() => {\n          setIsLocked(true);\n          setBackgroundReady(false);\n        }, 300);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [isLocked]);\n\n  // Don't render until hydrated to avoid flash\n  if (!isHydrated) {\n    return (\n      <div className=\"min-h-screen bg-slate-950\">\n        {/* Show a dark background while hydrating - matches tunnel start */}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 overflow-hidden\">\n      <AnimatePresence mode=\"wait\">\n        {isLocked && (\n          <motion.div\n            key=\"lockscreen\"\n            exit={{\n              opacity: 0,\n              scale: 1.02,\n              filter: 'blur(20px)',\n              y: -30,\n            }}\n            transition={{\n              duration: 0.4,\n              ease: [0.23, 1, 0.32, 1],\n            }}\n          >\n            <LockScreen\n              onUnlock={handleUnlock}\n              onBackgroundReady={handleBackgroundReady}\n              backgroundReady={backgroundReady}\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <Desktop isVisible={showDesktop} />\n    </div>\n  );\n}\n\nexport function IOSHome() {\n  return (\n    <HomeScreenProvider>\n      <IOSHomeContent />\n    </HomeScreenProvider>\n  );\n}\n","'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { useHomeScreen, defaultApps, GridItem, AppItem } from '@/context/HomeScreenContext';\nimport { useControlCenter } from '@/context/ControlCenterContext';\nimport { DraggableAppIcon } from './DraggableAppIcon';\nimport { AppFolder } from './AppFolder';\nimport { StatusBarWatch } from './StatusBarWatch';\nimport { DynamicIsland, DynamicIslandProvider } from './DynamicIsland';\nimport {\n  BookOpen,\n  Palette,\n  FileText,\n  Music,\n  Lock,\n  NotebookText,\n  Camera,\n  FolderKanban,\n  Box,\n  Layers,\n  RotateCcw,\n  Settings,\n  Waves,\n  Users,\n  Navigation,\n  Calendar,\n  Contact,\n  StickyNote,\n  CloudSun,\n  Gamepad2,\n  Terminal,\n  Sparkles,\n  Briefcase,\n  Search,\n  PenTool,\n  Smartphone,\n  Wrench,\n  NotebookPen,\n  CircleDot,\n  GraduationCap,\n  Map,\n  Clapperboard,\n  HeartPulse,\n  BookHeart,\n  UtensilsCrossed,\n  Compass,\n  Target,\n  Globe,\n  MessageSquare,\n  Infinity,\n  Shield,\n  BookOpenCheck,\n  Clock,\n  Bell,\n  Timer,\n  Rotate3d,\n  CircleUser,\n} from 'lucide-react';\nimport { Icons } from '@/components/icons';\nimport { motionConfig } from '@/components/motion/config';\nimport { useRouter } from 'next/navigation';\nimport { GALLERY_IMAGES } from '@/lib/gallery-images';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\n\n// Screensaver rotation interval (60 seconds)\nconst SCREENSAVER_INTERVAL = 60000;\n\ninterface DesktopProps {\n  isVisible: boolean;\n}\n\n// App icons using lucide-react (same style as dock)\nconst AppIconComponents: Record<string, React.ReactNode> = {\n  // Entry/Core apps\n  story: <BookOpen className=\"w-7 h-7\" />,\n  blog: <NotebookText className=\"w-7 h-7\" />,\n  design: <Palette className=\"w-7 h-7\" />,\n  resume: <FileText className=\"w-7 h-7\" />,\n\n  // Create apps\n  music: <Music className=\"w-7 h-7\" />,\n  jamz: <Waves className=\"w-7 h-7\" />,\n  prototyping: <Layers className=\"w-7 h-7\" />,\n  notes: <StickyNote className=\"w-7 h-7\" />,\n  cowrite: <PenTool className=\"w-7 h-7\" />,\n  product: <Box className=\"w-7 h-7\" />,\n  projects: <FolderKanban className=\"w-7 h-7\" />,\n  mockit: <Smartphone className=\"w-7 h-7\" />,\n\n  // Work/Hire apps\n  humans: <Users className=\"w-7 h-7\" />,\n  activity: <Briefcase className=\"w-7 h-7\" />,\n  calendar: <Calendar className=\"w-7 h-7\" />,\n  contacts: <Contact className=\"w-7 h-7\" />,\n\n  // Explore apps\n  photos: <Camera className=\"w-7 h-7\" />,\n  inspirations: <Sparkles className=\"w-7 h-7\" />,\n  way: <Navigation className=\"w-7 h-7\" />,\n\n  // Theme showcases\n  claude: null, // uses imageUrl\n  chatgpt: null, // uses imageUrl\n  utilitarian: <Wrench className=\"w-7 h-7\" />,\n  notebook: <NotebookPen className=\"w-7 h-7\" />,\n  tao: <CircleDot className=\"w-7 h-7\" />,\n  research: <GraduationCap className=\"w-7 h-7\" />,\n  'field-guide': <Map className=\"w-7 h-7\" />,\n\n  // Social/Connect apps\n  github: <Icons.github className=\"w-7 h-7\" />,\n  linkedin: <Icons.linkedin className=\"w-7 h-7\" />,\n  x: <Icons.x className=\"w-7 h-7\" />,\n\n  // Vibes/Fun apps\n  weather: <CloudSun className=\"w-7 h-7\" />,\n  games: <Gamepad2 className=\"w-7 h-7\" />,\n  terminal: <Terminal className=\"w-7 h-7\" />,\n  reels: <Clapperboard className=\"w-7 h-7\" />,\n\n  // System apps\n  skills: <Sparkles className=\"w-7 h-7\" />,\n  vault: <Lock className=\"w-7 h-7\" />,\n  settings: <Settings className=\"w-7 h-7\" />,\n  search: <Search className=\"w-7 h-7\" />,\n\n  // Neurodiversity apps\n  regulation: <HeartPulse className=\"w-7 h-7\" />,\n  journal: <BookHeart className=\"w-7 h-7\" />,\n  food: <UtensilsCrossed className=\"w-7 h-7\" />,\n  sidequests: <Compass className=\"w-7 h-7\" />,\n  hyperfocus: <Target className=\"w-7 h-7\" />,\n\n  // Research & Knowledge apps\n  'research-app': <Globe className=\"w-7 h-7\" />,\n\n  // Missing icons - added for completeness\n  agent: <Infinity className=\"w-7 h-7\" />,\n  canvas: <Layers className=\"w-7 h-7\" />,\n  messages: <MessageSquare className=\"w-7 h-7\" />,\n  '3d-gallery': <Rotate3d className=\"w-7 h-7\" />,\n  avatar: <CircleUser className=\"w-7 h-7\" />,\n  'bubble-timer': <Timer className=\"w-7 h-7\" />,\n  security: <Shield className=\"w-7 h-7\" />,\n  wiki: <BookOpenCheck className=\"w-7 h-7\" />,\n  watch: <Clock className=\"w-7 h-7\" />,\n  updates: <Bell className=\"w-7 h-7\" />,\n  browser: <Globe className=\"w-7 h-7\" />,\n  threads: null, // uses imageUrl\n};\n\n// Helper to get icon for an app\nfunction getAppIcon(appId: string): React.ReactNode {\n  return AppIconComponents[appId] || null;\n}\n\n// Enrich app with icon\nfunction enrichAppWithIcon(app: AppItem): AppItem {\n  return {\n    ...app,\n    icon: getAppIcon(app.id),\n  };\n}\n\nexport function Desktop({ isVisible }: DesktopProps) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const prefersReducedMotion = useReducedMotion();\n  const [focusedAppIndex, setFocusedAppIndex] = useState(0);\n  const { open: openControlCenter } = useControlCenter();\n  const [backgroundIndex, setBackgroundIndex] = useState(0);\n  const gridRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const {\n    gridItems,\n    isEditMode,\n    exitEditMode,\n    resetToDefault,\n  } = useHomeScreen();\n\n  const { getUnreadCountForApp, markAppNotificationsRead } = useSessionBrain();\n\n  // Handle app open - mark notifications as read\n  const handleAppOpen = useCallback((appId: string) => {\n    markAppNotificationsRead(appId);\n  }, [markAppNotificationsRead]);\n\n  // Time update\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Screensaver: rotate background every 60 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBackgroundIndex((prev) => (prev + 1) % GALLERY_IMAGES.length);\n    }, SCREENSAVER_INTERVAL);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle keyboard navigation for app grid\n  const handleGridKeyDown = useCallback((e: React.KeyboardEvent) => {\n    const columns = 4;\n    const itemCount = gridItems.length;\n    let newIndex = focusedAppIndex;\n    let handled = false;\n\n    switch (e.key) {\n      case 'ArrowRight':\n        newIndex = (focusedAppIndex + 1) % itemCount;\n        handled = true;\n        break;\n      case 'ArrowLeft':\n        newIndex = (focusedAppIndex - 1 + itemCount) % itemCount;\n        handled = true;\n        break;\n      case 'ArrowDown':\n        newIndex = Math.min(focusedAppIndex + columns, itemCount - 1);\n        handled = true;\n        break;\n      case 'ArrowUp':\n        newIndex = Math.max(focusedAppIndex - columns, 0);\n        handled = true;\n        break;\n      case 'Home':\n        newIndex = 0;\n        handled = true;\n        break;\n      case 'End':\n        newIndex = itemCount - 1;\n        handled = true;\n        break;\n      case 'Enter':\n      case ' ':\n        // Activate the focused app\n        const item = gridItems[focusedAppIndex];\n        if (item && item.type === 'app' && item.item.href) {\n          e.preventDefault();\n          router.push(item.item.href);\n        }\n        return;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      setFocusedAppIndex(newIndex);\n      // Focus the app icon\n      const icons = gridRef.current?.querySelectorAll<HTMLElement>('[data-app-icon]');\n      icons?.[newIndex]?.focus();\n    }\n  }, [focusedAppIndex, gridItems, router]);\n\n  // Close edit mode when clicking outside or pressing escape\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        if (isEditMode) {\n          exitEditMode();\n        } else {\n          // Global escape to go back\n          router.back();\n        }\n      }\n    };\n\n    const handleClickOutside = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      // Check if click is on the background area, not on icons\n      if (isEditMode && target.closest('.app-grid-container') === null && !target.closest('.edit-mode-toolbar')) {\n        exitEditMode();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('mousedown', handleClickOutside);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isEditMode, exitEditMode, router]);\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    });\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 z-20 flex flex-col\"\n      initial={prefersReducedMotion ? { opacity: 0 } : { opacity: 0, scale: 0.95, filter: 'blur(20px)' }}\n      animate={prefersReducedMotion ? { opacity: 1 } : { opacity: 1, scale: 1, filter: 'blur(0px)' }}\n      transition={prefersReducedMotion ? { duration: 0.15 } : { duration: 0.5, ease: motionConfig.ease.smooth }}\n    >\n      {/* Screensaver background with crossfade */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <AnimatePresence mode=\"sync\">\n          <motion.div\n            key={backgroundIndex}\n            className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n            style={{\n              backgroundImage: `url(${GALLERY_IMAGES[backgroundIndex].src})`,\n            }}\n            initial={{ opacity: 0, scale: 1.05 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 1.5, ease: 'easeInOut' }}\n          />\n        </AnimatePresence>\n      </div>\n\n      {/* Dark overlay for readability */}\n      <div className=\"absolute inset-0 bg-black/30\" />\n\n      {/* Edit Mode Indicator */}\n      <AnimatePresence>\n        {isEditMode && (\n          <motion.div\n            className=\"edit-mode-toolbar absolute top-20 left-1/2 z-50\"\n            initial={{ opacity: 0, y: -20, x: '-50%' }}\n            animate={{ opacity: 1, y: 0, x: '-50%' }}\n            exit={{ opacity: 0, y: -20, x: '-50%' }}\n            role=\"toolbar\"\n            aria-label=\"Edit mode controls\"\n          >\n            <LiquidGlass\n              variant=\"floating\"\n              intensity=\"medium\"\n              className=\"!px-4 !py-2 !rounded-full flex items-center gap-3\"\n              rippleEffect={false}\n            >\n              <span className=\"text-white/80 text-sm font-medium\" aria-live=\"polite\">Edit Mode</span>\n              <div className=\"w-px h-4 bg-white/20\" aria-hidden=\"true\" />\n              <button\n                onClick={resetToDefault}\n                className=\"text-white/60 hover:text-white transition-colors flex items-center gap-1.5 text-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-md px-2 py-1\"\n                aria-label=\"Reset to default layout\"\n              >\n                <RotateCcw className=\"w-3.5 h-3.5\" aria-hidden=\"true\" />\n                Reset\n              </button>\n              <button\n                onClick={exitEditMode}\n                className=\"text-white/90 hover:text-white transition-colors text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-md px-2 py-1\"\n                aria-label=\"Exit edit mode\"\n              >\n                Done\n              </button>\n            </LiquidGlass>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Status Bar - iPhone style with Dynamic Island */}\n      <DynamicIslandProvider>\n        <motion.header\n          className=\"relative z-30 flex items-start justify-between px-6 pt-3 pb-2 text-white/80\"\n          initial={prefersReducedMotion ? false : { opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={prefersReducedMotion ? { duration: 0.15 } : { delay: 0.2 }}\n          role=\"banner\"\n          aria-label=\"System status bar\"\n        >\n          {/* Left - Watch */}\n          <StatusBarWatch />\n\n          {/* Center - Dynamic Island (prominent, like iPhone) */}\n          <div className=\"flex-1 flex justify-center -mt-1\">\n            <DynamicIsland className=\"z-50\" />\n          </div>\n\n          {/* Right - Tap area to open Control Center (icons are inside the shelf) */}\n          <button\n            onClick={openControlCenter}\n            className=\"w-16 h-8 flex items-center justify-end pt-2\"\n            aria-label=\"Open Control Center\"\n          >\n            {/* Subtle grip indicator */}\n            <div className=\"w-1 h-4 rounded-full bg-white/20\" />\n          </button>\n        </motion.header>\n      </DynamicIslandProvider>\n\n      {/* Main Content Area */}\n      <div className=\"relative z-10 flex-1 flex flex-col items-center justify-center px-6 pb-24\">\n        {/* Welcome Message */}\n        <motion.div\n          className=\"text-center mb-12\"\n          initial={prefersReducedMotion ? false : { opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={prefersReducedMotion ? { duration: 0.15 } : { delay: 0.15 }}\n        >\n          <h1 className=\"text-white text-3xl sm:text-4xl font-bold mb-2\">\n            Welcome to 8gent\n          </h1>\n          <p className=\"text-white/50 text-sm sm:text-base\">\n            {isEditMode ? 'Long press and drag to rearrange â€¢ Drag icon onto another to create folder' : 'Your agentic workspace'}\n          </p>\n        </motion.div>\n\n        {/* App Grid - 4 columns, 3 rows with folders */}\n        <div\n          ref={gridRef}\n          className=\"app-grid-container grid grid-cols-4 gap-4 sm:gap-6 max-w-md sm:max-w-lg\"\n          role=\"grid\"\n          aria-label=\"Application grid\"\n          onKeyDown={handleGridKeyDown}\n        >\n          {gridItems.map((gridItem, index) => {\n            if (gridItem.type === 'folder') {\n              return (\n                <AppFolder\n                  key={gridItem.item.id}\n                  folder={{\n                    ...gridItem.item,\n                    apps: gridItem.item.apps.map(enrichAppWithIcon),\n                  }}\n                  index={index}\n                  delay={0.1}\n                />\n              );\n            } else {\n              const app = enrichAppWithIcon(gridItem.item);\n              return (\n                <DraggableAppIcon\n                  key={app.id}\n                  app={app}\n                  index={index}\n                  delay={0.1}\n                  tabIndex={index === focusedAppIndex ? 0 : -1}\n                  onFocus={() => setFocusedAppIndex(index)}\n                  notificationCount={getUnreadCountForApp(app.id)}\n                  onAppOpen={handleAppOpen}\n                />\n              );\n            }\n          })}\n        </div>\n      </div>\n\n      {/* Bottom Safe Area for Dock */}\n      <div className=\"h-24\" />\n    </motion.div>\n  );\n}\n","export { IOSHome } from './IOSHome';\nexport { LockScreen } from './LockScreen';\nexport { Desktop } from './Desktop';\nexport { AppIcon, AppIcons, AppGradients, AppImages, APP_TRANSITION_KEY } from './AppIcon';\nexport { PageTransition } from './PageTransition';\nexport { PageTransitionWrapper } from './PageTransitionWrapper';\n"],"names":[],"mappings":"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","ignoreList":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}