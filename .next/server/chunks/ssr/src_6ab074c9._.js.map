{"version":3,"sources":["../../../../src/context/SessionBrainContext.tsx","../../../../src/context/HomeScreenContext.tsx","../../../../src/context/ControlCenterContext.tsx","../../../../src/hooks/useProviderStatus.ts"],"sourcesContent":["'use client';\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  useReducer,\n  ReactNode,\n} from 'react';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface Brief {\n  problem: string;\n  audience: string;\n  currentWorkaround: string;\n  desiredOutcome: string;\n  constraints: string[];\n}\n\nexport interface PRD {\n  goals: string[];\n  nonGoals: string[];\n  keyWorkflows: string[];\n  scopeMvp: string[];\n  risks: string[];\n  successMetrics: string[];\n}\n\nexport interface Prototype {\n  screens: string[];\n  primaryFlow: string;\n  dataInputs: string[];\n  notes: string;\n}\n\nexport interface DesignDirection {\n  toneWords: string[];\n  uiDensity: 'compact' | 'comfortable' | 'spacious';\n  typographyNotes: string;\n  componentRules: string[];\n  selectedTheme?: string;\n}\n\nexport interface Draft {\n  brief: Brief;\n  prd: PRD;\n  prototype: Prototype;\n  designDirection: DesignDirection;\n}\n\nexport interface ChatMessage {\n  id: string;\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp: number;\n  metadata?: {\n    model?: string;\n    tokens?: number;\n    draftUpdates?: string[]; // Which draft fields were updated by this message\n  };\n}\n\nexport interface SessionEvent {\n  id: string;\n  type: string;\n  payload: unknown;\n  timestamp: number;\n  source: 'user' | 'ai';\n}\n\nexport interface Notification {\n  id: string;\n  appId: string;\n  type: 'update' | 'complete' | 'suggestion' | 'reminder';\n  title: string;\n  body?: string;\n  count: number;\n  createdAt: number;\n  readAt?: number;\n}\n\nexport interface SessionState {\n  sessionId: string;\n  createdAt: number;\n  lastModified: number;\n  draft: Draft;\n  chatHistory: ChatMessage[];\n  eventLog: SessionEvent[];\n  notifications: Notification[];\n}\n\nexport type DynamicIslandState =\n  | 'idle'\n  | 'planning'\n  | 'drafting-brief'\n  | 'drafting-prd'\n  | 'preparing-prototype'\n  | 'ready'\n  | 'previewing';\n\nexport interface DynamicIslandStatus {\n  state: DynamicIslandState;\n  label: string;\n  progress?: { current: number; total: number };\n  previewApp?: string;\n}\n\n// ============================================================================\n// Default Values\n// ============================================================================\n\nconst createDefaultBrief = (): Brief => ({\n  problem: '',\n  audience: '',\n  currentWorkaround: '',\n  desiredOutcome: '',\n  constraints: [],\n});\n\nconst createDefaultPRD = (): PRD => ({\n  goals: [],\n  nonGoals: [],\n  keyWorkflows: [],\n  scopeMvp: [],\n  risks: [],\n  successMetrics: [],\n});\n\nconst createDefaultPrototype = (): Prototype => ({\n  screens: [],\n  primaryFlow: '',\n  dataInputs: [],\n  notes: '',\n});\n\nconst createDefaultDesignDirection = (): DesignDirection => ({\n  toneWords: [],\n  uiDensity: 'comfortable',\n  typographyNotes: '',\n  componentRules: [],\n});\n\nconst createDefaultDraft = (): Draft => ({\n  brief: createDefaultBrief(),\n  prd: createDefaultPRD(),\n  prototype: createDefaultPrototype(),\n  designDirection: createDefaultDesignDirection(),\n});\n\nconst generateSessionId = (): string => {\n  return `session_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n};\n\nconst createDefaultSession = (): SessionState => ({\n  sessionId: generateSessionId(),\n  createdAt: Date.now(),\n  lastModified: Date.now(),\n  draft: createDefaultDraft(),\n  chatHistory: [],\n  eventLog: [],\n  notifications: [],\n});\n\n// ============================================================================\n// Storage Keys\n// ============================================================================\n\nconst STORAGE_KEY = 'openclaw_session';\nconst ISLAND_STATE_KEY = 'openclaw_island_state';\n\n// ============================================================================\n// Event Types\n// ============================================================================\n\nexport const EventTypes = {\n  // Brief events\n  BRIEF_PROBLEM_UPDATED: 'draft.brief.problem.updated',\n  BRIEF_AUDIENCE_UPDATED: 'draft.brief.audience.updated',\n  BRIEF_WORKAROUND_UPDATED: 'draft.brief.workaround.updated',\n  BRIEF_OUTCOME_UPDATED: 'draft.brief.outcome.updated',\n  BRIEF_CONSTRAINTS_UPDATED: 'draft.brief.constraints.updated',\n  BRIEF_COMPLETED: 'draft.brief.completed',\n\n  // PRD events\n  PRD_GOALS_UPDATED: 'draft.prd.goals.updated',\n  PRD_NONGOALS_UPDATED: 'draft.prd.nongoals.updated',\n  PRD_WORKFLOWS_UPDATED: 'draft.prd.workflows.updated',\n  PRD_SCOPE_UPDATED: 'draft.prd.scope.updated',\n  PRD_RISKS_UPDATED: 'draft.prd.risks.updated',\n  PRD_METRICS_UPDATED: 'draft.prd.metrics.updated',\n  PRD_COMPLETED: 'draft.prd.completed',\n\n  // Prototype events\n  PROTOTYPE_SCREENS_UPDATED: 'draft.prototype.screens.updated',\n  PROTOTYPE_FLOW_UPDATED: 'draft.prototype.flow.updated',\n  PROTOTYPE_INPUTS_UPDATED: 'draft.prototype.inputs.updated',\n  PROTOTYPE_NOTES_UPDATED: 'draft.prototype.notes.updated',\n\n  // Design events\n  DESIGN_DIRECTION_UPDATED: 'draft.design.updated',\n  DESIGN_THEME_SELECTED: 'draft.design.theme.selected',\n\n  // Session events\n  SESSION_SAVED: 'session.saved',\n  SESSION_LOADED: 'session.loaded',\n  SESSION_RESET: 'session.reset',\n\n  // Notification events\n  NOTIFICATION_CREATED: 'notification.created',\n  NOTIFICATION_READ: 'notification.read',\n  NOTIFICATIONS_CLEARED: 'notifications.cleared',\n} as const;\n\n// ============================================================================\n// Reducer\n// ============================================================================\n\ntype SessionAction =\n  | { type: 'SET_SESSION'; payload: SessionState }\n  | { type: 'UPDATE_BRIEF'; payload: Partial<Brief> }\n  | { type: 'UPDATE_PRD'; payload: Partial<PRD> }\n  | { type: 'UPDATE_PROTOTYPE'; payload: Partial<Prototype> }\n  | { type: 'UPDATE_DESIGN_DIRECTION'; payload: Partial<DesignDirection> }\n  | { type: 'ADD_EVENT'; payload: SessionEvent }\n  | { type: 'ADD_CHAT_MESSAGE'; payload: ChatMessage }\n  | { type: 'CLEAR_CHAT_HISTORY' }\n  | { type: 'ADD_NOTIFICATION'; payload: Notification }\n  | { type: 'MARK_NOTIFICATION_READ'; payload: string }\n  | { type: 'MARK_APP_NOTIFICATIONS_READ'; payload: string }\n  | { type: 'CLEAR_NOTIFICATIONS' }\n  | { type: 'RESET_SESSION' };\n\nfunction sessionReducer(state: SessionState, action: SessionAction): SessionState {\n  const now = Date.now();\n\n  switch (action.type) {\n    case 'SET_SESSION':\n      return action.payload;\n\n    case 'UPDATE_BRIEF':\n      return {\n        ...state,\n        lastModified: now,\n        draft: {\n          ...state.draft,\n          brief: { ...state.draft.brief, ...action.payload },\n        },\n      };\n\n    case 'UPDATE_PRD':\n      return {\n        ...state,\n        lastModified: now,\n        draft: {\n          ...state.draft,\n          prd: { ...state.draft.prd, ...action.payload },\n        },\n      };\n\n    case 'UPDATE_PROTOTYPE':\n      return {\n        ...state,\n        lastModified: now,\n        draft: {\n          ...state.draft,\n          prototype: { ...state.draft.prototype, ...action.payload },\n        },\n      };\n\n    case 'UPDATE_DESIGN_DIRECTION':\n      return {\n        ...state,\n        lastModified: now,\n        draft: {\n          ...state.draft,\n          designDirection: { ...state.draft.designDirection, ...action.payload },\n        },\n      };\n\n    case 'ADD_EVENT':\n      return {\n        ...state,\n        lastModified: now,\n        eventLog: [...state.eventLog, action.payload],\n      };\n\n    case 'ADD_CHAT_MESSAGE':\n      return {\n        ...state,\n        lastModified: now,\n        chatHistory: [...state.chatHistory, action.payload],\n      };\n\n    case 'CLEAR_CHAT_HISTORY':\n      return {\n        ...state,\n        lastModified: now,\n        chatHistory: [],\n      };\n\n    case 'ADD_NOTIFICATION':\n      return {\n        ...state,\n        notifications: [...state.notifications, action.payload],\n      };\n\n    case 'MARK_NOTIFICATION_READ':\n      return {\n        ...state,\n        notifications: state.notifications.map((n) =>\n          n.id === action.payload ? { ...n, readAt: now } : n\n        ),\n      };\n\n    case 'MARK_APP_NOTIFICATIONS_READ':\n      return {\n        ...state,\n        notifications: state.notifications.map((n) =>\n          n.appId === action.payload && !n.readAt ? { ...n, readAt: now } : n\n        ),\n      };\n\n    case 'CLEAR_NOTIFICATIONS':\n      return {\n        ...state,\n        notifications: [],\n      };\n\n    case 'RESET_SESSION':\n      return createDefaultSession();\n\n    default:\n      return state;\n  }\n}\n\n// ============================================================================\n// Context\n// ============================================================================\n\ninterface SessionBrainContextValue {\n  // State\n  session: SessionState;\n  isLoaded: boolean;\n\n  // Dynamic Island\n  islandStatus: DynamicIslandStatus;\n  setIslandState: (state: DynamicIslandState, label?: string) => void;\n  setIslandProgress: (current: number, total: number) => void;\n  setPreviewApp: (appName: string | null) => void;\n\n  // Draft updates\n  updateBrief: (updates: Partial<Brief>) => void;\n  updatePRD: (updates: Partial<PRD>) => void;\n  updatePrototype: (updates: Partial<Prototype>) => void;\n  updateDesignDirection: (updates: Partial<DesignDirection>) => void;\n\n  // Event bus\n  emitEvent: (type: string, payload: unknown, source?: 'user' | 'ai') => void;\n\n  // Chat history\n  addChatMessage: (\n    role: ChatMessage['role'],\n    content: string,\n    metadata?: ChatMessage['metadata']\n  ) => ChatMessage;\n  clearChatHistory: () => void;\n  getChatHistory: () => ChatMessage[];\n\n  // Notifications\n  addNotification: (\n    appId: string,\n    type: Notification['type'],\n    title: string,\n    body?: string\n  ) => void;\n  markNotificationRead: (id: string) => void;\n  markAppNotificationsRead: (appId: string) => void;\n  clearNotifications: () => void;\n  getUnreadCountForApp: (appId: string) => number;\n  getTotalUnreadCount: () => number;\n\n  // Session management\n  resetSession: () => void;\n  exportDraft: () => string;\n  importDraft: (data: string) => boolean;\n\n  // Save/Load\n  getSavePayload: () => {\n    sessionId: string;\n    draft: Draft;\n    chatHistory: ChatMessage[];\n    eventLog: SessionEvent[];\n  };\n  loadFromSaved: (data: {\n    draft: Draft;\n    chatHistory?: ChatMessage[];\n    eventLog?: SessionEvent[];\n  }) => void;\n}\n\nconst SessionBrainContext = createContext<SessionBrainContextValue | null>(null);\n\n// ============================================================================\n// Provider\n// ============================================================================\n\ninterface SessionBrainProviderProps {\n  children: ReactNode;\n}\n\nexport function SessionBrainProvider({ children }: SessionBrainProviderProps) {\n  const [session, dispatch] = useReducer(sessionReducer, createDefaultSession());\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [islandStatus, setIslandStatus] = useState<DynamicIslandStatus>({\n    state: 'idle',\n    label: 'Ready',\n  });\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        dispatch({ type: 'SET_SESSION', payload: parsed });\n      }\n    } catch (e) {\n      console.error('Failed to load session from localStorage:', e);\n    }\n    setIsLoaded(true);\n  }, []);\n\n  // Save to localStorage on changes (debounced)\n  useEffect(() => {\n    if (!isLoaded) return;\n\n    const timeoutId = setTimeout(() => {\n      try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(session));\n      } catch (e) {\n        console.error('Failed to save session to localStorage:', e);\n      }\n    }, 500);\n\n    return () => clearTimeout(timeoutId);\n  }, [session, isLoaded]);\n\n  // Dynamic Island state management\n  const setIslandState = useCallback((state: DynamicIslandState, label?: string) => {\n    const labels: Record<DynamicIslandState, string> = {\n      idle: 'Ready',\n      planning: 'Planning...',\n      'drafting-brief': 'Drafting brief',\n      'drafting-prd': 'Drafting PRD',\n      'preparing-prototype': 'Preparing prototype',\n      ready: 'Draft ready',\n      previewing: 'Previewing',\n    };\n\n    setIslandStatus((prev) => ({\n      ...prev,\n      state,\n      label: label || labels[state],\n      previewApp: state === 'previewing' ? prev.previewApp : undefined,\n    }));\n  }, []);\n\n  const setIslandProgress = useCallback((current: number, total: number) => {\n    setIslandStatus((prev) => ({\n      ...prev,\n      progress: { current, total },\n    }));\n  }, []);\n\n  const setPreviewApp = useCallback((appName: string | null) => {\n    if (appName) {\n      setIslandStatus({\n        state: 'previewing',\n        label: `Previewing ${appName}`,\n        previewApp: appName,\n      });\n    } else {\n      setIslandStatus((prev) => ({\n        ...prev,\n        state: 'idle',\n        label: 'Ready',\n        previewApp: undefined,\n      }));\n    }\n  }, []);\n\n  // Draft update functions\n  const updateBrief = useCallback((updates: Partial<Brief>) => {\n    dispatch({ type: 'UPDATE_BRIEF', payload: updates });\n  }, []);\n\n  const updatePRD = useCallback((updates: Partial<PRD>) => {\n    dispatch({ type: 'UPDATE_PRD', payload: updates });\n  }, []);\n\n  const updatePrototype = useCallback((updates: Partial<Prototype>) => {\n    dispatch({ type: 'UPDATE_PROTOTYPE', payload: updates });\n  }, []);\n\n  const updateDesignDirection = useCallback((updates: Partial<DesignDirection>) => {\n    dispatch({ type: 'UPDATE_DESIGN_DIRECTION', payload: updates });\n  }, []);\n\n  // Event bus\n  const emitEvent = useCallback((type: string, payload: unknown, source: 'user' | 'ai' = 'user') => {\n    const event: SessionEvent = {\n      id: `event_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`,\n      type,\n      payload,\n      timestamp: Date.now(),\n      source,\n    };\n    dispatch({ type: 'ADD_EVENT', payload: event });\n  }, []);\n\n  // Chat history functions\n  const addChatMessage = useCallback(\n    (\n      role: ChatMessage['role'],\n      content: string,\n      metadata?: ChatMessage['metadata']\n    ): ChatMessage => {\n      const message: ChatMessage = {\n        id: `msg_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`,\n        role,\n        content,\n        timestamp: Date.now(),\n        metadata,\n      };\n      dispatch({ type: 'ADD_CHAT_MESSAGE', payload: message });\n      return message;\n    },\n    []\n  );\n\n  const clearChatHistory = useCallback(() => {\n    dispatch({ type: 'CLEAR_CHAT_HISTORY' });\n  }, []);\n\n  const getChatHistory = useCallback(() => {\n    return session.chatHistory;\n  }, [session.chatHistory]);\n\n  // Notification functions\n  const addNotification = useCallback(\n    (appId: string, type: Notification['type'], title: string, body?: string) => {\n      const notification: Notification = {\n        id: `notif_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`,\n        appId,\n        type,\n        title,\n        body,\n        count: 1,\n        createdAt: Date.now(),\n      };\n      dispatch({ type: 'ADD_NOTIFICATION', payload: notification });\n      emitEvent(EventTypes.NOTIFICATION_CREATED, { appId, type, title });\n    },\n    [emitEvent]\n  );\n\n  const markNotificationRead = useCallback((id: string) => {\n    dispatch({ type: 'MARK_NOTIFICATION_READ', payload: id });\n  }, []);\n\n  const markAppNotificationsRead = useCallback((appId: string) => {\n    dispatch({ type: 'MARK_APP_NOTIFICATIONS_READ', payload: appId });\n  }, []);\n\n  const clearNotifications = useCallback(() => {\n    dispatch({ type: 'CLEAR_NOTIFICATIONS' });\n  }, []);\n\n  const getUnreadCountForApp = useCallback(\n    (appId: string) => {\n      return session.notifications.filter((n) => n.appId === appId && !n.readAt).length;\n    },\n    [session.notifications]\n  );\n\n  const getTotalUnreadCount = useCallback(() => {\n    return session.notifications.filter((n) => !n.readAt).length;\n  }, [session.notifications]);\n\n  // Session management\n  const resetSession = useCallback(() => {\n    dispatch({ type: 'RESET_SESSION' });\n    localStorage.removeItem(STORAGE_KEY);\n    emitEvent(EventTypes.SESSION_RESET, {});\n  }, [emitEvent]);\n\n  const exportDraft = useCallback(() => {\n    const { draft } = session;\n    const markdown = generateDraftMarkdown(draft);\n    return markdown;\n  }, [session]);\n\n  const importDraft = useCallback((data: string) => {\n    try {\n      const parsed = JSON.parse(data);\n      if (parsed.draft) {\n        dispatch({ type: 'SET_SESSION', payload: { ...session, draft: parsed.draft } });\n        return true;\n      }\n      return false;\n    } catch {\n      return false;\n    }\n  }, [session]);\n\n  const getSavePayload = useCallback(() => {\n    return {\n      sessionId: session.sessionId,\n      draft: session.draft,\n      chatHistory: session.chatHistory,\n      eventLog: session.eventLog,\n    };\n  }, [session]);\n\n  const loadFromSaved = useCallback(\n    (data: { draft: Draft; chatHistory?: ChatMessage[]; eventLog?: SessionEvent[] }) => {\n      dispatch({\n        type: 'SET_SESSION',\n        payload: {\n          ...session,\n          draft: data.draft,\n          chatHistory: data.chatHistory || [],\n          eventLog: data.eventLog || [],\n          lastModified: Date.now(),\n        },\n      });\n    },\n    [session]\n  );\n\n  const value: SessionBrainContextValue = {\n    session,\n    isLoaded,\n    islandStatus,\n    setIslandState,\n    setIslandProgress,\n    setPreviewApp,\n    updateBrief,\n    updatePRD,\n    updatePrototype,\n    updateDesignDirection,\n    emitEvent,\n    addChatMessage,\n    clearChatHistory,\n    getChatHistory,\n    addNotification,\n    markNotificationRead,\n    markAppNotificationsRead,\n    clearNotifications,\n    getUnreadCountForApp,\n    getTotalUnreadCount,\n    resetSession,\n    exportDraft,\n    importDraft,\n    getSavePayload,\n    loadFromSaved,\n  };\n\n  return (\n    <SessionBrainContext.Provider value={value}>{children}</SessionBrainContext.Provider>\n  );\n}\n\n// ============================================================================\n// Hook\n// ============================================================================\n\nexport function useSessionBrain() {\n  const context = useContext(SessionBrainContext);\n  if (!context) {\n    throw new Error('useSessionBrain must be used within a SessionBrainProvider');\n  }\n  return context;\n}\n\n// ============================================================================\n// Utilities\n// ============================================================================\n\nfunction generateDraftMarkdown(draft: Draft): string {\n  const lines: string[] = [];\n\n  lines.push('# Project Draft');\n  lines.push('');\n\n  // Brief\n  lines.push('## Brief');\n  lines.push('');\n  if (draft.brief.problem) {\n    lines.push('### Problem');\n    lines.push(draft.brief.problem);\n    lines.push('');\n  }\n  if (draft.brief.audience) {\n    lines.push('### Target Audience');\n    lines.push(draft.brief.audience);\n    lines.push('');\n  }\n  if (draft.brief.currentWorkaround) {\n    lines.push('### Current Workaround');\n    lines.push(draft.brief.currentWorkaround);\n    lines.push('');\n  }\n  if (draft.brief.desiredOutcome) {\n    lines.push('### Desired Outcome');\n    lines.push(draft.brief.desiredOutcome);\n    lines.push('');\n  }\n  if (draft.brief.constraints.length > 0) {\n    lines.push('### Constraints');\n    draft.brief.constraints.forEach((c) => lines.push(`- ${c}`));\n    lines.push('');\n  }\n\n  // PRD\n  lines.push('## Product Requirements');\n  lines.push('');\n  if (draft.prd.goals.length > 0) {\n    lines.push('### Goals');\n    draft.prd.goals.forEach((g) => lines.push(`- ${g}`));\n    lines.push('');\n  }\n  if (draft.prd.nonGoals.length > 0) {\n    lines.push('### Non-Goals');\n    draft.prd.nonGoals.forEach((g) => lines.push(`- ${g}`));\n    lines.push('');\n  }\n  if (draft.prd.keyWorkflows.length > 0) {\n    lines.push('### Key Workflows');\n    draft.prd.keyWorkflows.forEach((w) => lines.push(`- ${w}`));\n    lines.push('');\n  }\n  if (draft.prd.scopeMvp.length > 0) {\n    lines.push('### MVP Scope');\n    draft.prd.scopeMvp.forEach((s) => lines.push(`- ${s}`));\n    lines.push('');\n  }\n  if (draft.prd.risks.length > 0) {\n    lines.push('### Risks');\n    draft.prd.risks.forEach((r) => lines.push(`- ${r}`));\n    lines.push('');\n  }\n  if (draft.prd.successMetrics.length > 0) {\n    lines.push('### Success Metrics');\n    draft.prd.successMetrics.forEach((m) => lines.push(`- ${m}`));\n    lines.push('');\n  }\n\n  // Prototype\n  lines.push('## Prototype Plan');\n  lines.push('');\n  if (draft.prototype.screens.length > 0) {\n    lines.push('### Screens');\n    draft.prototype.screens.forEach((s) => lines.push(`- ${s}`));\n    lines.push('');\n  }\n  if (draft.prototype.primaryFlow) {\n    lines.push('### Primary Flow');\n    lines.push(draft.prototype.primaryFlow);\n    lines.push('');\n  }\n  if (draft.prototype.dataInputs.length > 0) {\n    lines.push('### Data Inputs');\n    draft.prototype.dataInputs.forEach((d) => lines.push(`- ${d}`));\n    lines.push('');\n  }\n  if (draft.prototype.notes) {\n    lines.push('### Notes');\n    lines.push(draft.prototype.notes);\n    lines.push('');\n  }\n\n  // Design Direction\n  lines.push('## Design Direction');\n  lines.push('');\n  if (draft.designDirection.toneWords.length > 0) {\n    lines.push('### Tone');\n    lines.push(draft.designDirection.toneWords.join(', '));\n    lines.push('');\n  }\n  lines.push('### UI Density');\n  lines.push(draft.designDirection.uiDensity);\n  lines.push('');\n  if (draft.designDirection.typographyNotes) {\n    lines.push('### Typography');\n    lines.push(draft.designDirection.typographyNotes);\n    lines.push('');\n  }\n  if (draft.designDirection.componentRules.length > 0) {\n    lines.push('### Component Rules');\n    draft.designDirection.componentRules.forEach((r) => lines.push(`- ${r}`));\n    lines.push('');\n  }\n\n  return lines.join('\\n');\n}\n\n// Export utility for use elsewhere\nexport { generateDraftMarkdown };\n","'use client';\n\nimport React, { createContext, useContext, useState, useCallback, useEffect, ReactNode } from 'react';\n\n// Types\nexport interface AppItem {\n  id: string;\n  name: string;\n  href?: string;\n  icon?: React.ReactNode;\n  imageUrl?: string;\n  gradient: string;\n  external?: boolean;\n  isChat?: boolean;\n}\n\nexport interface FolderItem {\n  id: string;\n  name: string;\n  apps: AppItem[];\n}\n\nexport type GridItem =\n  | { type: 'app'; item: AppItem }\n  | { type: 'folder'; item: FolderItem };\n\ninterface DragState {\n  isDragging: boolean;\n  draggedItem: GridItem | null;\n  draggedIndex: number | null;\n  dropTargetIndex: number | null;\n  dragOffset: { x: number; y: number };\n  dragPosition: { x: number; y: number };\n}\n\ninterface HomeScreenContextValue {\n  // Grid items (apps and folders)\n  gridItems: GridItem[];\n  setGridItems: (items: GridItem[]) => void;\n\n  // Edit mode (wiggle mode)\n  isEditMode: boolean;\n  enterEditMode: () => void;\n  exitEditMode: () => void;\n\n  // Drag state\n  dragState: DragState;\n  startDrag: (item: GridItem, index: number, offset: { x: number; y: number }) => void;\n  updateDragPosition: (position: { x: number; y: number }) => void;\n  setDropTarget: (index: number | null) => void;\n  endDrag: () => void;\n\n  // Folder operations\n  createFolder: (appIndex1: number, appIndex2: number, folderName?: string) => void;\n  addToFolder: (appIndex: number, folderIndex: number) => void;\n  removeFromFolder: (folderId: string, appId: string) => void;\n  renameFolder: (folderId: string, newName: string) => void;\n\n  // Open folder state\n  openFolderId: string | null;\n  openFolder: (folderId: string) => void;\n  closeFolder: () => void;\n\n  // Reordering\n  reorderItems: (fromIndex: number, toIndex: number) => void;\n\n  // Reset\n  resetToDefault: () => void;\n}\n\nconst HomeScreenContext = createContext<HomeScreenContextValue | null>(null);\n\nconst STORAGE_KEY = 'openclaw_homeScreen_v16'; // v16: Curated for OpenClaw-OS\n\n// ============================================================================\n// ALL APPS - Complete registry of available apps\n// ============================================================================\n// ============================================================================\n// ALL APPS - Curated for OpenClaw OS\n// ============================================================================\nexport const defaultApps: AppItem[] = [\n  // Core/Entry apps\n  // { id: 'story', name: 'Story', href: '/story', gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }, // Personal\n  // { id: 'blog', name: 'Blog', href: '/blog', gradient: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)' }, // Personal\n  // { id: 'resume', name: 'Resume', href: '/resume', gradient: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)' }, // Personal\n\n  // Action/Create apps\n  // { id: 'music', name: 'Music', href: '/music', gradient: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)' }, // Personal\n  { id: 'jamz', name: 'Studio', href: '/studio', gradient: 'linear-gradient(135deg, hsl(var(--theme-primary, 262 83% 58%)) 0%, hsl(var(--theme-accent, 187 94% 43%)) 100%)' }, // Renamed from Jamz\n  { id: 'prototyping', name: 'Prototyping', href: '/prototyping', gradient: 'linear-gradient(135deg, #f97316 0%, #eab308 100%)' },\n  { id: 'agent', name: 'OpenClaw', href: '/agent', gradient: 'linear-gradient(135deg, #10b981 0%, #06b6d4 100%)' }, // Renamed\n  { id: 'notes', name: 'Notes', href: '/notes', gradient: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)' },\n  { id: 'cowrite', name: 'Cowrite', href: '/cowrite', gradient: 'linear-gradient(135deg, hsl(var(--theme-primary, 180 70% 45%)) 0%, hsl(var(--theme-accent, 190 80% 50%)) 100%)' },\n  { id: 'canvas', name: 'Canvas', href: '/canvas', gradient: 'linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%)' },\n  { id: 'product', name: 'Product', href: '/product', gradient: 'linear-gradient(135deg, #3b82f6 0%, #6366f1 100%)' },\n  { id: 'projects', name: 'Projects', href: '/projects', gradient: 'linear-gradient(135deg, #10b981 0%, #14b8a6 100%)' },\n  { id: 'mockit', name: 'Mockit', href: '/mockit', gradient: 'linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)' },\n\n  // Work/Hire apps\n  { id: 'humans', name: 'Humans', href: '/humans', gradient: 'linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)' }, // Keep as generic contacts?\n  // { id: 'activity', name: 'Activity', href: '/activity', gradient: 'linear-gradient(135deg, #f97316 0%, #f59e0b 100%)' }, // Personal activity?\n  { id: 'calendar', name: 'Calendar', href: '/calendar', gradient: 'linear-gradient(135deg, #ef4444 0%, #f97316 100%)' },\n  { id: 'contacts', name: 'Contacts', href: '/contacts', gradient: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)' },\n  { id: 'messages', name: 'Messages', href: '/messages', gradient: 'linear-gradient(135deg, #34C759 0%, #30D158 100%)' },\n\n  // Explore/Depth apps\n  { id: 'photos', name: 'Photos', href: '/photos', gradient: 'linear-gradient(135deg, #f43f5e 0%, #ec4899 100%)' },\n  // { id: 'inspirations', name: 'Inspirations', href: '/inspirations', gradient: 'linear-gradient(135deg, #d946ef 0%, #a855f7 100%)' }, // Personal\n  { id: '3d-gallery', name: '3-D', href: '/gallery-3d', gradient: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)' },\n  // { id: 'avatar', name: 'Avatar', href: '/avatar', gradient: 'linear-gradient(135deg, #06b6d4 0%, #22d3ee 100%)' }, // Personal avatar\n  // { id: 'way', name: 'Way', href: 'https://way-lovat.vercel.app/', gradient: 'linear-gradient(135deg, #06b6d4 0%, #8b5cf6 100%)', external: true }, // Personal project\n\n  // Theme showcases - Optional, keeping for \"OS\" feel\n  { id: 'claude', name: 'Claude', href: '/design/claude', imageUrl: '/claudeapp.svg', gradient: 'linear-gradient(135deg, #D97757 0%, #B8523A 100%)' },\n  // ... (Other themes can stay hidden in All Apps if needed, or removed)\n\n  // Social/Connect apps - REMOVED PERSONAL LINKS\n  // { id: 'github', name: 'GitHub', href: 'https://github.com/PodJamz', gradient: 'linear-gradient(135deg, #333 0%, #1a1a1a 100%)', external: true },\n\n  // Vibes/Fun apps\n  { id: 'weather', name: 'Weather', href: '/weather', gradient: 'linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%)' },\n  { id: 'games', name: 'Games', href: '/games', gradient: 'linear-gradient(135deg, #a855f7 0%, #ec4899 100%)' },\n  { id: 'terminal', name: 'Terminal', href: '/terminal', gradient: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)' },\n\n  // Neurodiversity apps - Removed purely personal ones\n  // { id: 'regulation', name: 'Regulate', href: '/regulate', gradient: 'linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)' },\n  // { id: 'journal', name: 'Journal', href: '/journal', gradient: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' },\n\n  // System apps\n  { id: 'skills', name: 'Skills', href: '/skills', gradient: 'linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)' },\n  { id: 'system', name: 'System', href: '/system', gradient: 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)' },\n  { id: 'security', name: 'Security', href: '/security', gradient: 'linear-gradient(135deg, #ef4444 0%, #991b1b 100%)' },\n  { id: 'vault', name: 'Vault', href: '/vault', gradient: 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)' },\n  { id: 'settings', name: 'Settings', href: '/settings', gradient: 'linear-gradient(135deg, hsl(var(--theme-primary, 0 0% 50%)) 0%, hsl(var(--theme-accent, 0 0% 40%)) 100%)' },\n  { id: 'search', name: 'Search', href: '/search', gradient: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)' },\n\n  // Wiki & Watch apps\n  { id: 'wiki', name: 'Wiki', href: '/wiki', gradient: 'linear-gradient(135deg, #0d9488 0%, #0f766e 100%)' },\n\n  // Updates/Progress\n  { id: 'updates', name: 'Updates', href: '/updates', gradient: 'linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)' },\n\n  // Research & Knowledge apps\n  { id: 'research-app', name: 'Research', href: '/research', gradient: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)' },\n\n  // Browser app\n  { id: 'browser', name: 'Browser', href: '/browser', gradient: 'linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)' },\n];\n\nconst getAppById = (id: string): AppItem | undefined => defaultApps.find(app => app.id === id);\n\nconst createFolderGridItem = (id: string, name: string, appIds: string[]): GridItem => ({\n  type: 'folder',\n  item: {\n    id,\n    name,\n    apps: appIds.map(appId => getAppById(appId)).filter((app): app is AppItem => app !== undefined),\n  },\n});\n\nconst createAppGridItem = (id: string): GridItem | null => {\n  const app = getAppById(id);\n  return app ? { type: 'app', item: app } : null;\n};\n\n// Default grid with cleaner layout - reduced folders (5 from 7), cohesive colors\nconst createDefaultGridItems = (): GridItem[] => {\n  const items: (GridItem | null)[] = [\n    // ========== ROW 1: CORE WORK ==========\n    createAppGridItem('agent'),           // OpenClaw (The Heart)\n    createAppGridItem('browser'),         // Web\n    createAppGridItem('terminal'),        // Command\n    createAppGridItem('settings'),        // Config\n\n    // ========== ROW 2: CREATION ==========\n    createAppGridItem('canvas'),          // Infinite canvas\n    createAppGridItem('notes'),           // Text\n    createAppGridItem('calendar'),        // Time\n    createAppGridItem('files'),           // Files (using vault if map exists)\n\n    // ========== ROW 3: FOLDERS ==========\n    createFolderGridItem('folder-dev', 'Dev', ['projects', 'product', 'prototyping', 'mockit']),\n    createFolderGridItem('folder-explore', 'Explore', ['photos', '3d-gallery', 'games', 'weather']),\n    createFolderGridItem('folder-system', 'System', ['security', 'vault', 'wiki', 'skills', 'updates']),\n  ];\n\n  return items.filter((item): item is GridItem => item !== null);\n};\n\nconst defaultGridItems: GridItem[] = createDefaultGridItems();\n\ninterface HomeScreenProviderProps {\n  children: ReactNode;\n}\n\nexport function HomeScreenProvider({ children }: HomeScreenProviderProps) {\n  const [gridItems, setGridItemsState] = useState<GridItem[]>(defaultGridItems);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [openFolderId, setOpenFolderId] = useState<string | null>(null);\n  const [dragState, setDragState] = useState<DragState>({\n    isDragging: false,\n    draggedItem: null,\n    draggedIndex: null,\n    dropTargetIndex: null,\n    dragOffset: { x: 0, y: 0 },\n    dragPosition: { x: 0, y: 0 },\n  });\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        // Restore icons to grid items (icons are React elements and can't be serialized)\n        const restored = parsed.map((item: GridItem) => {\n          if (item.type === 'app') {\n            const defaultApp = defaultApps.find(a => a.id === item.item.id);\n            return {\n              ...item,\n              item: { ...item.item, icon: defaultApp?.icon }\n            };\n          } else {\n            return {\n              ...item,\n              item: {\n                ...item.item,\n                apps: item.item.apps.map((app: AppItem) => {\n                  const defaultApp = defaultApps.find(a => a.id === app.id);\n                  return { ...app, icon: defaultApp?.icon };\n                })\n              }\n            };\n          }\n        });\n        setGridItemsState(restored);\n      }\n    } catch (e) {\n      console.error('Failed to load home screen state:', e);\n    }\n  }, []);\n\n  // Save to localStorage when gridItems changes\n  const setGridItems = useCallback((items: GridItem[]) => {\n    setGridItemsState(items);\n    try {\n      // Strip out icon React elements before saving (they can't be serialized)\n      const toSave = items.map(item => {\n        if (item.type === 'app') {\n          const { icon, ...rest } = item.item;\n          return { type: 'app', item: rest };\n        } else {\n          return {\n            type: 'folder',\n            item: {\n              ...item.item,\n              apps: item.item.apps.map(({ icon, ...rest }) => rest)\n            }\n          };\n        }\n      });\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(toSave));\n    } catch (e) {\n      console.error('Failed to save home screen state:', e);\n    }\n  }, []);\n\n  // Edit mode\n  const enterEditMode = useCallback(() => setIsEditMode(true), []);\n  const exitEditMode = useCallback(() => {\n    setIsEditMode(false);\n    setDragState(prev => ({\n      ...prev,\n      isDragging: false,\n      draggedItem: null,\n      draggedIndex: null,\n      dropTargetIndex: null,\n    }));\n  }, []);\n\n  // Drag operations\n  const startDrag = useCallback((item: GridItem, index: number, offset: { x: number; y: number }) => {\n    setDragState({\n      isDragging: true,\n      draggedItem: item,\n      draggedIndex: index,\n      dropTargetIndex: null,\n      dragOffset: offset,\n      dragPosition: { x: 0, y: 0 },\n    });\n  }, []);\n\n  const updateDragPosition = useCallback((position: { x: number; y: number }) => {\n    setDragState(prev => ({\n      ...prev,\n      dragPosition: position,\n    }));\n  }, []);\n\n  const setDropTarget = useCallback((index: number | null) => {\n    setDragState(prev => ({\n      ...prev,\n      dropTargetIndex: index,\n    }));\n  }, []);\n\n  const endDrag = useCallback(() => {\n    const { draggedIndex, dropTargetIndex } = dragState;\n\n    if (draggedIndex !== null && dropTargetIndex !== null && draggedIndex !== dropTargetIndex) {\n      const sourceItem = gridItems[draggedIndex];\n      const targetItem = gridItems[dropTargetIndex];\n\n      // Check if we should create a folder (both are apps)\n      if (sourceItem.type === 'app' && targetItem.type === 'app') {\n        // Create folder with both apps\n        const newFolder: FolderItem = {\n          id: `folder_${Date.now()}`,\n          name: 'New Folder',\n          apps: [targetItem.item, sourceItem.item],\n        };\n\n        const newItems = [...gridItems];\n        // Replace target with folder\n        newItems[dropTargetIndex] = { type: 'folder', item: newFolder };\n        // Remove dragged item\n        newItems.splice(draggedIndex > dropTargetIndex ? draggedIndex : draggedIndex, 1);\n        setGridItems(newItems);\n      } else if (sourceItem.type === 'app' && targetItem.type === 'folder') {\n        // Add app to existing folder\n        const newItems = [...gridItems];\n        const folder = { ...targetItem.item };\n        folder.apps = [...folder.apps, sourceItem.item];\n        newItems[dropTargetIndex] = { type: 'folder', item: folder };\n        newItems.splice(draggedIndex > dropTargetIndex ? draggedIndex : draggedIndex, 1);\n        setGridItems(newItems);\n      } else {\n        // Just reorder\n        reorderItems(draggedIndex, dropTargetIndex);\n      }\n    }\n\n    setDragState({\n      isDragging: false,\n      draggedItem: null,\n      draggedIndex: null,\n      dropTargetIndex: null,\n      dragOffset: { x: 0, y: 0 },\n      dragPosition: { x: 0, y: 0 },\n    });\n  }, [dragState, gridItems, setGridItems]);\n\n  // Folder operations\n  const createFolder = useCallback((appIndex1: number, appIndex2: number, folderName: string = 'New Folder') => {\n    const item1 = gridItems[appIndex1];\n    const item2 = gridItems[appIndex2];\n\n    if (item1.type !== 'app' || item2.type !== 'app') return;\n\n    const newFolder: FolderItem = {\n      id: `folder_${Date.now()}`,\n      name: folderName,\n      apps: [item1.item, item2.item],\n    };\n\n    const newItems = gridItems.filter((_, i) => i !== appIndex1 && i !== appIndex2);\n    const insertIndex = Math.min(appIndex1, appIndex2);\n    newItems.splice(insertIndex, 0, { type: 'folder', item: newFolder });\n    setGridItems(newItems);\n  }, [gridItems, setGridItems]);\n\n  const addToFolder = useCallback((appIndex: number, folderIndex: number) => {\n    const appItem = gridItems[appIndex];\n    const folderItem = gridItems[folderIndex];\n\n    if (appItem.type !== 'app' || folderItem.type !== 'folder') return;\n\n    const newItems = [...gridItems];\n    const folder = { ...folderItem.item };\n    folder.apps = [...folder.apps, appItem.item];\n    newItems[folderIndex] = { type: 'folder', item: folder };\n    newItems.splice(appIndex, 1);\n    setGridItems(newItems);\n  }, [gridItems, setGridItems]);\n\n  const removeFromFolder = useCallback((folderId: string, appId: string) => {\n    const folderIndex = gridItems.findIndex(\n      item => item.type === 'folder' && item.item.id === folderId\n    );\n    if (folderIndex === -1) return;\n\n    const folder = gridItems[folderIndex] as { type: 'folder'; item: FolderItem };\n    const appToRemove = folder.item.apps.find(app => app.id === appId);\n    if (!appToRemove) return;\n\n    const newItems = [...gridItems];\n    const remainingApps = folder.item.apps.filter(app => app.id !== appId);\n\n    if (remainingApps.length === 0) {\n      // Remove empty folder\n      newItems.splice(folderIndex, 1);\n    } else if (remainingApps.length === 1) {\n      // Convert folder back to single app\n      newItems[folderIndex] = { type: 'app', item: remainingApps[0] };\n    } else {\n      // Update folder\n      newItems[folderIndex] = { type: 'folder', item: { ...folder.item, apps: remainingApps } };\n    }\n\n    // Add removed app after the folder position\n    newItems.splice(folderIndex + 1, 0, { type: 'app', item: appToRemove });\n    setGridItems(newItems);\n  }, [gridItems, setGridItems]);\n\n  const renameFolder = useCallback((folderId: string, newName: string) => {\n    const newItems = gridItems.map(item => {\n      if (item.type === 'folder' && item.item.id === folderId) {\n        return { ...item, item: { ...item.item, name: newName } };\n      }\n      return item;\n    });\n    setGridItems(newItems);\n  }, [gridItems, setGridItems]);\n\n  // Open folder\n  const openFolder = useCallback((folderId: string) => {\n    setOpenFolderId(folderId);\n  }, []);\n\n  const closeFolder = useCallback(() => {\n    setOpenFolderId(null);\n  }, []);\n\n  // Reordering\n  const reorderItems = useCallback((fromIndex: number, toIndex: number) => {\n    const newItems = [...gridItems];\n    const [movedItem] = newItems.splice(fromIndex, 1);\n    newItems.splice(toIndex, 0, movedItem);\n    setGridItems(newItems);\n  }, [gridItems, setGridItems]);\n\n  // Reset\n  const resetToDefault = useCallback(() => {\n    const newDefaults = createDefaultGridItems();\n    setGridItems(newDefaults);\n    localStorage.removeItem(STORAGE_KEY);\n  }, [setGridItems]);\n\n  const value: HomeScreenContextValue = {\n    gridItems,\n    setGridItems,\n    isEditMode,\n    enterEditMode,\n    exitEditMode,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n    createFolder,\n    addToFolder,\n    removeFromFolder,\n    renameFolder,\n    openFolderId,\n    openFolder,\n    closeFolder,\n    reorderItems,\n    resetToDefault,\n  };\n\n  return (\n    <HomeScreenContext.Provider value={value}>\n      {children}\n    </HomeScreenContext.Provider>\n  );\n}\n\nexport function useHomeScreen() {\n  const context = useContext(HomeScreenContext);\n  if (!context) {\n    throw new Error('useHomeScreen must be used within a HomeScreenProvider');\n  }\n  return context;\n}\n","'use client';\n\nimport React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';\n\ninterface ControlCenterContextType {\n  isOpen: boolean;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n}\n\nconst ControlCenterContext = createContext<ControlCenterContextType | null>(null);\n\nexport function useControlCenter() {\n  const context = useContext(ControlCenterContext);\n  if (!context) {\n    throw new Error('useControlCenter must be used within ControlCenterProvider');\n  }\n  return context;\n}\n\ninterface ControlCenterProviderProps {\n  children: ReactNode;\n}\n\nexport function ControlCenterProvider({ children }: ControlCenterProviderProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const open = useCallback(() => setIsOpen(true), []);\n  const close = useCallback(() => setIsOpen(false), []);\n  const toggle = useCallback(() => setIsOpen((prev) => !prev), []);\n\n  return (\n    <ControlCenterContext.Provider value={{ isOpen, open, close, toggle }}>\n      {children}\n    </ControlCenterContext.Provider>\n  );\n}\n","'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\n\nexport type ProviderType = 'cloud' | 'local' | 'lynkr';\nexport type ConnectionStatus = 'connected' | 'connecting' | 'disconnected';\n\nexport interface ProviderStatusData {\n  providerType: ProviderType;\n  status: ConnectionStatus;\n  latencyMs?: number;\n  error?: string;\n  lastChecked: number;\n}\n\ninterface HealthResponse {\n  timestamp: number;\n  providers: {\n    ollama: { connected: boolean; latencyMs?: number; error?: string };\n    lynkr: { connected: boolean; latencyMs?: number; error?: string };\n    openai: { connected: boolean; latencyMs?: number; error?: string };\n    anthropic: { connected: boolean; latencyMs?: number; error?: string };\n  };\n  summary: {\n    localAvailable: boolean;\n    lynkrAvailable: boolean;\n    cloudAvailable: boolean;\n    recommendedProvider: 'local' | 'lynkr' | 'cloud';\n  };\n}\n\nconst POLL_INTERVAL = 30000; // 30 seconds\nconst INITIAL_TIMEOUT = 8000; // 8 seconds for health check\n\n/**\n * Hook to track AI provider connection status\n * Returns the current active provider and its connection status\n */\nexport function useProviderStatus() {\n  const [status, setStatus] = useState<ProviderStatusData>({\n    providerType: 'cloud',\n    status: 'connecting',\n    lastChecked: 0,\n  });\n  const isCheckingRef = useRef(false);\n\n  const checkHealth = useCallback(async () => {\n    if (isCheckingRef.current) return;\n    isCheckingRef.current = true;\n\n    try {\n      // Check health with timeout for better UX\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), INITIAL_TIMEOUT);\n\n      const healthRes = await fetch('/api/health/providers?checkCloud=false', {\n        signal: controller.signal,\n      });\n      clearTimeout(timeoutId);\n\n      if (!healthRes.ok) {\n        setStatus((prev) => ({\n          ...prev,\n          status: 'disconnected',\n          error: 'Health check failed',\n          lastChecked: Date.now(),\n        }));\n        return;\n      }\n\n      const health: HealthResponse = await healthRes.json();\n\n      // Determine provider based on what's available\n      // Priority: Lynkr > Local > Cloud\n      let actualProvider: ProviderType = 'cloud';\n      let connectionStatus: ConnectionStatus = 'connected';\n      let latency: number | undefined;\n\n      if (health.summary.lynkrAvailable) {\n        actualProvider = 'lynkr';\n        connectionStatus = 'connected';\n        latency = health.providers.lynkr.latencyMs;\n      } else if (health.summary.localAvailable) {\n        actualProvider = 'local';\n        connectionStatus = 'connected';\n        latency = health.providers.ollama.latencyMs;\n      } else {\n        // Default to cloud - assume cloud is always available\n        actualProvider = 'cloud';\n        connectionStatus = 'connected';\n      }\n\n      setStatus({\n        providerType: actualProvider,\n        status: connectionStatus,\n        latencyMs: latency,\n        lastChecked: Date.now(),\n      });\n    } catch (err) {\n      // On error, assume cloud fallback is working\n      setStatus({\n        providerType: 'cloud',\n        status: 'connected',\n        lastChecked: Date.now(),\n      });\n    } finally {\n      isCheckingRef.current = false;\n    }\n  }, []);\n\n  // Initial check with a small delay to not block render\n  useEffect(() => {\n    const timer = setTimeout(checkHealth, 1000);\n    return () => clearTimeout(timer);\n  }, [checkHealth]);\n\n  // Periodic polling\n  useEffect(() => {\n    const interval = setInterval(checkHealth, POLL_INTERVAL);\n    return () => clearInterval(interval);\n  }, [checkHealth]);\n\n  // Helper function to get display color\n  const getStatusColor = useCallback(() => {\n    switch (status.status) {\n      case 'connected':\n        return '#22c55e'; // green-500\n      case 'connecting':\n        return '#f97316'; // orange-500\n      case 'disconnected':\n        return '#ef4444'; // red-500\n      default:\n        return '#6b7280'; // gray-500\n    }\n  }, [status.status]);\n\n  // Helper function to get provider display name\n  const getProviderDisplayName = useCallback(() => {\n    switch (status.providerType) {\n      case 'lynkr':\n        return 'Lynkr';\n      case 'local':\n        return 'Local';\n      case 'cloud':\n        return 'Cloud';\n      default:\n        return 'Unknown';\n    }\n  }, [status.providerType]);\n\n  return {\n    ...status,\n    isChecking: isCheckingRef.current,\n    refresh: checkHealth,\n    getStatusColor,\n    getProviderDisplayName,\n  };\n}\n\nexport default useProviderStatus;\n"],"names":[],"mappings":"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"}