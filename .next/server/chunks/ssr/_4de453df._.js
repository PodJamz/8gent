module.exports=[670537,a=>{"use strict";var b=Object.defineProperty;class c{constructor(){((a,c,d)=>{let e;return(e="symbol"!=typeof c?c+"":c)in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[e]=d})(this,"_listeners")}addEventListener(a,b){void 0===this._listeners&&(this._listeners={});let c=this._listeners;void 0===c[a]&&(c[a]=[]),-1===c[a].indexOf(b)&&c[a].push(b)}hasEventListener(a,b){if(void 0===this._listeners)return!1;let c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)}removeEventListener(a,b){if(void 0===this._listeners)return;let c=this._listeners[a];if(void 0!==c){let a=c.indexOf(b);-1!==a&&c.splice(a,1)}}dispatchEvent(a){if(void 0===this._listeners)return;let b=this._listeners[a.type];if(void 0!==b){a.target=this;let c=b.slice(0);for(let b=0,d=c.length;b<d;b++)c[b].call(this,a);a.target=null}}}a.s(["EventDispatcher",()=>c])},212637,a=>{"use strict";function b(){return(b=Object.assign.bind()).apply(null,arguments)}a.s(["default",()=>b])},532572,a=>{"use strict";var b=a.i(863050),c=a.i(835572),d=a.i(572423),e=a.i(235871);let f=a=>a===Object(a)&&!Array.isArray(a)&&"function"!=typeof a;function g(a,g){let h=(0,d.useThree)(a=>a.gl),i=(0,e.useLoader)(c.TextureLoader,f(a)?Object.values(a):a);return(0,b.useLayoutEffect)(()=>{null==g||g(i)},[g]),(0,b.useEffect)(()=>{if("initTexture"in h){let a=[];Array.isArray(i)?a=i:i instanceof c.Texture?a=[i]:f(i)&&(a=Object.values(i)),a.forEach(a=>{a instanceof c.Texture&&h.initTexture(a)})}},[h,i]),(0,b.useMemo)(()=>{if(!f(a))return i;{let b={},c=0;for(let d in a)b[d]=i[c++];return b}},[a,i])}g.preload=a=>e.useLoader.preload(c.TextureLoader,a),g.clear=a=>e.useLoader.clear(c.TextureLoader,a),a.s(["useTexture",()=>g])},342442,449619,a=>{"use strict";var b=a.i(863050),c=a.i(75812),d=a.i(835572);let e=b.forwardRef(({children:a,enabled:e=!0,speed:f=1,rotationIntensity:g=1,floatIntensity:h=1,floatingRange:i=[-.1,.1],autoInvalidate:j=!1,...k},l)=>{let m=b.useRef(null);b.useImperativeHandle(l,()=>m.current,[]);let n=b.useRef(1e4*Math.random());return(0,c.useFrame)(a=>{var b,c;if(!e||0===f)return;j&&a.invalidate();let k=n.current+a.clock.elapsedTime;m.current.rotation.x=Math.cos(k/4*f)/8*g,m.current.rotation.y=Math.sin(k/4*f)/8*g,m.current.rotation.z=Math.sin(k/4*f)/20*g;let l=Math.sin(k/4*f)/10;l=d.MathUtils.mapLinear(l,-.1,.1,null!=(b=null==i?void 0:i[0])?b:-.1,null!=(c=null==i?void 0:i[1])?c:.1),m.current.position.y=l*h,m.current.updateMatrix()}),b.createElement("group",k,b.createElement("group",{ref:m,matrixAutoUpdate:!1},a))});function f(a,b){if(b===d.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(b!==d.TriangleFanDrawMode&&b!==d.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",b),a;{let c=a.getIndex();if(null===c){let b=[],d=a.getAttribute("position");if(void 0===d)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a;for(let a=0;a<d.count;a++)b.push(a);a.setIndex(b),c=a.getIndex()}let e=c.count-2,f=[];if(c)if(b===d.TriangleFanDrawMode)for(let a=1;a<=e;a++)f.push(c.getX(0)),f.push(c.getX(a)),f.push(c.getX(a+1));else for(let a=0;a<e;a++)a%2==0?(f.push(c.getX(a)),f.push(c.getX(a+1)),f.push(c.getX(a+2))):(f.push(c.getX(a+2)),f.push(c.getX(a+1)),f.push(c.getX(a)));f.length/3!==e&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let g=a.clone();return g.setIndex(f),g.clearGroups(),g}}function g(a,b=Math.PI/3){let c=Math.cos(b),e=(1+1e-10)*100,f=[new d.Vector3,new d.Vector3,new d.Vector3],h=new d.Vector3,i=new d.Vector3,j=new d.Vector3,k=new d.Vector3;function l(a){let b=~~(a.x*e),c=~~(a.y*e),d=~~(a.z*e);return`${b},${c},${d}`}let m=a.index?a.toNonIndexed():a,n=m.attributes.position,o={};for(let a=0,b=n.count/3;a<b;a++){let b=3*a,c=f[0].fromBufferAttribute(n,b+0),e=f[1].fromBufferAttribute(n,b+1),g=f[2].fromBufferAttribute(n,b+2);h.subVectors(g,e),i.subVectors(c,e);let j=new d.Vector3().crossVectors(h,i).normalize();for(let a=0;a<3;a++){let b=l(f[a]);b in o||(o[b]=[]),o[b].push(j)}}let p=new Float32Array(3*n.count),q=new d.BufferAttribute(p,3,!1);for(let a=0,b=n.count/3;a<b;a++){let b=3*a,d=f[0].fromBufferAttribute(n,b+0),e=f[1].fromBufferAttribute(n,b+1),g=f[2].fromBufferAttribute(n,b+2);h.subVectors(g,e),i.subVectors(d,e),j.crossVectors(h,i).normalize();for(let a=0;a<3;a++){let d=o[l(f[a])];k.set(0,0,0);for(let a=0,b=d.length;a<b;a++){let b=d[a];j.dot(b)>c&&k.add(b)}k.normalize(),q.setXYZ(b+a,k.x,k.y,k.z)}}return m.setAttribute("normal",q),m}a.s(["Float",()=>e],342442),a.s(["toCreasedNormals",()=>g,"toTrianglesDrawMode",()=>f],449619)},366713,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(926725),e=a.i(75812),f=a.i(532572),g=a.i(935194),h=a.i(342442),i=a.i(829785),j=a.i(212637),k=a.i(835572),l=a.i(449619);let m=c.forwardRef(function({args:[a=1,b=1,d=1]=[],radius:e=.05,steps:f=1,smoothness:g=4,bevelSegments:h=4,creaseAngle:i=.4,children:k,...l},m){return c.createElement("mesh",(0,j.default)({ref:m},l),c.createElement(n,{args:[a,b,d],radius:e,steps:f,smoothness:g,bevelSegments:h,creaseAngle:i}),k)}),n=c.forwardRef(function({args:[a=1,b=1,d=1]=[],radius:e=.05,steps:f=1,smoothness:g=4,bevelSegments:h=4,creaseAngle:i=.4,...m},n){let o=c.useMemo(()=>{let c,d;return c=new k.Shape,d=e-1e-5,c.absarc(1e-5,1e-5,1e-5,-Math.PI/2,-Math.PI,!0),c.absarc(1e-5,b-2*d,1e-5,Math.PI,Math.PI/2,!0),c.absarc(a-2*d,b-2*d,1e-5,Math.PI/2,0,!0),c.absarc(a-2*d,1e-5,1e-5,0,-Math.PI/2,!0),c},[a,b,e]),p=c.useMemo(()=>({depth:d-2*e,bevelEnabled:!0,bevelSegments:2*h,steps:f,bevelSize:e-1e-5,bevelThickness:e,curveSegments:g}),[d,e,g,h,f]),q=c.useRef(null);return c.useLayoutEffect(()=>{q.current&&(q.current.center(),(0,l.toCreasedNormals)(q.current,i))},[o,p,i]),c.useImperativeHandle(n,()=>q.current),c.createElement("extrudeGeometry",(0,j.default)({ref:q,args:[o,p]},m))});var o=a.i(233379);function p({image:a,position:d,rotation:i,index:j,cardWidth:k,cardHeight:l,floatSpeed:n,floatIntensity:p,isHovered:q,isSelected:r,onHover:s,onClick:t}){let u=(0,c.useRef)(null),v=(0,c.useRef)(null),w=(0,f.useTexture)(a.src),[x,y]=(0,c.useState)({x:0,y:0}),z=w.image?w.image.width/w.image.height:1,A=z>1?.9*k:.9*k*z,B=z>1?.85*l/z:.85*l;return(0,e.useFrame)((a,b)=>{if(!u.current||!v.current)return;let c=r?1.4:q?1.15:1;if(u.current.scale.x=(0,o.lerp)(u.current.scale.x,c,6*b),u.current.scale.y=(0,o.lerp)(u.current.scale.y,c,6*b),u.current.scale.z=(0,o.lerp)(u.current.scale.z,c,6*b),q){let b=a.clock.elapsedTime;y({x:.05*Math.sin(2*b),y:.05*Math.cos(2*b)})}else y({x:0,y:0});v.current.rotation.x=(0,o.lerp)(v.current.rotation.x,x.x,5*b),v.current.rotation.y=(0,o.lerp)(v.current.rotation.y,x.y,5*b)}),(0,b.jsx)(h.Float,{speed:n,rotationIntensity:.2,floatIntensity:p,floatingRange:[-.1,.1],children:(0,b.jsxs)("group",{ref:u,position:d,rotation:i,onPointerEnter:()=>s(j),onPointerLeave:()=>s(null),onClick:t,children:[(0,b.jsxs)("mesh",{ref:v,children:[(0,b.jsx)(m,{args:[k,l,.02],radius:.05,smoothness:4,children:(0,b.jsx)("meshStandardMaterial",{color:q?"#ffffff":"#f8fafc",metalness:.1,roughness:.3})}),(0,b.jsxs)("mesh",{position:[0,.05,.011],children:[(0,b.jsx)("planeGeometry",{args:[A,B]}),(0,b.jsx)("meshStandardMaterial",{map:w})]}),(0,b.jsx)("mesh",{position:[.05,-.05,-.02],rotation:[0,0,0],children:(0,b.jsx)(m,{args:[k,l,.01],radius:.05,smoothness:4,children:(0,b.jsx)("meshBasicMaterial",{color:"#000000",transparent:!0,opacity:.15})})}),a.alt&&(0,b.jsxs)("mesh",{position:[0,-l/2+.15,.012],children:[(0,b.jsx)("planeGeometry",{args:[k-.2,.2]}),(0,b.jsx)("meshBasicMaterial",{color:"#1e1b4b"})]})]}),r&&(0,b.jsx)("mesh",{position:[0,0,-.02],children:(0,b.jsx)(m,{args:[k+.15,l+.15,.01],radius:.08,smoothness:4,children:(0,b.jsx)("meshBasicMaterial",{color:"#4f46e5",transparent:!0,opacity:.4})})}),q&&a.alt&&(0,b.jsx)(g.Html,{center:!0,position:[0,-l/2-.3,0],children:(0,b.jsxs)("div",{className:"bg-slate-900/95 text-white px-4 py-2 rounded-xl text-sm whitespace-nowrap shadow-xl border border-indigo-500/30",children:[(0,b.jsx)("span",{className:"font-medium",children:a.alt}),a.description&&(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-1",children:a.description})]})})]})})}function q({images:a,cardWidth:d,cardHeight:e,spread:f,floatSpeed:g,floatIntensity:h,onImageClick:j,audioData:k}){let[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),q=(0,c.useMemo)(()=>a.map((b,c)=>{let g=Math.ceil(Math.sqrt(a.length)),h=Math.floor(c/g);return{position:[(c%g-(g-1)/2)*(d+.5)*f+(Math.random()-.5)*.5,(h-Math.floor(a.length/g)/2)*(e+.4)*f+(Math.random()-.5)*.3,(Math.random()-.5)*2],rotation:[(Math.random()-.5)*.2,(Math.random()-.5)*.3,(Math.random()-.5)*.1]}}),[a.length,d,e,f]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("ambientLight",{intensity:k?.enabled?.5+.3*k.energy:.6}),(0,b.jsx)("directionalLight",{position:[5,10,5],intensity:k?.enabled?.8+.4*k.treble:1,castShadow:!0,color:k?.enabled?`hsl(${240+40*k.mid}, 70%, 80%)`:"#ffffff"}),(0,b.jsx)("directionalLight",{position:[-5,5,-5],intensity:k?.enabled?.2+.3*k.bass:.3,color:"#4f46e5"}),(0,b.jsx)("pointLight",{position:[0,0,5],intensity:k?.enabled?.4+.4*k.mid:.5,color:"#06b6d4"}),a.map((a,c)=>(0,b.jsx)(p,{image:a,position:q[c].position,rotation:q[c].rotation,index:c,cardWidth:d,cardHeight:e,floatSpeed:g,floatIntensity:h,isHovered:l===c,isSelected:n===c,onHover:m,onClick:()=>{o(n===c?null:c),j?.(a,c)}},`${a.src}-${c}`)),(0,b.jsx)(r,{spread:3*f,audioData:k}),(0,b.jsx)(i.OrbitControls,{enablePan:!0,enableZoom:!0,minDistance:3,maxDistance:20,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/4})]})}function r({spread:a,audioData:d}){let f=(0,c.useRef)(null),g=(0,c.useMemo)(()=>{let b=[];for(let c=0;c<20;c++)b.push({position:[(Math.random()-.5)*a,(Math.random()-.5)*a,(Math.random()-.5)*a-5],scale:.1+.2*Math.random(),type:Math.random()>.5?"box":"sphere"});return b},[a]);return(0,e.useFrame)(a=>{if(f.current){let b=.02*a.clock.elapsedTime;d?.enabled&&(b*=1+2*d.energy),f.current.rotation.y=b}}),(0,b.jsx)("group",{ref:f,children:g.map((a,c)=>(0,b.jsx)(h.Float,{speed:d?.enabled?1+2*d.energy:1,floatIntensity:d?.enabled?.5+.5*d.beatIntensity:.5,children:(0,b.jsxs)("mesh",{position:a.position,scale:d?.enabled?a.scale*(1+.5*d.bass):a.scale,children:["box"===a.type?(0,b.jsx)("boxGeometry",{args:[1,1,1]}):(0,b.jsx)("sphereGeometry",{args:[.5,16,16]}),(0,b.jsx)("meshStandardMaterial",{color:d?.enabled?`hsl(${260+60*d.mid}, 70%, 50%)`:"#4f46e5",transparent:!0,opacity:d?.enabled?.1+.2*d.energy:.1,wireframe:!0})]})},c))})}function s({images:a}){return(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-slate-100 to-indigo-50 p-8 overflow-y-auto",children:(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:a.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-3 transform hover:scale-105 hover:-rotate-1 transition-all duration-300",children:[(0,b.jsx)("img",{src:a.src,alt:a.alt||"",className:"w-full h-40 object-cover rounded-lg"}),a.alt&&(0,b.jsx)("p",{className:"text-slate-700 text-sm mt-2 font-medium",children:a.alt})]},c))})})}function t({images:a,className:e="w-full h-[600px]",cardWidth:f=1.8,cardHeight:g=2.4,spread:h=1,floatSpeed:i=2,floatIntensity:j=.3,onImageClick:k,audioData:l}){let[m,n]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{try{let a=document.createElement("canvas");a.getContext("webgl")||a.getContext("experimental-webgl")||n(!1)}catch{n(!1)}},[]),m)?(0,b.jsx)("div",{className:e,children:(0,b.jsx)(d.Canvas,{camera:{position:[0,0,8],fov:50},shadows:!0,gl:{antialias:!0,alpha:!0},style:{background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 50%, #f8fafc 100%)"},children:(0,b.jsx)(q,{images:a,cardWidth:f,cardHeight:g,spread:h,floatSpeed:l?.enabled?i*(1+l.energy):i,floatIntensity:l?.enabled?j*(1+l.beatIntensity):j,onImageClick:k,audioData:l})})}):(0,b.jsx)("div",{className:e,children:(0,b.jsx)(s,{images:a})})}a.s(["default",()=>t],366713)}];

//# sourceMappingURL=_4de453df._.js.map