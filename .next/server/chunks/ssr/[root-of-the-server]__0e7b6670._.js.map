{"version":3,"sources":["../../../../src/data/blog.ts","../../../../src/components/blog/BlogLayoutClient.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/blog/layout.tsx"],"sourcesContent":["import fs from \"fs\";\nimport matter from \"gray-matter\";\nimport path from \"path\";\nimport rehypePrettyCode from \"rehype-pretty-code\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\nimport { unified } from \"unified\";\n\ntype Author = {\n  name: string;\n  role: string;\n  gradientClass: string;\n};\n\ntype Metadata = {\n  title: string;\n  publishedAt: string;\n  summary: string;\n  image?: string;\n  gradient?: string;\n  authors?: Author[];\n  bookmarked?: boolean;\n};\n\nfunction getMDXFiles(dir: string) {\n  return fs.readdirSync(dir).filter((file) => path.extname(file) === \".mdx\");\n}\n\nexport async function markdownToHTML(markdown: string) {\n  const p = await unified()\n    .use(remarkParse)\n    .use(remarkRehype)\n    .use(rehypePrettyCode, {\n      // https://rehype-pretty.pages.dev/#usage\n      theme: {\n        light: \"min-light\",\n        dark: \"min-dark\",\n      },\n      keepBackground: false,\n    })\n    .use(rehypeStringify)\n    .process(markdown);\n\n  return p.toString();\n}\n\nexport async function getPost(slug: string) {\n  const filePath = path.join(process.cwd(), \"content\", `${slug}.mdx`);\n  \n  if (!fs.existsSync(filePath)) {\n    return null;\n  }\n  \n  let source = fs.readFileSync(filePath, \"utf-8\");\n  const { content: rawContent, data: metadata } = matter(source);\n  const content = await markdownToHTML(rawContent);\n  \n  return {\n    source: content,\n    metadata: metadata as Metadata,\n    slug,\n  };\n}\n\nasync function getAllPosts(dir: string) {\n  let mdxFiles = getMDXFiles(dir);\n  const posts = await Promise.all(\n    mdxFiles.map(async (file) => {\n      let slug = path.basename(file, path.extname(file));\n      const post = await getPost(slug);\n      if (!post) return null;\n      return {\n        metadata: post.metadata,\n        slug: post.slug,\n        source: post.source,\n      };\n    })\n  );\n  return posts.filter((post): post is NonNullable<typeof post> => post !== null);\n}\n\nexport async function getBlogPosts() {\n  return getAllPosts(path.join(process.cwd(), \"content\"));\n}\n\nexport async function getAdjacentPosts(currentSlug: string) {\n  const posts = await getBlogPosts();\n  const currentIndex = posts.findIndex((post) => post.slug === currentSlug);\n\n  if (currentIndex === -1) {\n    return { previousPost: null, nextPost: null };\n  }\n\n  const previousPost = currentIndex > 0 ? posts[currentIndex - 1] : null;\n  const nextPost = currentIndex < posts.length - 1 ? posts[currentIndex + 1] : null;\n\n  return {\n    previousPost: previousPost\n      ? {\n          slug: previousPost.slug,\n          title: previousPost.metadata.title,\n          gradient: previousPost.metadata.authors?.[0]?.gradientClass || \"from-indigo-400 to-purple-600\",\n        }\n      : null,\n    nextPost: nextPost\n      ? {\n          slug: nextPost.slug,\n          title: nextPost.metadata.title,\n          gradient: nextPost.metadata.authors?.[0]?.gradientClass || \"from-indigo-400 to-purple-600\",\n        }\n      : null,\n  };\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BlogLayoutClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call BlogLayoutClient() from the server but BlogLayoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/blog/BlogLayoutClient.tsx\",\n    \"BlogLayoutClient\",\n);\n","import React from \"react\";\nimport { getBlogPosts } from \"@/data/blog\";\nimport { BlogLayoutClient } from \"@/components/blog/BlogLayoutClient\";\n\nexport default async function BlogLayout({ children }: { children: React.ReactNode }) {\n  const posts = await getBlogPosts();\n\n  const sidebarItems = posts.map((post) => ({\n    id: post.slug,\n    title: post.metadata.title,\n    gradient: post.metadata.authors?.[0]?.gradientClass || \"from-indigo-400 to-purple-600\",\n    isActive: false,\n  }));\n\n  return (\n    <BlogLayoutClient \n      posts={posts}\n      sidebarItems={sidebarItems}\n      bookmarks={[]} // Empty array for backward compatibility\n    >\n      {children}\n    </BlogLayoutClient>\n  );\n} "],"names":[],"mappings":"0rBAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,iBAsBO,eAAe,EAAe,CAAgB,EAenD,MAAO,CAdG,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,IACpB,GAAG,CAAC,EAAA,OAAW,EACf,GAAG,CAAC,EAAA,OAAY,EAChB,GAAG,CAAC,EAAA,OAAgB,CAAE,CAErB,MAAO,CACL,MAAO,YACP,KAAM,UACR,EACA,gBAAgB,CAClB,GACC,GAAG,CAAC,EAAA,OAAe,EACnB,OAAO,CAAC,EAAA,EAEF,QAAQ,EACnB,CAEO,eAAe,EAAQ,CAAY,EACxC,IAAM,EAAW,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,UAAW,CAAA,EAAG,EAAK,IAAI,CAAC,EAElE,GAAI,CAAC,EAAA,OAAE,CAAC,UAAU,CAAC,GACjB,OAAO,CADqB,IAI9B,IAAI,EAAS,EAAA,OAAE,CAAC,YAAY,CAAC,EAAU,SACjC,CAAE,QAAS,CAAU,CAAE,KAAM,CAAQ,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAM,EAAC,GAGvD,MAAO,CACL,OAHc,CAGN,KAHY,EAAe,GAInC,SAAU,OACV,CACF,CACF,CAEA,eAAe,EAAY,CAAW,EACpC,IAAI,EAxCG,EAAA,OAAE,AAwCM,CAxCL,WAAW,CAAC,AAwCK,GAxCA,MAAM,CAAC,AAAC,GAAgC,SAAvB,EAAA,OAAI,CAAC,OAAO,CAAC,IAqDzD,MAAO,CAZO,MAAM,QAAQ,GAAG,CAC7B,EAAS,GAAG,CAAC,MAAO,IAClB,IAAI,EAAO,EAAA,OAAI,CAAC,QAAQ,CAAC,EAAM,EAAA,OAAI,CAAC,OAAO,CAAC,IACtC,EAAO,MAAM,EAAQ,UACtB,AAAL,EACO,CACL,CAFE,EAAO,MAEC,EAAK,QAAQ,CACvB,KAAM,EAAK,IAAI,CACf,OAAQ,EAAK,MAAM,AACrB,EALkB,IAMpB,GAAA,EAEW,MAAM,CAAC,AAAC,GAAoD,OAAT,EAClE,CAEO,eAAe,IACpB,OAAO,EAAY,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,WAC9C,CAEO,eAAe,EAAiB,CAAmB,EACxD,IAAM,EAAQ,MAAM,IACd,EAAe,EAAM,SAAS,CAAC,AAAC,GAAS,EAAK,IAAI,GAAK,GAE7D,GAAqB,CAAC,GAAG,CAArB,EACF,MAAO,CAAE,aAAc,KAAM,SAAU,IAAK,EAG9C,IAAM,EAAe,EAAe,EAAI,CAAK,CAAC,EAAe,EAAE,CAAG,KAC5D,EAAW,EAAe,EAAM,MAAM,CAAG,EAAI,CAAK,CAAC,EAAe,EAAE,CAAG,KAE7E,MAAO,CACL,aAAc,EACV,CACE,KAAM,EAAa,IAAI,CACvB,MAAO,EAAa,QAAQ,CAAC,KAAK,CAClC,SAAU,EAAa,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE,eAAiB,+BACjE,EACA,KACJ,SAAU,EACN,CACE,KAAM,EAAS,IAAI,CACnB,MAAO,EAAS,QAAQ,CAAC,KAAK,CAC9B,SAAU,EAAS,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE,eAAiB,+BAC7D,EACA,IACN,CACF,+KC/GO,IAAM,EAAmB,CAAA,EADhC,AACgC,EADhC,CAAA,CAAA,OACgC,uBAAA,AAAuB,EACnD,WAAa,MAAM,AAAI,MAAM,8OAAgP,EAC7Q,yEACA,6EAHG,IAAM,EAAmB,CAAA,EADhC,AACgC,EADhC,CAAA,CAAA,OACgC,uBAAA,AAAuB,EACnD,WAAa,MAAM,AAAI,MAAM,8OAAgP,EAC7Q,qDACA,mICJJ,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,iBAEe,eAAe,EAAW,UAAE,CAAQ,CAAiC,EAClF,IAAM,EAAQ,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE1B,EAAe,EAAM,GAAG,CAAC,AAAC,IAAU,CACxC,EADuC,CACnC,EAAK,IAAI,CACb,MAAO,EAAK,QAAQ,CAAC,KAAK,CAC1B,SAAU,EAAK,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE,eAAiB,gCACvD,UAAU,CACZ,CAAC,GAED,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,MAAO,EACP,aAAc,EACd,UAAW,EAAE,UAEZ,GAGP","ignoreList":[1]}