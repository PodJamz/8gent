module.exports=[852679,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(567031),e=a.i(278739),f=a.i(925440),g=a.i(233849),h=a.i(135981),i=a.i(368114),j=a.i(90569),k=a.i(182904),l=a.i(847329),m=a.i(149605),n=a.i(783690),o=a.i(734307),p=a.i(686014),q=a.i(509183),r=a.i(139136),s=a.i(903994),t=a.i(468563),u=a.i(594978),v=a.i(742926),w=a.i(239335),x=a.i(53010);let y={Person:{icon:j.User,gradient:"from-blue-500 to-cyan-500",label:"Person"},Project:{icon:k.FolderKanban,gradient:"from-violet-500 to-purple-500",label:"Project"},Track:{icon:l.Music,gradient:"from-pink-500 to-rose-500",label:"Track"},Draft:{icon:m.FileText,gradient:"from-amber-500 to-orange-500",label:"Draft"},Sketch:{icon:n.Pencil,gradient:"from-emerald-500 to-green-500",label:"Sketch"},Ticket:{icon:o.Ticket,gradient:"from-cyan-500 to-teal-500",label:"Ticket"},Epic:{icon:p.Target,gradient:"from-indigo-500 to-blue-500",label:"Epic"},Event:{icon:q.Calendar,gradient:"from-red-500 to-pink-500",label:"Event"},Memory:{icon:r.Brain,gradient:"from-purple-500 to-fuchsia-500",label:"Memory"},Value:{icon:s.Heart,gradient:"from-rose-500 to-red-500",label:"Value"},Dimension:{icon:t.Layers,gradient:"from-slate-500 to-zinc-500",label:"Dimension"},Collection:{icon:u.FolderOpen,gradient:"from-yellow-500 to-amber-500",label:"Collection"},Skill:{icon:v.Sparkles,gradient:"from-fuchsia-500 to-pink-500",label:"Skill"},Reminder:{icon:w.Bell,gradient:"from-orange-500 to-red-500",label:"Reminder"},AgentTask:{icon:x.Bot,gradient:"from-sky-500 to-blue-500",label:"Agent Task"}},z={sm:{card:"p-2 gap-2",icon:"w-4 h-4",iconContainer:"w-8 h-8",title:"text-sm",meta:"text-xs",thumbnail:"w-8 h-8"},md:{card:"p-3 gap-3",icon:"w-5 h-5",iconContainer:"w-10 h-10",title:"text-base",meta:"text-sm",thumbnail:"w-12 h-12"},lg:{card:"p-4 gap-4",icon:"w-6 h-6",iconContainer:"w-14 h-14",title:"text-lg",meta:"text-sm",thumbnail:"w-16 h-16"}},A={circle:"rounded-full aspect-square",square:"rounded-lg",hexagon:"rounded-lg",custom:"rounded-lg"},B=(0,c.memo)(function({entity:a,shape:e="square",size:f="md",selected:g=!1,showThumbnail:h=!0,showTags:j=!0,showTypeBadge:k=!0,color:l,onClick:m,onLongPress:n,onDragStart:o,className:p}){let q=y[a.entityType],r=z[f],s=q.icon,t=(0,c.useMemo)(()=>{try{return JSON.parse(a.data)}catch{return{}}},[a.data]),u=(0,c.useMemo)(()=>{switch(a.entityType){case"Person":return t.title||t.company||t.email;case"Project":return t.status;case"Track":return t.artist;case"Ticket":return`${t.ticketId} â€¢ ${t.priority}`;case"Event":return t.startTime?new Date(t.startTime).toLocaleDateString():void 0;case"Memory":return t.memoryType;default:return}},[a.entityType,t]),v=(0,c.useCallback)(()=>{m?.(a)},[m,a]),w=(0,c.useCallback)(b=>{o?.(b,a)},[o,a]);(0,c.useCallback)(()=>{n?.(a)},[n,a]);let x=(0,c.useCallback)(b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),m?.(a))},[m,a]),B="circle"===e,C=(0,b.jsx)(d.motion.div,{layout:!0,layoutId:a.entityId,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:g?1.02:1},exit:{opacity:0,scale:.95},transition:{duration:.2},tabIndex:0,role:"button","aria-label":`${a.name}, ${q.label}`,"aria-selected":g,onClick:v,onKeyDown:x,className:(0,i.cn)("relative cursor-pointer select-none","bg-[hsl(var(--theme-card))] border border-[hsl(var(--theme-border))]","hover:border-[hsl(var(--theme-primary)/0.5)] hover:shadow-lg","focus:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--theme-primary))]","transition-all duration-200",B?A.circle:A[e],r.card,g&&"ring-2 ring-[hsl(var(--theme-primary))] shadow-lg",B?"flex items-center justify-center":"flex items-start",p),children:B?(0,b.jsx)("div",{className:(0,i.cn)("flex items-center justify-center rounded-full","bg-gradient-to-br",l||q.gradient,r.iconContainer),children:(0,b.jsx)(s,{className:(0,i.cn)("text-white",r.icon)})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:h&&a.thumbnail?(0,b.jsx)("img",{src:a.thumbnail,alt:"",className:(0,i.cn)("object-cover rounded-lg",r.thumbnail)}):(0,b.jsx)("div",{className:(0,i.cn)("flex items-center justify-center rounded-lg","bg-gradient-to-br",l||q.gradient,r.iconContainer),children:(0,b.jsx)(s,{className:(0,i.cn)("text-white",r.icon)})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[k&&(0,b.jsx)("div",{className:"flex items-center gap-1 mb-0.5",children:(0,b.jsx)("span",{className:(0,i.cn)("px-1.5 py-0.5 rounded text-[10px] font-medium uppercase tracking-wider","bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))]"),children:q.label})}),(0,b.jsx)("h3",{className:(0,i.cn)("font-medium truncate text-[hsl(var(--theme-foreground))]",r.title),children:a.name}),u&&(0,b.jsx)("p",{className:(0,i.cn)("truncate text-[hsl(var(--theme-muted-foreground))]",r.meta),children:u}),j&&a.tags.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.tags.slice(0,3).map(a=>(0,b.jsx)("span",{className:(0,i.cn)("px-1.5 py-0.5 rounded-full text-[10px]","bg-[hsl(var(--theme-accent))] text-[hsl(var(--theme-accent-foreground))]"),children:a},a)),a.tags.length>3&&(0,b.jsxs)("span",{className:"text-[10px] text-[hsl(var(--theme-muted-foreground))]",children:["+",a.tags.length-3]})]})]}),void 0!==a.importance&&a.importance>.7&&(0,b.jsx)("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-amber-500",title:`Importance: ${Math.round(100*a.importance)}%`})]})});return o?(0,b.jsx)("div",{draggable:!0,onDragStart:w,children:C}):C});function C(a,b,c=10){let d=Math.atan2(b.y-a.y,b.x-a.x),e=Math.PI/6,f=b.x-c*Math.cos(d-e),g=b.y-c*Math.sin(d-e),h=b.x-c*Math.cos(d+e),i=b.y-c*Math.sin(d+e);return`M ${f} ${g} L ${b.x} ${b.y} L ${h} ${i}`}let D=(0,c.memo)(function({from:a,to:e,type:f="line",color:g="hsl(var(--theme-border))",strokeWidth:h=2,animated:j=!1,bidirectional:k=!1,label:l,weight:m=1,highlighted:n=!1,onClick:o,className:p}){if("none"===f)return null;let q=(0,c.useMemo)(()=>(function(a,b,c){switch(c){case"line":case"arrow":case"glow":return`M ${a.x} ${a.y} L ${b.x} ${b.y}`;case"curve":{let{cp1:c,cp2:d}=function(a,b,c=.5){let d=b.x-a.x,e=b.y-a.y,f=a.x+d/2,g=a.y+e/2,h=-e*c*.3,i=d*c*.3;return{cp1:{x:f+h,y:g+i},cp2:{x:f+h,y:g+i}}}(a,b);return`M ${a.x} ${a.y} C ${c.x} ${c.y}, ${d.x} ${d.y}, ${b.x} ${b.y}`}default:return""}})(a,e,f),[a,e,f]),r=(0,c.useMemo)(()=>"arrow"!==f?null:C(a,e,10),[a,e,f]),s=(0,c.useMemo)(()=>"arrow"===f&&k?C(e,a,10):null,[a,e,f,k]),t=(0,c.useMemo)(()=>({x:(a.x+e.x)/2,y:(a.y+e.y)/2}),[a,e]),u=.3+.7*m,v=n?1.5*h:h*(.5+.5*m),w={hidden:{pathLength:0,opacity:0},visible:{pathLength:1,opacity:u,transition:{duration:.5,ease:"easeOut"}}};return(0,b.jsxs)("g",{className:(0,i.cn)("connection",p),onClick:o,children:["glow"===f&&(0,b.jsx)(d.motion.path,{d:q,fill:"none",stroke:g,strokeWidth:3*v,strokeLinecap:"round",strokeOpacity:.2,filter:"blur(4px)",initial:"hidden",animate:"visible",variants:w}),(0,b.jsx)(d.motion.path,{d:q,fill:"none",stroke:n?"hsl(var(--theme-primary))":g,strokeWidth:v,strokeLinecap:"round",strokeOpacity:u,strokeDasharray:j?"5 5":void 0,initial:"hidden",animate:"visible",variants:w,style:j?{animation:"dash 1s linear infinite"}:void 0}),r&&(0,b.jsx)(d.motion.path,{d:r,fill:"none",stroke:n?"hsl(var(--theme-primary))":g,strokeWidth:v,strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:u,initial:{opacity:0},animate:{opacity:u},transition:{delay:.3}}),s&&(0,b.jsx)(d.motion.path,{d:s,fill:"none",stroke:n?"hsl(var(--theme-primary))":g,strokeWidth:v,strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:u,initial:{opacity:0},animate:{opacity:u},transition:{delay:.3}}),l&&(0,b.jsxs)(d.motion.g,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,b.jsx)("rect",{x:t.x-3.5*l.length,y:t.y-10,width:7*l.length,height:20,rx:4,fill:"hsl(var(--theme-background))",stroke:g,strokeWidth:1,strokeOpacity:.5}),(0,b.jsx)("text",{x:t.x,y:t.y+4,textAnchor:"middle",fontSize:11,fill:"hsl(var(--theme-muted-foreground))",className:"select-none pointer-events-none",children:l})]}),o&&(0,b.jsx)("path",{d:q,fill:"none",stroke:"transparent",strokeWidth:Math.max(3*v,20),className:"cursor-pointer"}),(0,b.jsx)("style",{children:`
          @keyframes dash {
            to {
              stroke-dashoffset: -10;
            }
          }
        `})]})}),E=(0,c.memo)(function({children:a,width:c,height:d,className:e}){return(0,b.jsxs)("svg",{width:c,height:d,className:(0,i.cn)("absolute inset-0 pointer-events-none",e),style:{overflow:"visible"},children:[(0,b.jsxs)("defs",{children:[(0,b.jsx)("marker",{id:"arrow-marker",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:(0,b.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"currentColor"})}),(0,b.jsxs)("filter",{id:"glow-filter",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,b.jsx)("feGaussianBlur",{stdDeviation:"2",result:"blur"}),(0,b.jsxs)("feMerge",{children:[(0,b.jsx)("feMergeNode",{in:"blur"}),(0,b.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),a]})});var F=a.i(519456);let G={type:"spring",stiffness:400,damping:15},H={type:"spring",stiffness:300,damping:20,mass:.5},I={dissolve:{initial:{opacity:0,scale:.8,filter:"blur(20px)",y:30},animate:{opacity:1,scale:1,filter:"blur(0px)",y:0,transition:H},exit:{opacity:0,scale:1.1,filter:"blur(30px)",y:-20,transition:{duration:.4}}},morph:{initial:{opacity:0,rotateY:-90,scale:.5},animate:{opacity:1,rotateY:0,scale:1,transition:G},exit:{opacity:0,rotateY:90,scale:.5,transition:{duration:.3}}},slideBlur:{initial:{opacity:0,y:60,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transition:{type:"spring",stiffness:200,damping:25,mass:.8}},exit:{opacity:0,y:-40,filter:"blur(10px)",transition:{duration:.25}}},cosmic:{initial:{opacity:0,scale:0,rotate:180},animate:{opacity:1,scale:1,rotate:0,transition:{...H,delay:.1}},exit:{opacity:0,scale:2,rotate:-180,transition:{duration:.5}}},waterfall:{initial:{opacity:0,y:-100,rotateX:45},animate:{opacity:1,y:0,rotateX:0,transition:G},exit:{opacity:0,y:100,rotateX:-45,transition:{duration:.3}}}},J={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.03,delayChildren:.1}},exit:{opacity:0,transition:{staggerChildren:.02,staggerDirection:-1}}},K=(0,c.memo)(function({entities:a,config:c,selectedEntityId:e,onEntityClick:f,onEntityLongPress:g}){let h=c.columns||4,i=c.gap||16;return(0,b.jsx)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"grid",style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`,gap:`${i}px`},children:a.map((a,h)=>(0,b.jsx)(d.motion.div,{variants:I.slideBlur,custom:h,layout:!0,layoutId:a.entityId,children:(0,b.jsx)(B,{entity:a,shape:c.entityShape,size:"auto"===c.itemSize?"md":c.itemSize,selected:e===a.entityId,onClick:f,onLongPress:g})},a.entityId))})}),L=(0,c.memo)(function({entities:a,config:c,selectedEntityId:e,onEntityClick:f,onEntityLongPress:g}){return(0,b.jsx)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"flex flex-col",style:{gap:`${c.gap||8}px`},children:a.map((a,h)=>(0,b.jsx)(d.motion.div,{variants:I.slideBlur,custom:h,layout:!0,layoutId:a.entityId,children:(0,b.jsx)(B,{entity:a,shape:"square",size:"auto"===c.itemSize?"md":c.itemSize,selected:e===a.entityId,onClick:f,onLongPress:g})},a.entityId))})}),M=(0,c.memo)(function({entities:a,config:c,selectedEntityId:e,onEntityClick:f,onEntityLongPress:g}){return(0,b.jsx)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"flex flex-wrap",style:{gap:`${c.gap||16}px`},children:a.map((a,h)=>(0,b.jsx)(d.motion.div,{variants:I.dissolve,custom:h,layout:!0,layoutId:a.entityId,children:(0,b.jsx)(B,{entity:a,shape:c.entityShape,size:"auto"===c.itemSize?"md":c.itemSize,selected:e===a.entityId,onClick:f,onLongPress:g})},a.entityId))})}),N=(0,c.memo)(function({entities:a,positions:c,config:e,selectedEntityId:f,onEntityClick:g,onEntityLongPress:h,containerRef:i}){return(0,b.jsx)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full h-full min-h-[600px]",children:a.map((a,i)=>{let j=c[i]||{x:0,y:0};return(0,b.jsx)(d.motion.div,{className:"absolute",variants:I.cosmic,custom:i,layout:!0,layoutId:a.entityId,style:{left:j.x,top:j.y,transform:"translate(-50%, -50%)"},children:(0,b.jsx)(B,{entity:a,shape:"circle",size:"auto"===e.itemSize?"md":e.itemSize,selected:f===a.entityId,onClick:g,onLongPress:h})},a.entityId)})})}),O=(0,c.memo)(function({entities:a,positions:c,config:e,selectedEntityId:f,onEntityClick:g,onEntityLongPress:h}){let i=a[0],j=a.slice(1),k=c.slice(1);return(0,b.jsxs)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full h-full min-h-[600px]",children:[i&&(0,b.jsx)(d.motion.div,{className:"absolute left-1/2 top-1/2",variants:I.cosmic,layout:!0,layoutId:i.entityId,style:{transform:"translate(-50%, -50%)"},children:(0,b.jsx)(B,{entity:i,shape:"circle",size:"lg",selected:f===i.entityId,onClick:g,onLongPress:h})}),j.map((a,c)=>{let i=k[c]||{x:0,y:0};return(0,b.jsx)(d.motion.div,{className:"absolute",variants:I.cosmic,custom:c,layout:!0,layoutId:a.entityId,animate:{left:i.x,top:i.y,rotate:[0,360]},transition:{rotate:{duration:60+10*c,repeat:1/0,ease:"linear"},...H},style:{transform:"translate(-50%, -50%)"},children:(0,b.jsx)(B,{entity:a,shape:"circle",size:"auto"===e.itemSize?"sm":e.itemSize,selected:f===a.entityId,onClick:g,onLongPress:h})},a.entityId)}),(0,b.jsx)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",children:(0,b.jsx)("circle",{cx:"50%",cy:"50%",r:"200",fill:"none",stroke:"hsl(var(--theme-primary))",strokeWidth:"1",strokeDasharray:"4 4"})})]})}),P=(0,c.memo)(function({entities:a,relationships:e,positions:f,config:g,selectedEntityId:h,onEntityClick:i,onEntityLongPress:j,onConnectionClick:k,containerRef:l}){let m=l.current?.getBoundingClientRect(),n=m?.width||800,o=m?.height||600,p=(0,c.useMemo)(()=>{let b=new Map;return a.forEach((a,c)=>{b.set(a.entityId,f[c]||{x:0,y:0})}),b},[a,f]);return(0,b.jsxs)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full h-full min-h-[600px]",children:[(0,b.jsx)(E,{width:n,height:o,children:e.map(a=>{let c=p.get(a.sourceEntityId),d=p.get(a.targetEntityId);return c&&d?(0,b.jsx)(D,{from:c,to:d,type:g.connectionStyle,weight:a.weight,label:a.label,highlighted:h===a.sourceEntityId||h===a.targetEntityId,onClick:()=>k?.(a)},a._id):null})}),a.map((a,c)=>{let e=f[c]||{x:0,y:0};return(0,b.jsx)(d.motion.div,{className:"absolute z-10",variants:I.dissolve,custom:c,layout:!0,layoutId:a.entityId,drag:!0,dragMomentum:!1,dragElastic:.1,style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)"},children:(0,b.jsx)(B,{entity:a,shape:g.entityShape,size:"auto"===g.itemSize?"md":g.itemSize,selected:h===a.entityId,onClick:i,onLongPress:j})},a.entityId)})]})}),Q=(0,c.memo)(function({entities:a,relationships:e,positions:f,config:g,selectedEntityId:h,onEntityClick:i,onEntityLongPress:j,onConnectionClick:k,containerRef:l}){let m=l.current?.getBoundingClientRect(),n=m?.width||800,o=m?.height||600,p=(0,c.useMemo)(()=>{let b=new Map;return a.forEach((a,c)=>{b.set(a.entityId,f[c]||{x:0,y:0})}),b},[a,f]);return(0,b.jsxs)(d.motion.div,{variants:J,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full h-full min-h-[600px]",children:[(0,b.jsx)(E,{width:n,height:o,children:e.map(a=>{let c=p.get(a.sourceEntityId),d=p.get(a.targetEntityId);return c&&d?(0,b.jsx)(D,{from:c,to:d,type:"curve",weight:a.weight,highlighted:h===a.sourceEntityId||h===a.targetEntityId,onClick:()=>k?.(a)},a._id):null})}),a.map((a,c)=>{let e=f[c]||{x:0,y:0};return(0,b.jsx)(d.motion.div,{className:"absolute z-10",variants:I.waterfall,custom:c,layout:!0,layoutId:a.entityId,style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)"},children:(0,b.jsx)(B,{entity:a,shape:g.entityShape,size:"auto"===g.itemSize?"md":g.itemSize,selected:h===a.entityId,onClick:i,onLongPress:j})},a.entityId)})]})}),R=(0,c.memo)(function(){return(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center h-full min-h-[400px]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(d.motion.div,{className:"w-16 h-16 rounded-full border-4 border-[hsl(var(--theme-primary)/0.2)] border-t-[hsl(var(--theme-primary))]",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,b.jsx)(d.motion.p,{className:"text-[hsl(var(--theme-muted-foreground))]",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Conjuring dimension..."})]})})}),S=(0,c.memo)(function({message:a}){return(0,b.jsx)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex items-center justify-center h-full min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center p-8 rounded-xl bg-red-500/10 border border-red-500/20 max-w-md",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-2xl",children:"âš ï¸"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Dimension Error"}),(0,b.jsx)("p",{className:"text-[hsl(var(--theme-muted-foreground))]",children:a})]})})}),T=(0,c.memo)(function({config:a}){return(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex items-center justify-center h-full min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center p-8",children:[(0,b.jsx)(d.motion.div,{className:"w-20 h-20 rounded-full bg-[hsl(var(--theme-muted))] flex items-center justify-center mx-auto mb-4",animate:{scale:[1,1.05,1],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0},children:(0,b.jsx)("span",{className:"text-3xl",children:"âœ¨"})}),(0,b.jsxs)("h3",{className:"text-lg font-semibold text-[hsl(var(--theme-foreground))] mb-2",children:[a.name," is empty"]}),(0,b.jsx)("p",{className:"text-[hsl(var(--theme-muted-foreground))]",children:"No entities found for this dimension"})]})})}),U=(0,c.memo)(function({config:a,entities:f,relationships:g=[],selectedEntityId:h,loading:j=!1,error:k,onEntityClick:l,onEntityLongPress:m,onConnectionClick:n,className:o,debug:p=!1}){let q=(0,c.useRef)(null),[r,s]=(0,c.useState)({width:800,height:600}),t=(0,F.useDimensionNavigation)();(0,c.useEffect)(()=>{if(!q.current)return;let a=new ResizeObserver(a=>{let b=a[0];b&&s({width:b.contentRect.width,height:b.contentRect.height})});return a.observe(q.current),()=>a.disconnect()},[]);let u=(0,c.useMemo)(()=>{let{width:b,height:c}=r,d=b/2,e=c/2;switch(a.arrangement){case"grid":return function(a,b=4,c=16,d=200,e=150){return Array.from({length:a},(a,f)=>({x:f%b*(d+c),y:Math.floor(f/b)*(e+c)}))}(f.length,a.columns||4,a.gap||16);case"spiral":return function(a,b,c,d=80,e=20){return Array.from({length:a},(a,f)=>{let g=.5*f,h=d+e*g;return{x:b+h*Math.cos(g),y:c+h*Math.sin(g)}})}(f.length,d,e);case"orbit":return function(a,b,c,d=200){return Array.from({length:a},(e,f)=>{let g=f/a*Math.PI*2-Math.PI/2;return{x:b+d*Math.cos(g),y:c+d*Math.sin(g)}})}(f.length,d,e);case"flow":return function(a,b,c=200,d=150,e=16){let f=Math.floor(b/(c+e))||1;return Array.from({length:a},(a,b)=>({x:b%f*(c+e),y:Math.floor(b/f)*(d+e)}))}(f.length,b);case"tree":return function(a,b,c){let d=new Set(b.map(a=>a.targetEntityId)),e=a.filter(a=>!d.has(a.entityId)),f=[],g=new Map,h=new Map;e.forEach((b,d)=>{g.set(b.entityId,0),f[a.findIndex(a=>a.entityId===b.entityId)]={x:(d+1)*(c/(e.length+1)),y:50}});let i=[...e.map(a=>a.entityId)];for(;i.length>0;){let c=i.shift(),d=g.get(c)||0;b.filter(a=>a.sourceEntityId===c).map(a=>a.targetEntityId).forEach(b=>{if(!g.has(b)){g.set(b,d+1),i.push(b);let c=d+1,e=h.get(c)||0;h.set(c,e+1);let j=a.findIndex(a=>a.entityId===b);j>=0&&(f[j]={x:(e+1)*150,y:120*c+50})}})}return a.map((a,b)=>f[b]||{x:50+b%5*150,y:50+120*Math.floor(b/5)})}(f,g,b);case"graph":return function(a,b,c,d){let e=a.map(()=>({x:Math.random()*(c-100)+50,y:Math.random()*(d-100)+50}));for(let f=0;f<50;f++){let f=e.map(()=>({x:0,y:0}));for(let b=0;b<a.length;b++)for(let c=b+1;c<a.length;c++){let a=e[c].x-e[b].x,d=e[c].y-e[b].y,g=Math.sqrt(a*a+d*d)||1,h=5e3/(g*g);f[b].x-=a/g*h,f[b].y-=d/g*h,f[c].x+=a/g*h,f[c].y+=d/g*h}b.forEach(b=>{let c=a.findIndex(a=>a.entityId===b.sourceEntityId),d=a.findIndex(a=>a.entityId===b.targetEntityId);if(c>=0&&d>=0){let a=e[d].x-e[c].x,b=e[d].y-e[c].y;f[c].x+=.01*a,f[c].y+=.01*b,f[d].x-=.01*a,f[d].y-=.01*b}}),e.forEach((a,b)=>{a.x+=.85*f[b].x,a.y+=.85*f[b].y,a.x=Math.max(50,Math.min(c-50,a.x)),a.y=Math.max(50,Math.min(d-50,a.y))})}return e}(f,g,b,c);default:return f.map((a,b)=>({x:0,y:80*b}))}},[a.arrangement,a.columns,a.gap,f,g,r]);(0,c.useEffect)(()=>{t.navigateTo(a.id,a.name)},[a.id,a.name,t]);let v=(0,c.useMemo)(()=>({grid:K,list:L,flow:M,spiral:N,orbit:O,tree:Q,graph:P})[a.arrangement]||K,[a.arrangement]),w=(0,c.useMemo)(()=>({grid:"slideBlur",list:"slideBlur",flow:"dissolve",spiral:"cosmic",orbit:"cosmic",tree:"waterfall",graph:"dissolve"})[a.arrangement]||"slideBlur",[a.arrangement]);return(0,b.jsxs)(d.motion.div,{ref:q,className:(0,i.cn)("relative w-full h-full overflow-auto","bg-[hsl(var(--theme-background))]",o),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p&&(0,b.jsxs)("div",{className:"absolute top-2 left-2 z-50 text-xs bg-black/80 text-white p-2 rounded",children:[(0,b.jsxs)("div",{children:["Arrangement: ",a.arrangement]}),(0,b.jsxs)("div",{children:["Entities: ",f.length]}),(0,b.jsxs)("div",{children:["Relationships: ",g.length]}),(0,b.jsxs)("div",{children:["Size: ",r.width,"x",r.height]})]}),(0,b.jsx)("div",{className:(0,i.cn)("absolute inset-0 opacity-30 pointer-events-none",a.gradient&&`bg-gradient-to-br ${a.gradient}`)}),(0,b.jsx)("div",{className:"relative z-10 p-4 md:p-6",children:(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:j?(0,b.jsx)(R,{},"loading"):k?(0,b.jsx)(S,{message:k},"error"):0===f.length?(0,b.jsx)(T,{config:a},"empty"):(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,b.jsx)(v,{entities:f,relationships:g,config:a,positions:u,selectedEntityId:h,onEntityClick:l,onEntityLongPress:m,onConnectionClick:n,containerRef:q})},`${a.id}-${w}`)})}),(0,b.jsx)(V,{arrangement:a.arrangement})]})}),V=(0,c.memo)(function({arrangement:a}){let[e,f]=(0,c.useState)([]);return(0,c.useEffect)(()=>{f(Array.from({length:"orbit"===a||"spiral"===a?30:15},(a,b)=>({id:b,x:100*Math.random(),y:100*Math.random(),size:2+4*Math.random(),duration:3+4*Math.random()})))},[a]),(0,b.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(a=>(0,b.jsx)(d.motion.div,{className:"absolute rounded-full bg-[hsl(var(--theme-primary))]",style:{width:a.size,height:a.size,left:`${a.x}%`,top:`${a.y}%`},animate:{opacity:[0,.6,0],scale:[.5,1,.5],y:[0,-30,-60]},transition:{duration:a.duration,repeat:1/0,delay:2*Math.random(),ease:"easeInOut"}},a.id))})});var W=a.i(911349);let X="ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒŽãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒžãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³0123456789",Y=`
  @keyframes glitch-anim {
    0% { clip-path: inset(40% 0 61% 0); transform: translate(-2px, 2px); }
    20% { clip-path: inset(92% 0 1% 0); transform: translate(2px, -2px); }
    40% { clip-path: inset(43% 0 1% 0); transform: translate(-2px, 2px); }
    60% { clip-path: inset(25% 0 58% 0); transform: translate(2px, -2px); }
    80% { clip-path: inset(54% 0 7% 0); transform: translate(-2px, 2px); }
    100% { clip-path: inset(58% 0 43% 0); transform: translate(0); }
  }

  @keyframes reality-tear {
    0% { transform: scaleY(1) translateY(0); filter: blur(0px); }
    25% { transform: scaleY(1.02) translateY(-2px); filter: blur(1px); }
    50% { transform: scaleY(0.98) translateY(2px); filter: blur(2px); }
    75% { transform: scaleY(1.01) translateY(-1px); filter: blur(1px); }
    100% { transform: scaleY(1) translateY(0); filter: blur(0px); }
  }

  @keyframes digital-rain {
    0% { transform: translateY(-100%); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(100vh); opacity: 0; }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px hsl(var(--theme-primary) / 0.3); }
    50% { box-shadow: 0 0 60px hsl(var(--theme-primary) / 0.6); }
  }
`,Z=(0,c.memo)(function({active:a}){let[e,f]=(0,c.useState)([]);return((0,c.useEffect)(()=>{a&&f(Array.from({length:Math.floor(window.innerWidth/20)},(a,b)=>({id:b,x:20*b,chars:Array.from({length:30},()=>X[Math.floor(Math.random()*X.length)]),speed:1+2*Math.random(),delay:2*Math.random()})))},[a]),a)?(0,b.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-20",children:e.map(a=>(0,b.jsx)(d.motion.div,{className:"absolute top-0 text-[hsl(var(--theme-primary))] font-mono text-sm leading-tight",style:{left:a.x},initial:{y:"-100%"},animate:{y:"100vh"},transition:{duration:a.speed,delay:a.delay,ease:"linear"},children:a.chars.map((a,c)=>(0,b.jsx)("div",{style:{opacity:1-.03*c,textShadow:0===c?"0 0 10px currentColor":"none"},children:a},c))},a.id))}):null}),$=(0,c.memo)(function({active:a,phase:e}){let[f,g]=(0,c.useState)([]);return((0,c.useEffect)(()=>{if(!a)return;let b=Math.ceil(window.innerWidth/20),c=Math.ceil(window.innerHeight/20),d=[];for(let a=0;a<c;a++)for(let e=0;e<b;e++){let f=Math.sqrt(Math.pow(e-b/2,2)+Math.pow(a-c/2,2));d.push({x:20*e,y:20*a,opacity:1,scale:1,rotation:0,delay:.01*f})}g(d)},[a]),a)?(0,b.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-10",children:f.map((a,c)=>(0,b.jsx)(d.motion.div,{className:"absolute bg-[hsl(var(--theme-background))] border border-[hsl(var(--theme-primary)/0.1)]",style:{left:a.x,top:a.y,width:20,height:20},initial:{opacity:1,scale:1,rotate:0},animate:"fragment"===e?{opacity:[1,.8,0],scale:[1,1.2,0],rotate:[0,180*Math.random()-90],x:(Math.random()-.5)*200,y:(Math.random()-.5)*200}:"reform"===e?{opacity:[0,.8,1],scale:[0,1.1,1],rotate:[180*Math.random()-90,0],x:0,y:0}:{},transition:{duration:.6,delay:a.delay,ease:[.43,.13,.23,.96]}},c))}):null}),_=(0,c.memo)(function({active:a}){return a?(0,b.jsxs)(d.motion.div,{className:"absolute inset-0 z-15",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,b.jsx)("div",{className:"absolute inset-0",style:{background:`radial-gradient(circle at 50% 50%,
            transparent 0%,
            hsl(var(--theme-background) / 0.5) 30%,
            hsl(var(--theme-background)) 70%
          )`}}),(0,b.jsx)(d.motion.div,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-[hsl(var(--theme-primary))]",animate:{scale:[1,50,100],opacity:[1,.5,0]},transition:{duration:.8,ease:"easeOut"},style:{boxShadow:"0 0 100px 50px hsl(var(--theme-primary) / 0.5)"}}),Array.from({length:8}).map((a,c)=>(0,b.jsx)(d.motion.div,{className:"absolute left-0 right-0 h-px bg-[hsl(var(--theme-primary))]",style:{top:`${10+12*c}%`},initial:{scaleX:0,opacity:0},animate:{scaleX:[0,1,0],opacity:[0,1,0],x:["-100%","0%","100%"]},transition:{duration:.3,delay:.05*c,ease:"easeInOut"}},c))]}):null}),aa=(0,c.memo)(function({name:a,metaphor:c,gradient:e}){return(0,b.jsx)(d.motion.div,{className:"absolute inset-0 flex items-center justify-center z-30 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.motion.h1,{className:(0,i.cn)("text-6xl md:text-8xl font-bold tracking-tighter",e?`bg-gradient-to-r ${e} bg-clip-text text-transparent`:"text-[hsl(var(--theme-foreground))]"),initial:{y:50,opacity:0,filter:"blur(10px)"},animate:{y:0,opacity:1,filter:"blur(0px)"},transition:{duration:.5,delay:.3},children:a.split("").map((a,c)=>(0,b.jsx)(d.motion.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+.03*c},children:a},c))}),c&&(0,b.jsxs)(d.motion.p,{className:"mt-4 text-xl text-[hsl(var(--theme-muted-foreground))] uppercase tracking-[0.3em]",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:["âœ§ ",c," âœ§"]})]})})}),ab=(0,c.memo)(function({isTransitioning:a,targetDimension:f,onTransitionComplete:g,duration:h=1500,intensity:i=.8}){let[j,k]=(0,c.useState)("idle");return((0,c.useEffect)(()=>{if(!a)return void k("idle");let b=[];return[{phase:"fragment",delay:0},{phase:"void",delay:.25*h},{phase:"reform",delay:.5*h},{phase:"reveal",delay:.7*h},{phase:"idle",delay:h}].forEach(({phase:a,delay:c})=>{let d=setTimeout(()=>{k(a),"idle"===a&&g&&g()},c);b.push(d)}),()=>b.forEach(clearTimeout)},[a,h,g]),"idle"===j)?null:(0,b.jsxs)(d.motion.div,{className:"fixed inset-0 z-[9999] overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,b.jsx)("style",{dangerouslySetInnerHTML:{__html:Y}}),(0,b.jsx)(d.motion.div,{className:"absolute inset-0 bg-[hsl(var(--theme-background))]",animate:{opacity:"void"===j?1:.95}}),(0,b.jsx)(Z,{active:"fragment"===j||"void"===j}),(0,b.jsx)($,{active:"fragment"===j||"reform"===j,phase:j}),(0,b.jsx)(e.AnimatePresence,{children:"void"===j&&(0,b.jsx)(_,{active:!0})}),(0,b.jsx)(e.AnimatePresence,{children:"reveal"===j&&f&&(0,b.jsx)(aa,{name:f.name,metaphor:f.metaphor,gradient:f.gradient})}),(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:`repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            hsl(var(--theme-foreground) / 0.03) 2px,
            hsl(var(--theme-foreground) / 0.03) 4px
          )`}}),"fragment"===j&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.motion.div,{className:"absolute inset-0 mix-blend-screen pointer-events-none",style:{background:"linear-gradient(90deg, rgba(255,0,0,0.1), transparent 10%, transparent 90%, rgba(0,255,255,0.1))"},animate:{x:[-5,5,-5]},transition:{duration:.1,repeat:5}})})]})});var ac=a.i(208145);let ad={feed:{id:"feed",name:"Feed",description:"Chronological stream of all entities",icon:"ðŸ“°",gradient:"from-blue-500 to-cyan-500",metaphor:"river",container:"frame",arrangement:"list",entityShape:"square",connectionStyle:"none",decorations:[{type:"shadow"}],interactions:[{type:"click",action:"navigate"},{type:"longpress",action:"reveal"}],transition:"slide",sort:{field:"createdAt",direction:"desc"},itemSize:"md",gap:12},kanban:{id:"kanban",name:"Kanban",description:"Ticket and task management board",icon:"ðŸ“‹",gradient:"from-violet-500 to-purple-500",metaphor:"board",container:"panel",arrangement:"grid",entityShape:"square",connectionStyle:"none",decorations:[{type:"badge"},{type:"border"}],interactions:[{type:"drag",action:"custom"},{type:"click",action:"edit"}],transition:"morph",filter:{entityTypes:["Ticket"]},group:{by:"status",showEmpty:!0},columns:5,gap:16,itemSize:"sm"},graph:{id:"graph",name:"Graph",description:"Entity relationship visualization",icon:"ðŸ•¸ï¸",gradient:"from-emerald-500 to-green-500",metaphor:"constellation",container:"frame",arrangement:"graph",entityShape:"circle",connectionStyle:"curve",decorations:[{type:"glow",condition:"importance > 0.8"}],interactions:[{type:"drag",action:"custom"},{type:"click",action:"select"},{type:"hover",action:"preview"}],transition:"morph",sizeMapping:{field:"connections",min:40,max:100},physicsEnabled:!0},"graph-3d":{id:"graph-3d",name:"Graph 3D",description:"Immersive 3D relationship space",icon:"ðŸŒ",gradient:"from-pink-500 to-rose-500",metaphor:"solar",container:"frame",arrangement:"orbit",entityShape:"circle",connectionStyle:"glow",decorations:[{type:"glow"}],interactions:[{type:"click",action:"navigate"},{type:"pinch",action:"custom"}],transition:"morph",is3D:!0,cameraPosition:{x:0,y:0,z:10},physicsEnabled:!0},calendar:{id:"calendar",name:"Calendar",description:"Time-based event visualization",icon:"ðŸ“…",gradient:"from-amber-500 to-orange-500",metaphor:"timeline",container:"panel",arrangement:"grid",entityShape:"square",connectionStyle:"line",decorations:[{type:"badge"}],interactions:[{type:"click",action:"edit"},{type:"drag",action:"custom"}],transition:"slide",filter:{entityTypes:["Event"]},sort:{field:"createdAt",direction:"asc"},columns:7,gap:8,itemSize:"sm"},grid:{id:"grid",name:"Grid",description:"Gallery-style entity browser",icon:"ðŸ–¼ï¸",gradient:"from-cyan-500 to-teal-500",metaphor:"mosaic",container:"frame",arrangement:"grid",entityShape:"square",connectionStyle:"none",decorations:[{type:"shadow"},{type:"label"}],interactions:[{type:"click",action:"navigate"},{type:"hover",action:"preview"}],transition:"scale",columns:4,gap:16,itemSize:"md"},table:{id:"table",name:"Table",description:"Spreadsheet-like data view",icon:"ðŸ“Š",gradient:"from-slate-500 to-zinc-500",metaphor:"ledger",container:"panel",arrangement:"list",entityShape:"square",connectionStyle:"none",decorations:[{type:"border"}],interactions:[{type:"click",action:"edit"},{type:"hover",action:"preview"}],transition:"fade",sort:{field:"name",direction:"asc"},gap:0,itemSize:"sm"},ipod:{id:"ipod",name:"iPod",description:"Music-centric navigation",icon:"ðŸŽµ",gradient:"from-indigo-500 to-blue-500",metaphor:"vinyl",container:"card",arrangement:"flow",entityShape:"square",connectionStyle:"none",decorations:[{type:"shadow"}],interactions:[{type:"click",action:"navigate"},{type:"longpress",action:"reveal"}],transition:"slide",filter:{entityTypes:["Track"]},itemSize:"lg",gap:24},"quest-log":{id:"quest-log",name:"Quest Log",description:"Gamified task progression",icon:"âš”ï¸",gradient:"from-red-500 to-orange-500",metaphor:"dungeon",container:"panel",arrangement:"tree",entityShape:"hexagon",connectionStyle:"arrow",decorations:[{type:"badge"},{type:"glow",condition:"importance > 0.7"}],interactions:[{type:"click",action:"navigate"},{type:"longpress",action:"reveal"}],transition:"morph",filter:{entityTypes:["Ticket","Epic"]}},"skill-tree":{id:"skill-tree",name:"Skill Tree",description:"Interconnected skill progression",icon:"ðŸŒ³",gradient:"from-emerald-500 to-teal-500",metaphor:"tree",container:"frame",arrangement:"tree",entityShape:"circle",connectionStyle:"curve",decorations:[{type:"glow"},{type:"badge"}],interactions:[{type:"click",action:"navigate"},{type:"hover",action:"preview"}],transition:"morph",filter:{entityTypes:["Skill"]}},"agent-tasks":{id:"agent-tasks",name:"Agent Tasks",description:"Monitor background tasks, code iterations, and specialist delegations",icon:"ðŸ¤–",gradient:"from-sky-500 to-blue-500",metaphor:"console",container:"panel",arrangement:"list",entityShape:"square",connectionStyle:"none",decorations:[{type:"badge"},{type:"border"}],interactions:[{type:"click",action:"navigate"},{type:"hover",action:"preview"}],transition:"slide",filter:{entityTypes:["AgentTask"]},sort:{field:"createdAt",direction:"desc"},itemSize:"md",gap:12}};function ae({params:a}){let{dimensionId:j}=(0,c.use)(a),k=(0,f.useRouter)(),{navigateTo:l}=(0,F.useDimensionNavigation)(),{touchHandlers:m}=(0,F.useSwipeNavigation)(),[n,o]=(0,c.useState)(),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),t=(0,c.useRef)(null);(0,c.useEffect)(()=>{null!==t.current&&t.current!==j&&(q(!0),s(!1)),t.current=j},[j]);let u=(0,c.useCallback)(()=>{q(!1),s(!0)},[]),v=j in ad,w=v?ad[j]:null,x=(0,c.useMemo)(()=>{if(w?.filter?.entityTypes)return w.filter.entityTypes},[w]),y=(0,g.useQuery)(h.api.erv.getDimension,v?"skip":{dimensionId:j}),z=(0,c.useMemo)(()=>{if(w)return w;if(y)try{let a=JSON.parse(y.config);return{id:y.dimensionId,name:y.name,description:y.description,icon:y.icon,gradient:y.gradient,metaphor:y.metaphor,...a}}catch{}return null},[w,y]),A=(0,g.useQuery)(h.api.erv.listEntities,{entityTypes:x,limit:100}),B=(0,c.useMemo)(()=>A?.entities?A.entities.map(a=>a.entityId):[],[A?.entities]),C=(0,g.useQuery)(h.api.erv.getRelationshipsForEntities,B.length>0?{entityIds:B}:"skip"),D=(0,c.useMemo)(()=>A?.entities?A.entities.map(a=>({_id:a._id,entityId:a.entityId,entityType:a.entityType,name:a.name,data:a.data,tags:a.tags,searchText:a.searchText,thumbnail:a.thumbnail,ownerId:a.ownerId,createdAt:a.createdAt,updatedAt:a.updatedAt,importance:a.importance})):[],[A?.entities]),E=(0,c.useMemo)(()=>C?C.map(a=>({_id:a._id,sourceEntityId:a.sourceEntityId,targetEntityId:a.targetEntityId,relationshipType:a.relationshipType,bidirectional:a.bidirectional,weight:a.weight,createdAt:a.createdAt,createdBy:a.createdBy})):[],[C]),G=void 0===A,H=(0,c.useMemo)(()=>{if(!v&&null===y&&!G)return`Dimension "${j}" not found`},[v,y,j,G]);(0,c.useEffect)(()=>{z&&l(z.id,z.name)},[z,l]);let I=(0,c.useCallback)(()=>{k.push("/")},[k]),J=(0,c.useCallback)(a=>{o(a.entityId)},[]),K=(0,c.useCallback)(a=>{console.log("Long press on:",a.name)},[]),L=(0,c.useCallback)(a=>{console.log("Connection clicked:",a)},[]);if(!z&&!G&&!H)return null;let M=z?{id:z.id,name:z.name,gradient:z.gradient,metaphor:z.metaphor}:void 0;return(0,b.jsxs)(ac.PageTransitionWrapper,{children:[(0,b.jsx)(e.AnimatePresence,{children:p&&M&&(0,b.jsx)(ab,{isTransitioning:p,targetDimension:M,onTransitionComplete:u,duration:1200,intensity:.8})}),(0,b.jsxs)(d.motion.div,{className:(0,i.cn)("min-h-screen flex flex-col","bg-[hsl(var(--theme-background))]"),initial:{opacity:0},animate:{opacity:r||!p?1:0},transition:{duration:.3,delay:.2*!p},...m,children:[(0,b.jsx)(W.DimensionHeader,{config:z||void 0,onHomeClick:I,showAIContext:!0}),(0,b.jsx)("main",{className:"flex-1 overflow-hidden",children:(0,b.jsx)(U,{config:z||{id:j,name:j,container:"frame",arrangement:"grid",entityShape:"square",connectionStyle:"none",decorations:[],interactions:[],transition:"fade"},entities:D,relationships:E,selectedEntityId:n,loading:G,error:H,onEntityClick:J,onEntityLongPress:K,onConnectionClick:L,className:"h-full"})}),z&&!G&&!H&&(0,b.jsxs)(d.motion.footer,{className:(0,i.cn)("flex items-center justify-between","px-4 py-3","bg-[hsl(var(--theme-card)/0.8)]","backdrop-blur-lg","border-t border-[hsl(var(--theme-border)/0.5)]"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:z.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--theme-foreground))]",children:z.name}),(0,b.jsxs)("p",{className:"text-xs text-[hsl(var(--theme-muted-foreground))]",children:[D.length," entities â€¢ ",E.length," connections"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[z.metaphor&&(0,b.jsxs)("span",{className:(0,i.cn)("px-2 py-1 rounded-full text-xs","bg-[hsl(var(--theme-primary)/0.1)]","text-[hsl(var(--theme-primary))]"),children:["âœ¨ ",z.metaphor]}),(0,b.jsx)("span",{className:(0,i.cn)("px-2 py-1 rounded-full text-xs","bg-[hsl(var(--theme-muted))]","text-[hsl(var(--theme-muted-foreground))]"),children:z.arrangement})]})]})]})]})}a.s(["default",()=>ae],852679)}];

//# sourceMappingURL=src_app_d_%5BdimensionId%5D_page_tsx_625bb677._.js.map