{"version":3,"sources":["../../../../src/components/gallery-3d/CarouselGallery.tsx","../../../../node_modules/.pnpm/%40react-three%2Bdrei%4010.7.7_%40react-three%2Bfiber%409.5.0_%40types%2Breact%4019.2.8_react-dom%4019.2.3_react%40_otfyaga7ti6f5mvznauek6nyga/node_modules/%40react-three/drei/core/MeshReflectorMaterial.js","../../../../node_modules/.pnpm/%40react-three%2Bdrei%4010.7.7_%40react-three%2Bfiber%409.5.0_%40types%2Breact%4019.2.8_react-dom%4019.2.3_react%40_otfyaga7ti6f5mvznauek6nyga/node_modules/%40react-three/drei/helpers/constants.js","../../../../node_modules/.pnpm/%40react-three%2Bdrei%4010.7.7_%40react-three%2Bfiber%409.5.0_%40types%2Breact%4019.2.8_react-dom%4019.2.3_react%40_otfyaga7ti6f5mvznauek6nyga/node_modules/%40react-three/drei/materials/ConvolutionMaterial.js","../../../../node_modules/.pnpm/%40react-three%2Bdrei%4010.7.7_%40react-three%2Bfiber%409.5.0_%40types%2Breact%4019.2.8_react-dom%4019.2.3_react%40_otfyaga7ti6f5mvznauek6nyga/node_modules/%40react-three/drei/materials/BlurPass.js","../../../../node_modules/.pnpm/%40react-three%2Bdrei%4010.7.7_%40react-three%2Bfiber%409.5.0_%40types%2Breact%4019.2.8_react-dom%4019.2.3_react%40_otfyaga7ti6f5mvznauek6nyga/node_modules/%40react-three/drei/materials/MeshReflectorMaterial.js"],"sourcesContent":["'use client';\n\nimport { useRef, useMemo, useState, useCallback, useEffect } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { useTexture, Html, Environment, MeshReflectorMaterial } from '@react-three/drei';\nimport * as THREE from 'three';\nimport type { GalleryImage, AudioReactiveData } from './types';\nimport { lerp } from './utils';\n\ninterface CarouselGalleryProps {\n  images: GalleryImage[];\n  className?: string;\n  autoRotate?: boolean;\n  rotationSpeed?: number;\n  radius?: number;\n  itemWidth?: number;\n  itemHeight?: number;\n  showReflection?: boolean;\n  onImageClick?: (image: GalleryImage, index: number) => void;\n  audioData?: AudioReactiveData;\n}\n\ninterface CarouselItemProps {\n  image: GalleryImage;\n  angle: number;\n  radius: number;\n  index: number;\n  totalItems: number;\n  currentRotation: number;\n  isActive: boolean;\n  width: number;\n  height: number;\n  onClick: () => void;\n  audioData?: AudioReactiveData;\n}\n\nfunction CarouselItem({\n  image,\n  angle,\n  radius,\n  index,\n  currentRotation,\n  isActive,\n  width,\n  height,\n  onClick,\n  audioData,\n}: CarouselItemProps) {\n  const meshRef = useRef<THREE.Mesh>(null);\n  const frameRef = useRef<THREE.Mesh>(null);\n  const texture = useTexture(image.src);\n  const [hovered, setHovered] = useState(false);\n\n  // Calculate position on carousel\n  const position = useMemo(() => {\n    const theta = angle + currentRotation;\n    return new THREE.Vector3(\n      Math.sin(theta) * radius,\n      0,\n      Math.cos(theta) * radius\n    );\n  }, [angle, radius, currentRotation]);\n\n  // Calculate rotation to face outward\n  const rotation = useMemo(() => {\n    return new THREE.Euler(0, angle + currentRotation + Math.PI, 0);\n  }, [angle, currentRotation]);\n\n  // Smooth scale animation with audio reactivity\n  useFrame((state, delta) => {\n    if (meshRef.current) {\n      let targetScale = hovered ? 1.1 : isActive ? 1.05 : 1;\n\n      // Audio reactive scaling\n      if (audioData?.enabled) {\n        const freqResponse = index % 2 === 0 ? audioData.bass : audioData.treble;\n        targetScale *= 1 + freqResponse * 0.15;\n\n        if (audioData.isBeat && isActive) {\n          targetScale *= 1 + audioData.beatIntensity * 0.2;\n        }\n      }\n\n      meshRef.current.scale.x = lerp(meshRef.current.scale.x, targetScale, delta * 8);\n      meshRef.current.scale.y = lerp(meshRef.current.scale.y, targetScale, delta * 8);\n\n      // Audio reactive emissive\n      if (audioData?.enabled && meshRef.current.material instanceof THREE.MeshStandardMaterial) {\n        const intensity = isActive ? audioData.energy * 0.4 : audioData.energy * 0.1;\n        meshRef.current.material.emissiveIntensity = intensity;\n      }\n    }\n\n    // Frame glow on beat\n    if (frameRef.current && audioData?.enabled) {\n      if (frameRef.current.material instanceof THREE.MeshStandardMaterial) {\n        const hue = (state.clock.elapsedTime * 0.1 + audioData.mid) % 1;\n        if (isActive) {\n          frameRef.current.material.color.setHSL(hue, 0.8, 0.4);\n          frameRef.current.material.emissive.setHSL(hue, 0.8, 0.3);\n          frameRef.current.material.emissiveIntensity = audioData.beatIntensity * 0.5;\n        }\n      }\n    }\n  });\n\n  // Aspect ratio adjustment\n  const aspect = texture.image ? texture.image.width / texture.image.height : 1;\n  const cardWidth = aspect > 1 ? width : width * aspect;\n  const cardHeight = aspect > 1 ? height / aspect : height;\n\n  return (\n    <group position={position} rotation={rotation}>\n      <mesh\n        ref={meshRef}\n        onPointerEnter={() => setHovered(true)}\n        onPointerLeave={() => setHovered(false)}\n        onClick={onClick}\n        castShadow\n      >\n        <planeGeometry args={[cardWidth, cardHeight]} />\n        <meshStandardMaterial\n          map={texture}\n          transparent\n          opacity={isActive ? 1 : 0.7}\n          metalness={0.1}\n          roughness={0.8}\n          emissive=\"#4f46e5\"\n          emissiveIntensity={0}\n        />\n      </mesh>\n\n      {/* Frame border */}\n      <mesh ref={frameRef} position={[0, 0, -0.01]}>\n        <planeGeometry args={[cardWidth + 0.1, cardHeight + 0.1]} />\n        <meshStandardMaterial\n          color={isActive ? '#4f46e5' : '#334155'}\n          metalness={0.5}\n          roughness={0.3}\n          emissive=\"#4f46e5\"\n          emissiveIntensity={0}\n        />\n      </mesh>\n\n      {/* Title on hover */}\n      {hovered && image.alt && (\n        <Html center position={[0, -cardHeight / 2 - 0.4, 0.1]}>\n          <div className=\"bg-black/90 text-white px-4 py-2 rounded-xl text-sm whitespace-nowrap shadow-xl\">\n            {image.alt}\n          </div>\n        </Html>\n      )}\n    </group>\n  );\n}\n\ninterface CarouselSceneProps {\n  images: GalleryImage[];\n  autoRotate: boolean;\n  rotationSpeed: number;\n  radius: number;\n  itemWidth: number;\n  itemHeight: number;\n  showReflection: boolean;\n  onImageClick?: (image: GalleryImage, index: number) => void;\n  audioData?: AudioReactiveData;\n}\n\nfunction CarouselScene({\n  images,\n  autoRotate,\n  rotationSpeed,\n  radius,\n  itemWidth,\n  itemHeight,\n  showReflection,\n  onImageClick,\n  audioData,\n}: CarouselSceneProps) {\n  const [currentRotation, setCurrentRotation] = useState(0);\n  const [targetRotation, setTargetRotation] = useState(0);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState(0);\n  const platformRef = useRef<THREE.Mesh>(null);\n  const { gl } = useThree();\n\n  const itemAngle = (Math.PI * 2) / images.length;\n\n  // Calculate active item (front-facing)\n  const activeIndex = useMemo(() => {\n    const normalized = ((currentRotation % (Math.PI * 2)) + Math.PI * 2) % (Math.PI * 2);\n    return Math.round(normalized / itemAngle) % images.length;\n  }, [currentRotation, itemAngle, images.length]);\n\n  // Auto rotation with audio modulation\n  useFrame((state, delta) => {\n    if (!isDragging) {\n      if (autoRotate) {\n        let speed = rotationSpeed;\n\n        // Audio reactive rotation speed\n        if (audioData?.enabled) {\n          speed *= 1 + audioData.energy * 1.5;\n          // Reverse direction on heavy beat\n          if (audioData.isBeat && audioData.beatIntensity > 0.7) {\n            speed *= -0.5;\n          }\n        }\n\n        setTargetRotation((prev) => prev + speed * delta);\n      }\n      setCurrentRotation((prev) => lerp(prev, targetRotation, delta * 5));\n    }\n\n    // Audio reactive platform\n    if (platformRef.current && audioData?.enabled) {\n      const pulseScale = 1 + audioData.bass * 0.2;\n      platformRef.current.scale.x = lerp(platformRef.current.scale.x, pulseScale, delta * 8);\n      platformRef.current.scale.z = lerp(platformRef.current.scale.z, pulseScale, delta * 8);\n\n      if (platformRef.current.material instanceof THREE.MeshStandardMaterial) {\n        const hue = (state.clock.elapsedTime * 0.05 + audioData.mid * 0.5) % 1;\n        platformRef.current.material.emissive.setHSL(hue, 0.8, 0.2);\n        platformRef.current.material.emissiveIntensity = audioData.beatIntensity * 0.3;\n      }\n    }\n  });\n\n  // Mouse/touch interaction\n  useEffect(() => {\n    const canvas = gl.domElement;\n\n    const handlePointerDown = (e: PointerEvent) => {\n      setIsDragging(true);\n      setDragStart(e.clientX);\n    };\n\n    const handlePointerMove = (e: PointerEvent) => {\n      if (isDragging) {\n        const delta = (e.clientX - dragStart) * 0.005;\n        setTargetRotation((prev) => prev - delta);\n        setCurrentRotation((prev) => prev - delta);\n        setDragStart(e.clientX);\n      }\n    };\n\n    const handlePointerUp = () => {\n      setIsDragging(false);\n      // Snap to nearest item\n      const snapAngle = Math.round(currentRotation / itemAngle) * itemAngle;\n      setTargetRotation(snapAngle);\n    };\n\n    canvas.addEventListener('pointerdown', handlePointerDown);\n    canvas.addEventListener('pointermove', handlePointerMove);\n    canvas.addEventListener('pointerup', handlePointerUp);\n    canvas.addEventListener('pointerleave', handlePointerUp);\n\n    return () => {\n      canvas.removeEventListener('pointerdown', handlePointerDown);\n      canvas.removeEventListener('pointermove', handlePointerMove);\n      canvas.removeEventListener('pointerup', handlePointerUp);\n      canvas.removeEventListener('pointerleave', handlePointerUp);\n    };\n  }, [gl, isDragging, dragStart, currentRotation, itemAngle]);\n\n  return (\n    <>\n      {/* Lighting with audio reactivity */}\n      <ambientLight intensity={audioData?.enabled ? 0.3 + audioData.energy * 0.3 : 0.4} />\n      <spotLight\n        position={[0, 10, 0]}\n        angle={0.5}\n        penumbra={1}\n        intensity={audioData?.enabled ? 0.8 + audioData.treble * 0.5 : 1}\n        castShadow\n        shadow-mapSize={[2048, 2048]}\n        color={audioData?.enabled ? `hsl(${260 + audioData.mid * 40}, 70%, 70%)` : '#ffffff'}\n      />\n      <pointLight\n        position={[10, 5, 10]}\n        intensity={audioData?.enabled ? 0.4 + audioData.bass * 0.4 : 0.5}\n        color=\"#4f46e5\"\n      />\n      <pointLight\n        position={[-10, 5, -10]}\n        intensity={audioData?.enabled ? 0.4 + audioData.treble * 0.4 : 0.5}\n        color=\"#06b6d4\"\n      />\n\n      {/* Carousel items */}\n      {images.map((image, index) => (\n        <CarouselItem\n          key={`${image.src}-${index}`}\n          image={image}\n          angle={index * itemAngle}\n          radius={radius}\n          index={index}\n          totalItems={images.length}\n          currentRotation={currentRotation}\n          isActive={index === activeIndex}\n          width={itemWidth}\n          height={itemHeight}\n          onClick={() => onImageClick?.(image, index)}\n          audioData={audioData}\n        />\n      ))}\n\n      {/* Reflective floor */}\n      {showReflection && (\n        <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, -itemHeight / 2 - 0.5, 0]} receiveShadow>\n          <planeGeometry args={[50, 50]} />\n          <MeshReflectorMaterial\n            blur={[300, 100]}\n            resolution={1024}\n            mixBlur={1}\n            mixStrength={audioData?.enabled ? 30 + audioData.energy * 40 : 50}\n            roughness={1}\n            depthScale={1.2}\n            minDepthThreshold={0.4}\n            maxDepthThreshold={1.4}\n            color=\"#0f172a\"\n            metalness={0.5}\n            mirror={audioData?.enabled ? 0.3 + audioData.bass * 0.4 : 0.5}\n          />\n        </mesh>\n      )}\n\n      {/* Central platform */}\n      <mesh ref={platformRef} position={[0, -itemHeight / 2 - 0.45, 0]}>\n        <cylinderGeometry args={[radius * 0.3, radius * 0.35, 0.1, 64]} />\n        <meshStandardMaterial\n          color=\"#1e1b4b\"\n          metalness={0.8}\n          roughness={0.2}\n          emissive=\"#4f46e5\"\n          emissiveIntensity={0}\n        />\n      </mesh>\n\n      {/* Audio reactive ring around platform */}\n      {audioData?.enabled && (\n        <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, -itemHeight / 2 - 0.4, 0]}>\n          <ringGeometry args={[radius * 0.35, radius * 0.4 + audioData.bass * 0.2, 64]} />\n          <meshBasicMaterial\n            color={`hsl(${260 + audioData.mid * 60}, 80%, 50%)`}\n            transparent\n            opacity={0.4 + audioData.beatIntensity * 0.4}\n          />\n        </mesh>\n      )}\n\n      {/* Environment for reflections */}\n      <Environment preset=\"city\" />\n    </>\n  );\n}\n\nfunction FallbackGallery({ images }: { images: GalleryImage[] }) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  return (\n    <div className=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 to-indigo-950 p-8\">\n      <div className=\"relative w-full max-w-2xl\">\n        <img\n          src={images[currentIndex].src}\n          alt={images[currentIndex].alt || ''}\n          className=\"w-full h-64 object-cover rounded-xl shadow-2xl\"\n        />\n        <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2\">\n          {images.map((_, i) => (\n            <button\n              key={i}\n              onClick={() => setCurrentIndex(i)}\n              className={`w-2 h-2 rounded-full transition-all ${\n                i === currentIndex ? 'bg-white w-6' : 'bg-white/40'\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n      <p className=\"text-slate-400 mt-4 text-sm\">WebGL not supported - showing fallback</p>\n    </div>\n  );\n}\n\nexport default function CarouselGallery({\n  images,\n  className = 'w-full h-[600px]',\n  autoRotate = true,\n  rotationSpeed = 0.2,\n  radius = 4,\n  itemWidth = 2.5,\n  itemHeight = 1.8,\n  showReflection = true,\n  onImageClick,\n  audioData,\n}: CarouselGalleryProps) {\n  const [webglSupported, setWebglSupported] = useState(true);\n\n  useEffect(() => {\n    try {\n      const canvas = document.createElement('canvas');\n      if (!canvas.getContext('webgl') && !canvas.getContext('experimental-webgl')) {\n        setWebglSupported(false);\n      }\n    } catch {\n      setWebglSupported(false);\n    }\n  }, []);\n\n  if (!webglSupported) {\n    return (\n      <div className={className}>\n        <FallbackGallery images={images} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      <Canvas\n        camera={{ position: [0, 2, radius * 2.5], fov: 50 }}\n        shadows\n        gl={{ antialias: true, alpha: true }}\n        style={{ background: 'linear-gradient(180deg, #0f172a 0%, #1e1b4b 100%)' }}\n      >\n        <CarouselScene\n          images={images}\n          autoRotate={autoRotate}\n          rotationSpeed={rotationSpeed}\n          radius={radius}\n          itemWidth={itemWidth}\n          itemHeight={itemHeight}\n          showReflection={showReflection}\n          onImageClick={onImageClick}\n          audioData={audioData}\n        />\n      </Canvas>\n    </div>\n  );\n}\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Plane, Vector3, Matrix4, Vector4, PerspectiveCamera, WebGLRenderTarget, DepthTexture, DepthFormat, UnsignedShortType, LinearFilter, HalfFloatType } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { BlurPass } from '../materials/BlurPass.js';\nimport { MeshReflectorMaterial as MeshReflectorMaterial$1 } from '../materials/MeshReflectorMaterial.js';\n\nconst MeshReflectorMaterial = /* @__PURE__ */React.forwardRef(({\n  mixBlur = 0,\n  mixStrength = 1,\n  resolution = 256,\n  blur = [0, 0],\n  minDepthThreshold = 0.9,\n  maxDepthThreshold = 1,\n  depthScale = 0,\n  depthToBlurRatioBias = 0.25,\n  mirror = 0,\n  distortion = 1,\n  mixContrast = 1,\n  distortionMap,\n  reflectorOffset = 0,\n  ...props\n}, ref) => {\n  extend({\n    MeshReflectorMaterialImpl: MeshReflectorMaterial$1\n  });\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  blur = Array.isArray(blur) ? blur : [blur, blur];\n  const hasBlur = blur[0] + blur[1] > 0;\n  const blurX = blur[0];\n  const blurY = blur[1];\n  const materialRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => materialRef.current, []);\n  const [reflectorPlane] = React.useState(() => new Plane());\n  const [normal] = React.useState(() => new Vector3());\n  const [reflectorWorldPosition] = React.useState(() => new Vector3());\n  const [cameraWorldPosition] = React.useState(() => new Vector3());\n  const [rotationMatrix] = React.useState(() => new Matrix4());\n  const [lookAtPosition] = React.useState(() => new Vector3(0, 0, -1));\n  const [clipPlane] = React.useState(() => new Vector4());\n  const [view] = React.useState(() => new Vector3());\n  const [target] = React.useState(() => new Vector3());\n  const [q] = React.useState(() => new Vector4());\n  const [textureMatrix] = React.useState(() => new Matrix4());\n  const [virtualCamera] = React.useState(() => new PerspectiveCamera());\n  const beforeRender = React.useCallback(() => {\n    var _materialRef$current;\n    const parent = materialRef.current.parent || ((_materialRef$current = materialRef.current) == null || (_materialRef$current = _materialRef$current.__r3f.parent) == null ? void 0 : _materialRef$current.object);\n    if (!parent) return;\n    reflectorWorldPosition.setFromMatrixPosition(parent.matrixWorld);\n    cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n    rotationMatrix.extractRotation(parent.matrixWorld);\n    normal.set(0, 0, 1);\n    normal.applyMatrix4(rotationMatrix);\n    reflectorWorldPosition.addScaledVector(normal, reflectorOffset);\n    view.subVectors(reflectorWorldPosition, cameraWorldPosition);\n    // Avoid rendering when reflector is facing away\n    if (view.dot(normal) > 0) return;\n    view.reflect(normal).negate();\n    view.add(reflectorWorldPosition);\n    rotationMatrix.extractRotation(camera.matrixWorld);\n    lookAtPosition.set(0, 0, -1);\n    lookAtPosition.applyMatrix4(rotationMatrix);\n    lookAtPosition.add(cameraWorldPosition);\n    target.subVectors(reflectorWorldPosition, lookAtPosition);\n    target.reflect(normal).negate();\n    target.add(reflectorWorldPosition);\n    virtualCamera.position.copy(view);\n    virtualCamera.up.set(0, 1, 0);\n    virtualCamera.up.applyMatrix4(rotationMatrix);\n    virtualCamera.up.reflect(normal);\n    virtualCamera.lookAt(target);\n    virtualCamera.far = camera.far; // Used in WebGLBackground\n    virtualCamera.updateMatrixWorld();\n    virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n    // Update the texture matrix\n    textureMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n    textureMatrix.multiply(virtualCamera.projectionMatrix);\n    textureMatrix.multiply(virtualCamera.matrixWorldInverse);\n    textureMatrix.multiply(parent.matrixWorld);\n    // Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n    // Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n    reflectorPlane.setFromNormalAndCoplanarPoint(normal, reflectorWorldPosition);\n    reflectorPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n    clipPlane.set(reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant);\n    const projectionMatrix = virtualCamera.projectionMatrix;\n    q.x = (Math.sign(clipPlane.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n    q.y = (Math.sign(clipPlane.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n    q.z = -1.0;\n    q.w = (1.0 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n    // Calculate the scaled plane vector\n    clipPlane.multiplyScalar(2.0 / clipPlane.dot(q));\n    // Replacing the third row of the projection matrix\n    projectionMatrix.elements[2] = clipPlane.x;\n    projectionMatrix.elements[6] = clipPlane.y;\n    projectionMatrix.elements[10] = clipPlane.z + 1.0;\n    projectionMatrix.elements[14] = clipPlane.w;\n  }, [camera, reflectorOffset]);\n  const [fbo1, fbo2, blurpass, reflectorProps] = React.useMemo(() => {\n    const parameters = {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      type: HalfFloatType\n    };\n    const fbo1 = new WebGLRenderTarget(resolution, resolution, parameters);\n    fbo1.depthBuffer = true;\n    fbo1.depthTexture = new DepthTexture(resolution, resolution);\n    fbo1.depthTexture.format = DepthFormat;\n    fbo1.depthTexture.type = UnsignedShortType;\n    const fbo2 = new WebGLRenderTarget(resolution, resolution, parameters);\n    const blurpass = new BlurPass({\n      gl,\n      resolution,\n      width: blurX,\n      height: blurY,\n      minDepthThreshold,\n      maxDepthThreshold,\n      depthScale,\n      depthToBlurRatioBias\n    });\n    const reflectorProps = {\n      mirror,\n      textureMatrix,\n      mixBlur,\n      tDiffuse: fbo1.texture,\n      tDepth: fbo1.depthTexture,\n      tDiffuseBlur: fbo2.texture,\n      hasBlur,\n      mixStrength,\n      minDepthThreshold,\n      maxDepthThreshold,\n      depthScale,\n      depthToBlurRatioBias,\n      distortion,\n      distortionMap,\n      mixContrast,\n      'defines-USE_BLUR': hasBlur ? '' : undefined,\n      'defines-USE_DEPTH': depthScale > 0 ? '' : undefined,\n      'defines-USE_DISTORTION': distortionMap ? '' : undefined\n    };\n    return [fbo1, fbo2, blurpass, reflectorProps];\n  }, [gl, blurX, blurY, textureMatrix, resolution, mirror, hasBlur, mixBlur, mixStrength, minDepthThreshold, maxDepthThreshold, depthScale, depthToBlurRatioBias, distortion, distortionMap, mixContrast]);\n  useFrame(() => {\n    var _materialRef$current2;\n    const parent = materialRef.current.parent || ((_materialRef$current2 = materialRef.current) == null || (_materialRef$current2 = _materialRef$current2.__r3f.parent) == null ? void 0 : _materialRef$current2.object);\n    if (!parent) return;\n    parent.visible = false;\n    const currentXrEnabled = gl.xr.enabled;\n    const currentShadowAutoUpdate = gl.shadowMap.autoUpdate;\n    beforeRender();\n    gl.xr.enabled = false;\n    gl.shadowMap.autoUpdate = false;\n    gl.setRenderTarget(fbo1);\n    gl.state.buffers.depth.setMask(true);\n    if (!gl.autoClear) gl.clear();\n    gl.render(scene, virtualCamera);\n    if (hasBlur) blurpass.render(gl, fbo1, fbo2);\n    gl.xr.enabled = currentXrEnabled;\n    gl.shadowMap.autoUpdate = currentShadowAutoUpdate;\n    parent.visible = true;\n    gl.setRenderTarget(null);\n  });\n  return /*#__PURE__*/React.createElement(\"meshReflectorMaterialImpl\", _extends({\n    attach: \"material\"\n    // Defines can't be updated dynamically, so we need to recreate the material\n    ,\n    key: 'key' + reflectorProps['defines-USE_BLUR'] + reflectorProps['defines-USE_DEPTH'] + reflectorProps['defines-USE_DISTORTION'],\n    ref: materialRef\n  }, reflectorProps, props));\n});\n\nexport { MeshReflectorMaterial };\n","import { REVISION } from 'three';\n\nconst getVersion = () => parseInt(REVISION.replace(/\\D+/g, ''));\nconst version = /* @__PURE__ */getVersion();\n\nexport { version };\n","import * as THREE from 'three';\nimport { version } from '../helpers/constants.js';\n\nclass ConvolutionMaterial extends THREE.ShaderMaterial {\n  constructor(texelSize = new THREE.Vector2()) {\n    super({\n      uniforms: {\n        inputBuffer: new THREE.Uniform(null),\n        depthBuffer: new THREE.Uniform(null),\n        resolution: new THREE.Uniform(new THREE.Vector2()),\n        texelSize: new THREE.Uniform(new THREE.Vector2()),\n        halfTexelSize: new THREE.Uniform(new THREE.Vector2()),\n        kernel: new THREE.Uniform(0.0),\n        scale: new THREE.Uniform(1.0),\n        cameraNear: new THREE.Uniform(0.0),\n        cameraFar: new THREE.Uniform(1.0),\n        minDepthThreshold: new THREE.Uniform(0.0),\n        maxDepthThreshold: new THREE.Uniform(1.0),\n        depthScale: new THREE.Uniform(0.0),\n        depthToBlurRatioBias: new THREE.Uniform(0.25)\n      },\n      fragmentShader: `#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n          #include <tonemapping_fragment>\n          #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n        }`,\n      vertexShader: `uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }`,\n      blending: THREE.NoBlending,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.setTexelSize(texelSize.x, texelSize.y);\n    this.kernel = new Float32Array([0.0, 1.0, 2.0, 2.0, 3.0]);\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n    this.uniforms.halfTexelSize.value.set(x, y).multiplyScalar(0.5);\n  }\n  setResolution(resolution) {\n    this.uniforms.resolution.value.copy(resolution);\n  }\n}\n\nexport { ConvolutionMaterial };\n","import { WebGLRenderTarget, LinearFilter, HalfFloatType, Vector2, Scene, Camera, BufferGeometry, BufferAttribute, Mesh } from 'three';\nimport { ConvolutionMaterial } from './ConvolutionMaterial.js';\n\nclass BlurPass {\n  constructor({\n    gl,\n    resolution,\n    width = 500,\n    height = 500,\n    minDepthThreshold = 0,\n    maxDepthThreshold = 1,\n    depthScale = 0,\n    depthToBlurRatioBias = 0.25\n  }) {\n    this.renderToScreen = false;\n    this.renderTargetA = new WebGLRenderTarget(resolution, resolution, {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      stencilBuffer: false,\n      depthBuffer: false,\n      type: HalfFloatType\n    });\n    this.renderTargetB = this.renderTargetA.clone();\n    this.convolutionMaterial = new ConvolutionMaterial();\n    this.convolutionMaterial.setTexelSize(1.0 / width, 1.0 / height);\n    this.convolutionMaterial.setResolution(new Vector2(width, height));\n    this.scene = new Scene();\n    this.camera = new Camera();\n    this.convolutionMaterial.uniforms.minDepthThreshold.value = minDepthThreshold;\n    this.convolutionMaterial.uniforms.maxDepthThreshold.value = maxDepthThreshold;\n    this.convolutionMaterial.uniforms.depthScale.value = depthScale;\n    this.convolutionMaterial.uniforms.depthToBlurRatioBias.value = depthToBlurRatioBias;\n    this.convolutionMaterial.defines.USE_DEPTH = depthScale > 0;\n    const vertices = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]);\n    const uvs = new Float32Array([0, 0, 2, 0, 0, 2]);\n    const geometry = new BufferGeometry();\n    geometry.setAttribute('position', new BufferAttribute(vertices, 3));\n    geometry.setAttribute('uv', new BufferAttribute(uvs, 2));\n    this.screen = new Mesh(geometry, this.convolutionMaterial);\n    this.screen.frustumCulled = false;\n    this.scene.add(this.screen);\n  }\n  render(renderer, inputBuffer, outputBuffer) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetB = this.renderTargetB;\n    let material = this.convolutionMaterial;\n    let uniforms = material.uniforms;\n    uniforms.depthBuffer.value = inputBuffer.depthTexture;\n    const kernel = material.kernel;\n    let lastRT = inputBuffer;\n    let destRT;\n    let i, l;\n    // Apply the multi-pass blur.\n    for (i = 0, l = kernel.length - 1; i < l; ++i) {\n      // Alternate between targets.\n      destRT = (i & 1) === 0 ? renderTargetA : renderTargetB;\n      uniforms.kernel.value = kernel[i];\n      uniforms.inputBuffer.value = lastRT.texture;\n      renderer.setRenderTarget(destRT);\n      renderer.render(scene, camera);\n      lastRT = destRT;\n    }\n    uniforms.kernel.value = kernel[i];\n    uniforms.inputBuffer.value = lastRT.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(scene, camera);\n  }\n}\n\nexport { BlurPass };\n","import { MeshStandardMaterial } from 'three';\n\nclass MeshReflectorMaterial extends MeshStandardMaterial {\n  constructor(parameters = {}) {\n    super(parameters);\n    this._tDepth = {\n      value: null\n    };\n    this._distortionMap = {\n      value: null\n    };\n    this._tDiffuse = {\n      value: null\n    };\n    this._tDiffuseBlur = {\n      value: null\n    };\n    this._textureMatrix = {\n      value: null\n    };\n    this._hasBlur = {\n      value: false\n    };\n    this._mirror = {\n      value: 0.0\n    };\n    this._mixBlur = {\n      value: 0.0\n    };\n    this._blurStrength = {\n      value: 0.5\n    };\n    this._minDepthThreshold = {\n      value: 0.9\n    };\n    this._maxDepthThreshold = {\n      value: 1\n    };\n    this._depthScale = {\n      value: 0\n    };\n    this._depthToBlurRatioBias = {\n      value: 0.25\n    };\n    this._distortion = {\n      value: 1\n    };\n    this._mixContrast = {\n      value: 1.0\n    };\n    this.setValues(parameters);\n  }\n  onBeforeCompile(shader) {\n    var _shader$defines;\n    if (!((_shader$defines = shader.defines) != null && _shader$defines.USE_UV)) {\n      shader.defines.USE_UV = '';\n    }\n    shader.uniforms.hasBlur = this._hasBlur;\n    shader.uniforms.tDiffuse = this._tDiffuse;\n    shader.uniforms.tDepth = this._tDepth;\n    shader.uniforms.distortionMap = this._distortionMap;\n    shader.uniforms.tDiffuseBlur = this._tDiffuseBlur;\n    shader.uniforms.textureMatrix = this._textureMatrix;\n    shader.uniforms.mirror = this._mirror;\n    shader.uniforms.mixBlur = this._mixBlur;\n    shader.uniforms.mixStrength = this._blurStrength;\n    shader.uniforms.minDepthThreshold = this._minDepthThreshold;\n    shader.uniforms.maxDepthThreshold = this._maxDepthThreshold;\n    shader.uniforms.depthScale = this._depthScale;\n    shader.uniforms.depthToBlurRatioBias = this._depthToBlurRatioBias;\n    shader.uniforms.distortion = this._distortion;\n    shader.uniforms.mixContrast = this._mixContrast;\n    shader.vertexShader = `\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n      ${shader.vertexShader}`;\n    shader.vertexShader = shader.vertexShader.replace('#include <project_vertex>', `#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`);\n    shader.fragmentShader = `\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;\n        ${shader.fragmentShader}`;\n    shader.fragmentShader = shader.fragmentShader.replace('#include <emissivemap_fragment>', `#include <emissivemap_fragment>\n\n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n\n      vec4 merge = base;\n\n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n\n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n\n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\n      `);\n  }\n  get tDiffuse() {\n    return this._tDiffuse.value;\n  }\n  set tDiffuse(v) {\n    this._tDiffuse.value = v;\n  }\n  get tDepth() {\n    return this._tDepth.value;\n  }\n  set tDepth(v) {\n    this._tDepth.value = v;\n  }\n  get distortionMap() {\n    return this._distortionMap.value;\n  }\n  set distortionMap(v) {\n    this._distortionMap.value = v;\n  }\n  get tDiffuseBlur() {\n    return this._tDiffuseBlur.value;\n  }\n  set tDiffuseBlur(v) {\n    this._tDiffuseBlur.value = v;\n  }\n  get textureMatrix() {\n    return this._textureMatrix.value;\n  }\n  set textureMatrix(v) {\n    this._textureMatrix.value = v;\n  }\n  get hasBlur() {\n    return this._hasBlur.value;\n  }\n  set hasBlur(v) {\n    this._hasBlur.value = v;\n  }\n  get mirror() {\n    return this._mirror.value;\n  }\n  set mirror(v) {\n    this._mirror.value = v;\n  }\n  get mixBlur() {\n    return this._mixBlur.value;\n  }\n  set mixBlur(v) {\n    this._mixBlur.value = v;\n  }\n  get mixStrength() {\n    return this._blurStrength.value;\n  }\n  set mixStrength(v) {\n    this._blurStrength.value = v;\n  }\n  get minDepthThreshold() {\n    return this._minDepthThreshold.value;\n  }\n  set minDepthThreshold(v) {\n    this._minDepthThreshold.value = v;\n  }\n  get maxDepthThreshold() {\n    return this._maxDepthThreshold.value;\n  }\n  set maxDepthThreshold(v) {\n    this._maxDepthThreshold.value = v;\n  }\n  get depthScale() {\n    return this._depthScale.value;\n  }\n  set depthScale(v) {\n    this._depthScale.value = v;\n  }\n  get depthToBlurRatioBias() {\n    return this._depthToBlurRatioBias.value;\n  }\n  set depthToBlurRatioBias(v) {\n    this._depthToBlurRatioBias.value = v;\n  }\n  get distortion() {\n    return this._distortion.value;\n  }\n  set distortion(v) {\n    this._distortion.value = v;\n  }\n  get mixContrast() {\n    return this._mixContrast.value;\n  }\n  set mixContrast(v) {\n    this._mixContrast.value = v;\n  }\n}\n\nexport { MeshReflectorMaterial };\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,5]}