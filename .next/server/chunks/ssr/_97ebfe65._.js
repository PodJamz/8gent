module.exports=[670537,a=>{"use strict";var b=Object.defineProperty;class c{constructor(){((a,c,d)=>{let e;return(e="symbol"!=typeof c?c+"":c)in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[e]=d})(this,"_listeners")}addEventListener(a,b){void 0===this._listeners&&(this._listeners={});let c=this._listeners;void 0===c[a]&&(c[a]=[]),-1===c[a].indexOf(b)&&c[a].push(b)}hasEventListener(a,b){if(void 0===this._listeners)return!1;let c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)}removeEventListener(a,b){if(void 0===this._listeners)return;let c=this._listeners[a];if(void 0!==c){let a=c.indexOf(b);-1!==a&&c.splice(a,1)}}dispatchEvent(a){if(void 0===this._listeners)return;let b=this._listeners[a.type];if(void 0!==b){a.target=this;let c=b.slice(0);for(let b=0,d=c.length;b<d;b++)c[b].call(this,a);a.target=null}}}a.s(["EventDispatcher",()=>c])},212637,a=>{"use strict";function b(){return(b=Object.assign.bind()).apply(null,arguments)}a.s(["default",()=>b])},532572,a=>{"use strict";var b=a.i(863050),c=a.i(835572),d=a.i(572423),e=a.i(235871);let f=a=>a===Object(a)&&!Array.isArray(a)&&"function"!=typeof a;function g(a,g){let h=(0,d.useThree)(a=>a.gl),i=(0,e.useLoader)(c.TextureLoader,f(a)?Object.values(a):a);return(0,b.useLayoutEffect)(()=>{null==g||g(i)},[g]),(0,b.useEffect)(()=>{if("initTexture"in h){let a=[];Array.isArray(i)?a=i:i instanceof c.Texture?a=[i]:f(i)&&(a=Object.values(i)),a.forEach(a=>{a instanceof c.Texture&&h.initTexture(a)})}},[h,i]),(0,b.useMemo)(()=>{if(!f(a))return i;{let b={},c=0;for(let d in a)b[d]=i[c++];return b}},[a,i])}g.preload=a=>e.useLoader.preload(c.TextureLoader,a),g.clear=a=>e.useLoader.clear(c.TextureLoader,a),a.s(["useTexture",()=>g])},674990,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(926725),e=a.i(75812),f=a.i(572423),g=a.i(532572),h=a.i(935194),i=a.i(829785),j=a.i(835572),k=a.i(233379);function l({image:a,position:d,index:f,isHovered:i,isSelected:l,onHover:m,onClick:n,cardSize:o,audioData:p}){let q=(0,c.useRef)(null),r=(0,c.useRef)(null),s=(0,g.useTexture)(a.src),[t,u]=(0,c.useState)(1),v=(0,c.useMemo)(()=>{let a=new j.Matrix4;a.lookAt(d,new j.Vector3(0,0,0),new j.Vector3(0,1,0));let b=new j.Euler;return b.setFromRotationMatrix(a),b},[d]);(0,e.useFrame)((a,b)=>{let c=i?1.3:l?1.5:1;if(p?.enabled){let a=f%5,b=[p.bass,p.lowMid,p.mid,p.highMid,p.treble][a]||0;p.isBeat&&(c*=1+.4*p.beatIntensity),c*=1+.2*b}if(u(a=>(0,k.damp)(a,c,8,b)),q.current&&(q.current.scale.setScalar(t),p?.enabled&&q.current.material instanceof j.MeshStandardMaterial)){let a=.5*p.energy;q.current.material.emissive.setRGB(.31*a,.27*a,.9*a),q.current.material.emissiveIntensity=a}if(r.current&&p?.enabled){let a=1.1+.3*p.beatIntensity;r.current.scale.setScalar(a),r.current.material instanceof j.MeshBasicMaterial&&(r.current.material.opacity=.2+.4*p.beatIntensity)}});let w=s.image?s.image.width/s.image.height:1,x=w>1?o:o*w,y=w>1?o/w:o;return(0,b.jsxs)("group",{position:d,rotation:v,children:[(0,b.jsxs)("mesh",{ref:q,onPointerEnter:()=>m(f),onPointerLeave:()=>m(null),onClick:()=>n(f),children:[(0,b.jsx)("planeGeometry",{args:[x,y]}),(0,b.jsx)("meshStandardMaterial",{map:s,transparent:!0,opacity:i||l?1:.85,side:j.DoubleSide,emissive:"#4f46e5",emissiveIntensity:0})]}),p?.enabled&&(0,b.jsxs)("mesh",{ref:r,scale:1.1,position:[0,0,-.01],children:[(0,b.jsx)("ringGeometry",{args:[.52*Math.max(x,y),.58*Math.max(x,y),32]}),(0,b.jsx)("meshBasicMaterial",{color:"#4f46e5",transparent:!0,opacity:.2,side:j.DoubleSide})]}),i&&!p?.enabled&&(0,b.jsxs)("mesh",{scale:1.1,children:[(0,b.jsx)("planeGeometry",{args:[x,y]}),(0,b.jsx)("meshBasicMaterial",{color:"#4f46e5",transparent:!0,opacity:.3,side:j.DoubleSide})]}),i&&a.alt&&(0,b.jsx)(h.Html,{center:!0,position:[0,-y/2-.3,.1],children:(0,b.jsx)("div",{className:"bg-black/80 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap backdrop-blur-sm",children:a.alt})})]})}function m({images:a,autoRotate:d,rotationSpeed:g,radius:h,itemSize:m,onImageClick:n,audioData:o}){let p=(0,c.useRef)(null),q=(0,c.useRef)(null),r=(0,c.useRef)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),{camera:w}=(0,f.useThree)(),x=(0,c.useMemo)(()=>(0,k.fibonacciSphere)(a.length,h),[a.length,h]);(0,e.useFrame)((a,b)=>{if(p.current&&d&&null===s){let c=g;o?.enabled&&(c*=1+2*o.energy,o.isBeat&&(p.current.rotation.x+=.02*Math.sin(10*a.clock.elapsedTime)*o.beatIntensity)),p.current.rotation.y+=c*b}if(q.current&&o?.enabled){let b=.15*h*(1+.8*o.bass+.5*o.beatIntensity);if(q.current.scale.setScalar(b/(.15*h)),q.current.material instanceof j.MeshBasicMaterial){let b=(.1*a.clock.elapsedTime+o.mid)%1;q.current.material.color.setHSL(b,.8,.5),q.current.material.opacity=.2+.5*o.energy}}if(r.current&&o?.enabled){let a=.98+.1*o.bass;r.current.scale.setScalar(a),r.current.material instanceof j.MeshBasicMaterial&&(r.current.material.opacity=.1+.2*o.energy)}});let y=(0,c.useCallback)(b=>{if(v(u===b?null:b),n?.(a[b],b),u!==b&&x[b]){let a=x[b].clone().multiplyScalar(1.5);w.position.lerp(a,.1)}},[u,n,a,x,w]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("ambientLight",{intensity:o?.enabled?.4+.4*o.energy:.6}),(0,b.jsx)("pointLight",{position:[10,10,10],intensity:o?.enabled?.8+.5*o.treble:1,color:o?.enabled?`hsl(${240+60*o.mid}, 80%, 60%)`:"#ffffff"}),(0,b.jsx)("pointLight",{position:[-10,-10,-10],intensity:o?.enabled?.3+.4*o.bass:.5,color:"#4f46e5"}),(0,b.jsxs)("mesh",{ref:q,children:[(0,b.jsx)("sphereGeometry",{args:[.15*h,32,32]}),(0,b.jsx)("meshBasicMaterial",{color:"#4f46e5",transparent:!0,opacity:.1})]}),(0,b.jsxs)("mesh",{ref:r,children:[(0,b.jsx)("sphereGeometry",{args:[.98*h,32,16]}),(0,b.jsx)("meshBasicMaterial",{color:"#334155",wireframe:!0,transparent:!0,opacity:.1})]}),o?.enabled&&(0,b.jsxs)("mesh",{rotation:[Math.PI/2,0,0],children:[(0,b.jsx)("ringGeometry",{args:[1.1*h,1.15*h+.2*o.bass,64]}),(0,b.jsx)("meshBasicMaterial",{color:`hsl(${260+40*o.mid}, 80%, 50%)`,transparent:!0,opacity:.3+.4*o.beatIntensity,side:j.DoubleSide})]}),(0,b.jsx)("group",{ref:p,children:a.map((a,c)=>(0,b.jsx)(l,{image:a,position:x[c],index:c,isHovered:s===c,isSelected:u===c,onHover:t,onClick:y,cardSize:m,audioData:o},`${a.src}-${c}`))}),(0,b.jsx)(i.OrbitControls,{enablePan:!1,enableZoom:!0,minDistance:.5*h,maxDistance:3*h,autoRotate:d&&null===s,autoRotateSpeed:o?.enabled?2*g*(1+o.energy):2*g})]})}function n({images:a}){return(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"WebGL not supported"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2 max-w-md",children:a.slice(0,9).map((a,c)=>(0,b.jsx)("img",{src:a.src,alt:a.alt||"",className:"w-24 h-24 object-cover rounded-lg"},c))})]})})}function o({images:a,className:e="w-full h-[600px]",autoRotate:f=!0,rotationSpeed:g=.3,radius:h=5,itemSize:i=1.2,onImageClick:j,audioData:k}){let[l,o]=(0,c.useState)(!0);return l?(0,b.jsx)("div",{className:e,children:(0,b.jsx)(d.Canvas,{camera:{position:[0,0,2*h],fov:60},gl:{antialias:!0,alpha:!0},style:{background:"linear-gradient(to bottom right, #0f172a, #1e1b4b)"},children:(0,b.jsx)(m,{images:a,autoRotate:f,rotationSpeed:g,radius:h,itemSize:i,onImageClick:j,audioData:k})})}):(0,b.jsx)("div",{className:e,children:(0,b.jsx)(n,{images:a})})}a.s(["default",()=>o])}];

//# sourceMappingURL=_97ebfe65._.js.map