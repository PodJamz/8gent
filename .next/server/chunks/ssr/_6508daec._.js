module.exports=[509183,241715,a=>{"use strict";let b=(0,a.i(627552).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],241715),a.s(["Calendar",()=>b],509183)},131752,a=>{"use strict";var b=a.i(599822);a.s(["Globe",()=>b.default])},597960,a=>{"use strict";let b=(0,a.i(627552).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["default",()=>b])},677409,a=>{"use strict";var b=a.i(597960);a.s(["ChevronLeft",()=>b.default])},80335,844689,a=>{"use strict";let b=(0,a.i(627552).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["default",()=>b],844689),a.s(["ExternalLink",()=>b],80335)},447956,a=>{"use strict";a.i(610691),a.i(676242),a.i(293048),a.i(79271),a.i(496614),a.i(658113),a.s([])},106427,897768,a=>{"use strict";let b=(0,a.i(627552).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["default",()=>b],897768),a.s(["Video",()=>b],106427)},342526,169618,a=>{"use strict";function b(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`}function c(a,b){return new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",...b})}function d(a,b){return new Date(a).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,...b&&{timeZone:b}})}function e(a){if(a<60)return`${a} min`;let b=Math.floor(a/60),c=a%60;return 0===c?1===b?"1 hour":`${b} hours`:`${b}h ${c}m`}function f(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function g(a,b){let c=new Date(a,b,1),d=new Date(a,b+1,0),e=new Date(c);e.setDate(e.getDate()-c.getDay());let f=new Date(d);f.setDate(f.getDate()+(6-d.getDay()));let g=[],h=new Date(e);for(;h<=f;)g.push(new Date(h)),h.setDate(h.getDate()+1);return g}function h(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function i(a){return h(a,new Date)}function j(a){let b=new Date;return b.setHours(0,0,0,0),a<b}function k(a=0,b=24,c=30){let e=[];for(let f=60*a;f<60*b;f+=c){let a=function(a){let b=Math.floor(a/60);return`${b.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`}(f),b=d(new Date().setHours(0,f,0,0));e.push({value:a,label:b})}return e}function l(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}a.s(["DAY_NAMES",0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"DAY_NAMES_SHORT",0,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]],169618),a.s(["formatDate",()=>c,"formatDateString",()=>b,"formatDuration",()=>e,"formatTime",()=>d,"generateTimeOptions",()=>k,"getCalendarDates",()=>g,"getUserTimezone",()=>f,"isPast",()=>j,"isSameDay",()=>h,"isToday",()=>i,"isValidEmail",()=>l],342526)},87071,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(233849),e=a.i(662482),f=a.i(509183),g=a.i(189198),h=a.i(567031),i=a.i(278739);a.i(65579);var j=a.i(440653),k=a.i(222548),l=a.i(195572),m=a.i(848955),n=a.i(961092),o=a.i(954079),p=a.i(610691),q=a.i(342526);let r="jamesspalding",s="James";function t({api:a}){let[t,u]=(0,c.useState)("conversational"),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null),[z]=(0,c.useState)((0,q.getUserTimezone)()),[A,B]=(0,c.useState)("select-date"),[C,D]=(0,c.useState)(new Date),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(null),I=(0,d.useQuery)(a.scheduling.getPublicEventTypes,{ownerId:r}),J=(0,d.useQuery)(v&&x?a.scheduling.getAvailableSlots:"skip",v&&x?{eventTypeId:x._id,date:(0,q.formatDateString)(v),timezone:z}:"skip"),K=(0,d.useMutation)(a.scheduling.createBooking),L=(0,c.useCallback)(a=>{w(a),I&&I.length>0&&!x&&y(I[0])},[I,x]),M=(0,c.useCallback)(async a=>{let b=I?.find(b=>b._id===a.eventTypeId);if(!b)throw Error("Event type not found");H({_id:await K({eventTypeId:a.eventTypeId,guestEmail:a.guestEmail,guestName:a.guestName,guestTimezone:a.guestTimezone,startTime:a.startTime,notes:a.notes}),eventTypeId:a.eventTypeId,hostId:r,guestEmail:a.guestEmail,guestName:a.guestName,guestTimezone:a.guestTimezone,startTime:a.startTime,endTime:a.startTime+60*b.duration*1e3,status:"confirmed",title:b.title,locationType:b.locationType,notes:a.notes,createdAt:Date.now(),updatedAt:Date.now()})},[K,I]),N=(0,c.useCallback)(async a=>{let b=I?.find(b=>b._id===a.eventTypeId);b&&y(b),await M(a)},[I,M]),O=async a=>{x&&E&&(await M({eventTypeId:x._id,guestName:a.guestName,guestEmail:a.guestEmail,guestTimezone:a.guestTimezone,startTime:E.timestamp,notes:a.notes}),B("confirmed"))};return void 0===I?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"animate-pulse text-center",children:[(0,b.jsx)(e.Loader2,{className:"w-8 h-8 mx-auto mb-4 animate-spin opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):I&&0!==I.length?(!x&&I.length>0&&y(I[0]),"conversational"===t)?(0,b.jsx)(j.ConversationalBooking,{eventTypes:I,availableSlots:J,onDateSelect:L,onSubmit:N,isLoadingSlots:null!==v&&void 0===J,hostName:s,onSwitchToClassic:()=>u("classic")}):"confirmed"===A&&G&&x?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,b.jsx)(n.BookingConfirmation,{booking:G,eventType:x,onClose:()=>window.close()})}):(0,b.jsxs)("div",{className:"min-h-screen p-4 md:p-8",children:[(0,b.jsx)(h.motion.button,{initial:{opacity:0},animate:{opacity:1},onClick:()=>u("conversational"),className:"fixed top-4 right-4 flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors z-50 bg-card/80 backdrop-blur-sm px-4 py-2 rounded-full",children:"âœ¨ Try the new experience"}),(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-[300px,1fr] gap-8",children:[(0,b.jsx)("div",{children:(0,b.jsxs)(o.LiquidGlass,{className:"p-6 rounded-2xl sticky top-8",children:["select-date"!==A&&(0,b.jsx)("button",{onClick:()=>{"select-time"===A?B("select-date"):"enter-details"===A&&B("select-time")},className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-4",children:"â† Back"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Meeting type"}),(0,b.jsx)("select",{value:x?._id||"",onChange:a=>{let b=I.find(b=>b._id===a.target.value);b&&y(b)},className:"w-full p-2 rounded-lg bg-background border border-border",children:I.map(a=>(0,b.jsxs)("option",{value:a._id,children:[a.title," (",(0,q.formatDuration)(a.duration),")"]},a._id))})]}),x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-3 h-12 rounded-full mb-4",style:{backgroundColor:x.color}}),(0,b.jsx)("h1",{className:"text-xl font-bold mb-2",children:x.title}),x.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:x.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(f.Calendar,{className:"w-4 h-4"}),(0,q.formatDuration)(x.duration)]})]})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(i.AnimatePresence,{mode:"wait",children:["select-date"===A&&(0,b.jsx)(h.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:p.springs.smooth,children:(0,b.jsxs)(o.LiquidGlass,{className:"p-6 rounded-2xl",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Select a Date"}),(0,b.jsx)(k.BookingCalendar,{selectedDate:v,onSelectDate:a=>{w(a),F(null),B("select-time")},currentMonth:C,onMonthChange:D,maxAdvanceDays:x?.maxAdvance})]})},"select-date"),"select-time"===A&&v&&(0,b.jsx)(h.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:p.springs.smooth,children:(0,b.jsxs)(o.LiquidGlass,{className:"p-6 rounded-2xl",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Select a Time"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:v.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),(0,b.jsx)(l.TimeSlotPicker,{slots:J||[],selectedSlot:E,onSelectSlot:a=>{F(a),B("enter-details")},timezone:z,isLoading:void 0===J})]})},"select-time"),"enter-details"===A&&v&&E&&x&&(0,b.jsx)(h.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:p.springs.smooth,children:(0,b.jsx)(m.BookingForm,{eventType:x,selectedDate:v,selectedSlot:E,onSubmit:O,onBack:()=>B("select-time")})},"enter-details")]})})]})})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,b.jsxs)("div",{className:"text-center max-w-md",children:[(0,b.jsx)(h.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:"ðŸ“…"}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"No Availability"}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-6",children:[s," hasn't set up any meeting types yet."]}),(0,b.jsx)(g.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-full font-medium",children:"Return Home"})]})})}function u(){let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)(null);return((0,c.useEffect)(()=>{d(!0)},[]),(0,c.useEffect)(()=>{if(a)try{let a=(()=>{let a=Error("Cannot find module '../../../convex/_generated/api'");throw a.code="MODULE_NOT_FOUND",a})().api;a?.scheduling&&f(a)}catch{}},[a]),e)?(0,b.jsx)(t,{api:e}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,b.jsxs)("div",{className:"text-center max-w-md",children:[(0,b.jsx)(h.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:"ðŸ—“ï¸"}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Coming Soon"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"The booking system is being set up. Check back soon!"}),(0,b.jsx)(g.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-full font-medium",children:"Return Home"})]})})}function v(){let[a,d]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{d(!0)},[]),a)?(0,b.jsx)(u,{}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(h.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:"ðŸ—“ï¸"}),(0,b.jsx)(e.Loader2,{className:"w-8 h-8 mx-auto animate-spin opacity-50"})]})})}a.s(["default",()=>v])}];

//# sourceMappingURL=_6508daec._.js.map