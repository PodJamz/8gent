{"version":3,"sources":["../../../../src/app/settings/users/page.tsx"],"sourcesContent":["'use client';\n\n/**\n * Admin User Management Page\n *\n * Owner-only page for managing users, roles, and permissions.\n * Allows adding collaborators, setting their access levels, and\n * controlling what features they can use.\n */\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@/lib/openclaw/hooks';\nimport { api } from '@/lib/convex-shim';\n\n// Type assertion for userManagement module\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst userManagementApi = (api as any).userManagement;\n\nimport { PageTransition } from '@/components/ios';\nimport { useAdminSession } from '@/hooks/useAdminSession';\nimport {\n  ChevronLeft,\n  Users,\n  Plus,\n  Trash2,\n  Edit2,\n  Check,\n  X,\n  Loader2,\n  Shield,\n  ShieldCheck,\n  UserPlus,\n  Eye,\n  Crown,\n  UserCog,\n  Lock,\n  Unlock,\n  ChevronDown,\n  ChevronUp,\n  Music,\n  Palette,\n  Sparkles,\n  BarChart,\n  Key,\n  FileEdit,\n  AlertTriangle,\n} from 'lucide-react';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface ManagedUser {\n  id: string;\n  email: string;\n  clerkId?: string;\n  displayName?: string;\n  avatarUrl?: string;\n  role: 'owner' | 'admin' | 'collaborator' | 'viewer';\n  isActive: boolean;\n  permissions: {\n    areas: string[];\n    privateMusic: boolean;\n    designCanvas: boolean;\n    clawAI: boolean;\n    security: boolean;\n    analytics: boolean;\n    manageUsers: boolean;\n    managePasscodes: boolean;\n    manageContent: boolean;\n  };\n  invitedAt: number;\n  lastActiveAt?: number;\n  notes?: string;\n}\n\ninterface UserStats {\n  total: number;\n  active: number;\n  byRole: {\n    owner: number;\n    admin: number;\n    collaborator: number;\n    viewer: number;\n  };\n}\n\n// ============================================================================\n// Constants\n// ============================================================================\n\nconst ROLES = [\n  { value: 'admin', label: 'Admin', description: 'Full access to all features', icon: ShieldCheck },\n  { value: 'collaborator', label: 'Collaborator', description: 'Access to assigned features', icon: Users },\n  { value: 'viewer', label: 'Viewer', description: 'Read-only access', icon: Eye },\n] as const;\n\nconst AREAS = [\n  { slug: 'humans', name: 'Humans Search', icon: Users },\n  { slug: 'studio', name: 'Jamz Studio', icon: Music },\n  { slug: 'vault', name: 'Vault', icon: Lock },\n  { slug: 'calendar', name: 'Calendar', icon: Lock },\n  { slug: 'prototyping', name: 'Prototyping', icon: Palette },\n];\n\nconst FEATURE_PERMISSIONS = [\n  { key: 'privateMusic', label: 'Private Music', description: 'Access unreleased tracks', icon: Music },\n  { key: 'designCanvas', label: 'Design Canvas', description: 'Use infinite canvas', icon: Palette },\n  { key: 'clawAI', label: 'Claw AI', description: 'Chat with AI assistant', icon: Sparkles },\n  { key: 'security', label: 'Security Dashboard', description: 'View security events', icon: Shield },\n  { key: 'analytics', label: 'Analytics', description: 'View usage stats', icon: BarChart },\n] as const;\n\nconst ADMIN_PERMISSIONS = [\n  { key: 'manageUsers', label: 'Manage Users', description: 'Add, edit, remove users', icon: UserCog },\n  { key: 'managePasscodes', label: 'Manage Passcodes', description: 'Change area passcodes', icon: Key },\n  { key: 'manageContent', label: 'Manage Content', description: 'Edit site content', icon: FileEdit },\n] as const;\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nexport default function UserManagementPage() {\n  const router = useRouter();\n  const { isAuthenticated: isAdmin, isLoading: isAdminLoading } = useAdminSession();\n\n  // State\n  const [isAddingUser, setIsAddingUser] = useState(false);\n  const [editingUser, setEditingUser] = useState<string | null>(null);\n  const [expandedUser, setExpandedUser] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  // New user form state\n  const [newEmail, setNewEmail] = useState('');\n  const [newDisplayName, setNewDisplayName] = useState('');\n  const [newRole, setNewRole] = useState<'admin' | 'collaborator' | 'viewer'>('collaborator');\n  const [newNotes, setNewNotes] = useState('');\n\n  // Queries\n  const users = useQuery(userManagementApi?.listManagedUsers) as ManagedUser[] | undefined;\n  const stats = useQuery(userManagementApi?.getUserStats) as UserStats | undefined;\n\n  // Mutations\n  const upsertUser = useMutation(userManagementApi?.upsertManagedUser);\n  const deleteUser = useMutation(userManagementApi?.deleteManagedUser);\n  const toggleArea = useMutation(userManagementApi?.toggleAreaAccess);\n  const updatePermissions = useMutation(userManagementApi?.updateUserPermissions);\n  const seedOwner = useMutation(userManagementApi?.seedOwner);\n\n  // Redirect if not admin\n  useEffect(() => {\n    if (!isAdminLoading && !isAdmin) {\n      router.push('/settings');\n    }\n  }, [isAdmin, isAdminLoading, router]);\n\n  // Clear messages after delay\n  useEffect(() => {\n    if (success) {\n      const timer = setTimeout(() => setSuccess(null), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [success]);\n\n  // Handlers\n  const handleAddUser = async () => {\n    if (!newEmail.trim()) {\n      setError('Email is required');\n      return;\n    }\n\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newEmail)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    try {\n      await upsertUser({\n        email: newEmail,\n        displayName: newDisplayName || undefined,\n        role: newRole,\n        isActive: true,\n        notes: newNotes || undefined,\n        invitedBy: 'admin', // In production, use actual Clerk ID\n      });\n      setIsAddingUser(false);\n      resetForm();\n      setSuccess(`${newDisplayName || newEmail} has been added`);\n      setError(null);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to add user');\n    }\n  };\n\n  const handleDeleteUser = async (email: string) => {\n    if (!confirm(`Are you sure you want to remove this user? This cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await deleteUser({ email });\n      setSuccess('User has been removed');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to remove user');\n    }\n  };\n\n  const handleToggleActive = async (user: ManagedUser) => {\n    try {\n      await upsertUser({\n        email: user.email,\n        displayName: user.displayName,\n        role: user.role,\n        isActive: !user.isActive,\n        invitedBy: 'admin',\n      });\n      setSuccess(`${user.displayName || user.email} has been ${user.isActive ? 'deactivated' : 'activated'}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to update user');\n    }\n  };\n\n  const handleToggleAreaAccess = async (user: ManagedUser, area: string) => {\n    const hasAccess = user.permissions.areas.includes(area);\n    try {\n      await toggleArea({\n        email: user.email,\n        area,\n        hasAccess: !hasAccess,\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to update access');\n    }\n  };\n\n  const handleTogglePermission = async (user: ManagedUser, key: string) => {\n    const newPermissions = {\n      ...user.permissions,\n      [key]: !user.permissions[key as keyof typeof user.permissions],\n    };\n    try {\n      await updatePermissions({\n        email: user.email,\n        permissions: newPermissions,\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to update permissions');\n    }\n  };\n\n  const handleRoleChange = async (user: ManagedUser, newRole: 'admin' | 'collaborator' | 'viewer') => {\n    try {\n      await upsertUser({\n        email: user.email,\n        displayName: user.displayName,\n        role: newRole,\n        isActive: user.isActive,\n        notes: user.notes,\n        invitedBy: 'admin',\n      });\n      setSuccess(`${user.displayName || user.email} is now a ${newRole}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to change role');\n    }\n  };\n\n  const handleSeedOwner = async () => {\n    try {\n      await seedOwner({\n        email: 'admin@openclaw.io',\n        displayName: 'OpenClaw-OS',\n      });\n      setSuccess('Owner account created');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to create owner');\n    }\n  };\n\n  const resetForm = () => {\n    setNewEmail('');\n    setNewDisplayName('');\n    setNewRole('collaborator');\n    setNewNotes('');\n  };\n\n  const getRoleIcon = (role: string) => {\n    switch (role) {\n      case 'owner': return Crown;\n      case 'admin': return ShieldCheck;\n      case 'collaborator': return Users;\n      default: return Eye;\n    }\n  };\n\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'owner': return 'text-amber-400 bg-amber-500/10';\n      case 'admin': return 'text-purple-400 bg-purple-500/10';\n      case 'collaborator': return 'text-emerald-400 bg-emerald-500/10';\n      default: return 'text-white/60 bg-white/10';\n    }\n  };\n\n  if (isAdminLoading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-950 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-white/50\" />\n      </div>\n    );\n  }\n\n  if (!isAdmin) {\n    return null;\n  }\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-zinc-950\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10\">\n          <div className=\"max-w-2xl mx-auto px-4 py-4 flex items-center gap-4\">\n            <Link\n              href=\"/settings\"\n              className=\"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors\"\n              aria-label=\"Go back to settings\"\n            >\n              <ChevronLeft className=\"w-5 h-5 text-white\" />\n            </Link>\n            <div className=\"flex-1\">\n              <h1 className=\"text-xl font-semibold text-white\">User Management</h1>\n              <p className=\"text-xs text-white/50\">Manage access and permissions</p>\n            </div>\n            <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center\">\n              <UserCog className=\"w-4 h-4 text-white\" />\n            </div>\n          </div>\n        </header>\n\n        {/* Content */}\n        <main className=\"max-w-2xl mx-auto px-4 py-6\">\n          {/* Messages */}\n          <AnimatePresence>\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-2\"\n              >\n                <AlertTriangle className=\"w-4 h-4 text-red-400 flex-shrink-0\" />\n                <p className=\"text-sm text-red-400\">{error}</p>\n                <button onClick={() => setError(null)} className=\"ml-auto p-1 hover:bg-red-500/20 rounded\">\n                  <X className=\"w-3 h-3 text-red-400\" />\n                </button>\n              </motion.div>\n            )}\n            {success && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl flex items-center gap-2\"\n              >\n                <Check className=\"w-4 h-4 text-emerald-400 flex-shrink-0\" />\n                <p className=\"text-sm text-emerald-400\">{success}</p>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Stats */}\n          {stats && (\n            <div className=\"grid grid-cols-4 gap-3 mb-6\">\n              <div className=\"p-3 rounded-xl bg-white/5 border border-white/10 text-center\">\n                <div className=\"text-2xl font-bold text-white\">{stats.total}</div>\n                <div className=\"text-xs text-white/50\">Total</div>\n              </div>\n              <div className=\"p-3 rounded-xl bg-white/5 border border-white/10 text-center\">\n                <div className=\"text-2xl font-bold text-emerald-400\">{stats.active}</div>\n                <div className=\"text-xs text-white/50\">Active</div>\n              </div>\n              <div className=\"p-3 rounded-xl bg-white/5 border border-white/10 text-center\">\n                <div className=\"text-2xl font-bold text-purple-400\">{stats.byRole.admin}</div>\n                <div className=\"text-xs text-white/50\">Admins</div>\n              </div>\n              <div className=\"p-3 rounded-xl bg-white/5 border border-white/10 text-center\">\n                <div className=\"text-2xl font-bold text-white/60\">{stats.byRole.collaborator + stats.byRole.viewer}</div>\n                <div className=\"text-xs text-white/50\">Others</div>\n              </div>\n            </div>\n          )}\n\n          {/* Info card */}\n          <div className=\"mb-6 p-4 rounded-xl bg-white/5 border border-white/10\">\n            <div className=\"flex items-start gap-3\">\n              <Shield className=\"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-white/70\">\n                  Manage who has access to your OpenClaw-OS instance. Add collaborators, assign roles, and control\n                  exactly what features and areas each user can access.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Seed owner button (only show if no users) */}\n          {users?.length === 0 && (\n            <button\n              onClick={handleSeedOwner}\n              className=\"mb-4 w-full py-3 px-4 rounded-xl bg-amber-500/10 border border-amber-500/30 hover:bg-amber-500/20 text-amber-400 transition-colors flex items-center justify-center gap-2\"\n            >\n              <Crown className=\"w-4 h-4\" />\n              Initialize Owner Account\n            </button>\n          )}\n\n          {/* Add user button */}\n          {!isAddingUser && (\n            <button\n              onClick={() => setIsAddingUser(true)}\n              className=\"mb-4 w-full py-3 px-4 rounded-xl bg-emerald-500/10 border border-emerald-500/30 hover:bg-emerald-500/20 text-emerald-400 transition-colors flex items-center justify-center gap-2\"\n            >\n              <UserPlus className=\"w-4 h-4\" />\n              Add New User\n            </button>\n          )}\n\n          {/* Add user form */}\n          <AnimatePresence>\n            {isAddingUser && (\n              <motion.div\n                initial={{ opacity: 0, height: 0 }}\n                animate={{ opacity: 1, height: 'auto' }}\n                exit={{ opacity: 0, height: 0 }}\n                className=\"mb-4 overflow-hidden\"\n              >\n                <div className=\"p-4 rounded-xl bg-white/5 border border-emerald-500/30 space-y-4\">\n                  <div className=\"flex items-center gap-2 text-emerald-400 text-sm font-medium\">\n                    <UserPlus className=\"w-4 h-4\" />\n                    Add New User\n                  </div>\n\n                  {/* Email */}\n                  <div>\n                    <label className=\"block text-xs text-white/50 mb-1\">Email Address *</label>\n                    <input\n                      type=\"email\"\n                      value={newEmail}\n                      onChange={(e) => setNewEmail(e.target.value)}\n                      placeholder=\"user@example.com\"\n                      className=\"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\n                      autoFocus\n                    />\n                  </div>\n\n                  {/* Display name */}\n                  <div>\n                    <label className=\"block text-xs text-white/50 mb-1\">Display Name</label>\n                    <input\n                      type=\"text\"\n                      value={newDisplayName}\n                      onChange={(e) => setNewDisplayName(e.target.value)}\n                      placeholder=\"John Doe\"\n                      className=\"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\n                    />\n                  </div>\n\n                  {/* Role */}\n                  <div>\n                    <label className=\"block text-xs text-white/50 mb-2\">Role</label>\n                    <div className=\"grid grid-cols-3 gap-2\">\n                      {ROLES.map((role) => {\n                        const Icon = role.icon;\n                        return (\n                          <button\n                            key={role.value}\n                            onClick={() => setNewRole(role.value)}\n                            className={`p-3 rounded-lg border transition-colors text-left ${newRole === role.value\n                                ? 'border-emerald-500/50 bg-emerald-500/10'\n                                : 'border-white/10 bg-white/5 hover:bg-white/10'\n                              }`}\n                          >\n                            <Icon className={`w-4 h-4 mb-1 ${newRole === role.value ? 'text-emerald-400' : 'text-white/60'}`} />\n                            <div className={`text-sm font-medium ${newRole === role.value ? 'text-emerald-400' : 'text-white'}`}>\n                              {role.label}\n                            </div>\n                            <div className=\"text-xs text-white/40\">{role.description}</div>\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n\n                  {/* Notes */}\n                  <div>\n                    <label className=\"block text-xs text-white/50 mb-1\">Notes (optional)</label>\n                    <textarea\n                      value={newNotes}\n                      onChange={(e) => setNewNotes(e.target.value)}\n                      placeholder=\"Add any notes about this user...\"\n                      rows={2}\n                      className=\"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 resize-none\"\n                    />\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex gap-2 pt-2\">\n                    <button\n                      onClick={handleAddUser}\n                      className=\"flex-1 py-2 px-4 bg-emerald-500 hover:bg-emerald-600 rounded-lg text-white text-sm font-medium transition-colors flex items-center justify-center gap-2\"\n                    >\n                      <Plus className=\"w-4 h-4\" />\n                      Add User\n                    </button>\n                    <button\n                      onClick={() => {\n                        setIsAddingUser(false);\n                        resetForm();\n                        setError(null);\n                      }}\n                      className=\"py-2 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Users list */}\n          <div className=\"space-y-3\">\n            {users === undefined ? (\n              <div className=\"flex justify-center py-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin text-white/50\" />\n              </div>\n            ) : users.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <Users className=\"w-12 h-12 mx-auto mb-3 text-white/20\" />\n                <p className=\"text-white/50\">No users yet</p>\n                <p className=\"text-xs text-white/30 mt-1\">Add your first user to get started</p>\n              </div>\n            ) : (\n              users.map((user) => {\n                const RoleIcon = getRoleIcon(user.role);\n                const isExpanded = expandedUser === user.email;\n                const isOwner = user.role === 'owner';\n\n                return (\n                  <motion.div\n                    key={user.id}\n                    layout\n                    className=\"rounded-xl bg-white/5 border border-white/10 overflow-hidden\"\n                  >\n                    {/* User header */}\n                    <div\n                      className=\"p-4 flex items-center gap-3 cursor-pointer hover:bg-white/5 transition-colors\"\n                      onClick={() => setExpandedUser(isExpanded ? null : user.email)}\n                    >\n                      {/* Avatar */}\n                      <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-800 flex items-center justify-center text-lg font-medium text-white\">\n                        {user.avatarUrl ? (\n                          <img src={user.avatarUrl} alt=\"\" className=\"w-full h-full rounded-full object-cover\" />\n                        ) : (\n                          (user.displayName || user.email)[0].toUpperCase()\n                        )}\n                      </div>\n\n                      {/* Info */}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-white font-medium truncate\">\n                            {user.displayName || user.email}\n                          </span>\n                          {!user.isActive && (\n                            <span className=\"text-xs text-white/40 bg-white/10 px-2 py-0.5 rounded\">Inactive</span>\n                          )}\n                          {!user.clerkId && (\n                            <span className=\"text-xs text-amber-400/70 bg-amber-500/10 px-2 py-0.5 rounded\">Pending</span>\n                          )}\n                        </div>\n                        <div className=\"flex items-center gap-2 text-xs text-white/40\">\n                          <span className=\"truncate\">{user.email}</span>\n                          {user.lastActiveAt && (\n                            <>\n                              <span>Â·</span>\n                              <span>Active {new Date(user.lastActiveAt).toLocaleDateString()}</span>\n                            </>\n                          )}\n                        </div>\n                      </div>\n\n                      {/* Role badge */}\n                      <div className={`flex items-center gap-1.5 px-2 py-1 rounded-lg ${getRoleColor(user.role)}`}>\n                        <RoleIcon className=\"w-3.5 h-3.5\" />\n                        <span className=\"text-xs font-medium capitalize\">{user.role}</span>\n                      </div>\n\n                      {/* Expand icon */}\n                      {isExpanded ? (\n                        <ChevronUp className=\"w-4 h-4 text-white/40\" />\n                      ) : (\n                        <ChevronDown className=\"w-4 h-4 text-white/40\" />\n                      )}\n                    </div>\n\n                    {/* Expanded details */}\n                    <AnimatePresence>\n                      {isExpanded && (\n                        <motion.div\n                          initial={{ height: 0, opacity: 0 }}\n                          animate={{ height: 'auto', opacity: 1 }}\n                          exit={{ height: 0, opacity: 0 }}\n                          className=\"overflow-hidden\"\n                        >\n                          <div className=\"px-4 pb-4 pt-2 border-t border-white/10 space-y-4\">\n                            {/* Role selector (not for owner) */}\n                            {!isOwner && (\n                              <div>\n                                <label className=\"block text-xs text-white/50 mb-2\">Role</label>\n                                <div className=\"flex gap-2\">\n                                  {ROLES.map((role) => {\n                                    const Icon = role.icon;\n                                    const isSelected = user.role === role.value;\n                                    return (\n                                      <button\n                                        key={role.value}\n                                        onClick={() => handleRoleChange(user, role.value)}\n                                        className={`flex-1 p-2 rounded-lg border transition-colors ${isSelected\n                                            ? 'border-emerald-500/50 bg-emerald-500/10'\n                                            : 'border-white/10 bg-white/5 hover:bg-white/10'\n                                          }`}\n                                      >\n                                        <Icon className={`w-4 h-4 mx-auto mb-1 ${isSelected ? 'text-emerald-400' : 'text-white/60'}`} />\n                                        <div className={`text-xs font-medium ${isSelected ? 'text-emerald-400' : 'text-white/70'}`}>\n                                          {role.label}\n                                        </div>\n                                      </button>\n                                    );\n                                  })}\n                                </div>\n                              </div>\n                            )}\n\n                            {/* Protected areas */}\n                            {!isOwner && user.role !== 'admin' && (\n                              <div>\n                                <label className=\"block text-xs text-white/50 mb-2\">Protected Area Access</label>\n                                <div className=\"grid grid-cols-2 gap-2\">\n                                  {AREAS.map((area) => {\n                                    const hasAccess = user.permissions.areas.includes(area.slug);\n                                    const Icon = area.icon;\n                                    return (\n                                      <button\n                                        key={area.slug}\n                                        onClick={() => handleToggleAreaAccess(user, area.slug)}\n                                        className={`flex items-center gap-2 p-2 rounded-lg border transition-colors ${hasAccess\n                                            ? 'border-emerald-500/50 bg-emerald-500/10'\n                                            : 'border-white/10 bg-white/5 hover:bg-white/10'\n                                          }`}\n                                      >\n                                        <Icon className={`w-4 h-4 ${hasAccess ? 'text-emerald-400' : 'text-white/40'}`} />\n                                        <span className={`text-xs ${hasAccess ? 'text-emerald-400' : 'text-white/60'}`}>\n                                          {area.name}\n                                        </span>\n                                        {hasAccess && <Check className=\"w-3 h-3 text-emerald-400 ml-auto\" />}\n                                      </button>\n                                    );\n                                  })}\n                                </div>\n                              </div>\n                            )}\n\n                            {/* Feature permissions */}\n                            {!isOwner && user.role !== 'admin' && (\n                              <div>\n                                <label className=\"block text-xs text-white/50 mb-2\">Feature Access</label>\n                                <div className=\"space-y-2\">\n                                  {FEATURE_PERMISSIONS.map((perm) => {\n                                    const hasAccess = user.permissions[perm.key as keyof typeof user.permissions];\n                                    const Icon = perm.icon;\n                                    return (\n                                      <button\n                                        key={perm.key}\n                                        onClick={() => handleTogglePermission(user, perm.key)}\n                                        className={`w-full flex items-center gap-3 p-2 rounded-lg border transition-colors ${hasAccess\n                                            ? 'border-emerald-500/30 bg-emerald-500/5'\n                                            : 'border-white/10 bg-white/5 hover:bg-white/10'\n                                          }`}\n                                      >\n                                        <Icon className={`w-4 h-4 ${hasAccess ? 'text-emerald-400' : 'text-white/40'}`} />\n                                        <div className=\"flex-1 text-left\">\n                                          <div className={`text-sm ${hasAccess ? 'text-white' : 'text-white/60'}`}>\n                                            {perm.label}\n                                          </div>\n                                          <div className=\"text-xs text-white/40\">{perm.description}</div>\n                                        </div>\n                                        <div className={`w-10 h-6 rounded-full p-0.5 transition-colors ${hasAccess ? 'bg-emerald-500' : 'bg-white/20'}`}>\n                                          <div className={`w-5 h-5 rounded-full bg-white shadow transition-transform ${hasAccess ? 'translate-x-4' : ''}`} />\n                                        </div>\n                                      </button>\n                                    );\n                                  })}\n                                </div>\n                              </div>\n                            )}\n\n                            {/* Admin permissions (only for admins) */}\n                            {user.role === 'admin' && (\n                              <div>\n                                <label className=\"block text-xs text-white/50 mb-2\">Admin Permissions</label>\n                                <div className=\"space-y-2\">\n                                  {ADMIN_PERMISSIONS.map((perm) => {\n                                    const hasAccess = user.permissions[perm.key as keyof typeof user.permissions];\n                                    const Icon = perm.icon;\n                                    return (\n                                      <button\n                                        key={perm.key}\n                                        onClick={() => handleTogglePermission(user, perm.key)}\n                                        className={`w-full flex items-center gap-3 p-2 rounded-lg border transition-colors ${hasAccess\n                                            ? 'border-purple-500/30 bg-purple-500/5'\n                                            : 'border-white/10 bg-white/5 hover:bg-white/10'\n                                          }`}\n                                      >\n                                        <Icon className={`w-4 h-4 ${hasAccess ? 'text-purple-400' : 'text-white/40'}`} />\n                                        <div className=\"flex-1 text-left\">\n                                          <div className={`text-sm ${hasAccess ? 'text-white' : 'text-white/60'}`}>\n                                            {perm.label}\n                                          </div>\n                                          <div className=\"text-xs text-white/40\">{perm.description}</div>\n                                        </div>\n                                        <div className={`w-10 h-6 rounded-full p-0.5 transition-colors ${hasAccess ? 'bg-purple-500' : 'bg-white/20'}`}>\n                                          <div className={`w-5 h-5 rounded-full bg-white shadow transition-transform ${hasAccess ? 'translate-x-4' : ''}`} />\n                                        </div>\n                                      </button>\n                                    );\n                                  })}\n                                </div>\n                              </div>\n                            )}\n\n                            {/* Notes */}\n                            {user.notes && (\n                              <div className=\"p-2 rounded-lg bg-white/5 text-xs text-white/50\">\n                                {user.notes}\n                              </div>\n                            )}\n\n                            {/* Actions */}\n                            {!isOwner && (\n                              <div className=\"flex gap-2 pt-2 border-t border-white/10\">\n                                <button\n                                  onClick={() => handleToggleActive(user)}\n                                  className={`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${user.isActive\n                                      ? 'bg-amber-500/10 text-amber-400 hover:bg-amber-500/20'\n                                      : 'bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20'\n                                    }`}\n                                >\n                                  {user.isActive ? (\n                                    <>\n                                      <Lock className=\"w-4 h-4\" />\n                                      Deactivate\n                                    </>\n                                  ) : (\n                                    <>\n                                      <Unlock className=\"w-4 h-4\" />\n                                      Activate\n                                    </>\n                                  )}\n                                </button>\n                                <button\n                                  onClick={() => handleDeleteUser(user.email)}\n                                  className=\"py-2 px-3 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg text-sm font-medium transition-colors flex items-center gap-2\"\n                                >\n                                  <Trash2 className=\"w-4 h-4\" />\n                                  Remove\n                                </button>\n                              </div>\n                            )}\n\n                            {/* Owner note */}\n                            {isOwner && (\n                              <div className=\"flex items-center gap-2 p-2 rounded-lg bg-amber-500/10 text-amber-400 text-xs\">\n                                <Crown className=\"w-4 h-4\" />\n                                Owner account cannot be modified\n                              </div>\n                            )}\n                          </div>\n                        </motion.div>\n                      )}\n                    </AnimatePresence>\n                  </motion.div>\n                );\n              })\n            )}\n          </div>\n\n          {/* Footer info */}\n          <div className=\"mt-8 p-4 rounded-xl bg-white/5 border border-white/10\">\n            <h3 className=\"text-sm font-medium text-white mb-3 flex items-center gap-2\">\n              <Shield className=\"w-4 h-4\" />\n              Role Permissions\n            </h3>\n            <dl className=\"space-y-2 text-sm\">\n              <div className=\"flex gap-3\">\n                <dt className=\"flex items-center gap-1.5 text-amber-400 w-24\">\n                  <Crown className=\"w-3.5 h-3.5\" />\n                  Owner\n                </dt>\n                <dd className=\"text-white/60 flex-1\">Full control over everything. Cannot be modified or removed.</dd>\n              </div>\n              <div className=\"flex gap-3\">\n                <dt className=\"flex items-center gap-1.5 text-purple-400 w-24\">\n                  <ShieldCheck className=\"w-3.5 h-3.5\" />\n                  Admin\n                </dt>\n                <dd className=\"text-white/60 flex-1\">Access to all features and can manage other users (except owner).</dd>\n              </div>\n              <div className=\"flex gap-3\">\n                <dt className=\"flex items-center gap-1.5 text-emerald-400 w-24\">\n                  <Users className=\"w-3.5 h-3.5\" />\n                  Collaborator\n                </dt>\n                <dd className=\"text-white/60 flex-1\">Access to assigned features and areas only.</dd>\n              </div>\n              <div className=\"flex gap-3\">\n                <dt className=\"flex items-center gap-1.5 text-white/60 w-24\">\n                  <Eye className=\"w-3.5 h-3.5\" />\n                  Viewer\n                </dt>\n                <dd className=\"text-white/60 flex-1\">Read-only access to permitted content.</dd>\n              </div>\n            </dl>\n          </div>\n        </main>\n      </div>\n    </PageTransition>\n  );\n}\n"],"names":[],"mappings":"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"}