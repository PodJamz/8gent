module.exports=[509183,241715,a=>{"use strict";let b=(0,a.i(627552).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],241715),a.s(["Calendar",()=>b],509183)},131752,a=>{"use strict";var b=a.i(599822);a.s(["Globe",()=>b.default])},597960,a=>{"use strict";let b=(0,a.i(627552).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["default",()=>b])},677409,a=>{"use strict";var b=a.i(597960);a.s(["ChevronLeft",()=>b.default])},80335,844689,a=>{"use strict";let b=(0,a.i(627552).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["default",()=>b],844689),a.s(["ExternalLink",()=>b],80335)},447956,a=>{"use strict";a.i(610691),a.i(676242),a.i(293048),a.i(79271),a.i(496614),a.i(658113),a.s([])},106427,897768,a=>{"use strict";let b=(0,a.i(627552).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["default",()=>b],897768),a.s(["Video",()=>b],106427)},342526,169618,a=>{"use strict";function b(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`}function c(a,b){return new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",...b})}function d(a,b){return new Date(a).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,...b&&{timeZone:b}})}function e(a){if(a<60)return`${a} min`;let b=Math.floor(a/60),c=a%60;return 0===c?1===b?"1 hour":`${b} hours`:`${b}h ${c}m`}function f(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function g(a,b){let c=new Date(a,b,1),d=new Date(a,b+1,0),e=new Date(c);e.setDate(e.getDate()-c.getDay());let f=new Date(d);f.setDate(f.getDate()+(6-d.getDay()));let g=[],h=new Date(e);for(;h<=f;)g.push(new Date(h)),h.setDate(h.getDate()+1);return g}function h(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function i(a){return h(a,new Date)}function j(a){let b=new Date;return b.setHours(0,0,0,0),a<b}function k(a=0,b=24,c=30){let e=[];for(let f=60*a;f<60*b;f+=c){let a=function(a){let b=Math.floor(a/60);return`${b.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`}(f),b=d(new Date().setHours(0,f,0,0));e.push({value:a,label:b})}return e}function l(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}a.s(["DAY_NAMES",0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"DAY_NAMES_SHORT",0,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]],169618),a.s(["formatDate",()=>c,"formatDateString",()=>b,"formatDuration",()=>e,"formatTime",()=>d,"generateTimeOptions",()=>k,"getCalendarDates",()=>g,"getUserTimezone",()=>f,"isPast",()=>j,"isSameDay",()=>h,"isToday",()=>i,"isValidEmail",()=>l],342526)},540526,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(925440),e=a.i(233849),f=a.i(282763),g=a.i(480878),h=a.i(662482),i=a.i(567031),j=a.i(278739),k=a.i(189198),l=a.i(954079);a.i(65579);var m=a.i(222548),n=a.i(195572),o=a.i(848955),p=a.i(961092),q=a.i(342526),r=a.i(135981);function s(){let a=(0,d.useParams)(),s=a.username,t=a.eventSlug,[u,v]=(0,c.useState)("select-date"),[w,x]=(0,c.useState)(new Date),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E]=(0,c.useState)((0,q.getUserTimezone)()),F=r.api?.scheduling?.getPublicEventTypes!==void 0,G=(0,e.useQuery)(r.api?.scheduling?.getPublicEventTypes??null,F?{ownerId:s}:"skip"),H=(0,c.useMemo)(()=>G?.find(a=>a.slug===t),[G,t]),I=(0,e.useQuery)(r.api?.scheduling?.getAvailableSlots??null,F&&y&&H?{eventTypeId:H._id,date:(0,q.formatDateString)(y),timezone:E}:"skip"),J=(0,e.useMutation)(r.api?.scheduling?.createBooking??null),K=async a=>{H&&A&&J&&(D({_id:await J({eventTypeId:H._id,guestEmail:a.guestEmail,guestName:a.guestName,guestTimezone:a.guestTimezone,startTime:A.timestamp,notes:a.notes,responses:a.responses}),eventTypeId:H._id,hostId:s,guestEmail:a.guestEmail,guestName:a.guestName,guestTimezone:a.guestTimezone,startTime:A.timestamp,endTime:A.timestamp+60*H.duration*1e3,status:"confirmed",title:H.title,locationType:H.locationType,notes:a.notes,responses:a.responses,createdAt:Date.now(),updatedAt:Date.now()}),v("confirmed"))},L=()=>{"select-time"===u?(v("select-date"),B(null)):"enter-details"===u&&v("select-time")};return F?void 0===G?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"animate-pulse text-center",children:[(0,b.jsx)(h.Loader2,{className:"w-8 h-8 mx-auto mb-4 animate-spin opacity-50"}),(0,b.jsx)("p",{style:{color:"hsl(var(--muted-foreground))"},children:"Loading..."})]})}):H?"confirmed"===u&&C?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,b.jsx)(p.BookingConfirmation,{booking:C,eventType:H,onClose:()=>window.close()})}):(0,b.jsx)("div",{className:"min-h-screen p-4 md:p-8",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-[300px,1fr] gap-8",children:[(0,b.jsx)("div",{children:(0,b.jsxs)(l.LiquidGlass,{className:"p-6 rounded-2xl sticky top-8",children:["select-date"!==u&&"confirmed"!==u&&(0,b.jsxs)("button",{onClick:L,className:"flex items-center gap-2 text-sm mb-4 hover:underline",style:{color:"hsl(var(--muted-foreground))"},children:[(0,b.jsx)(g.ArrowLeft,{className:"w-4 h-4"}),"Back"]}),(0,b.jsx)("div",{className:"w-3 h-12 rounded-full mb-4",style:{backgroundColor:H.color}}),(0,b.jsx)("h1",{className:"text-xl font-bold mb-2",style:{color:"hsl(var(--foreground))"},children:H.title}),H.description&&(0,b.jsx)("p",{className:"text-sm mb-4",style:{color:"hsl(var(--muted-foreground))"},children:H.description}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",style:{color:"hsl(var(--muted-foreground))"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Clock,{className:"w-4 h-4"}),(0,q.formatDuration)(H.duration)]}),(0,b.jsx)("p",{children:{google_meet:"Google Meet",zoom:"Zoom",phone:"Phone Call",in_person:"In Person",custom:"Custom"}[H.locationType]})]})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(j.AnimatePresence,{mode:"wait",children:["select-date"===u&&(0,b.jsx)(i.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsxs)(l.LiquidGlass,{className:"p-6 rounded-2xl",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",style:{color:"hsl(var(--foreground))"},children:"Select a Date"}),(0,b.jsx)(m.BookingCalendar,{selectedDate:y,onSelectDate:a=>{z(a),B(null),v("select-time")},currentMonth:w,onMonthChange:x,maxAdvanceDays:H.maxAdvance})]})},"select-date"),"select-time"===u&&y&&(0,b.jsx)(i.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsxs)(l.LiquidGlass,{className:"p-6 rounded-2xl",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",style:{color:"hsl(var(--foreground))"},children:"Select a Time"}),(0,b.jsx)("p",{className:"text-sm mb-4",style:{color:"hsl(var(--muted-foreground))"},children:y.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),(0,b.jsx)(n.TimeSlotPicker,{slots:I||[],selectedSlot:A,onSelectSlot:a=>{B(a),v("enter-details")},timezone:E,isLoading:void 0===I})]})},"select-time"),"enter-details"===u&&y&&A&&(0,b.jsx)(i.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(o.BookingForm,{eventType:H,selectedDate:y,selectedSlot:A,onSubmit:K,onBack:L})},"enter-details")]})})]})})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,b.jsxs)(l.LiquidGlass,{className:"p-8 rounded-2xl text-center max-w-md",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",style:{color:"hsl(var(--foreground))"},children:"Event Not Found"}),(0,b.jsx)("p",{style:{color:"hsl(var(--muted-foreground))"},children:"This booking link may be invalid or the event type has been disabled."})]})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,b.jsxs)("div",{className:"text-center max-w-md",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ—“ï¸"}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",style:{color:"hsl(var(--foreground))"},children:"Coming Soon"}),(0,b.jsx)("p",{className:"mb-6",style:{color:"hsl(var(--muted-foreground))"},children:"The booking system is being set up. Check back soon!"}),(0,b.jsx)(k.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full font-medium",style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:"Return Home"})]})})}a.s(["default",()=>s])}];

//# sourceMappingURL=_16560ce2._.js.map