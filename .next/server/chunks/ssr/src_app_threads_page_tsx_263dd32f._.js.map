{"version":3,"sources":["../../../../src/app/threads/page.tsx","../../../../src/components/threads/ThreadControlDeck.tsx","../../../../src/lib/threads/types.ts","../../../../src/lib/threads/index.ts","../../../../src/components/threads/ThreadDock.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useEffect, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport {\n  ArrowLeft,\n  Cpu,\n  Activity,\n  Zap,\n  GitBranch,\n  GitMerge,\n  Layers,\n  Clock,\n  DollarSign,\n  TrendingUp,\n  Settings,\n  Info,\n  Terminal,\n  Sparkles,\n  Menu,\n  X,\n} from 'lucide-react';\nimport { ThreadControlDeck } from '@/components/threads/ThreadControlDeck';\nimport { ThreadDock } from '@/components/threads/ThreadDock';\nimport {\n  Thread,\n  ThreadType,\n  ThreadStatus,\n  ModelType,\n  THREAD_TYPE_NAMES,\n  THREAD_TYPE_COLORS,\n  MODEL_INFO,\n  generateThreadId,\n  formatDuration,\n  formatCost,\n  formatTokens,\n  calculateThreadEfficiency,\n} from '@/lib/threads';\n\n// ============================================================================\n// Mock Thread Generator\n// ============================================================================\n\nfunction createMockThread(type: ThreadType, index: number): Thread {\n  const statuses: ThreadStatus[] = ['idle', 'running', 'paused', 'completed', 'failed'];\n  const models: ModelType[] = ['haiku', 'sonnet', 'opus', 'opus-4.5'];\n\n  const names = {\n    base: ['Analyze codebase', 'Fix bug #123', 'Refactor utils', 'Add tests'],\n    parallel: ['Research A', 'Research B', 'Research C', 'Research D'],\n    chained: ['Phase 1: Plan', 'Phase 2: Build', 'Phase 3: Test', 'Phase 4: Deploy'],\n    fusion: ['Model A output', 'Model B output', 'Model C output', 'Synthesized'],\n    big: ['Sprint 1', 'Sprint 2', 'Sprint 3', 'Sprint 4'],\n    long: ['Deep research', 'Full audit', 'Migration', 'Refactor all'],\n    zero: ['Auto-deploy', 'Auto-fix', 'Auto-test', 'Auto-review'],\n  };\n\n  const status = statuses[Math.floor(Math.random() * statuses.length)];\n  const model = models[Math.floor(Math.random() * models.length)];\n  const progress = status === 'completed' ? 100 : status === 'failed' ? Math.random() * 50 : Math.random() * 100;\n  const toolCalls = Math.floor(Math.random() * 500);\n  const duration = Math.floor(Math.random() * 300000);\n\n  return {\n    id: generateThreadId(),\n    type,\n    status,\n    name: names[type][index % names[type].length],\n    prompt: `Execute ${type} thread task`,\n    model,\n    createdAt: Date.now() - Math.random() * 86400000,\n    startedAt: status !== 'idle' ? Date.now() - duration : undefined,\n    completedAt: status === 'completed' || status === 'failed' ? Date.now() : undefined,\n    progress: Math.round(progress),\n    currentStep: status === 'running' ? 'Processing...' : undefined,\n    metrics: {\n      toolCalls,\n      tokensUsed: toolCalls * 150,\n      estimatedCost: toolCalls * 0.001,\n      duration,\n      checkpointCount: Math.floor(Math.random() * 5),\n      verificationAttempts: Math.floor(Math.random() * 3) + 1,\n      iterations: Math.floor(Math.random() * 10),\n    },\n  };\n}\n\n// ============================================================================\n// Stats Card Component\n// ============================================================================\n\ninterface StatsCardProps {\n  icon: React.ReactNode;\n  label: string;\n  value: string | number;\n  subValue?: string;\n  color?: string;\n}\n\nfunction StatsCard({ icon, label, value, subValue, color = 'text-white' }: StatsCardProps) {\n  return (\n    <div\n      className=\"p-2 sm:p-3 rounded-lg sm:rounded-xl\"\n      style={{\n        background: 'linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)',\n        border: '1px solid rgba(255,255,255,0.1)',\n      }}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div className=\"p-1.5 sm:p-2 rounded-lg bg-white/5\">{icon}</div>\n        {subValue && <span className=\"text-[9px] sm:text-[10px] text-zinc-500\">{subValue}</span>}\n      </div>\n      <div className={`mt-1 sm:mt-2 text-lg sm:text-xl font-bold ${color}`}>{value}</div>\n      <div className=\"text-[8px] sm:text-[10px] text-zinc-500 uppercase tracking-wide\">{label}</div>\n    </div>\n  );\n}\n\n// ============================================================================\n// Thread List Item\n// ============================================================================\n\ninterface ThreadListItemProps {\n  thread: Thread;\n  isSelected: boolean;\n  onSelect: () => void;\n}\n\nfunction ThreadListItem({ thread, isSelected, onSelect }: ThreadListItemProps) {\n  const colors = THREAD_TYPE_COLORS[thread.type];\n\n  return (\n    <motion.button\n      initial={{ opacity: 0, x: -20 }}\n      animate={{ opacity: 1, x: 0 }}\n      onClick={onSelect}\n      className={`w-full p-3 rounded-lg text-left transition-all ${isSelected\n          ? 'bg-zinc-800 border border-zinc-700'\n          : 'bg-zinc-900/50 border border-transparent hover:bg-zinc-800/50'\n        }`}\n    >\n      <div className=\"flex items-start gap-3\">\n        <div\n          className={`w-2 h-full min-h-[40px] rounded-full ${colors.bg}`}\n          style={{ boxShadow: `0 0 8px ${colors.glow}` }}\n        />\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm font-medium text-white truncate\">{thread.name}</span>\n            <span className={`text-[9px] font-bold uppercase ${colors.text}`}>\n              {thread.type}\n            </span>\n          </div>\n          <div className=\"flex items-center gap-2 mt-1\">\n            <span\n              className={`text-[10px] px-1.5 py-0.5 rounded ${thread.status === 'completed'\n                  ? 'bg-green-500/20 text-green-400'\n                  : thread.status === 'running'\n                    ? 'bg-blue-500/20 text-blue-400'\n                    : thread.status === 'failed'\n                      ? 'bg-red-500/20 text-red-400'\n                      : 'bg-zinc-500/20 text-zinc-400'\n                }`}\n            >\n              {thread.status}\n            </span>\n            <span className=\"text-[10px] text-zinc-500\">\n              {thread.metrics.toolCalls} calls\n            </span>\n            <span className=\"text-[10px] text-zinc-500\">\n              {formatCost(thread.metrics.estimatedCost)}\n            </span>\n          </div>\n          {thread.status === 'running' && (\n            <div className=\"mt-2 h-1 bg-zinc-700 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-blue-500\"\n                initial={{ width: 0 }}\n                animate={{ width: `${thread.progress}%` }}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </motion.button>\n  );\n}\n\n// ============================================================================\n// Main Page\n// ============================================================================\n\nexport default function ThreadsPage() {\n  // Mock state\n  const [threads, setThreads] = useState<Thread[]>([]);\n  const [selectedThreadId, setSelectedThreadId] = useState<string | undefined>();\n  const [isMobileSidebarOpen, setIsMobileSidebarOpen] = useState(false);\n\n  // Initialize with mock threads\n  useEffect(() => {\n    const mockThreads: Thread[] = [];\n    const types: ThreadType[] = ['base', 'parallel', 'chained', 'fusion', 'big', 'long'];\n    types.forEach((type, ti) => {\n      for (let i = 0; i < 2; i++) {\n        mockThreads.push(createMockThread(type, ti * 2 + i));\n      }\n    });\n    setThreads(mockThreads);\n    if (mockThreads.length > 0) {\n      setSelectedThreadId(mockThreads[0].id);\n    }\n  }, []);\n\n  // Selected thread\n  const selectedThread = useMemo(\n    () => threads.find((t) => t.id === selectedThreadId),\n    [threads, selectedThreadId]\n  );\n\n  // Stats\n  const stats = useMemo(() => {\n    const activeThreads = threads.filter((t) => t.status === 'running').length;\n    const totalToolCalls = threads.reduce((sum, t) => sum + t.metrics.toolCalls, 0);\n    const totalCost = threads.reduce((sum, t) => sum + t.metrics.estimatedCost, 0);\n    const completedThreads = threads.filter((t) => t.status === 'completed');\n    const avgEfficiency =\n      completedThreads.length > 0\n        ? completedThreads.reduce((sum, t) => sum + calculateThreadEfficiency(t), 0) /\n        completedThreads.length\n        : 0;\n\n    return { activeThreads, totalToolCalls, totalCost, avgEfficiency };\n  }, [threads]);\n\n  // Handlers\n  const handleCreateThread = useCallback((type: ThreadType) => {\n    const newThread = createMockThread(type, threads.length);\n    newThread.status = 'idle';\n    newThread.progress = 0;\n    setThreads((prev) => [...prev, newThread]);\n    setSelectedThreadId(newThread.id);\n  }, [threads.length]);\n\n  const handleCloseThread = useCallback((id: string) => {\n    setThreads((prev) => prev.filter((t) => t.id !== id));\n    if (selectedThreadId === id) {\n      setSelectedThreadId(threads.find((t) => t.id !== id)?.id);\n    }\n  }, [selectedThreadId, threads]);\n\n  const handleStartThread = useCallback(() => {\n    if (!selectedThreadId) return;\n    setThreads((prev) =>\n      prev.map((t) =>\n        t.id === selectedThreadId\n          ? { ...t, status: 'running', startedAt: Date.now() }\n          : t\n      )\n    );\n    // Simulate progress\n    const interval = setInterval(() => {\n      setThreads((prev) =>\n        prev.map((t) => {\n          if (t.id === selectedThreadId && t.status === 'running') {\n            const newProgress = Math.min(t.progress + Math.random() * 10, 100);\n            if (newProgress >= 100) {\n              clearInterval(interval);\n              return { ...t, status: 'completed', progress: 100, completedAt: Date.now() };\n            }\n            return {\n              ...t,\n              progress: Math.round(newProgress),\n              metrics: {\n                ...t.metrics,\n                toolCalls: t.metrics.toolCalls + Math.floor(Math.random() * 5),\n              },\n            };\n          }\n          return t;\n        })\n      );\n    }, 500);\n  }, [selectedThreadId]);\n\n  const handlePauseThread = useCallback(() => {\n    if (!selectedThreadId) return;\n    setThreads((prev) =>\n      prev.map((t) =>\n        t.id === selectedThreadId ? { ...t, status: 'paused' } : t\n      )\n    );\n  }, [selectedThreadId]);\n\n  const handleStopThread = useCallback(() => {\n    if (!selectedThreadId) return;\n    setThreads((prev) =>\n      prev.map((t) =>\n        t.id === selectedThreadId\n          ? { ...t, status: 'idle', progress: 0, startedAt: undefined }\n          : t\n      )\n    );\n  }, [selectedThreadId]);\n\n  const handleSpawnParallel = useCallback((count: number) => {\n    const newThreads: Thread[] = [];\n    for (let i = 0; i < count; i++) {\n      const thread = createMockThread('parallel', threads.length + i);\n      thread.name = `Parallel #${threads.filter((t) => t.type === 'parallel').length + i + 1}`;\n      thread.status = 'running';\n      thread.progress = 0;\n      newThreads.push(thread);\n    }\n    setThreads((prev) => [...prev, ...newThreads]);\n  }, [threads]);\n\n  return (\n    <div\n      className=\"min-h-[100dvh] flex flex-col\"\n      style={{\n        background: 'linear-gradient(180deg, #0a0a0a 0%, #111111 50%, #0a0a0a 100%)',\n      }}\n    >\n      {/* Header */}\n      <header className=\"flex-shrink-0 flex items-center justify-between px-4 py-3 border-b border-white/5\">\n        <div className=\"flex items-center gap-3\">\n          <Link\n            href=\"/\"\n            className=\"flex items-center gap-2 text-white/60 hover:text-white transition-colors\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            <span className=\"text-sm font-medium\">8gent</span>\n          </Link>\n          <div className=\"w-px h-5 bg-white/10\" />\n          <div className=\"flex items-center gap-2\">\n            <div className=\"p-1.5 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600\">\n              <Cpu className=\"w-4 h-4 text-white\" />\n            </div>\n            <span className=\"text-sm font-semibold text-white\">Thread Engine</span>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {/* Mobile menu toggle */}\n          <button\n            onClick={() => setIsMobileSidebarOpen(!isMobileSidebarOpen)}\n            className=\"md:hidden p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors\"\n          >\n            {isMobileSidebarOpen ? <X className=\"w-4 h-4\" /> : <Menu className=\"w-4 h-4\" />}\n          </button>\n          <button className=\"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors\">\n            <Info className=\"w-4 h-4\" />\n          </button>\n          <button className=\"hidden sm:flex p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors\">\n            <Settings className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </header>\n\n      {/* Thread Dock */}\n      <div className=\"flex-shrink-0 border-b border-white/5\">\n        <ThreadDock\n          threads={threads}\n          selectedThreadId={selectedThreadId}\n          onSelectThread={setSelectedThreadId}\n          onCloseThread={handleCloseThread}\n        />\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex min-h-0 relative\">\n        {/* Mobile Sidebar Overlay */}\n        <AnimatePresence>\n          {isMobileSidebarOpen && (\n            <>\n              {/* Backdrop */}\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                onClick={() => setIsMobileSidebarOpen(false)}\n                className=\"md:hidden fixed inset-0 bg-black/60 z-40\"\n              />\n              {/* Mobile Sidebar */}\n              <motion.aside\n                initial={{ x: '-100%' }}\n                animate={{ x: 0 }}\n                exit={{ x: '-100%' }}\n                transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n                className=\"md:hidden fixed left-0 top-0 bottom-0 w-72 max-w-[85vw] bg-zinc-900 border-r border-white/10 flex flex-col z-50\"\n              >\n                <div className=\"p-3 border-b border-white/5 flex items-center justify-between\">\n                  <div>\n                    <div className=\"text-xs text-zinc-500 uppercase tracking-wide mb-2\">\n                      Threads ({threads.length})\n                    </div>\n                    <div className=\"flex gap-1 flex-wrap\">\n                      {(['base', 'parallel', 'chained', 'fusion', 'big', 'long', 'zero'] as ThreadType[]).map(\n                        (type) => {\n                          const count = threads.filter((t) => t.type === type).length;\n                          const colors = THREAD_TYPE_COLORS[type];\n                          return (\n                            <span\n                              key={type}\n                              className={`text-[9px] font-bold px-1.5 py-0.5 rounded ${colors.bg} text-white`}\n                            >\n                              {type.charAt(0).toUpperCase()}: {count}\n                            </span>\n                          );\n                        }\n                      )}\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => setIsMobileSidebarOpen(false)}\n                    className=\"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n\n                <div className=\"flex-1 overflow-auto p-2 space-y-2\">\n                  <AnimatePresence>\n                    {threads.map((thread) => (\n                      <ThreadListItem\n                        key={thread.id}\n                        thread={thread}\n                        isSelected={thread.id === selectedThreadId}\n                        onSelect={() => {\n                          setSelectedThreadId(thread.id);\n                          setIsMobileSidebarOpen(false);\n                        }}\n                      />\n                    ))}\n                  </AnimatePresence>\n                </div>\n              </motion.aside>\n            </>\n          )}\n        </AnimatePresence>\n\n        {/* Desktop Left Sidebar - Thread List */}\n        <aside className=\"hidden md:flex w-72 flex-shrink-0 border-r border-white/5 flex-col\">\n          <div className=\"p-3 border-b border-white/5\">\n            <div className=\"text-xs text-zinc-500 uppercase tracking-wide mb-2\">\n              Threads ({threads.length})\n            </div>\n            <div className=\"flex gap-1 flex-wrap\">\n              {(['base', 'parallel', 'chained', 'fusion', 'big', 'long', 'zero'] as ThreadType[]).map(\n                (type) => {\n                  const count = threads.filter((t) => t.type === type).length;\n                  const colors = THREAD_TYPE_COLORS[type];\n                  return (\n                    <span\n                      key={type}\n                      className={`text-[9px] font-bold px-1.5 py-0.5 rounded ${colors.bg} text-white`}\n                    >\n                      {type.charAt(0).toUpperCase()}: {count}\n                    </span>\n                  );\n                }\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex-1 overflow-auto p-2 space-y-2\">\n            <AnimatePresence>\n              {threads.map((thread) => (\n                <ThreadListItem\n                  key={thread.id}\n                  thread={thread}\n                  isSelected={thread.id === selectedThreadId}\n                  onSelect={() => setSelectedThreadId(thread.id)}\n                />\n              ))}\n            </AnimatePresence>\n          </div>\n        </aside>\n\n        {/* Main Panel */}\n        <main className=\"flex-1 flex flex-col p-2 sm:p-4 min-w-0 overflow-auto\">\n          {/* Stats Row - 2 cols on mobile, 4 on desktop */}\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-3 sm:mb-4\">\n            <StatsCard\n              icon={<Activity className=\"w-4 h-4 text-green-400\" />}\n              label=\"Active Threads\"\n              value={stats.activeThreads}\n              subValue={`/ ${threads.length}`}\n              color=\"text-green-400\"\n            />\n            <StatsCard\n              icon={<Zap className=\"w-4 h-4 text-yellow-400\" />}\n              label=\"Total Tool Calls\"\n              value={formatTokens(stats.totalToolCalls)}\n              color=\"text-yellow-400\"\n            />\n            <StatsCard\n              icon={<DollarSign className=\"w-4 h-4 text-emerald-400\" />}\n              label=\"Total Cost\"\n              value={formatCost(stats.totalCost)}\n              color=\"text-emerald-400\"\n            />\n            <StatsCard\n              icon={<TrendingUp className=\"w-4 h-4 text-blue-400\" />}\n              label=\"Avg Efficiency\"\n              value={stats.avgEfficiency.toFixed(1)}\n              subValue=\"calls/min\"\n              color=\"text-blue-400\"\n            />\n          </div>\n\n          {/* Control Deck */}\n          <div className=\"flex-1 flex items-center justify-center\">\n            <ThreadControlDeck\n              activeThreads={stats.activeThreads}\n              totalThreads={threads.length}\n              totalToolCalls={stats.totalToolCalls}\n              totalCost={stats.totalCost}\n              efficiency={stats.avgEfficiency}\n              selectedThread={\n                selectedThread\n                  ? {\n                    id: selectedThread.id,\n                    type: selectedThread.type,\n                    name: selectedThread.name,\n                    status: selectedThread.status,\n                    progress: selectedThread.progress,\n                    model: selectedThread.model,\n                    duration: selectedThread.metrics.duration,\n                    toolCalls: selectedThread.metrics.toolCalls,\n                  }\n                  : undefined\n              }\n              onCreateThread={handleCreateThread}\n              onStartThread={handleStartThread}\n              onPauseThread={handlePauseThread}\n              onStopThread={handleStopThread}\n              onSpawnParallel={handleSpawnParallel}\n            />\n          </div>\n\n          {/* Quick tip - hidden on mobile */}\n          <div className=\"hidden sm:flex items-center justify-center gap-2 text-[10px] text-zinc-500 mt-4\">\n            <Terminal className=\"w-3 h-3\" />\n            <span>Use keyboard shortcuts: [N] New • [Space] Start/Pause • [S] Stop • [P] Spawn Parallel • [F] Fuse</span>\n          </div>\n        </main>\n      </div>\n\n      {/* Footer Attribution */}\n      <footer className=\"flex-shrink-0 px-3 sm:px-4 py-2 border-t border-white/5 flex items-center justify-between\">\n        <div className=\"flex items-center gap-2 text-[9px] sm:text-[10px] text-zinc-500\">\n          <Sparkles className=\"w-3 h-3\" />\n          <span className=\"hidden sm:inline\">Thread-Based Engineering by Andy Devdan</span>\n          <span className=\"sm:hidden\">Thread Engine</span>\n        </div>\n        <div className=\"text-[9px] sm:text-[10px] text-zinc-600\">\n          <span className=\"hidden sm:inline\">Scale your compute • Scale your impact</span>\n          <span className=\"sm:hidden\">by Devdan</span>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState, useRef, useCallback, useEffect, memo } from 'react';\nimport { motion, AnimatePresence, useMotionValue } from 'framer-motion';\nimport {\n  Play,\n  Pause,\n  Square,\n  Plus,\n  Layers,\n  GitBranch,\n  GitMerge,\n  Zap,\n  Clock,\n  Activity,\n  RefreshCw,\n  Settings,\n  Gauge,\n  Cpu,\n  CircuitBoard,\n  Workflow,\n} from 'lucide-react';\nimport {\n  ThreadType,\n  ThreadStatus,\n  ModelType,\n  THREAD_TYPE_NAMES,\n  THREAD_TYPE_COLORS,\n  MODEL_INFO,\n  formatDuration,\n  formatCost,\n  formatTokens,\n} from '@/lib/threads';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface ThreadControlDeckProps {\n  // Current state\n  activeThreads: number;\n  totalThreads: number;\n  totalToolCalls: number;\n  totalCost: number;\n  efficiency: number;\n\n  // Selected thread info\n  selectedThread?: {\n    id: string;\n    type: ThreadType;\n    name: string;\n    status: ThreadStatus;\n    progress: number;\n    model: ModelType;\n    duration: number;\n    toolCalls: number;\n  };\n\n  // Callbacks\n  onCreateThread?: (type: ThreadType) => void;\n  onStartThread?: () => void;\n  onPauseThread?: () => void;\n  onStopThread?: () => void;\n  onFuseThreads?: () => void;\n  onSpawnParallel?: (count: number) => void;\n  onModelChange?: (model: ModelType) => void;\n  onSettingsOpen?: () => void;\n\n  className?: string;\n}\n\n// ============================================================================\n// Tactile Button Component\n// ============================================================================\n\ninterface TactileButtonProps {\n  children?: React.ReactNode;\n  onClick?: () => void;\n  variant?: 'default' | 'primary' | 'danger' | 'success';\n  size?: 'sm' | 'md' | 'lg' | 'wide';\n  icon?: React.ReactNode;\n  label?: string;\n  shortcut?: string;\n  active?: boolean;\n  disabled?: boolean;\n  glow?: string;\n  className?: string;\n}\n\nconst TactileButton = memo(function TactileButton({\n  children,\n  onClick,\n  variant = 'default',\n  size = 'md',\n  icon,\n  label,\n  shortcut,\n  active = false,\n  disabled = false,\n  glow,\n  className = '',\n}: TactileButtonProps) {\n  const [isPressed, setIsPressed] = useState(false);\n\n  const sizeClasses = {\n    sm: 'min-w-[36px] sm:min-w-[40px] h-9 sm:h-10',\n    md: 'min-w-[44px] sm:min-w-[52px] h-10 sm:h-12',\n    lg: 'min-w-[56px] sm:min-w-[64px] h-12 sm:h-14',\n    wide: 'w-full h-9 sm:h-10',\n  };\n\n  const variantColors = {\n    default: {\n      base: 'linear-gradient(180deg, #2a2a2a 0%, #1f1f1f 50%, #1a1a1a 100%)',\n      glow: active ? 'rgba(255,255,255,0.1)' : 'transparent',\n      text: active ? 'text-white' : 'text-white/60',\n    },\n    primary: {\n      base: active\n        ? 'linear-gradient(180deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%)'\n        : 'linear-gradient(180deg, #2a2a2a 0%, #1f1f1f 50%, #1a1a1a 100%)',\n      glow: active ? 'rgba(59, 130, 246, 0.4)' : 'transparent',\n      text: active ? 'text-white' : 'text-blue-400',\n    },\n    danger: {\n      base: active\n        ? 'linear-gradient(180deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%)'\n        : 'linear-gradient(180deg, #2d1f1f 0%, #1f1515 50%, #1a1010 100%)',\n      glow: active ? 'rgba(239, 68, 68, 0.4)' : 'transparent',\n      text: active ? 'text-white' : 'text-red-400',\n    },\n    success: {\n      base: active\n        ? 'linear-gradient(180deg, #22c55e 0%, #16a34a 50%, #15803d 100%)'\n        : 'linear-gradient(180deg, #1f2d1f 0%, #152015 50%, #101a10 100%)',\n      glow: active ? 'rgba(34, 197, 94, 0.4)' : 'transparent',\n      text: active ? 'text-white' : 'text-green-400',\n    },\n  };\n\n  const colors = variantColors[variant];\n\n  const handlePress = () => {\n    if (disabled) return;\n    setIsPressed(true);\n    setTimeout(() => setIsPressed(false), 150);\n    onClick?.();\n  };\n\n  return (\n    <motion.button\n      className={`\n        relative flex flex-col items-center justify-center gap-0.5\n        rounded-lg select-none overflow-hidden\n        ${sizeClasses[size]}\n        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n        ${className}\n      `}\n      onMouseDown={() => !disabled && setIsPressed(true)}\n      onMouseUp={handlePress}\n      onMouseLeave={() => setIsPressed(false)}\n      onTouchStart={() => !disabled && setIsPressed(true)}\n      onTouchEnd={handlePress}\n      disabled={disabled}\n      animate={{\n        y: isPressed ? 2 : 0,\n      }}\n      transition={{\n        type: 'spring',\n        stiffness: 800,\n        damping: 20,\n      }}\n    >\n      {/* Button shadow */}\n      <div\n        className=\"absolute inset-0 rounded-lg\"\n        style={{\n          background: 'linear-gradient(180deg, #1a1a1a 0%, #0a0a0a 100%)',\n          transform: 'translateY(4px)',\n          opacity: isPressed ? 0.3 : 1,\n        }}\n      />\n\n      {/* Glow effect */}\n      {(active || glow) && (\n        <div\n          className=\"absolute inset-0 rounded-lg transition-opacity duration-300\"\n          style={{\n            background: `radial-gradient(ellipse at center, ${glow || colors.glow} 0%, transparent 70%)`,\n            filter: 'blur(8px)',\n          }}\n        />\n      )}\n\n      {/* Button body */}\n      <div\n        className=\"absolute inset-0 rounded-lg overflow-hidden transition-all duration-200\"\n        style={{\n          background: colors.base,\n          boxShadow: isPressed\n            ? 'inset 0 2px 4px rgba(0,0,0,0.5), inset 0 -1px 1px rgba(255,255,255,0.05)'\n            : 'inset 0 1px 1px rgba(255,255,255,0.1), inset 0 -2px 4px rgba(0,0,0,0.3)',\n          transform: isPressed ? 'translateY(2px)' : 'translateY(0)',\n        }}\n      >\n        {/* Top highlight */}\n        <div\n          className=\"absolute top-0 left-0 right-0 h-px\"\n          style={{\n            background: 'linear-gradient(90deg, transparent 10%, rgba(255,255,255,0.15) 50%, transparent 90%)',\n          }}\n        />\n      </div>\n\n      {/* Content */}\n      <div\n        className={`relative z-10 flex flex-col items-center justify-center gap-0.5 ${colors.text}`}\n        style={{\n          transform: isPressed ? 'translateY(2px)' : 'translateY(0)',\n        }}\n      >\n        {icon && <span className=\"transition-colors\">{icon}</span>}\n        {label && (\n          <span className=\"text-[7px] font-bold tracking-wider uppercase leading-tight text-center\">\n            {label}\n          </span>\n        )}\n        {children}\n      </div>\n\n      {/* Shortcut */}\n      {shortcut && (\n        <div\n          className=\"absolute bottom-0.5 right-0.5 px-1 py-px rounded text-[5px] font-mono bg-black/30 text-white/30 z-20\"\n          style={{\n            transform: isPressed ? 'translateY(2px)' : 'translateY(0)',\n          }}\n        >\n          {shortcut}\n        </div>\n      )}\n    </motion.button>\n  );\n});\n\n// ============================================================================\n// Thread Type Selector (Rotary Style)\n// ============================================================================\n\ninterface ThreadTypeSelectorProps {\n  selected: ThreadType;\n  onChange: (type: ThreadType) => void;\n}\n\nconst THREAD_TYPES: ThreadType[] = ['base', 'parallel', 'chained', 'fusion', 'big', 'long', 'zero'];\n\nconst ThreadTypeSelector = memo(function ThreadTypeSelector({\n  selected,\n  onChange,\n}: ThreadTypeSelectorProps) {\n  const selectedIndex = THREAD_TYPES.indexOf(selected);\n  const degreesPerType = 270 / (THREAD_TYPES.length - 1);\n  const currentRotation = -135 + selectedIndex * degreesPerType;\n\n  return (\n    <div className=\"flex flex-col items-center gap-1\">\n      <div className=\"w-12 h-12 sm:w-16 sm:h-16 relative\">\n        {/* Detent indicators */}\n        {THREAD_TYPES.map((type, i) => {\n          const angle = -135 + i * degreesPerType;\n          const radian = (angle - 90) * (Math.PI / 180);\n          const x = Math.cos(radian) * 32;\n          const y = Math.sin(radian) * 32;\n          const isActive = i <= selectedIndex;\n          const colors = THREAD_TYPE_COLORS[type];\n\n          return (\n            <button\n              key={type}\n              onClick={() => onChange(type)}\n              className={`absolute w-2 h-2 rounded-full transition-all duration-150 ${\n                isActive ? colors.bg : 'bg-white/20'\n              }`}\n              style={{\n                left: '50%',\n                top: '50%',\n                transform: `translate(calc(-50% + ${x}px), calc(-50% + ${y}px))`,\n                boxShadow: isActive ? `0 0 6px ${colors.glow}` : 'none',\n              }}\n              title={THREAD_TYPE_NAMES[type]}\n            />\n          );\n        })}\n\n        {/* Knob */}\n        <motion.div\n          className=\"absolute inset-2 rounded-full cursor-pointer\"\n          animate={{ rotate: currentRotation }}\n          transition={{ type: 'spring', stiffness: 400, damping: 25 }}\n          style={{\n            background: 'linear-gradient(180deg, #4a4a4a 0%, #2a2a2a 30%, #1a1a1a 70%, #0f0f0f 100%)',\n            boxShadow: `\n              inset 0 2px 4px rgba(255,255,255,0.15),\n              inset 0 -2px 4px rgba(0,0,0,0.5),\n              0 4px 8px rgba(0,0,0,0.5)\n            `,\n          }}\n        >\n          {/* Knurled texture */}\n          <div className=\"absolute inset-0 flex items-center justify-center\">\n            {[...Array(12)].map((_, i) => (\n              <div\n                key={i}\n                className=\"absolute w-full h-px bg-white/10\"\n                style={{ transform: `rotate(${(i * 180) / 12}deg)` }}\n              />\n            ))}\n          </div>\n\n          {/* Center cap */}\n          <div\n            className=\"absolute inset-2 rounded-full\"\n            style={{\n              background: 'linear-gradient(180deg, #3a3a3a 0%, #1a1a1a 100%)',\n              boxShadow: 'inset 0 1px 2px rgba(255,255,255,0.1)',\n            }}\n          />\n\n          {/* Indicator */}\n          <div\n            className=\"absolute top-1 left-1/2 w-1 h-2 -translate-x-1/2 rounded-full\"\n            style={{\n              background: THREAD_TYPE_COLORS[selected].bg.replace('bg-', ''),\n              backgroundColor: THREAD_TYPE_COLORS[selected].glow,\n              boxShadow: `0 0 6px ${THREAD_TYPE_COLORS[selected].glow}`,\n            }}\n          />\n        </motion.div>\n      </div>\n\n      <div className=\"text-center\">\n        <div className={`text-[7px] sm:text-[8px] font-bold tracking-wider uppercase ${THREAD_TYPE_COLORS[selected].text}`}>\n          {THREAD_TYPE_NAMES[selected]}\n        </div>\n        <div className=\"text-[5px] sm:text-[6px] text-white/40 uppercase tracking-wide\">Type</div>\n      </div>\n    </div>\n  );\n});\n\n// ============================================================================\n// LED Matrix Display\n// ============================================================================\n\ninterface LEDMatrixDisplayProps {\n  activeThreads: number;\n  totalThreads: number;\n  toolCalls: number;\n  cost: number;\n  efficiency: number;\n  selectedThread?: ThreadControlDeckProps['selectedThread'];\n}\n\nconst LEDMatrixDisplay = memo(function LEDMatrixDisplay({\n  activeThreads,\n  totalThreads,\n  toolCalls,\n  cost,\n  efficiency,\n  selectedThread,\n}: LEDMatrixDisplayProps) {\n  return (\n    <div\n      className=\"relative w-full rounded-lg overflow-hidden\"\n      style={{\n        background: 'linear-gradient(180deg, #0a0f0a 0%, #050805 100%)',\n        boxShadow: `\n          inset 0 2px 4px rgba(0,0,0,0.8),\n          inset 0 -1px 1px rgba(255,255,255,0.05)\n        `,\n      }}\n    >\n      {/* Screen bezel */}\n      <div\n        className=\"absolute inset-0.5 rounded-md overflow-hidden\"\n        style={{\n          background: 'linear-gradient(180deg, #0a120a 0%, #040804 100%)',\n        }}\n      >\n        {/* Scanlines */}\n        <div\n          className=\"absolute inset-0 pointer-events-none opacity-10\"\n          style={{\n            backgroundImage: 'repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0,0,0,0.3) 1px, rgba(0,0,0,0.3) 2px)',\n          }}\n        />\n\n        {/* Glow */}\n        <div\n          className=\"absolute inset-0\"\n          style={{\n            background: 'radial-gradient(ellipse at center, rgba(34, 197, 94, 0.05) 0%, transparent 70%)',\n          }}\n        />\n\n        {/* Content */}\n        <div className=\"relative h-full flex flex-col justify-between p-1.5 sm:p-2 font-mono text-green-400\">\n          {/* Top row - Global stats */}\n          <div className=\"flex items-center justify-between text-[7px] sm:text-[8px]\">\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <span className=\"text-green-500/60 hidden sm:inline\">THREADS:</span>\n              <span className=\"text-green-500/60 sm:hidden\">THR:</span>\n              <span className=\"font-bold\">{activeThreads}/{totalThreads}</span>\n            </div>\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <span className=\"text-green-500/60 hidden sm:inline\">CALLS:</span>\n              <span className=\"text-green-500/60 sm:hidden\">C:</span>\n              <span className=\"font-bold\">{formatTokens(toolCalls)}</span>\n            </div>\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <span className=\"text-green-500/60 hidden sm:inline\">COST:</span>\n              <span className=\"text-green-500/60 sm:hidden\">$:</span>\n              <span className=\"font-bold\">{formatCost(cost)}</span>\n            </div>\n          </div>\n\n          {/* Middle - Selected thread or idle */}\n          <div className=\"flex-1 flex items-center justify-center\">\n            {selectedThread ? (\n              <div className=\"text-center\">\n                <div className=\"text-[9px] sm:text-[10px] font-bold text-green-300 mb-0.5 truncate max-w-full\">\n                  {selectedThread.name}\n                </div>\n                <div className=\"text-[7px] sm:text-[8px] text-green-500/80\">\n                  {THREAD_TYPE_NAMES[selectedThread.type]} • {MODEL_INFO[selectedThread.model].name}\n                </div>\n                {/* Progress bar */}\n                <div className=\"w-24 sm:w-32 h-1 bg-green-950/50 rounded-full mt-1.5 mx-auto overflow-hidden\">\n                  <motion.div\n                    className=\"h-full rounded-full\"\n                    style={{\n                      background: 'linear-gradient(90deg, #22c55e 0%, #4ade80 100%)',\n                      boxShadow: '0 0 10px rgba(34, 197, 94, 0.5)',\n                    }}\n                    animate={{ width: `${selectedThread.progress}%` }}\n                    transition={{ duration: 0.3 }}\n                  />\n                </div>\n                <div className=\"text-[6px] sm:text-[7px] text-green-500/60 mt-1\">\n                  {selectedThread.status.toUpperCase()} • {selectedThread.progress}%\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center\">\n                <div className=\"text-[9px] sm:text-[10px] text-green-500/60\">NO THREAD SELECTED</div>\n                <div className=\"text-[7px] sm:text-[8px] text-green-500/40\">Select or create a thread</div>\n              </div>\n            )}\n          </div>\n\n          {/* Bottom row - Efficiency meter */}\n          <div className=\"flex items-center justify-between text-[6px] sm:text-[7px]\">\n            <div className=\"flex items-center gap-1\">\n              <Gauge className=\"w-2.5 h-2.5 sm:w-3 sm:h-3 text-green-500/60\" />\n              <span className=\"text-green-500/60 hidden sm:inline\">EFFICIENCY:</span>\n              <span className=\"text-green-500/60 sm:hidden\">EFF:</span>\n            </div>\n            <div className=\"flex-1 mx-2 h-1 bg-green-950/50 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full rounded-full\"\n                style={{\n                  background: efficiency > 50\n                    ? 'linear-gradient(90deg, #22c55e 0%, #4ade80 100%)'\n                    : efficiency > 25\n                    ? 'linear-gradient(90deg, #eab308 0%, #facc15 100%)'\n                    : 'linear-gradient(90deg, #ef4444 0%, #f87171 100%)',\n                }}\n                animate={{ width: `${Math.min(efficiency, 100)}%` }}\n              />\n            </div>\n            <span className=\"font-bold text-green-300\">{efficiency.toFixed(1)}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\n// ============================================================================\n// Parallel Spawn Dial\n// ============================================================================\n\ninterface ParallelSpawnDialProps {\n  value: number;\n  onChange: (value: number) => void;\n  max?: number;\n}\n\nconst ParallelSpawnDial = memo(function ParallelSpawnDial({\n  value,\n  onChange,\n  max = 10,\n}: ParallelSpawnDialProps) {\n  const handleIncrement = () => onChange(Math.min(value + 1, max));\n  const handleDecrement = () => onChange(Math.max(value - 1, 1));\n\n  return (\n    <div className=\"flex flex-col items-center gap-1\">\n      <div className=\"flex items-center gap-0.5 sm:gap-1\">\n        <button\n          onClick={handleDecrement}\n          className=\"w-4 h-4 sm:w-5 sm:h-5 rounded bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 flex items-center justify-center text-[10px] sm:text-xs font-bold\"\n        >\n          -\n        </button>\n        <div\n          className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center font-mono text-base sm:text-lg font-bold\"\n          style={{\n            background: 'linear-gradient(180deg, #1a1a1a 0%, #0f0f0f 100%)',\n            boxShadow: 'inset 0 2px 4px rgba(0,0,0,0.5)',\n            color: value > 1 ? '#3b82f6' : '#ffffff60',\n            textShadow: value > 1 ? '0 0 10px rgba(59, 130, 246, 0.5)' : 'none',\n          }}\n        >\n          {value}\n        </div>\n        <button\n          onClick={handleIncrement}\n          className=\"w-4 h-4 sm:w-5 sm:h-5 rounded bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 flex items-center justify-center text-[10px] sm:text-xs font-bold\"\n        >\n          +\n        </button>\n      </div>\n      <div className=\"text-[5px] sm:text-[6px] text-white/40 uppercase tracking-wide\">Spawn</div>\n    </div>\n  );\n});\n\n// ============================================================================\n// Main Thread Control Deck\n// ============================================================================\n\nexport function ThreadControlDeck({\n  activeThreads = 0,\n  totalThreads = 0,\n  totalToolCalls = 0,\n  totalCost = 0,\n  efficiency = 0,\n  selectedThread,\n  onCreateThread,\n  onStartThread,\n  onPauseThread,\n  onStopThread,\n  onFuseThreads,\n  onSpawnParallel,\n  onModelChange,\n  onSettingsOpen,\n  className = '',\n}: ThreadControlDeckProps) {\n  const [selectedType, setSelectedType] = useState<ThreadType>('base');\n  const [spawnCount, setSpawnCount] = useState(3);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (['INPUT', 'TEXTAREA'].includes((e.target as HTMLElement).tagName)) return;\n\n      switch (e.key.toLowerCase()) {\n        case 'n':\n          e.preventDefault();\n          onCreateThread?.(selectedType);\n          break;\n        case ' ':\n          e.preventDefault();\n          if (selectedThread?.status === 'running') {\n            onPauseThread?.();\n            setIsPlaying(false);\n          } else {\n            onStartThread?.();\n            setIsPlaying(true);\n          }\n          break;\n        case 's':\n          if (!e.metaKey && !e.ctrlKey) {\n            e.preventDefault();\n            onStopThread?.();\n            setIsPlaying(false);\n          }\n          break;\n        case 'f':\n          e.preventDefault();\n          onFuseThreads?.();\n          break;\n        case 'p':\n          e.preventDefault();\n          onSpawnParallel?.(spawnCount);\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedType, spawnCount, selectedThread, onCreateThread, onStartThread, onPauseThread, onStopThread, onFuseThreads, onSpawnParallel]);\n\n  return (\n    <div className={`relative w-full max-w-sm sm:max-w-md mx-auto px-2 sm:px-0 ${className}`}>\n      {/* Main chassis */}\n      <div\n        className=\"relative rounded-2xl overflow-hidden\"\n        style={{\n          background: 'linear-gradient(180deg, #d4d4d4 0%, #a8a8a8 5%, #c0c0c0 50%, #a0a0a0 95%, #888888 100%)',\n          boxShadow: `\n            0 20px 50px rgba(0,0,0,0.5),\n            0 10px 20px rgba(0,0,0,0.3),\n            inset 0 2px 0 rgba(255,255,255,0.6),\n            inset 0 -2px 0 rgba(0,0,0,0.2)\n          `,\n        }}\n      >\n        {/* Top highlight */}\n        <div\n          className=\"absolute top-0 left-3 right-3 h-px z-10\"\n          style={{\n            background: 'linear-gradient(90deg, transparent, rgba(255,255,255,0.8) 20%, rgba(255,255,255,0.8) 80%, transparent)',\n          }}\n        />\n\n        {/* Inner panel */}\n        <div className=\"p-3 sm:p-4\">\n          {/* LED Display */}\n          <div className=\"mb-3 sm:mb-4 h-20 sm:h-24\">\n            <LEDMatrixDisplay\n              activeThreads={activeThreads}\n              totalThreads={totalThreads}\n              toolCalls={totalToolCalls}\n              cost={totalCost}\n              efficiency={efficiency}\n              selectedThread={selectedThread}\n            />\n          </div>\n\n          {/* Main controls row */}\n          <div className=\"flex items-end justify-between gap-2 sm:gap-3 mb-3 sm:mb-4\">\n            {/* Thread type selector */}\n            <ThreadTypeSelector selected={selectedType} onChange={setSelectedType} />\n\n            {/* Center - Transport controls */}\n            <div className=\"flex flex-col items-center gap-2\">\n              <div className=\"flex gap-2\">\n                <TactileButton\n                  size=\"md\"\n                  variant=\"success\"\n                  icon={isPlaying ? <Pause className=\"w-4 h-4\" /> : <Play className=\"w-4 h-4\" />}\n                  label={isPlaying ? 'Pause' : 'Start'}\n                  active={isPlaying}\n                  shortcut=\"␣\"\n                  onClick={() => {\n                    if (isPlaying) {\n                      onPauseThread?.();\n                    } else {\n                      onStartThread?.();\n                    }\n                    setIsPlaying(!isPlaying);\n                  }}\n                />\n                <TactileButton\n                  size=\"md\"\n                  variant=\"danger\"\n                  icon={<Square className=\"w-4 h-4\" />}\n                  label=\"Stop\"\n                  shortcut=\"S\"\n                  onClick={() => {\n                    onStopThread?.();\n                    setIsPlaying(false);\n                  }}\n                />\n              </div>\n              <div className=\"text-[5px] sm:text-[6px] text-zinc-500 uppercase tracking-wide\">Transport</div>\n            </div>\n\n            {/* Parallel spawn dial */}\n            <ParallelSpawnDial value={spawnCount} onChange={setSpawnCount} />\n          </div>\n\n          {/* Action buttons row */}\n          <div className=\"grid grid-cols-5 gap-1 sm:gap-2 mb-2 sm:mb-3\">\n            <TactileButton\n              size=\"md\"\n              variant=\"primary\"\n              icon={<Plus className=\"w-4 h-4\" />}\n              label=\"New\"\n              shortcut=\"N\"\n              onClick={() => onCreateThread?.(selectedType)}\n              className=\"!w-full\"\n            />\n            <TactileButton\n              size=\"md\"\n              icon={<Layers className=\"w-4 h-4\" />}\n              label=\"Spawn\"\n              shortcut=\"P\"\n              onClick={() => onSpawnParallel?.(spawnCount)}\n              glow=\"rgba(59, 130, 246, 0.3)\"\n              className=\"!w-full\"\n            />\n            <TactileButton\n              size=\"md\"\n              icon={<GitMerge className=\"w-4 h-4\" />}\n              label=\"Fuse\"\n              shortcut=\"F\"\n              onClick={onFuseThreads}\n              glow=\"rgba(168, 85, 247, 0.3)\"\n              className=\"!w-full\"\n            />\n            <TactileButton\n              size=\"md\"\n              icon={<RefreshCw className=\"w-4 h-4\" />}\n              label=\"Retry\"\n              className=\"!w-full\"\n            />\n            <TactileButton\n              size=\"md\"\n              icon={<Settings className=\"w-4 h-4\" />}\n              label=\"Config\"\n              onClick={onSettingsOpen}\n              className=\"!w-full\"\n            />\n          </div>\n\n          {/* Thread type quick buttons */}\n          <div className=\"flex gap-1 sm:gap-1.5\">\n            {THREAD_TYPES.map((type) => {\n              const colors = THREAD_TYPE_COLORS[type];\n              const isSelected = selectedType === type;\n              return (\n                <button\n                  key={type}\n                  onClick={() => setSelectedType(type)}\n                  className={`flex-1 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[6px] sm:text-[7px] font-bold tracking-wider uppercase transition-all ${\n                    isSelected ? `${colors.bg} text-white` : `bg-zinc-800/50 ${colors.text} hover:bg-zinc-700/50`\n                  }`}\n                  style={{\n                    boxShadow: isSelected ? `0 0 12px ${colors.glow}` : 'none',\n                  }}\n                >\n                  {type.charAt(0).toUpperCase()}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Side ports */}\n        <div\n          className=\"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-8 rounded-r\"\n          style={{\n            background: 'linear-gradient(90deg, #2a2a2a, #3a3a3a)',\n            boxShadow: 'inset 0 1px 2px rgba(0,0,0,0.5)',\n          }}\n        />\n        <div\n          className=\"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-8 rounded-l\"\n          style={{\n            background: 'linear-gradient(90deg, #3a3a3a, #2a2a2a)',\n            boxShadow: 'inset 0 1px 2px rgba(0,0,0,0.5)',\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default ThreadControlDeck;\n","// Thread-Based Engineering Types\n// Inspired by Andy Devdan's framework\n\nexport type ThreadType = 'base' | 'parallel' | 'chained' | 'fusion' | 'big' | 'long' | 'zero';\n\nexport type ThreadStatus =\n  | 'idle'\n  | 'running'\n  | 'paused'\n  | 'completed'\n  | 'failed'\n  | 'reviewing'\n  | 'fusing';\n\nexport type ModelType = 'haiku' | 'sonnet' | 'opus' | 'opus-4.5' | 'gpt-4o' | 'gemini';\n\nexport interface ThreadMetrics {\n  toolCalls: number;\n  tokensUsed: number;\n  estimatedCost: number;\n  duration: number; // ms\n  checkpointCount: number;\n  verificationAttempts: number;\n  iterations: number;\n}\n\nexport interface Thread {\n  id: string;\n  type: ThreadType;\n  status: ThreadStatus;\n  name: string;\n  prompt: string;\n  model: ModelType;\n\n  // Timing\n  createdAt: number;\n  startedAt?: number;\n  completedAt?: number;\n\n  // Progress\n  progress: number; // 0-100\n  currentStep?: string;\n\n  // Results\n  output?: string;\n  error?: string;\n\n  // Metrics\n  metrics: ThreadMetrics;\n\n  // For chained/big threads\n  parentId?: string;\n  childIds?: string[];\n\n  // For fusion threads\n  fusionStrategy?: 'best-of-n' | 'synthesize' | 'majority' | 'diversity';\n  fusionInputIds?: string[];\n}\n\nexport interface ParallelThreadGroup {\n  id: string;\n  name: string;\n  threadIds: string[];\n  createdAt: number;\n  status: 'running' | 'completed' | 'partial';\n}\n\nexport interface FusionResult {\n  strategy: 'best-of-n' | 'synthesize' | 'majority' | 'diversity';\n  selectedThreadId?: string; // For best-of-n\n  synthesizedOutput?: string; // For synthesize\n  consensusItems?: string[]; // For majority\n  diverseOutputs?: string[]; // For diversity\n  confidence: number; // 0-1\n}\n\nexport interface ThreadEngineState {\n  threads: Record<string, Thread>;\n  parallelGroups: Record<string, ParallelThreadGroup>;\n  activeThreadIds: string[];\n\n  // Global metrics\n  totalToolCalls: number;\n  totalTokens: number;\n  totalCost: number;\n\n  // Settings\n  maxParallelThreads: number;\n  defaultModel: ModelType;\n  autoFuse: boolean;\n}\n\n// Actions for thread state management\nexport type ThreadAction =\n  | { type: 'CREATE_THREAD'; payload: Omit<Thread, 'id' | 'metrics' | 'createdAt'> }\n  | { type: 'UPDATE_THREAD'; payload: { id: string; updates: Partial<Thread> } }\n  | { type: 'DELETE_THREAD'; payload: string }\n  | { type: 'START_THREAD'; payload: string }\n  | { type: 'PAUSE_THREAD'; payload: string }\n  | { type: 'COMPLETE_THREAD'; payload: { id: string; output: string } }\n  | { type: 'FAIL_THREAD'; payload: { id: string; error: string } }\n  | { type: 'INCREMENT_METRICS'; payload: { id: string; toolCalls?: number; tokens?: number; cost?: number } }\n  | { type: 'CREATE_PARALLEL_GROUP'; payload: { name: string; threadIds: string[] } }\n  | { type: 'FUSE_THREADS'; payload: { threadIds: string[]; strategy: FusionResult['strategy'] } }\n  | { type: 'SET_SETTINGS'; payload: Partial<Pick<ThreadEngineState, 'maxParallelThreads' | 'defaultModel' | 'autoFuse'>> };\n\n// Thread efficiency calculation\nexport function calculateThreadEfficiency(thread: Thread): number {\n  if (!thread.metrics.duration || thread.metrics.duration === 0) return 0;\n\n  const durationMinutes = thread.metrics.duration / 60000;\n  const toolCallsPerMinute = thread.metrics.toolCalls / Math.max(durationMinutes, 0.1);\n  const checkpointPenalty = thread.metrics.checkpointCount * 0.1;\n  const verificationBonus = thread.metrics.verificationAttempts === 1 ? 1.2 : 1;\n\n  return Math.max(0, (toolCallsPerMinute - checkpointPenalty) * verificationBonus);\n}\n\n// Thread type display names\nexport const THREAD_TYPE_NAMES: Record<ThreadType, string> = {\n  base: 'Base Thread',\n  parallel: 'P-Thread',\n  chained: 'C-Thread',\n  fusion: 'F-Thread',\n  big: 'B-Thread',\n  long: 'L-Thread',\n  zero: 'Z-Thread',\n};\n\n// Thread type colors for UI\nexport const THREAD_TYPE_COLORS: Record<ThreadType, { bg: string; text: string; glow: string }> = {\n  base: { bg: 'bg-slate-500', text: 'text-slate-400', glow: 'rgba(100, 116, 139, 0.5)' },\n  parallel: { bg: 'bg-blue-500', text: 'text-blue-400', glow: 'rgba(59, 130, 246, 0.5)' },\n  chained: { bg: 'bg-amber-500', text: 'text-amber-400', glow: 'rgba(245, 158, 11, 0.5)' },\n  fusion: { bg: 'bg-purple-500', text: 'text-purple-400', glow: 'rgba(168, 85, 247, 0.5)' },\n  big: { bg: 'bg-rose-500', text: 'text-rose-400', glow: 'rgba(244, 63, 94, 0.5)' },\n  long: { bg: 'bg-emerald-500', text: 'text-emerald-400', glow: 'rgba(16, 185, 129, 0.5)' },\n  zero: { bg: 'bg-cyan-500', text: 'text-cyan-400', glow: 'rgba(6, 182, 212, 0.5)' },\n};\n\n// Model display info\nexport const MODEL_INFO: Record<ModelType, { name: string; tier: number; color: string }> = {\n  'haiku': { name: 'Claude Haiku', tier: 1, color: '#94a3b8' },\n  'sonnet': { name: 'Claude Sonnet', tier: 2, color: '#a78bfa' },\n  'opus': { name: 'Claude Opus', tier: 3, color: '#f472b6' },\n  'opus-4.5': { name: 'Claude Opus 4.5', tier: 4, color: '#f97316' },\n  'gpt-4o': { name: 'GPT-4o', tier: 3, color: '#22c55e' },\n  'gemini': { name: 'Gemini Pro', tier: 3, color: '#3b82f6' },\n};\n","// Thread-Based Engineering Library\n// Export all thread utilities\n\nexport * from './types';\n\n// Generate unique thread ID\nexport function generateThreadId(): string {\n  return `thread_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Generate unique group ID\nexport function generateGroupId(): string {\n  return `group_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Format duration for display\nexport function formatDuration(ms: number): string {\n  if (ms < 1000) return `${ms}ms`;\n  if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\n  if (ms < 3600000) return `${Math.floor(ms / 60000)}m ${Math.floor((ms % 60000) / 1000)}s`;\n  return `${Math.floor(ms / 3600000)}h ${Math.floor((ms % 3600000) / 60000)}m`;\n}\n\n// Format cost for display\nexport function formatCost(cost: number): string {\n  if (cost < 0.01) return `$${(cost * 100).toFixed(2)}¢`;\n  return `$${cost.toFixed(4)}`;\n}\n\n// Format tokens for display\nexport function formatTokens(tokens: number): string {\n  if (tokens < 1000) return `${tokens}`;\n  if (tokens < 1000000) return `${(tokens / 1000).toFixed(1)}K`;\n  return `${(tokens / 1000000).toFixed(2)}M`;\n}\n\n// Estimate cost based on model and tokens\nexport function estimateCost(model: string, inputTokens: number, outputTokens: number): number {\n  // Approximate pricing (per 1M tokens)\n  const pricing: Record<string, { input: number; output: number }> = {\n    'haiku': { input: 0.25, output: 1.25 },\n    'sonnet': { input: 3, output: 15 },\n    'opus': { input: 15, output: 75 },\n    'opus-4.5': { input: 15, output: 75 },\n    'gpt-4o': { input: 5, output: 15 },\n    'gemini': { input: 3.5, output: 10.5 },\n  };\n\n  const rates = pricing[model] || pricing['sonnet'];\n  return (inputTokens * rates.input + outputTokens * rates.output) / 1000000;\n}\n","'use client';\n\nimport { useState, useRef, memo } from 'react';\nimport { useHorizontalScroll } from '@/hooks';\nimport { motion, AnimatePresence, Reorder } from 'framer-motion';\nimport { X, Play, Pause, CheckCircle, XCircle, Loader2, Eye, MoreHorizontal } from 'lucide-react';\nimport {\n  Thread,\n  ThreadType,\n  ThreadStatus,\n  THREAD_TYPE_COLORS,\n  THREAD_TYPE_NAMES,\n  MODEL_INFO,\n  formatDuration,\n} from '@/lib/threads';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface ThreadDockProps {\n  threads: Thread[];\n  selectedThreadId?: string;\n  onSelectThread: (id: string) => void;\n  onCloseThread: (id: string) => void;\n  onReorderThreads?: (threads: Thread[]) => void;\n  maxVisible?: number;\n  className?: string;\n}\n\n// ============================================================================\n// Thread Tab Component\n// ============================================================================\n\ninterface ThreadTabProps {\n  thread: Thread;\n  isSelected: boolean;\n  onSelect: () => void;\n  onClose: () => void;\n}\n\nconst ThreadTab = memo(function ThreadTab({\n  thread,\n  isSelected,\n  onSelect,\n  onClose,\n}: ThreadTabProps) {\n  const colors = THREAD_TYPE_COLORS[thread.type];\n\n  const statusIcon = {\n    idle: <div className=\"w-1.5 h-1.5 rounded-full bg-zinc-500\" />,\n    running: (\n      <motion.div\n        className=\"w-1.5 h-1.5 rounded-full bg-green-500\"\n        animate={{ opacity: [1, 0.3, 1] }}\n        transition={{ duration: 1, repeat: Infinity }}\n      />\n    ),\n    paused: <div className=\"w-1.5 h-1.5 rounded-full bg-yellow-500\" />,\n    completed: <CheckCircle className=\"w-3 h-3 text-green-500\" />,\n    failed: <XCircle className=\"w-3 h-3 text-red-500\" />,\n    reviewing: (\n      <motion.div\n        className=\"w-1.5 h-1.5 rounded-full bg-purple-500\"\n        animate={{ scale: [1, 1.2, 1] }}\n        transition={{ duration: 1.5, repeat: Infinity }}\n      />\n    ),\n    fusing: (\n      <Loader2 className=\"w-3 h-3 text-purple-500 animate-spin\" />\n    ),\n  };\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.8, y: 10 }}\n      animate={{ opacity: 1, scale: 1, y: 0 }}\n      exit={{ opacity: 0, scale: 0.8, y: 10 }}\n      whileHover={{ y: -2 }}\n      className={`\n        relative group flex items-center gap-1 sm:gap-1.5 px-1.5 sm:px-2 py-1 sm:py-1.5 rounded-t-lg cursor-pointer\n        transition-colors border-b-2 flex-shrink-0\n        ${isSelected\n          ? 'bg-zinc-800 border-b-transparent'\n          : 'bg-zinc-900/80 border-b-zinc-700/50 hover:bg-zinc-800/80'\n        }\n      `}\n      onClick={onSelect}\n      style={{\n        borderTopColor: isSelected ? colors.glow : 'transparent',\n        borderTopWidth: 2,\n      }}\n    >\n      {/* Thread type indicator */}\n      <div\n        className={`w-0.5 sm:w-1 h-3 sm:h-4 rounded-full ${colors.bg}`}\n        style={{\n          boxShadow: isSelected ? `0 0 8px ${colors.glow}` : 'none',\n        }}\n      />\n\n      {/* Status indicator */}\n      <div className=\"flex-shrink-0\">\n        {statusIcon[thread.status]}\n      </div>\n\n      {/* Thread name */}\n      <span className={`text-[10px] sm:text-xs font-medium truncate max-w-[50px] sm:max-w-[80px] ${isSelected ? 'text-white' : 'text-zinc-400'}`}>\n        {thread.name}\n      </span>\n\n      {/* Progress bar for running threads - hidden on small mobile */}\n      {thread.status === 'running' && (\n        <div className=\"hidden sm:block w-8 h-1 bg-zinc-700 rounded-full overflow-hidden\">\n          <motion.div\n            className=\"h-full bg-green-500\"\n            initial={{ width: 0 }}\n            animate={{ width: `${thread.progress}%` }}\n          />\n        </div>\n      )}\n\n      {/* Close button */}\n      <button\n        onClick={(e) => {\n          e.stopPropagation();\n          onClose();\n        }}\n        className=\"flex-shrink-0 p-0.5 rounded hover:bg-zinc-700 opacity-0 group-hover:opacity-100 sm:transition-opacity\"\n      >\n        <X className=\"w-2.5 h-2.5 sm:w-3 sm:h-3 text-zinc-400 hover:text-white\" />\n      </button>\n    </motion.div>\n  );\n});\n\n// ============================================================================\n// Thread Dock Component\n// ============================================================================\n\nexport function ThreadDock({\n  threads,\n  selectedThreadId,\n  onSelectThread,\n  onCloseThread,\n  onReorderThreads,\n  maxVisible = 8,\n  className = '',\n}: ThreadDockProps) {\n  // Use fewer visible tabs on mobile (will be controlled via CSS or could use a hook)\n  const mobileMaxVisible = 4;\n  const [showOverflow, setShowOverflow] = useState(false);\n  const scrollRef = useHorizontalScroll<HTMLDivElement>();\n\n  const visibleThreads = threads.slice(0, maxVisible);\n  const overflowThreads = threads.slice(maxVisible);\n  const hasOverflow = overflowThreads.length > 0;\n\n  // Group threads by type for overflow menu\n  const threadsByType = threads.reduce((acc, thread) => {\n    if (!acc[thread.type]) acc[thread.type] = [];\n    acc[thread.type].push(thread);\n    return acc;\n  }, {} as Record<ThreadType, Thread[]>);\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Main dock */}\n      <div\n        ref={scrollRef}\n        className=\"flex items-end gap-0.5 px-1 sm:px-2 pb-0 overflow-x-auto scrollbar-hide\"\n        style={{\n          background: 'linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.3) 100%)',\n        }}\n      >\n        {/* Add new thread button */}\n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          className=\"flex-shrink-0 flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-t-lg bg-zinc-800/50 border border-zinc-700/50 border-b-0 text-zinc-500 hover:text-white hover:bg-zinc-800 transition-colors\"\n        >\n          <span className=\"text-base sm:text-lg font-light\">+</span>\n        </motion.button>\n\n        {/* Thread tabs - scroll horizontally on mobile */}\n        <AnimatePresence mode=\"popLayout\">\n          {visibleThreads.map((thread) => (\n            <ThreadTab\n              key={thread.id}\n              thread={thread}\n              isSelected={thread.id === selectedThreadId}\n              onSelect={() => onSelectThread(thread.id)}\n              onClose={() => onCloseThread(thread.id)}\n            />\n          ))}\n        </AnimatePresence>\n\n        {/* Overflow indicator */}\n        {hasOverflow && (\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => setShowOverflow(!showOverflow)}\n            className=\"flex-shrink-0 relative flex items-center gap-1 px-1.5 sm:px-2 py-1.5 rounded-t-lg bg-zinc-900/80 hover:bg-zinc-800/80 text-zinc-400 hover:text-white transition-colors\"\n          >\n            <MoreHorizontal className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n            <span className=\"text-[9px] sm:text-[10px] font-bold bg-zinc-700 px-1 rounded\">\n              +{overflowThreads.length}\n            </span>\n          </motion.button>\n        )}\n\n        {/* Spacer */}\n        <div className=\"flex-1 min-w-4\" />\n\n        {/* Stats summary - hidden on small mobile */}\n        <div className=\"hidden xs:flex flex-shrink-0 items-center gap-2 sm:gap-3 px-2 sm:px-3 py-1.5 text-[9px] sm:text-[10px] text-zinc-500\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse\" />\n            <span>{threads.filter((t) => t.status === 'running').length}</span>\n            <span className=\"hidden sm:inline\">running</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <CheckCircle className=\"w-3 h-3 text-zinc-600\" />\n            <span>{threads.filter((t) => t.status === 'completed').length}</span>\n            <span className=\"hidden sm:inline\">done</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Overflow dropdown */}\n      <AnimatePresence>\n        {showOverflow && hasOverflow && (\n          <motion.div\n            initial={{ opacity: 0, y: -10, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: -10, scale: 0.95 }}\n            className=\"absolute bottom-full right-0 mb-1 w-64 max-h-80 overflow-auto rounded-lg bg-zinc-900 border border-zinc-800 shadow-xl\"\n          >\n            <div className=\"p-2\">\n              <div className=\"text-[10px] text-zinc-500 uppercase tracking-wide px-2 py-1\">\n                All Threads ({threads.length})\n              </div>\n              {Object.entries(threadsByType).map(([type, typeThreads]) => (\n                <div key={type} className=\"mb-2\">\n                  <div className={`text-[9px] font-bold uppercase tracking-wide px-2 py-1 ${THREAD_TYPE_COLORS[type as ThreadType].text}`}>\n                    {THREAD_TYPE_NAMES[type as ThreadType]} ({typeThreads.length})\n                  </div>\n                  {typeThreads.map((thread) => (\n                    <button\n                      key={thread.id}\n                      onClick={() => {\n                        onSelectThread(thread.id);\n                        setShowOverflow(false);\n                      }}\n                      className={`w-full flex items-center gap-2 px-2 py-1.5 rounded hover:bg-zinc-800 transition-colors ${\n                        thread.id === selectedThreadId ? 'bg-zinc-800' : ''\n                      }`}\n                    >\n                      <div className={`w-1 h-3 rounded-full ${THREAD_TYPE_COLORS[thread.type].bg}`} />\n                      <span className=\"text-xs text-zinc-300 truncate flex-1 text-left\">\n                        {thread.name}\n                      </span>\n                      <span className=\"text-[10px] text-zinc-500\">\n                        {thread.progress}%\n                      </span>\n                    </button>\n                  ))}\n                </div>\n              ))}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\nexport default ThreadDock;\n"],"names":[],"mappings":"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"}