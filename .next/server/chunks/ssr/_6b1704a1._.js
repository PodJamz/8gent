module.exports=[169114,511661,a=>{"use strict";let b=(0,a.i(627552).default)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);a.s(["default",()=>b],511661),a.s(["Terminal",()=>b],169114)},371029,413942,a=>{"use strict";let b=(0,a.i(627552).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["default",()=>b],413942),a.s(["Shield",()=>b],371029)},858025,860404,a=>{"use strict";let b=(0,a.i(627552).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);a.s(["default",()=>b],860404),a.s(["Menu",()=>b],858025)},518600,a=>{"use strict";var b=a.i(762079);a.s(["FileCode",()=>b.default])},80335,844689,a=>{"use strict";let b=(0,a.i(627552).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["default",()=>b],844689),a.s(["ExternalLink",()=>b],80335)},476012,204422,a=>{"use strict";let b=(0,a.i(627552).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["default",()=>b],204422),a.s(["Copy",()=>b],476012)},762079,a=>{"use strict";let b=(0,a.i(627552).default)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);a.s(["default",()=>b])},27384,a=>{"use strict";let b=(0,a.i(627552).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["default",()=>b])},903994,a=>{"use strict";var b=a.i(27384);a.s(["Heart",()=>b.default])},327428,321982,a=>{"use strict";let b=(0,a.i(627552).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["default",()=>b],321982),a.s(["Eye",()=>b],327428)},499506,389578,a=>{"use strict";let b=(0,a.i(627552).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["default",()=>b],389578),a.s(["AlertTriangle",()=>b],499506)},159030,69733,a=>{"use strict";let b=(0,a.i(627552).default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);a.s(["default",()=>b],69733),a.s(["Code",()=>b],159030)},765649,a=>{"use strict";let b=(0,a.i(627552).default)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);a.s(["default",()=>b])},832728,a=>{"use strict";var b=a.i(765649);a.s(["Folder",()=>b.default])},318730,a=>{"use strict";let b=(0,a.i(627552).default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);a.s(["default",()=>b])},101170,a=>{"use strict";var b=a.i(318730);a.s(["Database",()=>b.default])},843232,a=>{"use strict";let b=(0,a.i(627552).default)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);a.s(["default",()=>b])},253177,a=>{"use strict";var b=a.i(843232);a.s(["Maximize2",()=>b.default])},801409,a=>{"use strict";let b=(0,a.i(627552).default)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);a.s(["default",()=>b])},967965,a=>{"use strict";var b=a.i(801409);a.s(["Minimize2",()=>b.default])},786003,a=>{"use strict";let b=(0,a.i(627552).default)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);a.s(["default",()=>b])},951571,a=>{"use strict";var b=a.i(786003);a.s(["Code2",()=>b.default])},797003,a=>{"use strict";var b=a.i(440103);a.s(["PanelLeftClose",()=>b.default])},113165,a=>{"use strict";var b=a.i(292371);a.s(["PanelLeft",()=>b.default])},713281,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(490930);let e=(0,c.createContext)(null);function f({children:f}){let[g,h]=(0,c.useState)((0,d.createInitialSandboxState)()),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=!0,c=(async()=>{let{getSandboxManager:c}=await a.A(202380);if(!b)return;let d=c();l(d);let e=d.subscribe(a=>{b&&h(a)});return h(d.getState()),e})();return()=>{b=!1,c.then(a=>a?.())}},[]);let m=(0,c.useCallback)((a,b,c)=>{j(d=>[...d,{id:`log_${Date.now()}_${Math.random().toString(36).slice(2)}`,timestamp:Date.now(),type:a,message:b,details:c}])},[]),n=(0,c.useCallback)(()=>{j([])},[]),o=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");m("system","Creating sandbox...");try{let b=await k.create(a);return m("system",`Sandbox created: ${b}`),b}catch(a){return m("error","Failed to create sandbox",String(a)),null}},[k,m]),p=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");m("system",`Connecting to sandbox: ${a}`);try{await k.connect(a),m("system","Connected to sandbox")}catch(a){throw m("error","Failed to connect",String(a)),a}},[k,m]),q=(0,c.useCallback)(async()=>{if(!k)throw Error("Manager not initialized");m("system","Terminating sandbox...");try{await k.terminate(),m("system","Sandbox terminated")}catch(a){throw m("error","Failed to terminate",String(a)),a}},[k,m]),r=(0,c.useCallback)(async(a,b)=>{if(!k)throw Error("Manager not initialized");m("command",`Writing file: ${a}`);try{await k.writeFile({path:a,content:b}),m("output",`File written: ${a}`)}catch(b){throw m("error",`Failed to write file: ${a}`,String(b)),b}},[k,m]),s=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");m("command",`Writing ${a.length} files...`);try{await k.writeFiles(a),m("output",`${a.length} files written`)}catch(a){throw m("error","Failed to write files",String(a)),a}},[k,m]),t=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");return k.readFile(a)},[k]),u=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");await k.listFiles(a)},[k]),v=(0,c.useCallback)(async(a,b,c)=>{if(!k)throw Error("Manager not initialized");let d=b?`${a} ${b.join(" ")}`:a;m("command",`$ ${d}`);try{let d=await k.runCommand({command:a,args:b,wait:c?.wait??!0,sudo:c?.sudo});return d.stdout&&m("output",d.stdout),d.stderr&&m("error",d.stderr),void 0!==d.exitCode&&0!==d.exitCode&&m("error",`Exit code: ${d.exitCode}`),d}catch(a){throw m("error",`Command failed: ${d}`,String(a)),a}},[k,m]),w=(0,c.useCallback)(async(a,b)=>v(a,b,{wait:!0}),[v]),x=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");try{let b=await k.getPreviewUrl(a);return m("system",`Preview URL: ${b}`),b}catch(a){throw m("error","Failed to get preview URL",String(a)),a}},[k,m]),y=(0,c.useCallback)(async a=>{if(!k)throw Error("Manager not initialized");m("command",`git clone ${a}`);try{let b=await k.cloneRepo(a);return b.success?m("system",`Repository cloned to ${b.projectDir}`):m("error",b.error||"Failed to clone repository"),b}catch(a){throw m("error","Failed to clone repository",String(a)),a}},[k,m]),z={state:g,isConnected:"ready"===g.status,isCreating:"creating"===g.status,error:g.error,create:o,connect:p,terminate:q,writeFile:r,writeFiles:s,readFile:t,listFiles:u,runCommand:v,runAndWait:w,getPreviewUrl:x,cloneRepo:y,logs:i,clearLogs:n};return(0,b.jsx)(e.Provider,{value:z,children:f})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useSandboxContext must be used within a SandboxProvider");return a}a.s(["SandboxProvider",()=>f,"useSandboxContext",()=>g])},440103,a=>{"use strict";let b=(0,a.i(627552).default)("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);a.s(["default",()=>b])},292371,a=>{"use strict";let b=(0,a.i(627552).default)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);a.s(["default",()=>b])},734307,83885,a=>{"use strict";let b=(0,a.i(627552).default)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);a.s(["default",()=>b],83885),a.s(["Ticket",()=>b],734307)},346752,a=>{"use strict";let b=(0,a.i(627552).default)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);a.s(["default",()=>b])},424449,a=>{"use strict";let b=(0,a.i(627552).default)("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);a.s(["default",()=>b])},158439,a=>{"use strict";let b=(0,a.i(627552).default)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);a.s(["default",()=>b])},824764,a=>{"use strict";let b=(0,a.i(627552).default)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);a.s(["default",()=>b])},665770,a=>{"use strict";var b=a.i(863050);let c="openclaw_chat_threads",d="openclaw_active_thread";function e(){let[a,e]=(0,b.useState)([]),[f,g]=(0,b.useState)(null),[h,i]=(0,b.useState)(!1);(0,b.useEffect)(()=>{try{let a=localStorage.getItem(c),b=localStorage.getItem(d);if(a){let c=JSON.parse(a);e(c),b&&c.some(a=>a.id===b)?g(b):c.length>0&&g(c[0].id)}}catch(a){console.error("Failed to load chat threads:",a)}i(!0)},[]),(0,b.useEffect)(()=>{if(h)try{localStorage.setItem(c,JSON.stringify(a)),f&&localStorage.setItem(d,f)}catch(a){console.error("Failed to save chat threads:",a)}},[a,f,h]);let j=a.find(a=>a.id===f)||null,k=(0,b.useCallback)(()=>{let a={id:`thread_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,title:"New conversation",messages:[],createdAt:Date.now(),lastModified:Date.now()};return e(b=>[a,...b]),g(a.id),a},[]),l=(0,b.useCallback)(b=>{a.some(a=>a.id===b)&&g(b)},[a]),m=(0,b.useCallback)(a=>{e(b=>{let c=b.filter(b=>b.id!==a);return f===a&&(c.length>0?g(c[0].id):g(null)),c})},[f]),n=(0,b.useCallback)((a,b)=>{if(!f)return null;let c={id:`msg_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,role:a,content:b,timestamp:Date.now()};return e(b=>b.map(b=>{if(b.id!==f)return b;let d=[...b.messages,c];return{...b,messages:d,title:0===b.messages.length&&"user"===a?function(a){let b=a.find(a=>"user"===a.role);if(b){let a=b.content.split(" ").slice(0,6).join(" ");return a.length<b.content.length?`${a}...`:a}return"New conversation"}([c]):b.title,lastModified:Date.now()}})),c},[f]),o=(0,b.useCallback)(()=>{f&&e(a=>a.map(a=>a.id!==f?a:{...a,messages:[],title:"New conversation",lastModified:Date.now()}))},[f]),p=(0,b.useCallback)(()=>j?.messages||[],[j]),q=(0,b.useCallback)(()=>0!==a.length&&f?j:k(),[a.length,f,k,j]);return{threads:a,activeThread:j,activeThreadId:f,isLoaded:h,createThread:k,switchThread:l,deleteThread:m,addMessage:n,clearActiveThread:o,getMessages:p,ensureThread:q}}a.s(["useChatThreads",()=>e])},202380,a=>{a.v(b=>Promise.all(["server/chunks/ssr/src_lib_sandbox_index_ts_19534574._.js"].map(b=>a.l(b))).then(()=>b(186203)))}];

//# sourceMappingURL=_6b1704a1._.js.map