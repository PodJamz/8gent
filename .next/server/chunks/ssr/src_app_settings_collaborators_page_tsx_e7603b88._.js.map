{"version":3,"sources":["../../../../src/app/settings/collaborators/page.tsx"],"sourcesContent":["'use client';\n\n/**\n * iPod Collaborators Management Page\n *\n * Admin-only page for managing iPod collaborators.\n * Allows creating, updating, and deleting collaborators with\n * their avatars, colors, and passcodes.\n */\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@/lib/openclaw/hooks';\nimport { api } from '@/lib/convex-shim';\n\n// Type assertion for passcodes module (generated types may not include it until deployed)\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst passcodesApi = (api as any).passcodes;\nimport { PageTransition } from '@/components/ios';\nimport { useAdminSession } from '@/hooks/useAdminSession';\nimport {\n  ChevronLeft,\n  Users,\n  Plus,\n  Trash2,\n  Edit2,\n  Eye,\n  EyeOff,\n  Check,\n  X,\n  Loader2,\n  Music,\n  GripVertical,\n} from 'lucide-react';\n\ninterface Collaborator {\n  _id: string;\n  slug: string;\n  displayName: string;\n  avatarEmoji: string;\n  avatarColor: string;\n  avatarImage?: string;\n  isActive: boolean;\n  sortOrder: number;\n  createdAt: number;\n  lastAccessAt?: number;\n}\n\n// Predefined avatar emojis\nconst AVATAR_EMOJIS = ['üòé', 'üéµ', 'üé∏', 'üéπ', 'üé§', 'üéß', 'üé∫', 'üé∑', 'ü•Å', 'üéª', 'ü™ï', 'üéº', 'ü¶ä', 'üêª', 'ü¶Å', 'üêØ', 'ü¶Ñ', 'üåü', '‚ö°', 'üî•'];\n\n// Predefined avatar colors\nconst AVATAR_COLORS = [\n  'from-orange-500 to-amber-500',\n  'from-blue-500 to-cyan-500',\n  'from-purple-500 to-pink-500',\n  'from-green-500 to-emerald-500',\n  'from-red-500 to-rose-500',\n  'from-indigo-500 to-violet-500',\n  'from-yellow-500 to-orange-500',\n  'from-teal-500 to-cyan-500',\n];\n\nexport default function CollaboratorsPage() {\n  const router = useRouter();\n  const { isAuthenticated: isAdmin, isLoading: isAdminLoading } = useAdminSession();\n  const [editingCollaborator, setEditingCollaborator] = useState<string | null>(null);\n  const [newPasscode, setNewPasscode] = useState('');\n  const [showPasscode, setShowPasscode] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [newName, setNewName] = useState('');\n  const [newSlug, setNewSlug] = useState('');\n  const [newEmoji, setNewEmoji] = useState('üòé');\n  const [newColor, setNewColor] = useState(AVATAR_COLORS[0]);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch collaborators\n  const collaborators = useQuery(passcodesApi.listCollaboratorsAdmin) as Collaborator[] | undefined;\n\n  // Mutations\n  const upsertCollaborator = useMutation(passcodesApi.upsertCollaborator);\n  const deleteCollaborator = useMutation(passcodesApi.deleteCollaborator);\n  const seedCollaborators = useMutation(passcodesApi.seedCollaborators);\n\n  // Redirect if not admin\n  useEffect(() => {\n    if (!isAdminLoading && !isAdmin) {\n      router.push('/settings');\n    }\n  }, [isAdmin, isAdminLoading, router]);\n\n  // Handle create collaborator\n  const handleCreateCollaborator = async () => {\n    if (!newName.trim()) {\n      setError('Name is required');\n      return;\n    }\n    if (!newSlug.trim()) {\n      setError('Slug is required');\n      return;\n    }\n    if (!newPasscode || newPasscode.length !== 6 || !/^\\d+$/.test(newPasscode)) {\n      setError('Passcode must be exactly 6 digits');\n      return;\n    }\n\n    try {\n      await upsertCollaborator({\n        slug: newSlug.toLowerCase().replace(/\\s+/g, '-'),\n        displayName: newName,\n        avatarEmoji: newEmoji,\n        avatarColor: newColor,\n        passcode: newPasscode,\n        isActive: true,\n        sortOrder: collaborators?.length || 0,\n      });\n      setIsCreating(false);\n      resetForm();\n      setError(null);\n    } catch (err) {\n      setError('Failed to create collaborator');\n    }\n  };\n\n  // Handle update collaborator passcode\n  const handleUpdatePasscode = async (collab: Collaborator) => {\n    if (!newPasscode || newPasscode.length !== 6 || !/^\\d+$/.test(newPasscode)) {\n      setError('Passcode must be exactly 6 digits');\n      return;\n    }\n\n    try {\n      await upsertCollaborator({\n        slug: collab.slug,\n        displayName: collab.displayName,\n        avatarEmoji: collab.avatarEmoji,\n        avatarColor: collab.avatarColor,\n        passcode: newPasscode,\n        isActive: collab.isActive,\n        sortOrder: collab.sortOrder,\n      });\n      setEditingCollaborator(null);\n      setNewPasscode('');\n      setError(null);\n    } catch (err) {\n      setError('Failed to update passcode');\n    }\n  };\n\n  // Handle delete collaborator\n  const handleDeleteCollaborator = async (slug: string) => {\n    if (!confirm('Are you sure you want to delete this collaborator?')) {\n      return;\n    }\n\n    try {\n      await deleteCollaborator({ slug });\n    } catch (err) {\n      setError('Failed to delete collaborator');\n    }\n  };\n\n  // Handle toggle active\n  const handleToggleActive = async (collab: Collaborator) => {\n    try {\n      await upsertCollaborator({\n        slug: collab.slug,\n        displayName: collab.displayName,\n        avatarEmoji: collab.avatarEmoji,\n        avatarColor: collab.avatarColor,\n        isActive: !collab.isActive,\n        sortOrder: collab.sortOrder,\n      });\n    } catch (err) {\n      setError('Failed to update collaborator');\n    }\n  };\n\n  // Handle seed default collaborators\n  const handleSeedDefaults = async () => {\n    try {\n      await seedCollaborators({});\n      setError(null);\n    } catch (err) {\n      setError('Failed to seed collaborators');\n    }\n  };\n\n  const resetForm = () => {\n    setNewName('');\n    setNewSlug('');\n    setNewPasscode('');\n    setNewEmoji('üòé');\n    setNewColor(AVATAR_COLORS[0]);\n  };\n\n  if (isAdminLoading) {\n    return (\n      <div className=\"min-h-screen bg-zinc-950 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-white/50\" />\n      </div>\n    );\n  }\n\n  if (!isAdmin) {\n    return null;\n  }\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-zinc-950\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10\">\n          <div className=\"max-w-lg mx-auto px-4 py-4 flex items-center gap-4\">\n            <Link\n              href=\"/settings\"\n              className=\"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors\"\n              aria-label=\"Go back to settings\"\n            >\n              <ChevronLeft className=\"w-5 h-5 text-white\" />\n            </Link>\n            <div className=\"flex-1\">\n              <h1 className=\"text-xl font-semibold text-white\">iPod Collaborators</h1>\n              <p className=\"text-xs text-white/50\">Manage music sharing access</p>\n            </div>\n            <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center\">\n              <Users className=\"w-4 h-4 text-white\" />\n            </div>\n          </div>\n        </header>\n\n        {/* Content */}\n        <main className=\"max-w-lg mx-auto px-4 py-6\">\n          {/* Error message */}\n          <AnimatePresence>\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl\"\n              >\n                <p className=\"text-sm text-red-400\">{error}</p>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Info card */}\n          <div className=\"mb-6 p-4 rounded-xl bg-white/5 border border-white/10\">\n            <div className=\"flex items-start gap-3\">\n              <Music className=\"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-white/70\">\n                  iPod collaborators can access private music playlists using their 6-digit passcode.\n                  Each collaborator has their own avatar that appears in the carousel.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Seed defaults button */}\n          {collaborators?.length === 0 && (\n            <button\n              onClick={handleSeedDefaults}\n              className=\"mb-4 w-full py-3 px-4 rounded-xl bg-emerald-500/10 border border-emerald-500/30 hover:bg-emerald-500/20 text-emerald-400 transition-colors flex items-center justify-center gap-2\"\n            >\n              <Users className=\"w-4 h-4\" />\n              Seed Default Collaborators (Owner, Team, Admins)\n            </button>\n          )}\n\n          {/* Collaborators list */}\n          <div className=\"space-y-3\">\n            {collaborators === undefined ? (\n              <div className=\"flex justify-center py-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin text-white/50\" />\n              </div>\n            ) : collaborators.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <Users className=\"w-12 h-12 mx-auto mb-3 text-white/20\" />\n                <p className=\"text-white/50\">No collaborators yet</p>\n              </div>\n            ) : (\n              collaborators.map((collab) => (\n                <motion.div\n                  key={collab._id}\n                  layout\n                  className=\"p-4 rounded-xl bg-white/5 border border-white/10\"\n                >\n                  {editingCollaborator === collab.slug ? (\n                    /* Edit mode */\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className={`w-12 h-12 rounded-full bg-gradient-to-br ${collab.avatarColor} flex items-center justify-center text-2xl`}>\n                          {collab.avatarEmoji}\n                        </div>\n                        <div>\n                          <span className=\"text-white font-medium\">{collab.displayName}</span>\n                          <p className=\"text-xs text-white/40 font-mono\">{collab.slug}</p>\n                        </div>\n                      </div>\n                      <div className=\"relative\">\n                        <input\n                          type={showPasscode ? 'text' : 'password'}\n                          value={newPasscode}\n                          onChange={(e) => {\n                            const val = e.target.value.replace(/\\D/g, '').slice(0, 6);\n                            setNewPasscode(val);\n                          }}\n                          placeholder=\"Enter new 6-digit passcode\"\n                          className=\"w-full px-3 py-2 pr-10 bg-white/5 border border-white/20 rounded-lg text-white text-center text-lg tracking-[0.5em] font-mono placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\n                          maxLength={6}\n                          inputMode=\"numeric\"\n                          autoFocus\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowPasscode(!showPasscode)}\n                          className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-white/40 hover:text-white/70\"\n                        >\n                          {showPasscode ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                        </button>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => handleUpdatePasscode(collab)}\n                          disabled={newPasscode.length !== 6}\n                          className=\"flex-1 py-2 px-3 bg-emerald-500 hover:bg-emerald-600 disabled:bg-white/10 disabled:text-white/30 rounded-lg text-white text-sm font-medium transition-colors flex items-center justify-center gap-2\"\n                        >\n                          <Check className=\"w-4 h-4\" />\n                          Update Passcode\n                        </button>\n                        <button\n                          onClick={() => {\n                            setEditingCollaborator(null);\n                            setNewPasscode('');\n                            setError(null);\n                          }}\n                          className=\"py-2 px-3 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    /* View mode */\n                    <div className=\"flex items-center gap-3\">\n                      <div className={`w-12 h-12 rounded-full bg-gradient-to-br ${collab.avatarColor} flex items-center justify-center text-2xl shadow-lg`}>\n                        {collab.avatarEmoji}\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-white font-medium\">{collab.displayName}</span>\n                          {!collab.isActive && (\n                            <span className=\"text-xs text-white/40 bg-white/10 px-2 py-0.5 rounded\">Disabled</span>\n                          )}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-xs text-white/40 font-mono\">{collab.slug}</span>\n                          {collab.lastAccessAt && (\n                            <span className=\"text-xs text-white/30\">\n                              Last: {new Date(collab.lastAccessAt).toLocaleDateString()}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <button\n                          onClick={() => handleToggleActive(collab)}\n                          className={`p-2 rounded-lg transition-colors ${collab.isActive ? 'text-green-400 hover:bg-green-500/10' : 'text-white/40 hover:bg-white/10'}`}\n                          title={collab.isActive ? 'Disable' : 'Enable'}\n                        >\n                          {collab.isActive ? <Check className=\"w-4 h-4\" /> : <X className=\"w-4 h-4\" />}\n                        </button>\n                        <button\n                          onClick={() => {\n                            setEditingCollaborator(collab.slug);\n                            setNewPasscode('');\n                          }}\n                          className=\"p-2 text-white/40 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\n                          title=\"Change passcode\"\n                        >\n                          <Edit2 className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDeleteCollaborator(collab.slug)}\n                          className=\"p-2 text-white/40 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\n                          title=\"Delete\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </motion.div>\n              ))\n            )}\n          </div>\n\n          {/* Create new collaborator */}\n          <AnimatePresence>\n            {isCreating ? (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: 20 }}\n                className=\"mt-4 p-4 rounded-xl bg-white/5 border border-emerald-500/30\"\n              >\n                <h3 className=\"text-white font-medium mb-3\">Add Collaborator</h3>\n                <div className=\"space-y-3\">\n                  {/* Avatar preview */}\n                  <div className=\"flex justify-center\">\n                    <div className={`w-16 h-16 rounded-full bg-gradient-to-br ${newColor} flex items-center justify-center text-3xl shadow-lg`}>\n                      {newEmoji}\n                    </div>\n                  </div>\n\n                  {/* Emoji picker */}\n                  <div>\n                    <label className=\"text-xs text-white/50 mb-1 block\">Avatar Emoji</label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {AVATAR_EMOJIS.map((emoji) => (\n                        <button\n                          key={emoji}\n                          onClick={() => setNewEmoji(emoji)}\n                          className={`w-8 h-8 rounded-lg text-lg transition-all ${newEmoji === emoji\n                              ? 'bg-white/20 ring-2 ring-emerald-500'\n                              : 'bg-white/5 hover:bg-white/10'\n                            }`}\n                        >\n                          {emoji}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Color picker */}\n                  <div>\n                    <label className=\"text-xs text-white/50 mb-1 block\">Avatar Color</label>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {AVATAR_COLORS.map((color) => (\n                        <button\n                          key={color}\n                          onClick={() => setNewColor(color)}\n                          className={`w-8 h-8 rounded-full bg-gradient-to-br ${color} transition-all ${newColor === color\n                              ? 'ring-2 ring-white ring-offset-2 ring-offset-zinc-950'\n                              : 'opacity-60 hover:opacity-100'\n                            }`}\n                        />\n                      ))}\n                    </div>\n                  </div>\n\n                  <input\n                    type=\"text\"\n                    value={newName}\n                    onChange={(e) => {\n                      setNewName(e.target.value);\n                      setNewSlug(e.target.value.toLowerCase().replace(/\\s+/g, '-'));\n                    }}\n                    placeholder=\"Display name (e.g., Admin)\"\n                    className=\"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\n                  />\n                  <input\n                    type=\"text\"\n                    value={newSlug}\n                    onChange={(e) => setNewSlug(e.target.value.toLowerCase().replace(/\\s+/g, '-'))}\n                    placeholder=\"Slug (e.g., admin)\"\n                    className=\"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white font-mono placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\n                  />\n                  <div className=\"relative\">\n                    <input\n                      type={showPasscode ? 'text' : 'password'}\n                      value={newPasscode}\n                      onChange={(e) => {\n                        const val = e.target.value.replace(/\\D/g, '').slice(0, 6);\n                        setNewPasscode(val);\n                      }}\n                      placeholder=\"6-digit passcode\"\n                      className=\"w-full px-3 py-2 pr-10 bg-white/5 border border-white/20 rounded-lg text-white text-center text-lg tracking-[0.5em] font-mono placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50\"\n                      maxLength={6}\n                      inputMode=\"numeric\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPasscode(!showPasscode)}\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-white/40 hover:text-white/70\"\n                    >\n                      {showPasscode ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                    </button>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={handleCreateCollaborator}\n                      disabled={!newName.trim() || !newSlug.trim() || newPasscode.length !== 6}\n                      className=\"flex-1 py-2 px-3 bg-emerald-500 hover:bg-emerald-600 disabled:bg-white/10 disabled:text-white/30 rounded-lg text-white text-sm font-medium transition-colors flex items-center justify-center gap-2\"\n                    >\n                      <Check className=\"w-4 h-4\" />\n                      Add Collaborator\n                    </button>\n                    <button\n                      onClick={() => {\n                        setIsCreating(false);\n                        resetForm();\n                        setError(null);\n                      }}\n                      className=\"py-2 px-3 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </motion.div>\n            ) : (\n              <motion.button\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                onClick={() => setIsCreating(true)}\n                className=\"mt-4 w-full py-3 px-4 rounded-xl bg-white/5 border border-dashed border-white/20 hover:bg-white/10 hover:border-white/30 text-white/60 hover:text-white transition-all flex items-center justify-center gap-2\"\n              >\n                <Plus className=\"w-4 h-4\" />\n                Add Collaborator\n              </motion.button>\n            )}\n          </AnimatePresence>\n        </main>\n      </div>\n    </PageTransition>\n  );\n}\n"],"names":[],"mappings":"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"}