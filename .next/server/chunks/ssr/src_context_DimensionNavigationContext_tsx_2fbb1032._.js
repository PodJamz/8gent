module.exports=[519456,a=>{"use strict";var b=a.i(499969),c=a.i(863050);let d={dimensionId:"home",label:"Home",timestamp:Date.now()},e={current:d,history:[],forward:[]},f=(0,c.createContext)(null);function g({children:a,initialDimension:g,initialProjectId:h}){let[i,j]=(0,c.useState)(()=>({...e,current:g?{dimensionId:g,label:g,timestamp:Date.now()}:d,projectId:h})),k=(0,c.useRef)(new Set),l=(0,c.useCallback)(a=>{k.current.forEach(b=>b(a))},[]),m=(0,c.useCallback)((a,b,c)=>{let d={dimensionId:a,label:b,filter:c,timestamp:Date.now()};j(a=>({...a,history:[...a.history,a.current],current:d,forward:[]})),l(d)},[l]),n=(0,c.useCallback)(()=>{let a=!1;return j(b=>{if(0===b.history.length)return b;let c=[...b.history],d=c.pop();return a=!0,setTimeout(()=>l(d),0),{...b,history:c,current:d,forward:[b.current,...b.forward]}}),a},[l]),o=(0,c.useCallback)(()=>{let a=!1;return j(b=>{if(0===b.forward.length)return b;let c=[...b.forward],d=c.shift();return a=!0,setTimeout(()=>l(d),0),{...b,history:[...b.history,b.current],current:d,forward:c}}),a},[l]),p=(0,c.useCallback)((a,b)=>{j(c=>({...c,projectId:a,projectName:b}))},[]),q=(0,c.useCallback)(()=>{let a=[];return a.push(`Currently viewing: ${i.current.label} (${i.current.dimensionId})`),i.projectName&&a.push(`Active project: ${i.projectName}`),i.current.filter&&(i.current.filter.entityTypes?.length&&a.push(`Filtered to: ${i.current.filter.entityTypes.join(", ")}`),i.current.filter.tags?.length&&a.push(`Tags: ${i.current.filter.tags.join(", ")}`)),i.history.length>0&&a.push(`Navigation depth: ${i.history.length} steps from home`),a.join(". ")},[i]),r=(0,c.useCallback)(a=>(k.current.add(a),()=>{k.current.delete(a)}),[]),s=i.history.length>0,t=i.forward.length>0;return(0,b.jsx)(f.Provider,{value:{state:i,navigateTo:m,goBack:n,goForward:o,canGoBack:s,canGoForward:t,setProject:p,getAIContext:q,onNavigate:r},children:a})}function h(){let a=(0,c.useContext)(f);if(!a)throw Error("useDimensionNavigation must be used within DimensionNavigationProvider");return a}function i(a={}){let{threshold:b=50,enabled:d=!0,onSwipeLeft:e,onSwipeRight:f}=a,{goBack:g,goForward:j,canGoBack:k,canGoForward:l}=h(),m=(0,c.useRef)(null);return{touchHandlers:{onTouchStart:(0,c.useCallback)(a=>{if(!d)return;let b=a.touches[0];m.current={x:b.clientX,y:b.clientY}},[d]),onTouchEnd:(0,c.useCallback)(a=>{if(!d||!m.current)return;let c=a.changedTouches[0],h=c.clientX-m.current.x;Math.abs(h)>Math.abs(c.clientY-m.current.y)&&Math.abs(h)>b&&(h>0&&k?(g(),f?.()):h<0&&l&&(j(),e?.())),m.current=null},[d,b,k,l,g,j,e,f])}}}function j(a){let{state:b,getAIContext:d,onNavigate:e}=h();return(0,c.useEffect)(()=>{if(a)return e(b=>{setTimeout(()=>{a(d(),b)},10)})},[e,d,a]),{currentContext:d(),currentLocation:b.current,projectContext:b.projectName?`Project: ${b.projectName}`:void 0}}a.s(["DimensionNavigationProvider",()=>g,"default",0,f,"useAINavigationContext",()=>j,"useDimensionNavigation",()=>h,"useSwipeNavigation",()=>i])}];

//# sourceMappingURL=src_context_DimensionNavigationContext_tsx_2fbb1032._.js.map