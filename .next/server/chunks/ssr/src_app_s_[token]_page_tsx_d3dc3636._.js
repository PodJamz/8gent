module.exports=[973220,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(925440),e=a.i(567031),f=a.i(662482),g=a.i(745682),h=a.i(217201),i=a.i(227828);function j(){let a=(0,d.useParams)(),j=(0,d.useRouter)(),k=a.token,[l,m]=(0,c.useState)("loading"),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)("");(0,c.useEffect)(()=>{async function a(){try{let a=await fetch(`/api/save?token=${encodeURIComponent(k)}`),b=await a.json();if(a.ok&&b.success){o(b),m("success");let a={sessionId:b.sessionId,createdAt:b.createdAt,lastModified:Date.now(),draft:b.draft,chatHistory:b.chatHistory||[],eventLog:b.eventLog||[],notifications:[]};localStorage.setItem("openclaw_session",JSON.stringify(a))}else 404===a.status?(m("notfound"),q("This saved session could not be found.")):410===a.status?(m("expired"),q("This saved session has expired.")):(m("error"),q(b.error||"Failed to load session"))}catch(a){m("error"),q("Network error. Please try again.")}}k&&a()},[k]);let r=()=>{j.push("/")};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-30",style:{backgroundImage:"url(https://2oczblkb3byymav8.public.blob.vercel-storage.com/aurora.jpeg)"}}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,b.jsx)(e.motion.div,{className:"relative z-10 max-w-md w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,b.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8",children:["loading"===l&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(f.Loader2,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-white text-xl font-semibold mb-2",children:"Loading your draft..."}),(0,b.jsx)("p",{className:"text-white/50 text-sm",children:"Please wait while we retrieve your saved session."})]}),"success"===l&&n&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(h.CheckCircle,{className:"w-8 h-8 text-green-400"})}),(0,b.jsx)("h1",{className:"text-white text-xl font-semibold mb-2",children:"Draft Loaded!"}),(0,b.jsx)("p",{className:"text-white/50 text-sm mb-6",children:"Your saved project draft has been restored to your session."}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 mb-6 text-left",children:[(0,b.jsx)("h3",{className:"text-white/70 text-xs uppercase tracking-wider mb-3",children:"Brief Summary"}),n.draft.brief.problem&&(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("span",{className:"text-white/40 text-xs",children:"Building:"}),(0,b.jsx)("p",{className:"text-white/80 text-sm truncate",children:n.draft.brief.problem})]}),n.draft.brief.audience&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white/40 text-xs",children:"For:"}),(0,b.jsx)("p",{className:"text-white/80 text-sm truncate",children:n.draft.brief.audience})]})]}),(0,b.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium py-3 px-6 rounded-full hover:opacity-90 transition-opacity",children:[(0,b.jsx)(i.Home,{className:"w-4 h-4"}),"Go to 8gent"]})]}),("error"===l||"notfound"===l||"expired"===l)&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(g.AlertCircle,{className:"w-8 h-8 text-red-400"})}),(0,b.jsxs)("h1",{className:"text-white text-xl font-semibold mb-2",children:["notfound"===l&&"Session Not Found","expired"===l&&"Session Expired","error"===l&&"Error Loading Session"]}),(0,b.jsx)("p",{className:"text-white/50 text-sm mb-6",children:p}),(0,b.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 text-white font-medium py-3 px-6 rounded-full transition-colors",children:[(0,b.jsx)(i.Home,{className:"w-4 h-4"}),"Start Fresh"]})]}),"success"===l&&n&&(0,b.jsxs)("p",{className:"text-white/30 text-xs text-center mt-4",children:["This link expires ",new Date(n.expiresAt).toLocaleDateString()]})]})})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=src_app_s_%5Btoken%5D_page_tsx_d3dc3636._.js.map