{"version":3,"sources":["../../../../src/app/reminders/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@/lib/openclaw/hooks';\nimport { api } from '@/lib/convex-shim';\nimport { PageTransition } from '@/components/ios';\nimport {\n  ChevronLeft,\n  Bell,\n  Plus,\n  Clock,\n  Calendar,\n  Trash2,\n  Edit2,\n  Power,\n  Mail,\n  Eye,\n  EyeOff,\n  Send,\n  Bot,\n  Settings,\n  Check,\n  X,\n  AlertCircle,\n} from 'lucide-react';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ntype ScheduleType = 'once' | 'daily' | 'weekly' | 'monthly' | 'hourly' | 'custom';\n\ninterface Reminder {\n  id: string;\n  reminderId: string;\n  title: string;\n  message: string;\n  scheduleType: ScheduleType;\n  hour?: number;\n  minute?: number;\n  dayOfWeek?: number[];\n  dayOfMonth?: number;\n  timezone: string;\n  scheduledAt?: number;\n  isActive: boolean;\n  lastSentAt?: number;\n  nextScheduledAt?: number;\n  isPublic: boolean;\n  recipientEmail?: string;\n  createdBy?: string;\n  createdAt?: number;\n  updatedAt?: number;\n}\n\ninterface ReminderFormData {\n  title: string;\n  message: string;\n  scheduleType: ScheduleType;\n  hour: number;\n  minute: number;\n  dayOfWeek: number[];\n  dayOfMonth: number;\n  timezone: string;\n  scheduledAt: string;\n  recipientEmail: string;\n  isPublic: boolean;\n  isActive: boolean;\n}\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nconst DAYS_OF_WEEK = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nfunction formatSchedule(reminder: Reminder): string {\n  const time = reminder.hour !== undefined && reminder.minute !== undefined\n    ? `${reminder.hour.toString().padStart(2, '0')}:${reminder.minute.toString().padStart(2, '0')}`\n    : '';\n\n  switch (reminder.scheduleType) {\n    case 'once':\n      if (reminder.scheduledAt) {\n        return new Date(reminder.scheduledAt).toLocaleString();\n      }\n      return 'One time';\n    case 'hourly':\n      return `Every hour at :${(reminder.minute || 0).toString().padStart(2, '0')}`;\n    case 'daily':\n      return `Daily at ${time}`;\n    case 'weekly':\n      const days = reminder.dayOfWeek?.map(d => DAYS_OF_WEEK[d]).join(', ') || '';\n      return `Every ${days} at ${time}`;\n    case 'monthly':\n      return `Monthly on the ${reminder.dayOfMonth}${getOrdinalSuffix(reminder.dayOfMonth || 1)} at ${time}`;\n    default:\n      return 'Custom schedule';\n  }\n}\n\nfunction getOrdinalSuffix(n: number): string {\n  const s = ['th', 'st', 'nd', 'rd'];\n  const v = n % 100;\n  return s[(v - 20) % 10] || s[v] || s[0];\n}\n\nfunction formatTimeAgo(timestamp: number): string {\n  const diff = Date.now() - timestamp;\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  const days = Math.floor(diff / 86400000);\n\n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m ago`;\n  if (hours < 24) return `${hours}h ago`;\n  return `${days}d ago`;\n}\n\nfunction formatTimeUntil(timestamp: number): string {\n  const diff = timestamp - Date.now();\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  const days = Math.floor(diff / 86400000);\n\n  if (minutes < 1) return 'Now';\n  if (minutes < 60) return `In ${minutes}m`;\n  if (hours < 24) return `In ${hours}h`;\n  return `In ${days}d`;\n}\n\n// ============================================================================\n// Reminder Form Component\n// ============================================================================\n\nfunction ReminderForm({\n  initialData,\n  onSubmit,\n  onCancel,\n}: {\n  initialData?: Partial<ReminderFormData>;\n  onSubmit: (data: ReminderFormData) => void;\n  onCancel: () => void;\n}) {\n  const [form, setForm] = useState<ReminderFormData>({\n    title: initialData?.title || '',\n    message: initialData?.message || '',\n    scheduleType: initialData?.scheduleType || 'daily',\n    hour: initialData?.hour ?? 9,\n    minute: initialData?.minute ?? 0,\n    dayOfWeek: initialData?.dayOfWeek || [1, 2, 3, 4, 5],\n    dayOfMonth: initialData?.dayOfMonth ?? 1,\n    timezone: initialData?.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone,\n    scheduledAt: initialData?.scheduledAt || '',\n    recipientEmail: initialData?.recipientEmail || '',\n    isPublic: initialData?.isPublic ?? false,\n    isActive: initialData?.isActive ?? true,\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit(form);\n  };\n\n  const toggleDayOfWeek = (day: number) => {\n    setForm(prev => ({\n      ...prev,\n      dayOfWeek: prev.dayOfWeek.includes(day)\n        ? prev.dayOfWeek.filter(d => d !== day)\n        : [...prev.dayOfWeek, day].sort(),\n    }));\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Title */}\n      <div>\n        <label className=\"block text-sm font-medium text-white/60 mb-2\">\n          Title\n        </label>\n        <input\n          type=\"text\"\n          value={form.title}\n          onChange={(e) => setForm(prev => ({ ...prev, title: e.target.value }))}\n          className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:border-theme-primary\"\n          placeholder=\"Reminder title...\"\n          required\n        />\n      </div>\n\n      {/* Message */}\n      <div>\n        <label className=\"block text-sm font-medium text-white/60 mb-2\">\n          Message\n        </label>\n        <textarea\n          value={form.message}\n          onChange={(e) => setForm(prev => ({ ...prev, message: e.target.value }))}\n          className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:border-theme-primary resize-none\"\n          placeholder=\"Reminder message...\"\n          rows={3}\n          required\n        />\n      </div>\n\n      {/* Schedule Type */}\n      <div>\n        <label className=\"block text-sm font-medium text-white/60 mb-2\">\n          Schedule\n        </label>\n        <select\n          value={form.scheduleType}\n          onChange={(e) => setForm(prev => ({ ...prev, scheduleType: e.target.value as ScheduleType }))}\n          className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-theme-primary\"\n        >\n          <option value=\"hourly\">Every hour</option>\n          <option value=\"daily\">Daily</option>\n          <option value=\"weekly\">Weekly</option>\n          <option value=\"monthly\">Monthly</option>\n          <option value=\"once\">One time</option>\n        </select>\n      </div>\n\n      {/* Time picker for non-hourly */}\n      {form.scheduleType !== 'once' && (\n        <div className=\"grid grid-cols-2 gap-4\">\n          {form.scheduleType !== 'hourly' && (\n            <div>\n              <label className=\"block text-sm font-medium text-white/60 mb-2\">\n                Hour\n              </label>\n              <select\n                value={form.hour}\n                onChange={(e) => setForm(prev => ({ ...prev, hour: parseInt(e.target.value) }))}\n                className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-theme-primary\"\n              >\n                {Array.from({ length: 24 }, (_, i) => (\n                  <option key={i} value={i}>\n                    {i.toString().padStart(2, '0')}:00\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          <div>\n            <label className=\"block text-sm font-medium text-white/60 mb-2\">\n              Minute\n            </label>\n            <select\n              value={form.minute}\n              onChange={(e) => setForm(prev => ({ ...prev, minute: parseInt(e.target.value) }))}\n              className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-theme-primary\"\n            >\n              {[0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55].map(m => (\n                <option key={m} value={m}>\n                  :{m.toString().padStart(2, '0')}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      )}\n\n      {/* Weekly day picker */}\n      {form.scheduleType === 'weekly' && (\n        <div>\n          <label className=\"block text-sm font-medium text-white/60 mb-2\">\n            Days\n          </label>\n          <div className=\"flex gap-2\">\n            {DAYS_OF_WEEK.map((day, i) => (\n              <button\n                key={day}\n                type=\"button\"\n                onClick={() => toggleDayOfWeek(i)}\n                className={`\n                  flex-1 py-2 rounded-lg text-sm font-medium transition-colors\n                  ${form.dayOfWeek.includes(i)\n                    ? 'bg-theme-primary text-white'\n                    : 'bg-white/5 text-white/40 hover:bg-white/10'\n                  }\n                `}\n              >\n                {day}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Monthly day picker */}\n      {form.scheduleType === 'monthly' && (\n        <div>\n          <label className=\"block text-sm font-medium text-white/60 mb-2\">\n            Day of Month\n          </label>\n          <select\n            value={form.dayOfMonth}\n            onChange={(e) => setForm(prev => ({ ...prev, dayOfMonth: parseInt(e.target.value) }))}\n            className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-theme-primary\"\n          >\n            {Array.from({ length: 31 }, (_, i) => (\n              <option key={i + 1} value={i + 1}>\n                {i + 1}{getOrdinalSuffix(i + 1)}\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n\n      {/* One-time date/time picker */}\n      {form.scheduleType === 'once' && (\n        <div>\n          <label className=\"block text-sm font-medium text-white/60 mb-2\">\n            Date & Time\n          </label>\n          <input\n            type=\"datetime-local\"\n            value={form.scheduledAt}\n            onChange={(e) => setForm(prev => ({ ...prev, scheduledAt: e.target.value }))}\n            className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-theme-primary\"\n            required\n          />\n        </div>\n      )}\n\n      {/* Recipient Email */}\n      <div>\n        <label className=\"block text-sm font-medium text-white/60 mb-2\">\n          Recipient Email\n        </label>\n        <input\n          type=\"email\"\n          value={form.recipientEmail}\n          onChange={(e) => setForm(prev => ({ ...prev, recipientEmail: e.target.value }))}\n          className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:border-theme-primary\"\n          placeholder=\"email@example.com\"\n          required\n        />\n      </div>\n\n      {/* Visibility & Active toggles */}\n      <div className=\"flex gap-4\">\n        <button\n          type=\"button\"\n          onClick={() => setForm(prev => ({ ...prev, isPublic: !prev.isPublic }))}\n          className={`\n            flex-1 flex items-center justify-center gap-2 py-3 rounded-xl transition-colors\n            ${form.isPublic\n              ? 'bg-green-500/20 text-green-400 border border-green-500/30'\n              : 'bg-white/5 text-white/60 border border-white/10'\n            }\n          `}\n        >\n          {form.isPublic ? <Eye className=\"w-4 h-4\" /> : <EyeOff className=\"w-4 h-4\" />}\n          {form.isPublic ? 'Public' : 'Private'}\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => setForm(prev => ({ ...prev, isActive: !prev.isActive }))}\n          className={`\n            flex-1 flex items-center justify-center gap-2 py-3 rounded-xl transition-colors\n            ${form.isActive\n              ? 'bg-theme-primary/20 text-theme-primary border border-theme-primary/30'\n              : 'bg-white/5 text-white/60 border border-white/10'\n            }\n          `}\n        >\n          <Power className=\"w-4 h-4\" />\n          {form.isActive ? 'Active' : 'Paused'}\n        </button>\n      </div>\n\n      {/* Action buttons */}\n      <div className=\"flex gap-3\">\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"flex-1 py-3 rounded-xl bg-white/5 text-white/60 hover:bg-white/10 transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          className=\"flex-1 py-3 rounded-xl bg-theme-primary text-white font-medium hover:opacity-90 transition-opacity\"\n        >\n          Save Reminder\n        </button>\n      </div>\n    </form>\n  );\n}\n\n// ============================================================================\n// Reminder Card Component\n// ============================================================================\n\nfunction ReminderCard({\n  reminder,\n  isAdmin,\n  onEdit,\n  onDelete,\n  onToggle,\n}: {\n  reminder: Reminder;\n  isAdmin: boolean;\n  onEdit: () => void;\n  onDelete: () => void;\n  onToggle: () => void;\n}) {\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      className={`\n        p-4 rounded-xl border transition-colors\n        ${reminder.isActive\n          ? 'bg-white/5 border-white/10'\n          : 'bg-white/[0.02] border-white/5 opacity-60'\n        }\n      `}\n    >\n      <div className=\"flex items-start gap-3\">\n        {/* Icon */}\n        <div className={`\n          w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0\n          ${reminder.isActive\n            ? 'bg-gradient-to-br from-amber-500 to-orange-600'\n            : 'bg-white/10'\n          }\n        `}>\n          <Bell className=\"w-5 h-5 text-white\" />\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-start justify-between gap-2\">\n            <h3 className=\"font-medium text-white truncate\">{reminder.title}</h3>\n            {isAdmin && (\n              <div className=\"flex items-center gap-1 flex-shrink-0\">\n                <button\n                  onClick={onToggle}\n                  className={`\n                    p-1.5 rounded-lg transition-colors\n                    ${reminder.isActive\n                      ? 'text-theme-primary hover:bg-theme-primary/10'\n                      : 'text-white/40 hover:bg-white/10'\n                    }\n                  `}\n                  title={reminder.isActive ? 'Pause' : 'Activate'}\n                >\n                  <Power className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={onEdit}\n                  className=\"p-1.5 rounded-lg text-white/40 hover:text-white hover:bg-white/10 transition-colors\"\n                  title=\"Edit\"\n                >\n                  <Edit2 className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={onDelete}\n                  className=\"p-1.5 rounded-lg text-white/40 hover:text-red-400 hover:bg-red-400/10 transition-colors\"\n                  title=\"Delete\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n            )}\n          </div>\n\n          <p className=\"text-sm text-white/50 mt-1 line-clamp-2\">\n            {reminder.message}\n          </p>\n\n          <div className=\"flex flex-wrap items-center gap-2 mt-3\">\n            <span className=\"inline-flex items-center gap-1 text-xs text-white/40\">\n              <Clock className=\"w-3 h-3\" />\n              {formatSchedule(reminder)}\n            </span>\n\n            {reminder.nextScheduledAt && reminder.isActive && (\n              <span className=\"inline-flex items-center gap-1 text-xs text-theme-primary\">\n                <Send className=\"w-3 h-3\" />\n                {formatTimeUntil(reminder.nextScheduledAt)}\n              </span>\n            )}\n\n            {reminder.lastSentAt && (\n              <span className=\"inline-flex items-center gap-1 text-xs text-white/30\">\n                <Check className=\"w-3 h-3\" />\n                Sent {formatTimeAgo(reminder.lastSentAt)}\n              </span>\n            )}\n\n            {reminder.isPublic && (\n              <span className=\"inline-flex items-center gap-1 text-xs text-green-400\">\n                <Eye className=\"w-3 h-3\" />\n                Public\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// ============================================================================\n// AI Summary Settings Component\n// ============================================================================\n\nfunction AISummarySettings({ isAdmin }: { isAdmin: boolean }) {\n  const settings = useQuery(api.reminders.getAISummarySettings);\n  const updateSettings = useMutation(api.reminders.updateAISummarySettings);\n  const [isEditing, setIsEditing] = useState(false);\n\n  if (!settings) return null;\n\n  const handleToggle = async () => {\n    if (!isAdmin) return;\n    await updateSettings({ isEnabled: !settings.isEnabled });\n  };\n\n  return (\n    <div className=\"mb-6 p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center\">\n            <Bot className=\"w-5 h-5 text-white\" />\n          </div>\n          <div>\n            <h3 className=\"font-medium text-white\">AI Hourly Summary</h3>\n            <p className=\"text-sm text-white/50\">\n              {settings.aiName} sends you a status update every hour\n            </p>\n          </div>\n        </div>\n        {isAdmin && (\n          <button\n            onClick={handleToggle}\n            className={`\n              p-2 rounded-lg transition-colors\n              ${settings.isEnabled\n                ? 'bg-theme-primary text-white'\n                : 'bg-white/10 text-white/40'\n              }\n            `}\n          >\n            <Power className=\"w-5 h-5\" />\n          </button>\n        )}\n      </div>\n\n      {settings.isEnabled && (\n        <div className=\"grid grid-cols-2 gap-3 mt-4\">\n          <div className=\"p-3 rounded-lg bg-white/5\">\n            <div className=\"text-xs text-white/40 mb-1\">Frequency</div>\n            <div className=\"text-sm text-white capitalize\">{settings.frequency}</div>\n          </div>\n          <div className=\"p-3 rounded-lg bg-white/5\">\n            <div className=\"text-xs text-white/40 mb-1\">Tone</div>\n            <div className=\"text-sm text-white capitalize\">{settings.aiTone}</div>\n          </div>\n          {settings.lastSentAt && (\n            <div className=\"col-span-2 p-3 rounded-lg bg-white/5\">\n              <div className=\"text-xs text-white/40 mb-1\">Last sent</div>\n              <div className=\"text-sm text-white\">\n                {formatTimeAgo(settings.lastSentAt)}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {isAdmin && (\n        <div className=\"mt-4 pt-4 border-t border-white/10\">\n          <button\n            onClick={() => setIsEditing(!isEditing)}\n            className=\"text-sm text-theme-primary hover:underline\"\n          >\n            Configure AI Summary Settings\n          </button>\n\n          {isEditing && (\n            <AISettingsForm\n              settings={settings}\n              onSave={async (data) => {\n                await updateSettings(data);\n                setIsEditing(false);\n              }}\n              onCancel={() => setIsEditing(false)}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ============================================================================\n// AI Settings Form\n// ============================================================================\n\nfunction AISettingsForm({\n  settings,\n  onSave,\n  onCancel,\n}: {\n  settings: any;\n  onSave: (data: any) => void;\n  onCancel: () => void;\n}) {\n  const [form, setForm] = useState({\n    recipientEmail: settings.recipientEmail || '',\n    aiName: settings.aiName || 'Claw AI',\n    aiTone: settings.aiTone || 'witty',\n    frequency: settings.frequency || 'hourly',\n    includeKanban: settings.includeKanban ?? true,\n    includeBookings: settings.includeBookings ?? true,\n    includeSuggestions: settings.includeSuggestions ?? true,\n    includeJobs: settings.includeJobs ?? true,\n    includeWeather: settings.includeWeather ?? true,\n  });\n\n  return (\n    <div className=\"mt-4 space-y-4\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-xs text-white/40 mb-1\">AI Name</label>\n          <input\n            type=\"text\"\n            value={form.aiName}\n            onChange={(e) => setForm(prev => ({ ...prev, aiName: e.target.value }))}\n            className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-theme-primary\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs text-white/40 mb-1\">Tone</label>\n          <select\n            value={form.aiTone}\n            onChange={(e) => setForm(prev => ({ ...prev, aiTone: e.target.value }))}\n            className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-theme-primary\"\n          >\n            <option value=\"professional\">Professional</option>\n            <option value=\"casual\">Casual</option>\n            <option value=\"witty\">Witty</option>\n            <option value=\"enthusiastic\">Enthusiastic</option>\n          </select>\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-xs text-white/40 mb-1\">Recipient Email</label>\n        <input\n          type=\"email\"\n          value={form.recipientEmail}\n          onChange={(e) => setForm(prev => ({ ...prev, recipientEmail: e.target.value }))}\n          className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-theme-primary\"\n          placeholder=\"your@email.com\"\n        />\n      </div>\n\n      <div className=\"flex gap-2\">\n        <button\n          onClick={onCancel}\n          className=\"flex-1 py-2 rounded-lg bg-white/5 text-white/60 text-sm hover:bg-white/10 transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          onClick={() => onSave(form)}\n          className=\"flex-1 py-2 rounded-lg bg-theme-primary text-white text-sm hover:opacity-90 transition-opacity\"\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// Main Page\n// ============================================================================\n\nexport default function RemindersPage() {\n  const reminders = useQuery(api.reminders.getReminders);\n  const adminStatus = useQuery(api.reminders.getIsAdmin);\n  const createReminder = useMutation(api.reminders.createReminder);\n  const updateReminder = useMutation(api.reminders.updateReminder);\n  const deleteReminder = useMutation(api.reminders.deleteReminder);\n  const toggleReminder = useMutation(api.reminders.toggleReminderActive);\n\n  const [showForm, setShowForm] = useState(false);\n  const [editingReminder, setEditingReminder] = useState<Reminder | null>(null);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const isAdmin = adminStatus?.isAdmin ?? false;\n\n  const handleCreateReminder = async (data: ReminderFormData) => {\n    await createReminder({\n      title: data.title,\n      message: data.message,\n      scheduleType: data.scheduleType,\n      hour: data.scheduleType !== 'hourly' ? data.hour : undefined,\n      minute: data.minute,\n      dayOfWeek: data.scheduleType === 'weekly' ? data.dayOfWeek : undefined,\n      dayOfMonth: data.scheduleType === 'monthly' ? data.dayOfMonth : undefined,\n      timezone: data.timezone,\n      scheduledAt: data.scheduleType === 'once' ? new Date(data.scheduledAt).getTime() : undefined,\n      recipientEmail: data.recipientEmail,\n      isPublic: data.isPublic,\n      isActive: data.isActive,\n    });\n    setShowForm(false);\n  };\n\n  const handleUpdateReminder = async (data: ReminderFormData) => {\n    if (!editingReminder) return;\n    await updateReminder({\n      reminderId: editingReminder.reminderId,\n      title: data.title,\n      message: data.message,\n      scheduleType: data.scheduleType,\n      hour: data.scheduleType !== 'hourly' ? data.hour : undefined,\n      minute: data.minute,\n      dayOfWeek: data.scheduleType === 'weekly' ? data.dayOfWeek : undefined,\n      dayOfMonth: data.scheduleType === 'monthly' ? data.dayOfMonth : undefined,\n      timezone: data.timezone,\n      scheduledAt: data.scheduleType === 'once' ? new Date(data.scheduledAt).getTime() : undefined,\n      recipientEmail: data.recipientEmail,\n      isPublic: data.isPublic,\n      isActive: data.isActive,\n    });\n    setEditingReminder(null);\n  };\n\n  const handleDeleteReminder = async (reminderId: string) => {\n    if (!confirm('Are you sure you want to delete this reminder?')) return;\n    await deleteReminder({ reminderId });\n  };\n\n  const handleToggleReminder = async (reminderId: string) => {\n    await toggleReminder({ reminderId });\n  };\n\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-zinc-950\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10\">\n          <div className=\"max-w-lg mx-auto px-4 py-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href=\"/\"\n                className=\"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-theme-primary\"\n                aria-label=\"Go back home\"\n              >\n                <ChevronLeft className=\"w-5 h-5 text-white\" />\n              </Link>\n              <h1 className=\"text-xl font-semibold text-white\">Reminders</h1>\n            </div>\n            {isAdmin && (\n              <button\n                onClick={() => setShowForm(true)}\n                className=\"p-2 rounded-lg bg-theme-primary text-white hover:opacity-90 transition-opacity\"\n                aria-label=\"Add reminder\"\n              >\n                <Plus className=\"w-5 h-5\" />\n              </button>\n            )}\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <main className=\"max-w-lg mx-auto px-4 py-6\">\n          {/* AI Summary Settings */}\n          <AISummarySettings isAdmin={isAdmin} />\n\n          {/* Admin notice */}\n          {!isAdmin && (\n            <div className=\"mb-6 p-4 rounded-xl bg-blue-500/10 border border-blue-500/20 flex items-start gap-3\">\n              <AlertCircle className=\"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-blue-400\">\n                  You're viewing public reminders. Sign in as admin to create and manage reminders.\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Reminders list */}\n          <div className=\"space-y-3\">\n            <AnimatePresence mode=\"popLayout\">\n              {reminders?.map((reminder) => (\n                <ReminderCard\n                  key={reminder.reminderId}\n                  reminder={reminder as Reminder}\n                  isAdmin={isAdmin}\n                  onEdit={() => setEditingReminder(reminder as Reminder)}\n                  onDelete={() => handleDeleteReminder(reminder.reminderId)}\n                  onToggle={() => handleToggleReminder(reminder.reminderId)}\n                />\n              ))}\n            </AnimatePresence>\n\n            {reminders?.length === 0 && (\n              <div className=\"text-center py-12\">\n                <Bell className=\"w-12 h-12 text-white/20 mx-auto mb-4\" />\n                <p className=\"text-white/40\">No reminders yet</p>\n                {isAdmin && (\n                  <button\n                    onClick={() => setShowForm(true)}\n                    className=\"mt-4 text-theme-primary hover:underline\"\n                  >\n                    Create your first reminder\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n        </main>\n\n        {/* Create/Edit Form Modal */}\n        <AnimatePresence>\n          {(showForm || editingReminder) && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm\"\n              onClick={() => {\n                setShowForm(false);\n                setEditingReminder(null);\n              }}\n            >\n              <motion.div\n                initial={{ y: '100%' }}\n                animate={{ y: 0 }}\n                exit={{ y: '100%' }}\n                transition={{ type: 'spring', damping: 30, stiffness: 300 }}\n                onClick={(e) => e.stopPropagation()}\n                className=\"absolute bottom-0 left-0 right-0 max-h-[90vh] bg-zinc-900 rounded-t-3xl overflow-hidden\"\n              >\n                {/* Modal Header */}\n                <div className=\"sticky top-0 z-10 flex items-center justify-between px-6 py-4 bg-zinc-900 border-b border-white/10\">\n                  <button\n                    onClick={() => {\n                      setShowForm(false);\n                      setEditingReminder(null);\n                    }}\n                    className=\"p-2 -ml-2 text-white/60 hover:text-white transition-colors\"\n                    aria-label=\"Close\"\n                  >\n                    <X className=\"w-5 h-5\" />\n                  </button>\n                  <h2 className=\"text-lg font-semibold text-white\">\n                    {editingReminder ? 'Edit Reminder' : 'New Reminder'}\n                  </h2>\n                  <div className=\"w-9\" />\n                </div>\n\n                {/* Form Content */}\n                <div className=\"overflow-y-auto p-6\">\n                  <ReminderForm\n                    initialData={editingReminder ? {\n                      title: editingReminder.title,\n                      message: editingReminder.message,\n                      scheduleType: editingReminder.scheduleType,\n                      hour: editingReminder.hour,\n                      minute: editingReminder.minute,\n                      dayOfWeek: editingReminder.dayOfWeek,\n                      dayOfMonth: editingReminder.dayOfMonth,\n                      timezone: editingReminder.timezone,\n                      scheduledAt: editingReminder.scheduledAt\n                        ? new Date(editingReminder.scheduledAt).toISOString().slice(0, 16)\n                        : '',\n                      recipientEmail: editingReminder.recipientEmail || '',\n                      isPublic: editingReminder.isPublic,\n                      isActive: editingReminder.isActive,\n                    } : undefined}\n                    onSubmit={editingReminder ? handleUpdateReminder : handleCreateReminder}\n                    onCancel={() => {\n                      setShowForm(false);\n                      setEditingReminder(null);\n                    }}\n                  />\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </PageTransition>\n  );\n}\n"],"names":[],"mappings":"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"}