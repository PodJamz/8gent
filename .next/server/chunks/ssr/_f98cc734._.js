module.exports=[670537,a=>{"use strict";var b=Object.defineProperty;class c{constructor(){((a,c,d)=>{let e;return(e="symbol"!=typeof c?c+"":c)in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[e]=d})(this,"_listeners")}addEventListener(a,b){void 0===this._listeners&&(this._listeners={});let c=this._listeners;void 0===c[a]&&(c[a]=[]),-1===c[a].indexOf(b)&&c[a].push(b)}hasEventListener(a,b){if(void 0===this._listeners)return!1;let c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)}removeEventListener(a,b){if(void 0===this._listeners)return;let c=this._listeners[a];if(void 0!==c){let a=c.indexOf(b);-1!==a&&c.splice(a,1)}}dispatchEvent(a){if(void 0===this._listeners)return;let b=this._listeners[a.type];if(void 0!==b){a.target=this;let c=b.slice(0);for(let b=0,d=c.length;b<d;b++)c[b].call(this,a);a.target=null}}}a.s(["EventDispatcher",()=>c])},212637,a=>{"use strict";function b(){return(b=Object.assign.bind()).apply(null,arguments)}a.s(["default",()=>b])},532572,a=>{"use strict";var b=a.i(863050),c=a.i(835572),d=a.i(572423),e=a.i(235871);let f=a=>a===Object(a)&&!Array.isArray(a)&&"function"!=typeof a;function g(a,g){let h=(0,d.useThree)(a=>a.gl),i=(0,e.useLoader)(c.TextureLoader,f(a)?Object.values(a):a);return(0,b.useLayoutEffect)(()=>{null==g||g(i)},[g]),(0,b.useEffect)(()=>{if("initTexture"in h){let a=[];Array.isArray(i)?a=i:i instanceof c.Texture?a=[i]:f(i)&&(a=Object.values(i)),a.forEach(a=>{a instanceof c.Texture&&h.initTexture(a)})}},[h,i]),(0,b.useMemo)(()=>{if(!f(a))return i;{let b={},c=0;for(let d in a)b[d]=i[c++];return b}},[a,i])}g.preload=a=>e.useLoader.preload(c.TextureLoader,a),g.clear=a=>e.useLoader.clear(c.TextureLoader,a),a.s(["useTexture",()=>g])},327723,a=>{"use strict";var b=a.i(499969),c=a.i(863050),d=a.i(926725),e=a.i(75812),f=a.i(532572),g=a.i(935194),h=a.i(829785),i=a.i(835572),j=a.i(233379);let k=[{rotation:[0,0,0],normal:[0,0,1],name:"front"},{rotation:[0,Math.PI,0],normal:[0,0,-1],name:"back"},{rotation:[0,Math.PI/2,0],normal:[1,0,0],name:"right"},{rotation:[0,-Math.PI/2,0],normal:[-1,0,0],name:"left"},{rotation:[-Math.PI/2,0,0],normal:[0,1,0],name:"top"},{rotation:[Math.PI/2,0,0],normal:[0,-1,0],name:"bottom"}];function l({image:a,faceConfig:d,size:h,index:k,isHovered:l,isActive:m,onHover:n,onClick:o,audioData:p}){let q=(0,c.useRef)(null),r=(0,c.useRef)(null),s=(0,f.useTexture)(a.src),[t,u]=(0,c.useState)(0),v=(0,c.useMemo)(()=>{let[a,b,c]=d.normal,e=h/2+t;return new i.Vector3(a*e,b*e,c*e)},[d.normal,h,t]);(0,e.useFrame)((a,b)=>{let c=l?.3:.15*!!m;if(p?.enabled){let a=[p.bass,p.lowMid,p.mid,p.highMid,p.treble,p.energy][k%6]||0;c+=.2*a,p.isBeat&&(c+=.15*p.beatIntensity)}if(u(a=>(0,j.lerp)(a,c,8*b)),q.current&&p?.enabled&&q.current.material instanceof i.MeshStandardMaterial){let b=(.1*a.clock.elapsedTime+.1*k)%1;q.current.material.emissive.setHSL(b,.8,.3),q.current.material.emissiveIntensity=.4*p.energy}r.current&&p?.enabled&&r.current.material instanceof i.MeshBasicMaterial&&(r.current.material.opacity=.3+.5*p.beatIntensity)});let w=s.image?s.image.width/s.image.height:1,x=.9*h,y=w>1?x:x*w,z=w>1?x/w:x;return(0,b.jsxs)("group",{position:v,rotation:d.rotation,children:[(0,b.jsxs)("mesh",{ref:q,onPointerEnter:()=>n(k),onPointerLeave:()=>n(null),onClick:o,children:[(0,b.jsx)("planeGeometry",{args:[y,z]}),(0,b.jsx)("meshStandardMaterial",{map:s,transparent:!0,opacity:l?1:.9,emissive:m?"#4f46e5":"#000000",emissiveIntensity:.15*!!m})]}),(l||p?.enabled)&&(0,b.jsxs)("mesh",{ref:r,position:[0,0,-.01],children:[(0,b.jsx)("planeGeometry",{args:[y+.1,z+.1]}),(0,b.jsx)("meshBasicMaterial",{color:p?.enabled?`hsl(${260+60*(p.mid||0)}, 80%, 50%)`:"#4f46e5",transparent:!0,opacity:l?.5:.3})]}),l&&a.alt&&(0,b.jsx)(g.Html,{center:!0,position:[0,-z/2-.3,.1],children:(0,b.jsx)("div",{className:"bg-indigo-600 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap shadow-lg",children:a.alt})})]})}function m({images:a,size:d,autoRotate:f,rotationSpeed:m,onImageClick:o,audioData:p}){let q=(0,c.useRef)(null),r=(0,c.useRef)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),w=(0,c.useRef)({x:0,y:0});return(0,e.useFrame)((a,b)=>{if(q.current&&f&&null===s){let a=m;p?.enabled&&(a*=1+2*p.energy,p.isBeat&&(w.current.x+=(Math.random()-.5)*.1*p.beatIntensity)),w.current.y+=a*b}if(q.current&&(q.current.rotation.x=(0,j.lerp)(q.current.rotation.x,w.current.x,3*b),q.current.rotation.y=(0,j.lerp)(q.current.rotation.y,w.current.y,3*b)),r.current&&p?.enabled){let b=.2*d*(1+.8*p.bass);if(r.current.scale.setScalar(b/(.2*d)),r.current.material instanceof i.MeshBasicMaterial){let b=(.1*a.clock.elapsedTime+p.mid)%1;r.current.material.color.setHSL(b,.8,.5),r.current.material.opacity=.2+.5*p.energy}}}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("ambientLight",{intensity:p?.enabled?.4+.3*p.energy:.5}),(0,b.jsx)("pointLight",{position:[10,10,10],intensity:p?.enabled?.8+.5*p.treble:1,color:p?.enabled?`hsl(${240+60*p.mid}, 80%, 70%)`:"#ffffff"}),(0,b.jsx)("pointLight",{position:[-10,-10,-10],intensity:p?.enabled?.4+.4*p.bass:.5,color:"#4f46e5"}),(0,b.jsx)("spotLight",{position:[0,10,0],angle:.5,penumbra:1,intensity:p?.enabled?.6+.4*p.mid:.8,castShadow:!0}),(0,b.jsxs)("group",{ref:q,children:[(0,b.jsxs)("mesh",{children:[(0,b.jsx)("boxGeometry",{args:[d,d,d]}),(0,b.jsx)("meshBasicMaterial",{color:p?.enabled?`hsl(${260+40*p.mid}, 60%, 40%)`:"#334155",wireframe:!0,transparent:!0,opacity:p?.enabled?.3+.3*p.energy:.3})]}),k.map((c,e)=>{let f=a[e%a.length];return(0,b.jsx)(l,{image:f,faceConfig:c,size:d,index:e,isHovered:s===e,isActive:u===e,onHover:t,onClick:()=>{v(u===e?null:e),o?.(f,e)},audioData:p},c.name)}),(0,b.jsxs)("mesh",{ref:r,children:[(0,b.jsx)("sphereGeometry",{args:[.2*d,32,32]}),(0,b.jsx)("meshBasicMaterial",{color:"#4f46e5",transparent:!0,opacity:.1})]})]}),(0,b.jsx)(n,{size:d,audioData:p}),(0,b.jsx)(h.OrbitControls,{enablePan:!1,enableZoom:!0,minDistance:1.5*d,maxDistance:5*d,autoRotate:f&&null===s,autoRotateSpeed:p?.enabled?2*m*(1+p.energy):2*m}),(0,b.jsx)(g.Html,{position:[0,-d-1,0],center:!0,children:(0,b.jsx)("div",{className:"flex gap-2",children:["front","back","left","right","top","bottom"].map(a=>(0,b.jsx)("button",{onClick:()=>(a=>{let b=k.findIndex(b=>b.name===a);if(-1===b)return;let[c,d,e]=k[b].normal;w.current.x=0!==d?d>0?Math.PI/2:-Math.PI/2:0,w.current.y=0!==e?e>0?0:Math.PI:c>0?-Math.PI/2:Math.PI/2})(a),className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white text-xs rounded-lg backdrop-blur-sm transition-colors capitalize",children:a},a))})})]})}function n({size:a,audioData:d}){let f=(0,c.useRef)(null),[g,h]=(0,c.useMemo)(()=>{let b=new Float32Array(600),c=new Float32Array(600);for(let d=0;d<200;d++){let e=Math.floor(8*Math.random()),f=((1&e)-.5)*a,g=((e>>1&1)-.5)*a,h=((e>>2&1)-.5)*a;b[3*d]=f+(Math.random()-.5)*a*.3,b[3*d+1]=g+(Math.random()-.5)*a*.3,b[3*d+2]=h+(Math.random()-.5)*a*.3;let i=Math.random();c[3*d]=(0,j.lerp)(.31,.02,i),c[3*d+1]=(0,j.lerp)(.27,.71,i),c[3*d+2]=(0,j.lerp)(.9,.83,i)}return[b,c]},[a]);return(0,e.useFrame)(a=>{if(f.current){let b=.05*a.clock.elapsedTime;d?.enabled&&(b*=1+2*d.energy,f.current.material instanceof i.PointsMaterial&&(f.current.material.size=.05+.08*d.beatIntensity,f.current.material.opacity=.6+.3*d.energy)),f.current.rotation.y=b}}),(0,b.jsxs)("points",{ref:f,children:[(0,b.jsxs)("bufferGeometry",{children:[(0,b.jsx)("bufferAttribute",{attach:"attributes-position",args:[g,3]}),(0,b.jsx)("bufferAttribute",{attach:"attributes-color",args:[h,3]})]}),(0,b.jsx)("pointsMaterial",{size:.05,transparent:!0,opacity:.6,vertexColors:!0,sizeAttenuation:!0})]})}function o({images:a}){let[d,e]=(0,c.useState)(0);return(0,b.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 to-indigo-950 p-8",children:[(0,b.jsx)("div",{className:"relative w-64 h-64 perspective-1000",children:(0,b.jsx)("img",{src:a[d%a.length].src,alt:a[d%a.length].alt||"",className:"w-full h-full object-cover rounded-xl shadow-2xl"})}),(0,b.jsx)("div",{className:"flex gap-2 mt-6",children:Array.from({length:Math.min(6,a.length)}).map((a,c)=>(0,b.jsx)("button",{onClick:()=>e(c),className:`w-3 h-3 rounded-full transition-all ${c===d?"bg-indigo-500 scale-125":"bg-white/30"}`},c))}),(0,b.jsx)("p",{className:"text-slate-400 mt-4 text-sm",children:"WebGL not supported"})]})}function p({images:a,className:e="w-full h-[600px]",size:f=3,autoRotate:g=!0,rotationSpeed:h=.3,onImageClick:i,audioData:j}){let[k,l]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{try{let a=document.createElement("canvas");a.getContext("webgl")||a.getContext("experimental-webgl")||l(!1)}catch{l(!1)}},[]),k)?(0,b.jsx)("div",{className:e,children:(0,b.jsx)(d.Canvas,{camera:{position:[0,0,3*f],fov:50},gl:{antialias:!0,alpha:!0},style:{background:"linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%)"},children:(0,b.jsx)(m,{images:a,size:f,autoRotate:g,rotationSpeed:h,onImageClick:i,audioData:j})})}):(0,b.jsx)("div",{className:e,children:(0,b.jsx)(o,{images:a})})}a.s(["default",()=>p])}];

//# sourceMappingURL=_f98cc734._.js.map