module.exports=[918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},666680,(e,t,r)=>{t.exports=e.x("node:crypto",()=>require("node:crypto"))},488782,e=>{"use strict";class t{constructor(e){}query(e,t){return Promise.resolve(null)}mutation(e,t){return Promise.resolve(null)}}e.s(["ConvexHttpClient",()=>t,"api",0,{jobs:{getAgentJobs:"jobs:getAgentJobs",cancelJob:"jobs:cancelJob",getJob:"jobs:getJob",queueCodeIteration:"jobs:queueCodeIteration",queueSpecialistDelegation:"jobs:queueSpecialistDelegation",queueAgentTask:"jobs:queueAgentTask",updateJobStatusPublic:"jobs:updateJobStatusPublic",logJobEventPublic:"jobs:logJobEventPublic"},aiSettings:{getSettings:"aiSettings:getSettings"},erv:{createEntity:"erv:createEntity",createRelationship:"erv:createRelationship",createDimension:"erv:createDimension",listDimensions:"erv:listDimensions",searchEntities:"erv:searchEntities",getEntity:"erv:getEntity"},jamz:{createProject:"jamz:createProject",createTrack:"jamz:createTrack",createClip:"jamz:createClip"},messages:{send:"messages:send"},whatsappContacts:{list:"whatsappContacts:list",getContactByPhone:"whatsappContacts:getContactByPhone",listContacts:"whatsappContacts:listContacts",upsertContact:"whatsappContacts:upsertContact"},channels:{list:"channels:list",getChannel:"channels:getChannel",sendMessage:"channels:sendMessage",getUserMessages:"channels:getUserMessages",getUserIntegrations:"channels:getUserIntegrations",getConversations:"channels:getConversations",getIntegration:"channels:getIntegration",logOutboundMessage:"channels:logOutboundMessage",searchMessages:"channels:searchMessages"},scheduling:{list:"scheduling:list",createEvent:"scheduling:createEvent",getEventTypes:"scheduling:getEventTypes",getAvailableSlots:"scheduling:getAvailableSlots",createBooking:"scheduling:createBooking",rescheduleBooking:"scheduling:rescheduleBooking",updateBookingStatus:"scheduling:updateBookingStatus"},userCronJobs:{list:"userCronJobs:list",create:"userCronJobs:create",delete:"userCronJobs:delete",createJob:"userCronJobs:createJob",getUserJobs:"userCronJobs:getUserJobs",toggleJob:"userCronJobs:toggleJob",deleteJob:"userCronJobs:deleteJob"},compaction:{compact:"compaction:compact",getLatestCompaction:"compaction:getLatestCompaction"},kanban:{listLists:"kanban:listLists",createCard:"kanban:createCard",moveCard:"kanban:moveCard",getTaskById:"kanban:getTaskById",searchTasks:"kanban:searchTasks",getTasks:"kanban:getTasks",isSeeded:"kanban:isSeeded",addTask:"kanban:addTask",updateTask:"kanban:updateTask",deleteTask:"kanban:deleteTask",moveTask:"kanban:moveTask",seedTasks:"kanban:seedTasks"},designCanvas:{getCanvas:"designCanvas:getCanvas",updateCanvas:"designCanvas:updateCanvas",createItem:"designCanvas:createItem",createCanvas:"designCanvas:createCanvas",getUserCanvases:"designCanvas:getUserCanvases",getCanvasNodes:"designCanvas:getCanvasNodes",getCanvasEdges:"designCanvas:getCanvasEdges",addNode:"designCanvas:addNode",addEdge:"designCanvas:addEdge",updateNode:"designCanvas:updateNode"},agentic:{createProductProject:"agentic:createProductProject",createPRD:"agentic:createPRD",createEpic:"agentic:createEpic",createTicket:"agentic:createTicket"},discovery:{getSession:"discovery:getSession",storeInsights:"discovery:storeInsights",storeArtifacts:"discovery:storeArtifacts",markNotificationSent:"discovery:markNotificationSent",markError:"discovery:markError",getSessionByCallerId:"discovery:getSessionByCallerId",updateTranscript:"discovery:updateTranscript"},memories:{searchEpisodic:"memories:searchEpisodic",getSemanticByCategories:"memories:getSemanticByCategories",getAllSemantic:"memories:getAllSemantic",getRecentEpisodic:"memories:getRecentEpisodic",storeEpisodic:"memories:storeEpisodic",upsertSemantic:"memories:upsertSemantic",deleteEpisodic:"memories:deleteEpisodic",deleteSemantic:"memories:deleteSemantic",getMemoryStats:"memories:getMemoryStats"},observability:{getSecurityScans:"observability:getSecurityScans",createSecurityScan:"observability:createSecurityScan",getActivityStream:"observability:getActivityStream",getDashboardOverview:"observability:getDashboardOverview",getProviderHealthStatus:"observability:getProviderHealthStatus",logOperation:"observability:logOperation"},roadmap:{submitSuggestion:"roadmap:submitSuggestion",getSuggestions:"roadmap:getSuggestions",updateSuggestionStatus:"roadmap:updateSuggestionStatus",voteSuggestion:"roadmap:voteSuggestion"}}])},974103,e=>{"use strict";var t=e.i(457375),r=e.i(174015),a=e.i(116384),s=e.i(63831),n=e.i(868001),i=e.i(842780),o=e.i(763077),d=e.i(502964),l=e.i(993216),c=e.i(783900),u=e.i(295731),p=e.i(726839),g=e.i(775778),m=e.i(40992),v=e.i(432128),h=e.i(193695);e.i(44807);var b=e.i(989978),C=e.i(39334),y=e.i(488782),x=e.i(872403);function E(){let e=process.env.NEXT_PUBLIC_CONVEX_URL;if(!e)throw Error("NEXT_PUBLIC_CONVEX_URL not configured");return new y.ConvexHttpClient(e)}function f(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,e=>t[e]||e)}async function R(e){try{let t,r;if(t=e.headers.get("authorization"),r=process.env.CRON_SECRET,t!==`Bearer ${r}`&&1)return C.NextResponse.json({error:"Unauthorized"},{status:401});let a=process.env.RESEND_API_KEY;if(!a)return console.warn("RESEND_API_KEY not configured - skipping reminders"),C.NextResponse.json({success:!0,skipped:!0,reason:"Email service not configured"});let s=await E().query(y.api.reminders.getDueReminders);if(0===s.length)return C.NextResponse.json({success:!0,processed:0,message:"No reminders due"});let n=new x.Resend(a),i=[];for(let e of s)try{let t=function(e){let t=f(e.message),r=f(e.title),a=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>");return`
    <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; color: #374151;">
      <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); padding: 20px; border-radius: 12px 12px 0 0; color: white;">
        <h2 style="margin: 0; font-size: 18px;">${r}</h2>
        <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 14px;">Reminder from 8gent</p>
      </div>
      <div style="background: #fffbeb; padding: 24px; border-radius: 0 0 12px 12px; border: 1px solid #fcd34d; border-top: none;">
        <div style="font-size: 15px; line-height: 1.6;">
          ${a}
        </div>
      </div>
      <p style="text-align: center; color: #9ca3af; font-size: 12px; margin-top: 16px;">
        Sent from 8gent Reminders
      </p>
    </div>
  `}({title:e.title,message:e.message}),{data:r,error:a}=await n.emails.send({from:"8gent Reminders <noreply@ai.openclaw.io>",to:[e.recipientEmail],subject:`Reminder: ${e.title}`,html:t,text:`${e.title}

${e.message}`});a?(console.error(`Failed to send reminder ${e.reminderId}:`,a),i.push({reminderId:e.reminderId,status:"failed",error:a.message}),await E().mutation(y.api.reminders.markReminderSent,{reminderId:e.reminderId,status:"failed",error:a.message})):(i.push({reminderId:e.reminderId,status:"sent",emailId:r?.id}),await E().mutation(y.api.reminders.markReminderSent,{reminderId:e.reminderId,status:"sent",emailId:r?.id}))}catch(r){let t=r instanceof Error?r.message:"Unknown error";console.error(`Error processing reminder ${e.reminderId}:`,r),i.push({reminderId:e.reminderId,status:"failed",error:t}),await E().mutation(y.api.reminders.markReminderSent,{reminderId:e.reminderId,status:"failed",error:t})}let o=i.filter(e=>"sent"===e.status).length,d=i.filter(e=>"failed"===e.status).length;return C.NextResponse.json({success:!0,processed:i.length,sent:o,failed:d,results:i})}catch(e){return console.error("Reminders cron error:",e),C.NextResponse.json({error:"Internal server error"},{status:500})}}async function S(e){return R(e)}e.s(["GET",()=>R,"POST",()=>S],382773);var k=e.i(382773);let w=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/cron/reminders/route",pathname:"/api/cron/reminders",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/cron/reminders/route.ts",nextConfigOutput:"",userland:k}),{workAsyncStorage:T,workUnitAsyncStorage:I,serverHooks:P}=w;function N(){return(0,a.patchFetch)({workAsyncStorage:T,workUnitAsyncStorage:I})}async function A(e,t,a){w.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let C="/api/cron/reminders/route";C=C.replace(/\/index$/,"")||"/";let y=await w.prepare(e,t,{srcPage:C,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:x,params:E,nextConfig:f,parsedUrl:R,isDraftMode:S,prerenderManifest:k,routerServerContext:T,isOnDemandRevalidate:I,revalidateOnlyGenerated:P,resolvedPathname:N,clientReferenceManifest:A,serverActionsManifest:j}=y,O=(0,o.normalizeAppPath)(C),U=!!(k.dynamicRoutes[O]||k.routes[N]),_=async()=>((null==T?void 0:T.render404)?await T.render404(e,t,R,!1):t.end("This page could not be found"),null);if(U&&!S){let e=!!k.routes[N],t=k.dynamicRoutes[O];if(t&&!1===t.fallback&&!e){if(f.experimental.adapterPath)return await _();throw new h.NoFallbackError}}let q=null;!U||w.isDev||S||(q="/index"===(q=N)?"/":q);let D=!0===w.isDev||!U,J=U&&!D;j&&A&&(0,i.setManifestsSingleton)({page:C,clientReferenceManifest:A,serverActionsManifest:j});let B=e.method||"GET",M=(0,n.getTracer)(),H=M.getActiveScopeSpan(),$={params:E,prerenderManifest:k,renderOpts:{experimental:{authInterrupts:!!f.experimental.authInterrupts},cacheComponents:!!f.cacheComponents,supportsDynamicResponse:D,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:f.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a,s)=>w.onRequestError(e,t,a,s,T)},sharedContext:{buildId:x}},L=new d.NodeNextRequest(e),z=new d.NodeNextResponse(t),F=l.NextRequestAdapter.fromNodeNextRequest(L,(0,l.signalFromNodeResponse)(t));try{let i=async e=>w.handle(F,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=M.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${B} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${B} ${C}`)}),o=!!(0,s.getRequestMeta)(e,"minimalMode"),d=async s=>{var n,d;let l=async({previousCacheEntry:r})=>{try{if(!o&&I&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await i(s);e.fetchMetrics=$.renderOpts.fetchMetrics;let d=$.renderOpts.pendingWaitUntil;d&&a.waitUntil&&(a.waitUntil(d),d=void 0);let l=$.renderOpts.collectedTags;if(!U)return await (0,p.sendResponse)(L,z,n,$.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(n.headers);l&&(t[v.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=v.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,a=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=v.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:b.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await w.onRequestError(e,t,{routerKind:"App Router",routePath:C,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:J,isOnDemandRevalidate:I})},!1,T),t}},c=await w.handleResponse({req:e,nextConfig:f,cacheKey:q,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:k,isRoutePPREnabled:!1,isOnDemandRevalidate:I,revalidateOnlyGenerated:P,responseGenerator:l,waitUntil:a.waitUntil,isMinimalMode:o});if(!U)return null;if((null==c||null==(n=c.value)?void 0:n.kind)!==b.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(d=c.value)?void 0:d.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||t.setHeader("x-nextjs-cache",I?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),S&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let h=(0,g.fromNodeOutgoingHttpHeaders)(c.value.headers);return o&&U||h.delete(v.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||h.get("Cache-Control")||h.set("Cache-Control",(0,m.getCacheControlHeader)(c.cacheControl)),await (0,p.sendResponse)(L,z,new Response(c.value.body,{headers:h,status:c.value.status||200})),null};H?await d(H):await M.withPropagatedContext(e.headers,()=>M.trace(c.BaseServerSpan.handleRequest,{spanName:`${B} ${C}`,kind:n.SpanKind.SERVER,attributes:{"http.method":B,"http.target":e.url}},d))}catch(t){if(t instanceof h.NoFallbackError||await w.onRequestError(e,t,{routerKind:"App Router",routePath:O,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:J,isOnDemandRevalidate:I})},!1,T),U)throw t;return await (0,p.sendResponse)(L,z,new Response(null,{status:500})),null}}e.s(["handler",()=>A,"patchFetch",()=>N,"routeModule",()=>w,"serverHooks",()=>P,"workAsyncStorage",()=>T,"workUnitAsyncStorage",()=>I],974103)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__bb82ff43._.js.map