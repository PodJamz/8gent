module.exports=[515245,e=>{"use strict";var n,a,t,i,r,s,o,m,d=e.i(457375),l=e.i(174015),c=e.i(116384),u=e.i(63831),T=e.i(868001),p=e.i(842780),k=e.i(763077),f=e.i(502964),_=e.i(993216),g=e.i(783900),h=e.i(295731),y=e.i(726839),E=e.i(775778),S=e.i(40992),b=e.i(432128),I=e.i(193695);e.i(44807);var N=e.i(989978);function v(e,n){if(!e)throw Error(n)}function A(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>0x7fffffff||e<-0x80000000)throw Error("invalid int 32: "+e)}function w(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>0xffffffff||e<0)throw Error("invalid uint 32: "+e)}function O(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}let R=Symbol("@bufbuild/protobuf/enum-type");function P(e,n,a,t){e[R]=U(n,a.map(n=>({no:n.no,name:n.name,localName:e[n.no]})),t)}function U(e,n,a){let t=Object.create(null),i=Object.create(null),r=[];for(let e of n){let n=D(e);r.push(n),t[e.name]=n,i[e.no]=n}return{typeName:e,values:r,findName:e=>t[e],findNumber:e=>i[e]}}function D(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class L{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){let a=this.getType().runtime.bin,t=a.makeReadOptions(n);return a.readMessage(this,t.readerFactory(e),e.byteLength,t),this}fromJson(e,n){let a=this.getType(),t=a.runtime.json,i=t.makeReadOptions(n);return t.readMessage(a,e,i,this),this}fromJsonString(e,n){let a;try{a=JSON.parse(e)}catch(e){throw Error(`cannot decode ${this.getType().typeName} from JSON: ${e instanceof Error?e.message:String(e)}`)}return this.fromJson(a,n)}toBinary(e){let n=this.getType().runtime.bin,a=n.makeWriteOptions(e),t=a.writerFactory();return n.writeMessage(this,t,a),t.finish()}toJson(e){let n=this.getType().runtime.json,a=n.makeWriteOptions(e);return n.writeMessage(this,a)}toJsonString(e){var n;return JSON.stringify(this.toJson(e),null,null!=(n=null==e?void 0:e.prettySpaces)?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function M(){let e=0,n=0;for(let a=0;a<28;a+=7){let t=this.buf[this.pos++];if(e|=(127&t)<<a,(128&t)==0)return this.assertBounds(),[e,n]}let a=this.buf[this.pos++];if(e|=(15&a)<<28,n=(112&a)>>4,(128&a)==0)return this.assertBounds(),[e,n];for(let a=3;a<=31;a+=7){let t=this.buf[this.pos++];if(n|=(127&t)<<a,(128&t)==0)return this.assertBounds(),[e,n]}throw Error("invalid varint")}function C(e,n,a){for(let t=0;t<28;t+=7){let i=e>>>t,r=i>>>7!=0||0!=n,s=(r?128|i:i)&255;if(a.push(s),!r)return}let t=e>>>28&15|(7&n)<<4,i=n>>3!=0;if(a.push((i?128|t:t)&255),i){for(let e=3;e<31;e+=7){let t=n>>>e,i=t>>>7!=0,r=(i?128|t:t)&255;if(a.push(r),!i)return}a.push(n>>>31&1)}}function F(e){let n="-"===e[0];n&&(e=e.slice(1));let a=0,t=0;function i(n,i){let r=Number(e.slice(n,i));t*=1e6,(a=1e6*a+r)>=0x100000000&&(t+=a/0x100000000|0,a%=0x100000000)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),n?x(a,t):H(a,t)}function B(e,n){if({lo:e,hi:n}={lo:e>>>0,hi:n>>>0},n<=2097151)return String(0x100000000*n+e);let a=0xffffff&e,t=(e>>>24|n<<8)&0xffffff,i=n>>16&65535,r=a+6777216*t+6710656*i,s=t+8147497*i,o=2*i;return r>=1e7&&(s+=Math.floor(r/1e7),r%=1e7),s>=1e7&&(o+=Math.floor(s/1e7),s%=1e7),o.toString()+$(s)+$(r)}function H(e,n){return{lo:0|e,hi:0|n}}function x(e,n){return n=~n,e?e=~e+1:n+=1,H(e,n)}let $=e=>{let n=String(e);return"0000000".slice(n.length)+n};function J(e,n){if(e>=0){for(;e>127;)n.push(127&e|128),e>>>=7;n.push(e)}else{for(let a=0;a<9;a++)n.push(127&e|128),e>>=7;n.push(1)}}function K(){let e=this.buf[this.pos++],n=127&e;if((128&e)==0||(n|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(n|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(n|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),n;n|=(15&(e=this.buf[this.pos++]))<<28;for(let n=5;(128&e)!=0&&n<10;n++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),n>>>0}let j=function(){let e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){let n=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),t=BigInt("0"),i=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){let t="bigint"==typeof e?e:BigInt(e);if(t>a||t<n)throw Error(`int64 invalid: ${e}`);return t},uParse(e){let n="bigint"==typeof e?e:BigInt(e);if(n>i||n<t)throw Error(`uint64 invalid: ${e}`);return n},enc(n){return e.setBigInt64(0,this.parse(n),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(n){return e.setBigInt64(0,this.uParse(n),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(n,a)=>(e.setInt32(0,n,!0),e.setInt32(4,a,!0),e.getBigInt64(0,!0)),uDec:(n,a)=>(e.setInt32(0,n,!0),e.setInt32(4,a,!0),e.getBigUint64(0,!0))}}let n=e=>v(/^-?[0-9]+$/.test(e),`int64 invalid: ${e}`),a=e=>v(/^[0-9]+$/.test(e),`uint64 invalid: ${e}`);return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),a(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),n(e),F(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),a(e),F(e)),dec:(e,n)=>{let a,t,i;return(t=0x80000000&(a=H(e,n)).hi)&&(a=x(a.lo,a.hi)),i=B(a.lo,a.hi),t?"-"+i:i},uDec:(e,n)=>B(e,n)}}();function V(e,n,a){if(n===a)return!0;if(e==s.BYTES){if(!(n instanceof Uint8Array)||!(a instanceof Uint8Array)||n.length!==a.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==a[e])return!1;return!0}switch(e){case s.UINT64:case s.FIXED64:case s.INT64:case s.SFIXED64:case s.SINT64:return n==a}return!1}function G(e,n){switch(e){case s.BOOL:return!1;case s.UINT64:case s.FIXED64:case s.INT64:case s.SFIXED64:case s.SINT64:return 0==n?j.zero:"0";case s.DOUBLE:case s.FLOAT:return 0;case s.BYTES:return new Uint8Array(0);case s.STRING:return"";default:return 0}}function q(e,n){switch(e){case s.BOOL:return!1===n;case s.STRING:return""===n;case s.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return 0==n}}function W(e){let n=e.field.localName,a=Object.create(null);return a[n]=function(e){let n=e.field;if(n.repeated)return[];if(void 0!==n.default)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return G(n.T,n.L);case"message":let a=n.T,t=new a;return a.fieldWrapper?a.fieldWrapper.unwrapField(t):t;case"map":throw"map fields are not allowed to be extensions"}}(e),[a,()=>a[n]]}(n=s||(s={}))[n.DOUBLE=1]="DOUBLE",n[n.FLOAT=2]="FLOAT",n[n.INT64=3]="INT64",n[n.UINT64=4]="UINT64",n[n.INT32=5]="INT32",n[n.FIXED64=6]="FIXED64",n[n.FIXED32=7]="FIXED32",n[n.BOOL=8]="BOOL",n[n.STRING=9]="STRING",n[n.BYTES=12]="BYTES",n[n.UINT32=13]="UINT32",n[n.SFIXED32=15]="SFIXED32",n[n.SFIXED64=16]="SFIXED64",n[n.SINT32=17]="SINT32",n[n.SINT64=18]="SINT64",(a=o||(o={}))[a.BIGINT=0]="BIGINT",a[a.STRING=1]="STRING";let Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),X=[];for(let e=0;e<Y.length;e++)X[Y[e].charCodeAt(0)]=e;X[45]=Y.indexOf("+"),X[95]=Y.indexOf("/");let z={dec(e){let n=3*e.length/4;"="==e[e.length-2]?n-=2:"="==e[e.length-1]&&(n-=1);let a=new Uint8Array(n),t=0,i=0,r,s=0;for(let n=0;n<e.length;n++){if(void 0===(r=X[e.charCodeAt(n)]))switch(e[n]){case"=":i=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=r,i=1;break;case 1:a[t++]=s<<2|(48&r)>>4,s=r,i=2;break;case 2:a[t++]=(15&s)<<4|(60&r)>>2,s=r,i=3;break;case 3:a[t++]=(3&s)<<6|r,i=0}}if(1==i)throw Error("invalid base64 string.");return a.subarray(0,t)},enc(e){let n="",a=0,t,i=0;for(let r=0;r<e.length;r++)switch(t=e[r],a){case 0:n+=Y[t>>2],i=(3&t)<<4,a=1;break;case 1:n+=Y[i|t>>4],i=(15&t)<<2,a=2;break;case 2:n+=Y[i|t>>6],n+=Y[63&t],a=0}return a&&(n+=Y[i],n+="=",1==a&&(n+="=")),n}};function Q(e,n){let a=e.getType();return n.extendee.typeName===a.typeName&&!!a.runtime.bin.listUnknownFields(e).find(e=>e.no==n.field.no)}function Z(e,n){v(e.extendee.typeName==n.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function ee(e,n){let a=e.localName;if(e.repeated)return n[a].length>0;if(e.oneof)return n[e.oneof.localName].case===a;switch(e.kind){case"enum":case"scalar":if(e.opt||e.req)return void 0!==n[a];if("enum"==e.kind)return n[a]!==e.T.values[0].no;return!q(e.T,n[a]);case"message":return void 0!==n[a];case"map":return Object.keys(n[a]).length>0}}function en(e,n){let a=e.localName,t=!e.opt&&!e.req;if(e.repeated)n[a]=[];else if(e.oneof)n[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":n[a]={};break;case"enum":n[a]=t?e.T.values[0].no:void 0;break;case"scalar":n[a]=t?G(e.T,e.L):void 0;break;case"message":n[a]=void 0}}function ea(e,n){if(null===e||"object"!=typeof e||!Object.getOwnPropertyNames(L.prototype).every(n=>n in e&&"function"==typeof e[n]))return!1;let a=e.getType();return null!==a&&"function"==typeof a&&"typeName"in a&&"string"==typeof a.typeName&&(void 0===n||a.typeName==n.typeName)}function et(e,n){return ea(n)||!e.fieldWrapper?n:e.fieldWrapper.wrapField(n)}s.DOUBLE,s.FLOAT,s.INT64,s.UINT64,s.INT32,s.UINT32,s.BOOL,s.STRING,s.BYTES;let ei={ignoreUnknownFields:!1},er={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},es=Symbol(),eo=Symbol();function em(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function ed(e,n,a,t,i){let r=a.localName;if(a.repeated){if(v("map"!=a.kind),null===n)return;if(!Array.isArray(n))throw Error(`cannot decode field ${i.typeName}.${a.name} from JSON: ${em(n)}`);let s=e[r];for(let e of n){if(null===e)throw Error(`cannot decode field ${i.typeName}.${a.name} from JSON: ${em(e)}`);switch(a.kind){case"message":s.push(a.T.fromJson(e,t));break;case"enum":let n=ec(a.T,e,t.ignoreUnknownFields,!0);n!==eo&&s.push(n);break;case"scalar":try{s.push(el(a.T,e,a.L,!0))}catch(t){let n=`cannot decode field ${i.typeName}.${a.name} from JSON: ${em(e)}`;throw t instanceof Error&&t.message.length>0&&(n+=`: ${t.message}`),Error(n)}}}}else if("map"==a.kind){if(null===n)return;if("object"!=typeof n||Array.isArray(n))throw Error(`cannot decode field ${i.typeName}.${a.name} from JSON: ${em(n)}`);let m=e[r];for(let[e,r]of Object.entries(n)){let d;if(null===r)throw Error(`cannot decode field ${i.typeName}.${a.name} from JSON: map value null`);try{d=function(e,n){if(e===s.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1}return el(e,n,o.BIGINT,!0).toString()}(a.K,e)}catch(t){let e=`cannot decode map key for field ${i.typeName}.${a.name} from JSON: ${em(n)}`;throw t instanceof Error&&t.message.length>0&&(e+=`: ${t.message}`),Error(e)}switch(a.V.kind){case"message":m[d]=a.V.T.fromJson(r,t);break;case"enum":let l=ec(a.V.T,r,t.ignoreUnknownFields,!0);l!==eo&&(m[d]=l);break;case"scalar":try{m[d]=el(a.V.T,r,o.BIGINT,!0)}catch(t){let e=`cannot decode map value for field ${i.typeName}.${a.name} from JSON: ${em(n)}`;throw t instanceof Error&&t.message.length>0&&(e+=`: ${t.message}`),Error(e)}}}}else switch(a.oneof&&(e=e[a.oneof.localName]={case:r},r="value"),a.kind){case"message":let m=a.T;if(null===n&&"google.protobuf.Value"!=m.typeName)return;let d=e[r];ea(d)?d.fromJson(n,t):(e[r]=d=m.fromJson(n,t),m.fieldWrapper&&!a.oneof&&(e[r]=m.fieldWrapper.unwrapField(d)));break;case"enum":let l=ec(a.T,n,t.ignoreUnknownFields,!1);switch(l){case es:en(a,e);break;case eo:break;default:e[r]=l}break;case"scalar":try{let t=el(a.T,n,a.L,!1);t===es?en(a,e):e[r]=t}catch(t){let e=`cannot decode field ${i.typeName}.${a.name} from JSON: ${em(n)}`;throw t instanceof Error&&t.message.length>0&&(e+=`: ${t.message}`),Error(e)}}}function el(e,n,a,t){if(null===n)return t?G(e,a):es;switch(e){case s.DOUBLE:case s.FLOAT:if("NaN"===n)return NaN;if("Infinity"===n)return 1/0;if("-Infinity"===n)return-1/0;if(""===n||"string"==typeof n&&n.trim().length!==n.length||"string"!=typeof n&&"number"!=typeof n)break;let i=Number(n);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==s.FLOAT&&O(i),i;case s.INT32:case s.FIXED32:case s.SFIXED32:case s.SINT32:case s.UINT32:let r;if("number"==typeof n?r=n:"string"==typeof n&&n.length>0&&n.trim().length===n.length&&(r=Number(n)),void 0===r)break;return e==s.UINT32||e==s.FIXED32?w(r):A(r),r;case s.INT64:case s.SFIXED64:case s.SINT64:if("number"!=typeof n&&"string"!=typeof n)break;let o=j.parse(n);return a?o.toString():o;case s.FIXED64:case s.UINT64:if("number"!=typeof n&&"string"!=typeof n)break;let m=j.uParse(n);return a?m.toString():m;case s.BOOL:if("boolean"!=typeof n)break;return n;case s.STRING:if("string"!=typeof n)break;try{encodeURIComponent(n)}catch(e){throw Error("invalid UTF8")}return n;case s.BYTES:if(""===n)return new Uint8Array(0);if("string"!=typeof n)break;return z.dec(n)}throw Error()}function ec(e,n,a,t){if(null===n)return"google.protobuf.NullValue"==e.typeName?0:t?e.values[0].no:es;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":let i=e.findName(n);if(void 0!==i)return i.no;if(a)return eo}throw Error(`cannot decode enum ${e.typeName} from JSON: ${em(n)}`)}function eu(e,n,a){if("map"==e.kind){v("object"==typeof n&&null!=n);let t={},i=Object.entries(n);switch(e.V.kind){case"scalar":for(let[n,a]of i)t[n.toString()]=ep(e.V.T,a);break;case"message":for(let[e,n]of i)t[e.toString()]=n.toJson(a);break;case"enum":let r=e.V.T;for(let[e,n]of i)t[e.toString()]=eT(r,n,a.enumAsInteger)}return a.emitDefaultValues||i.length>0?t:void 0}if(e.repeated){v(Array.isArray(n));let t=[];switch(e.kind){case"scalar":for(let a=0;a<n.length;a++)t.push(ep(e.T,n[a]));break;case"enum":for(let i=0;i<n.length;i++)t.push(eT(e.T,n[i],a.enumAsInteger));break;case"message":for(let e=0;e<n.length;e++)t.push(n[e].toJson(a))}return a.emitDefaultValues||t.length>0?t:void 0}switch(e.kind){case"scalar":return ep(e.T,n);case"enum":return eT(e.T,n,a.enumAsInteger);case"message":return et(e.T,n).toJson(a)}}function eT(e,n,a){var t;if(v("number"==typeof n),"google.protobuf.NullValue"==e.typeName)return null;if(a)return n;let i=e.findNumber(n);return null!=(t=null==i?void 0:i.name)?t:n}function ep(e,n){switch(e){case s.INT32:case s.SFIXED32:case s.SINT32:case s.FIXED32:case s.UINT32:return v("number"==typeof n),n;case s.FLOAT:case s.DOUBLE:if(v("number"==typeof n),Number.isNaN(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";return n;case s.STRING:return v("string"==typeof n),n;case s.BOOL:return v("boolean"==typeof n),n;case s.UINT64:case s.FIXED64:case s.INT64:case s.SFIXED64:case s.SINT64:return v("bigint"==typeof n||"string"==typeof n||"number"==typeof n),n.toString();case s.BYTES:return v(n instanceof Uint8Array),z.enc(n)}}(t=m||(m={}))[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32";class ek{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let n=0;n<this.chunks.length;n++)e+=this.chunks[n].length;let n=new Uint8Array(e),a=0;for(let e=0;e<this.chunks.length;e++)n.set(this.chunks[e],a),a+=this.chunks[e].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(w(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return A(e),J(e,this.buf),this}bool(e){return this.buf.push(+!!e),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){O(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){w(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){A(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return A(e),J(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let n=new Uint8Array(8),a=new DataView(n.buffer),t=j.enc(e);return a.setInt32(0,t.lo,!0),a.setInt32(4,t.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),a=new DataView(n.buffer),t=j.uEnc(e);return a.setInt32(0,t.lo,!0),a.setInt32(4,t.hi,!0),this.raw(n)}int64(e){let n=j.enc(e);return C(n.lo,n.hi,this.buf),this}sint64(e){let n=j.enc(e),a=n.hi>>31;return C(n.lo<<1^a,(n.hi<<1|n.lo>>>31)^a,this.buf),this}uint64(e){let n=j.uEnc(e);return C(n.lo,n.hi,this.buf),this}}class ef{constructor(e,n){this.varint64=M,this.uint32=K,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=n?n:new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,a=7&e;if(n<=0||a<0||a>5)throw Error("illegal tag: field no "+n+" wire type "+a);return[n,a]}skip(e,n){let a=this.pos;switch(e){case m.Varint:for(;128&this.buf[this.pos++];);break;case m.Bit64:this.pos+=4;case m.Bit32:this.pos+=4;break;case m.LengthDelimited:let t=this.uint32();this.pos+=t;break;case m.StartGroup:for(;;){let[e,a]=this.tag();if(a===m.EndGroup){if(void 0!==n&&e!==n)throw Error("invalid end group tag");break}this.skip(a,e)}break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return j.dec(...this.varint64())}uint64(){return j.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),a=-(1&e);return e=(e>>>1|(1&n)<<31)^a,n=n>>>1^a,j.dec(e,n)}bool(){let[e,n]=this.varint64();return 0!==e||0!==n}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return j.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return j.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}let e_=Symbol("@bufbuild/protobuf/unknown-fields"),eg={readUnknownFields:!0,readerFactory:e=>new ef(e)},eh={writeUnknownFields:!0,writerFactory:()=>new ek};function ey(e,n,a,t,i){let{repeated:r,localName:d}=a;switch(a.oneof&&((e=e[a.oneof.localName]).case!=d&&delete e.value,e.case=d,d="value"),a.kind){case"scalar":case"enum":let l="enum"==a.kind?s.INT32:a.T,c=eb;if("scalar"==a.kind&&a.L>0&&(c=eS),r){let a=e[d];if(t==m.LengthDelimited&&l!=s.STRING&&l!=s.BYTES){let e=n.uint32()+n.pos;for(;n.pos<e;)a.push(c(n,l))}else a.push(c(n,l))}else e[d]=c(n,l);break;case"message":let u=a.T;r?e[d].push(eE(n,new u,i,a)):ea(e[d])?eE(n,e[d],i,a):(e[d]=eE(n,new u,i,a),!u.fieldWrapper||a.oneof||a.repeated||(e[d]=u.fieldWrapper.unwrapField(e[d])));break;case"map":let[T,p]=function(e,n,a){let t,i,r=n.uint32(),s=n.pos+r;for(;n.pos<s;){let[r]=n.tag();switch(r){case 1:t=eb(n,e.K);break;case 2:switch(e.V.kind){case"scalar":i=eb(n,e.V.T);break;case"enum":i=n.int32();break;case"message":i=eE(n,new e.V.T,a,void 0)}}}if(void 0===t&&(t=G(e.K,o.BIGINT)),"string"!=typeof t&&"number"!=typeof t&&(t=t.toString()),void 0===i)switch(e.V.kind){case"scalar":i=G(e.V.T,o.BIGINT);break;case"enum":i=e.V.T.values[0].no;break;case"message":i=new e.V.T}return[t,i]}(a,n,i);e[d][T]=p}}function eE(e,n,a,t){let i=n.getType().runtime.bin,r=null==t?void 0:t.delimited;return i.readMessage(n,e,r?t.no:e.uint32(),a,r),n}function eS(e,n){let a=eb(e,n);return"bigint"==typeof a?a.toString():a}function eb(e,n){switch(n){case s.STRING:return e.string();case s.BOOL:return e.bool();case s.DOUBLE:return e.double();case s.FLOAT:return e.float();case s.INT32:return e.int32();case s.INT64:return e.int64();case s.UINT64:return e.uint64();case s.FIXED64:return e.fixed64();case s.BYTES:return e.bytes();case s.FIXED32:return e.fixed32();case s.SFIXED32:return e.sfixed32();case s.SFIXED64:return e.sfixed64();case s.SINT64:return e.sint64();case s.UINT32:return e.uint32();case s.SINT32:return e.sint32()}}function eI(e,n,a,t){v(void 0!==n);let i=e.repeated;switch(e.kind){case"scalar":case"enum":let r="enum"==e.kind?s.INT32:e.T;if(i)if(v(Array.isArray(n)),e.packed)!function(e,n,a,t){if(!t.length)return;e.tag(a,m.LengthDelimited).fork();let[,i]=eA(n);for(let n=0;n<t.length;n++)e[i](t[n]);e.join()}(a,r,e.no,n);else for(let t of n)ev(a,r,e.no,t);else ev(a,r,e.no,n);break;case"message":if(i)for(let i of(v(Array.isArray(n)),n))eN(a,t,e,i);else eN(a,t,e,n);break;case"map":for(let[i,r]of(v("object"==typeof n&&null!=n),Object.entries(n)))!function(e,n,a,t,i){e.tag(a.no,m.LengthDelimited),e.fork();let r=t;switch(a.K){case s.INT32:case s.FIXED32:case s.UINT32:case s.SFIXED32:case s.SINT32:r=Number.parseInt(t);break;case s.BOOL:v("true"==t||"false"==t),r="true"==t}switch(ev(e,a.K,1,r),a.V.kind){case"scalar":ev(e,a.V.T,2,i);break;case"enum":ev(e,s.INT32,2,i);break;case"message":v(void 0!==i),e.tag(2,m.LengthDelimited).bytes(i.toBinary(n))}e.join()}(a,t,e,i,r)}}function eN(e,n,a,t){let i=et(a.T,t);a.delimited?e.tag(a.no,m.StartGroup).raw(i.toBinary(n)).tag(a.no,m.EndGroup):e.tag(a.no,m.LengthDelimited).bytes(i.toBinary(n))}function ev(e,n,a,t){v(void 0!==t);let[i,r]=eA(n);e.tag(a,i)[r](t)}function eA(e){let n=m.Varint;switch(e){case s.BYTES:case s.STRING:n=m.LengthDelimited;break;case s.DOUBLE:case s.FIXED64:case s.SFIXED64:n=m.Bit64;break;case s.FIXED32:case s.SFIXED32:case s.FLOAT:n=m.Bit32}return[n,s[e].toLowerCase()]}function ew(e){if(void 0===e)return e;if(ea(e))return e.clone();if(e instanceof Uint8Array){let n=new Uint8Array(e.byteLength);return n.set(e),n}return e}function eO(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class eR{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){let e={};for(let n of this.list())e[n.jsonName]=e[n.name]=n;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){let e={};for(let n of this.list())e[n.no]=n;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){let e;this.members=[];let n=this.members;for(let a of this.list())a.oneof?a.oneof!==e&&(e=a.oneof,n.push(e)):n.push(a)}return this.members}}function eP(e,n){let a=eD(e);return n?a:eB(eF(a))}let eU=eD;function eD(e){let n=!1,a=[];for(let t=0;t<e.length;t++){let i=e.charAt(t);switch(i){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(i),n=!1;break;default:n&&(n=!1,i=i.toUpperCase()),a.push(i)}}return a.join("")}let eL=new Set(["constructor","toString","toJSON","valueOf"]),eM=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),eC=e=>`${e}$`,eF=e=>eM.has(e)?eC(e):e,eB=e=>eL.has(e)?eC(e):e;class eH{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=eP(e,!1)}addField(e){v(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}let ex=(i=e=>new eR(e,e=>(function(e,n){var a,t,i,r,m,d;let l,c=[];for(let u of"function"==typeof e?e():e){if(u.localName=eP(u.name,void 0!==u.oneof),u.jsonName=null!=(a=u.jsonName)?a:eU(u.name),u.repeated=null!=(t=u.repeated)&&t,"scalar"==u.kind&&(u.L=null!=(i=u.L)?i:o.BIGINT),u.delimited=null!=(r=u.delimited)&&r,u.req=null!=(m=u.req)&&m,u.opt=null!=(d=u.opt)&&d,void 0===u.packed&&(n?u.packed="enum"==u.kind||"scalar"==u.kind&&u.T!=s.BYTES&&u.T!=s.STRING:u.packed=!1),void 0!==u.oneof){let e="string"==typeof u.oneof?u.oneof:u.oneof.name;l&&l.name==e||(l=new eH(e)),u.oneof=l,l.addField(u)}c.push(u)}return c})(e,!0)),r=e=>{for(let n of e.getType().fields.byMember()){if(n.opt)continue;let a=n.localName;if(n.repeated){e[a]=[];continue}switch(n.kind){case"oneof":e[a]={case:void 0};break;case"enum":e[a]=0;break;case"map":e[a]={};break;case"scalar":e[a]=G(n.T,n.L)}}},{syntax:"proto3",json:{makeReadOptions:function(e){return e?Object.assign(Object.assign({},ei),e):ei},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},er),e):er},readMessage(e,n,a,t){if(null==n||Array.isArray(n)||"object"!=typeof n)throw Error(`cannot decode message ${e.typeName} from JSON: ${em(n)}`);t=null!=t?t:new e;let i=new Map,r=a.typeRegistry;for(let[s,o]of Object.entries(n)){let n=e.fields.findJsonName(s);if(n){if(n.oneof){if(null===o&&"scalar"==n.kind)continue;let a=i.get(n.oneof);if(void 0!==a)throw Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${n.oneof.name}" present: "${a}", "${s}"`);i.set(n.oneof,s)}ed(t,o,n,a,e)}else{let n=!1;if((null==r?void 0:r.findExtension)&&s.startsWith("[")&&s.endsWith("]")){let i=r.findExtension(s.substring(1,s.length-1));if(i&&i.extendee.typeName==e.typeName){n=!0;let[e,r]=W(i);ed(e,o,i.field,a,i),function(e,n,a,t){Z(n,e);let i=n.runtime.bin.makeReadOptions(t),r=n.runtime.bin.makeWriteOptions(t);if(Q(e,n)){let a=e.getType().runtime.bin.listUnknownFields(e).filter(e=>e.no!=n.field.no);for(let n of(e.getType().runtime.bin.discardUnknownFields(e),a))e.getType().runtime.bin.onUnknownField(e,n.no,n.wireType,n.data)}let s=r.writerFactory(),o=n.field;o.opt||o.repeated||"enum"!=o.kind&&"scalar"!=o.kind||(o=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(o,a,s,r);let m=i.readerFactory(s.finish());for(;m.pos<m.len;){let[n,a]=m.tag(),t=m.skip(a,n);e.getType().runtime.bin.onUnknownField(e,n,a,t)}}(t,i,r(),a)}}if(!n&&!a.ignoreUnknownFields)throw Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return t},writeMessage(e,n){let a,t=e.getType(),i={};try{for(a of t.fields.byNumber()){if(!ee(a,e)){var r;if(a.req)throw"required field not set";if(!n.emitDefaultValues||!((r=a).repeated||"map"==r.kind||!r.oneof&&"message"!=r.kind&&!r.opt&&!r.req))continue}let t=a.oneof?e[a.oneof.localName].value:e[a.localName],s=eu(a,t,n);void 0!==s&&(i[n.useProtoFieldName?a.name:a.jsonName]=s)}let s=n.typeRegistry;if(null==s?void 0:s.findExtensionFor)for(let a of t.runtime.bin.listUnknownFields(e)){let r=s.findExtensionFor(t.typeName,a.no);if(r&&Q(e,r)){let a=function(e,n,a){Z(n,e);let t=n.runtime.bin.makeReadOptions(a),i=function(e,n){if(!n.repeated&&("enum"==n.kind||"scalar"==n.kind)){for(let a=e.length-1;a>=0;--a)if(e[a].no==n.no)return[e[a]];return[]}return e.filter(e=>e.no===n.no)}(e.getType().runtime.bin.listUnknownFields(e),n.field),[r,s]=W(n);for(let e of i)n.runtime.bin.readField(r,t.readerFactory(e.data),n.field,e.wireType,t);return s()}(e,r,n),t=eu(r.field,a,n);void 0!==t&&(i[r.field.jsonName]=t)}}}catch(i){let e=a?`cannot encode field ${t.typeName}.${a.name} to JSON`:`cannot encode message ${t.typeName} to JSON`,n=i instanceof Error?i.message:String(i);throw Error(e+(n.length>0?`: ${n}`:""))}return i},readScalar:(e,n,a)=>el(e,n,null!=a?a:o.BIGINT,!0),writeScalar(e,n,a){if(void 0!==n&&(a||q(e,n)))return ep(e,n)},debug:em},bin:{makeReadOptions:function(e){return e?Object.assign(Object.assign({},eg),e):eg},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},eh),e):eh},listUnknownFields(e){var n;return null!=(n=e[e_])?n:[]},discardUnknownFields(e){delete e[e_]},writeUnknownFields(e,n){let a=e[e_];if(a)for(let e of a)n.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,n,a,t){Array.isArray(e[e_])||(e[e_]=[]),e[e_].push({no:n,wireType:a,data:t})},readMessage(e,n,a,t,i){let r,s,o=e.getType(),d=i?n.len:n.pos+a;for(;n.pos<d&&([r,s]=n.tag(),!0!==i||s!=m.EndGroup);){let a=o.fields.find(r);if(!a){let a=n.skip(s,r);t.readUnknownFields&&this.onUnknownField(e,r,s,a);continue}ey(e,n,a,s,t)}if(i&&(s!=m.EndGroup||r!==a))throw Error("invalid end group tag")},readField:ey,writeMessage(e,n,a){let t=e.getType();for(let i of t.fields.byNumber()){if(!ee(i,e)){if(i.req)throw Error(`cannot encode field ${t.typeName}.${i.name} to binary: required field not set`);continue}let r=i.oneof?e[i.oneof.localName].value:e[i.localName];eI(i,r,n,a)}return a.writeUnknownFields&&this.writeUnknownFields(e,n),n},writeField(e,n,a,t){void 0!==n&&eI(e,n,a,t)}},util:Object.assign(Object.assign({},{setEnumType:P,initPartial(e,n){if(void 0!==e)for(let a of n.getType().fields.byMember()){let t=a.localName;if(null!=e[t])switch(a.kind){case"oneof":let i=e[t].case;if(void 0===i)continue;let r=a.findField(i),o=e[t].value;r&&"message"==r.kind&&!ea(o,r.T)?o=new r.T(o):r&&"scalar"===r.kind&&r.T===s.BYTES&&(o=eO(o)),n[t]={case:i,value:o};break;case"scalar":case"enum":let m=e[t];a.T===s.BYTES&&(m=a.repeated?m.map(eO):eO(m)),n[t]=m;break;case"map":switch(a.V.kind){case"scalar":case"enum":if(a.V.T===s.BYTES)for(let[a,i]of Object.entries(e[t]))n[t][a]=eO(i);else Object.assign(n[t],e[t]);break;case"message":let d=a.V.T;for(let a of Object.keys(e[t])){let i=e[t][a];d.fieldWrapper||(i=new d(i)),n[t][a]=i}}break;case"message":let l=a.T;if(a.repeated)n[t]=e[t].map(e=>ea(e,l)?e:new l(e));else{let a=e[t];l.fieldWrapper?"google.protobuf.BytesValue"===l.typeName?n[t]=eO(a):n[t]=a:n[t]=ea(a,l)?a:new l(a)}}}},equals:(e,n,a)=>n===a||!!n&&!!a&&e.fields.byMember().every(e=>{let t=n[e.localName],i=a[e.localName];if(e.repeated){if(t.length!==i.length)return!1;switch(e.kind){case"message":return t.every((n,a)=>e.T.equals(n,i[a]));case"scalar":return t.every((n,a)=>V(e.T,n,i[a]));case"enum":return t.every((e,n)=>V(s.INT32,e,i[n]))}throw Error(`repeated cannot contain ${e.kind}`)}switch(e.kind){case"message":let r=t,o=i;return e.T.fieldWrapper&&(void 0===r||ea(r)||(r=e.T.fieldWrapper.wrapField(r)),void 0===o||ea(o)||(o=e.T.fieldWrapper.wrapField(o))),e.T.equals(r,o);case"enum":return V(s.INT32,t,i);case"scalar":return V(e.T,t,i);case"oneof":if(t.case!==i.case)return!1;let m=e.findField(t.case);if(void 0===m)return!0;switch(m.kind){case"message":return m.T.equals(t.value,i.value);case"enum":return V(s.INT32,t.value,i.value);case"scalar":return V(m.T,t.value,i.value)}throw Error(`oneof cannot contain ${m.kind}`);case"map":let d=Object.keys(t).concat(Object.keys(i));switch(e.V.kind){case"message":let l=e.V.T;return d.every(e=>l.equals(t[e],i[e]));case"enum":return d.every(e=>V(s.INT32,t[e],i[e]));case"scalar":let c=e.V.T;return d.every(e=>V(c,t[e],i[e]))}}}),clone(e){let n=e.getType(),a=new n;for(let t of n.fields.byMember()){let n,i=e[t.localName];if(t.repeated)n=i.map(ew);else if("map"==t.kind)for(let[e,r]of(n=a[t.localName],Object.entries(i)))n[e]=ew(r);else n="oneof"==t.kind?t.findField(i.case)?{case:i.case,value:ew(i.value)}:{case:void 0}:ew(i);a[t.localName]=n}for(let t of n.runtime.bin.listUnknownFields(e))n.runtime.bin.onUnknownField(a,t.no,t.wireType,t.data);return a}}),{newFieldList:i,initFields:r}),makeMessageType(e,n,a){var t,i;let r,s;return t=this,Object.setPrototypeOf((s=({[r=null!=(i=null==a?void 0:a.localName)?i:e.substring(e.lastIndexOf(".")+1)]:function(e){t.util.initFields(this),t.util.initPartial(e,this)}})[r]).prototype,new L),Object.assign(s,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary:(e,n)=>new s().fromBinary(e,n),fromJson:(e,n)=>new s().fromJson(e,n),fromJsonString:(e,n)=>new s().fromJsonString(e,n),equals:(e,n)=>t.util.equals(s,e,n)}),s},makeEnum:function(e,n,a){let t={};for(let e of n){let n=D(e);t[n.localName]=n.no,t[n.no]=n.localName}return P(t,e,n,a),t},makeEnumType:U,getEnumType:function(e){let n=e[R];return v(n,"missing enum type on enum object"),n},makeExtension(e,n,a){var t;let i;return t=this,{typeName:e,extendee:n,get field(){if(!i){let n="function"==typeof a?a():a;n.name=e.split(".").pop(),n.jsonName=`[${e}]`,i=t.util.newFieldList([n]).list()[0]}return i},runtime:t}}});class e$ extends L{constructor(e){super(),this.seconds=j.zero,this.nanos=0,ex.util.initPartial(e,this)}fromJson(e,n){if("string"!=typeof e)throw Error(`cannot decode google.protobuf.Timestamp from JSON: ${ex.json.debug(e)}`);let a=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let t=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(t))throw Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=j.parse(t/1e3),this.nanos=0,a[7]&&(this.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9),this}toJson(e){let n=1e3*Number(this.seconds);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let a="Z";if(this.nanos>0){let e=(this.nanos+1e9).toString().substring(1);a="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(n).toISOString().replace(".000Z",a)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return e$.fromDate(new Date)}static fromDate(e){let n=e.getTime();return new e$({seconds:j.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new e$().fromBinary(e,n)}static fromJson(e,n){return new e$().fromJson(e,n)}static fromJsonString(e,n){return new e$().fromJsonString(e,n)}static equals(e,n){return ex.util.equals(e$,e,n)}}e$.runtime=ex,e$.typeName="google.protobuf.Timestamp",e$.fields=ex.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class eJ extends L{constructor(e){super(),this.seconds=j.zero,this.nanos=0,ex.util.initPartial(e,this)}fromJson(e,n){if("string"!=typeof e)throw Error(`cannot decode google.protobuf.Duration from JSON: ${ex.json.debug(e)}`);let a=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===a)throw Error(`cannot decode google.protobuf.Duration from JSON: ${ex.json.debug(e)}`);let t=Number(a[1]);if(t>315576e6||t<-315576e6)throw Error(`cannot decode google.protobuf.Duration from JSON: ${ex.json.debug(e)}`);if(this.seconds=j.parse(t),"string"==typeof a[2]){let e=a[2]+"0".repeat(9-a[2].length);this.nanos=parseInt(e),(t<0||Object.is(t,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||-315576e6>Number(this.seconds))throw Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(0!==this.nanos){let e=Math.abs(this.nanos).toString();"000000"===(e="0".repeat(9-e.length)+e).substring(3)?e=e.substring(0,3):"000"===e.substring(6)&&(e=e.substring(0,6)),n+="."+e,this.nanos<0&&0==Number(this.seconds)&&(n="-"+n)}return n+"s"}static fromBinary(e,n){return new eJ().fromBinary(e,n)}static fromJson(e,n){return new eJ().fromJson(e,n)}static fromJsonString(e,n){return new eJ().fromJsonString(e,n)}static equals(e,n){return ex.util.equals(eJ,e,n)}}eJ.runtime=ex,eJ.typeName="google.protobuf.Duration",eJ.fields=ex.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class eK extends L{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),ex.util.initPartial(e,this)}toJson(e){var n;if(""===this.typeUrl)return{};let a=this.typeUrlToName(this.typeUrl),t=null==(n=null==e?void 0:e.typeRegistry)?void 0:n.findMessage(a);if(!t)throw Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let i=t.fromBinary(this.value).toJson(e);return(a.startsWith("google.protobuf.")||null===i||Array.isArray(i)||"object"!=typeof i)&&(i={value:i}),i["@type"]=this.typeUrl,i}fromJson(e,n){var a;let t;if(null===e||Array.isArray(e)||"object"!=typeof e)throw Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${null===e?"null":Array.isArray(e)?"array":typeof e}`);if(0==Object.keys(e).length)return this;let i=e["@type"];if("string"!=typeof i||""==i)throw Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');let r=this.typeUrlToName(i),s=null==(a=null==n?void 0:n.typeRegistry)?void 0:a.findMessage(r);if(!s)throw Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);if(r.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))t=s.fromJson(e.value,n);else{let a=Object.assign({},e);delete a["@type"],t=s.fromJson(a,n)}return this.packFrom(t),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return!!this.is(e.getType())&&(e.fromBinary(this.value),!0)}unpack(e){if(""===this.typeUrl)return;let n=e.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(e){if(""===this.typeUrl)return!1;let n=this.typeUrlToName(this.typeUrl);return n===("string"==typeof e?e:e.typeName)}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw Error(`invalid type url: ${e}`);let n=e.lastIndexOf("/"),a=n>=0?e.substring(n+1):e;if(!a.length)throw Error(`invalid type url: ${e}`);return a}static pack(e){let n=new eK;return n.packFrom(e),n}static fromBinary(e,n){return new eK().fromBinary(e,n)}static fromJson(e,n){return new eK().fromJson(e,n)}static fromJsonString(e,n){return new eK().fromJsonString(e,n)}static equals(e,n){return ex.util.equals(eK,e,n)}}eK.runtime=ex,eK.typeName="google.protobuf.Any",eK.fields=ex.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);let ej=ex.makeEnum("livekit.agent.ChatRole",[{no:0,name:"DEVELOPER"},{no:1,name:"SYSTEM"},{no:2,name:"USER"},{no:3,name:"ASSISTANT"}]),eV=ex.makeMessageType("livekit.agent.MetricsReport",()=>[{no:1,name:"started_speaking_at",kind:"message",T:e$},{no:2,name:"stopped_speaking_at",kind:"message",T:e$},{no:3,name:"transcription_delay",kind:"scalar",T:1,opt:!0},{no:4,name:"end_of_turn_delay",kind:"scalar",T:1,opt:!0},{no:5,name:"on_user_turn_completed_delay",kind:"scalar",T:1,opt:!0},{no:6,name:"llm_node_ttft",kind:"scalar",T:1,opt:!0},{no:7,name:"tts_node_ttfb",kind:"scalar",T:1,opt:!0},{no:8,name:"e2e_latency",kind:"scalar",T:1,opt:!0}]),eG=ex.makeMessageType("livekit.agent.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"role",kind:"enum",T:ex.getEnumType(ej)},{no:3,name:"content",kind:"message",T:eq,repeated:!0},{no:4,name:"interrupted",kind:"scalar",T:8},{no:5,name:"transcript_confidence",kind:"scalar",T:1,opt:!0},{no:6,name:"extra",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"metrics",kind:"message",T:eV},{no:8,name:"created_at",kind:"message",T:e$}]),eq=ex.makeMessageType("livekit.agent.ChatMessage.ChatContent",()=>[{no:1,name:"text",kind:"scalar",T:9,oneof:"payload"}],{localName:"ChatMessage_ChatContent"}),eW=ex.makeMessageType("livekit.agent.FunctionCall",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"call_id",kind:"scalar",T:9},{no:3,name:"arguments",kind:"scalar",T:9},{no:4,name:"name",kind:"scalar",T:9},{no:5,name:"created_at",kind:"message",T:e$}]),eY=ex.makeMessageType("livekit.agent.FunctionCallOutput",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"call_id",kind:"scalar",T:9},{no:4,name:"output",kind:"scalar",T:9},{no:5,name:"is_error",kind:"scalar",T:8},{no:6,name:"created_at",kind:"message",T:e$}]),eX=ex.makeMessageType("livekit.agent.AgentHandoff",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"old_agent_id",kind:"scalar",T:9,opt:!0},{no:3,name:"new_agent_id",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:e$}]),ez=(()=>[{no:1,name:"message",kind:"message",T:eG,oneof:"item"},{no:2,name:"function_call",kind:"message",T:eW,oneof:"item"},{no:3,name:"function_call_output",kind:"message",T:eY,oneof:"item"},{no:4,name:"agent_handoff",kind:"message",T:eX,oneof:"item"}],ex.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:eQ,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}])),eQ=ex.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:e$},{no:3,name:"value",kind:"scalar",T:2}]),eZ=ex.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:e$},{no:7,name:"normalized_end_timestamp",kind:"message",T:e$,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),e0=ex.makeEnum("livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"},{no:3,name:"AC_MP3"}]),e1=ex.makeEnum("livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]),e2=ex.makeEnum("livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]),e3=ex.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),e9=ex.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),e4=ex.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),e8=ex.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),e6=ex.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),e5=ex.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),e7=ex.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),ne=ex.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),nn=ex.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),na=(()=>[{no:1,name:"after_id",kind:"scalar",T:9},{no:2,name:"limit",kind:"scalar",T:5}],ex.makeMessageType("livekit.ListUpdate",()=>[{no:1,name:"set",kind:"scalar",T:9,repeated:!0},{no:2,name:"add",kind:"scalar",T:9,repeated:!0},{no:3,name:"remove",kind:"scalar",T:9,repeated:!0},{no:4,name:"clear",kind:"scalar",T:8}])),nt=ex.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:ni,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:nA}]),ni=ex.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),nr=ex.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:ex.getEnumType(e4),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),ns=ex.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ex.getEnumType(no)},{no:4,name:"tracks",kind:"message",T:nu,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:nr},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:ex.getEnumType(nm)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:ex.getEnumType(e7)},{no:18,name:"kind_details",kind:"enum",T:ex.getEnumType(nd),repeated:!0},{no:19,name:"data_tracks",kind:"message",T:nT,repeated:!0}]),no=ex.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),nm=ex.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"},{no:8,name:"BRIDGE"}]),nd=ex.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"},{no:2,name:"CONNECTOR_WHATSAPP"},{no:3,name:"CONNECTOR_TWILIO"},{no:4,name:"BRIDGE_RTSP"}]),nl=ex.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),nc=ex.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:nk,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:ex.getEnumType(nf)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),nu=ex.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ex.getEnumType(e9)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:ex.getEnumType(e4)},{no:10,name:"layers",kind:"message",T:nk,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:nc,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:ex.getEnumType(nl)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:nA},{no:19,name:"audio_features",kind:"enum",T:ex.getEnumType(nn),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:ex.getEnumType(e3)}]),nT=ex.makeMessageType("livekit.DataTrackInfo",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13},{no:2,name:"sid",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"encryption",kind:"enum",T:ex.getEnumType(nl)}]),np=ex.makeMessageType("livekit.DataTrackSubscriptionOptions",()=>[{no:1,name:"target_fps",kind:"scalar",T:13,opt:!0}]),nk=ex.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:ex.getEnumType(e8)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9},{no:8,name:"repair_ssrc",kind:"scalar",T:13}]),nf=ex.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),n_=(()=>[{no:1,name:"encryption_type",kind:"enum",T:ex.getEnumType(nl)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}],ex.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}])),ng=(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}],ex.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}])),nh=(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}],ex.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}])),ny=ex.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),nE=ex.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:ex.getEnumType(nS)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),nS=ex.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),nb=(()=>[{no:1,name:"sdk",kind:"enum",T:ex.getEnumType(nb)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}],ex.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}])),nI=ex.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:nN},{no:2,name:"screen",kind:"message",T:nN},{no:3,name:"resume_connection",kind:"enum",T:ex.getEnumType(e5)},{no:4,name:"disabled_codecs",kind:"message",T:nv},{no:5,name:"force_relay",kind:"enum",T:ex.getEnumType(e5)}]),nN=ex.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:ex.getEnumType(e5)}]),nv=ex.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:ni,repeated:!0},{no:2,name:"publish",kind:"message",T:ni,repeated:!0}]),nA=(()=>[{no:1,name:"start_time",kind:"message",T:e$},{no:2,name:"end_time",kind:"message",T:e$},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}],ex.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}])),nw=ex.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),nO=ex.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:ex.getEnumType(nw)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),nR=ex.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),nP=(()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:ex.getEnumType(nl)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:nO,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:nR,oneof:"content_header"}],ex.makeMessageType("livekit.FilterParams",()=>[{no:1,name:"include_events",kind:"scalar",T:9,repeated:!0},{no:2,name:"exclude_events",kind:"scalar",T:9,repeated:!0}])),nU=ex.makeMessageType("livekit.WebhookConfig",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"signing_key",kind:"scalar",T:9},{no:3,name:"filter_params",kind:"message",T:nP}]),nD=ex.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),nL=ex.makeEnum("livekit.JobType",[{no:0,name:"JT_ROOM"},{no:1,name:"JT_PUBLISHER"},{no:2,name:"JT_PARTICIPANT"}]),nM=ex.makeEnum("livekit.WorkerStatus",[{no:0,name:"WS_AVAILABLE"},{no:1,name:"WS_FULL"}]),nC=ex.makeEnum("livekit.JobStatus",[{no:0,name:"JS_PENDING"},{no:1,name:"JS_RUNNING"},{no:2,name:"JS_SUCCESS"},{no:3,name:"JS_FAILED"}]),nF=ex.makeMessageType("livekit.Job",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:9,name:"dispatch_id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ex.getEnumType(nL)},{no:3,name:"room",kind:"message",T:nt},{no:4,name:"participant",kind:"message",T:ns,opt:!0},{no:5,name:"namespace",kind:"scalar",T:9},{no:6,name:"metadata",kind:"scalar",T:9},{no:7,name:"agent_name",kind:"scalar",T:9},{no:8,name:"state",kind:"message",T:nB},{no:10,name:"enable_recording",kind:"scalar",T:8}]),nB=ex.makeMessageType("livekit.JobState",()=>[{no:1,name:"status",kind:"enum",T:ex.getEnumType(nC)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"started_at",kind:"scalar",T:3},{no:4,name:"ended_at",kind:"scalar",T:3},{no:5,name:"updated_at",kind:"scalar",T:3},{no:6,name:"participant_identity",kind:"scalar",T:9},{no:7,name:"worker_id",kind:"scalar",T:9},{no:8,name:"agent_id",kind:"scalar",T:9}]),nH=(()=>[{no:1,name:"type",kind:"enum",T:ex.getEnumType(nL)},{no:2,name:"room",kind:"message",T:nt},{no:3,name:"participant",kind:"message",T:ns}],ex.makeMessageType("livekit.RoomAgentDispatch",()=>[{no:1,name:"agent_name",kind:"scalar",T:9},{no:2,name:"metadata",kind:"scalar",T:9}])),nx=(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"agent_name",kind:"scalar",T:9},{no:3,name:"room",kind:"scalar",T:9},{no:4,name:"metadata",kind:"scalar",T:9},{no:5,name:"state",kind:"message",T:nx}],ex.makeMessageType("livekit.AgentDispatchState",()=>[{no:1,name:"jobs",kind:"message",T:nF,repeated:!0},{no:2,name:"created_at",kind:"scalar",T:3},{no:3,name:"deleted_at",kind:"scalar",T:3}])),n$=ex.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),nJ=ex.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),nK=ex.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),nj=ex.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:nk,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:ex.getEnumType(nf)}]),nV=ex.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:ex.getEnumType(e9)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:ex.getEnumType(e4)},{no:9,name:"layers",kind:"message",T:nk,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:nj,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:ex.getEnumType(nl)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:ex.getEnumType(e3)},{no:17,name:"audio_features",kind:"enum",T:ex.getEnumType(nn),repeated:!0}]),nG=ex.makeMessageType("livekit.PublishDataTrackRequest",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"encryption",kind:"enum",T:ex.getEnumType(nl)}]),nq=ex.makeMessageType("livekit.PublishDataTrackResponse",()=>[{no:1,name:"info",kind:"message",T:nT}]),nW=ex.makeMessageType("livekit.UnpublishDataTrackRequest",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13}]),nY=(()=>[{no:1,name:"info",kind:"message",T:nT}],ex.makeMessageType("livekit.DataTrackSubscriberHandles.PublishedDataTrack",()=>[{no:1,name:"publisher_identity",kind:"scalar",T:9},{no:2,name:"publisher_sid",kind:"scalar",T:9},{no:3,name:"track_sid",kind:"scalar",T:9}],{localName:"DataTrackSubscriberHandles_PublishedDataTrack"})),nX=ex.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:ex.getEnumType(n$)},{no:3,name:"final",kind:"scalar",T:8}]),nz=ex.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),nQ=(()=>[{no:1,name:"room",kind:"message",T:nt},{no:2,name:"participant",kind:"message",T:ns},{no:3,name:"other_participants",kind:"message",T:ns,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:n8,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:nI},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:nE},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:ni,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}],ex.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:nu}])),nZ=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}],ex.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}])),n0=(()=>[{no:1,name:"participants",kind:"message",T:ns,repeated:!0}],ex.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:ny,repeated:!0}])),n1=(()=>[{no:1,name:"updates",kind:"message",T:n1,repeated:!0}],ex.makeMessageType("livekit.UpdateDataSubscription.Update",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"options",kind:"message",T:np}],{localName:"UpdateDataSubscription_Update"})),n2=(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:ex.getEnumType(e8)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}],ex.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:ex.getEnumType(nn),repeated:!0}])),n3=ex.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),n9=(()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:ex.getEnumType(e7)},{no:3,name:"action",kind:"enum",T:ex.getEnumType(n9)},{no:4,name:"regions",kind:"message",T:ai}],ex.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}])),n4=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:nk,repeated:!0}],ex.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}])),n8=ex.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),n6=(()=>[{no:1,name:"speakers",kind:"message",T:n_,repeated:!0}],ex.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:ex.getEnumType(e6)},{no:3,name:"score",kind:"scalar",T:2}])),n5=(()=>[{no:1,name:"updates",kind:"message",T:n6,repeated:!0}],ex.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ex.getEnumType(nJ)}])),n7=(()=>[{no:1,name:"stream_states",kind:"message",T:n5,repeated:!0}],ex.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:ex.getEnumType(e8)},{no:2,name:"enabled",kind:"scalar",T:8}])),ae=ex.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:n7,repeated:!0}]),an=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:n7,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:ae,repeated:!0}],ex.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}])),aa=(()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:an,repeated:!0}],ex.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}])),at=ex.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:ex.getEnumType(n$)}]),ai=(()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:ex.getEnumType(nK),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}],ex.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:ar,repeated:!0}])),ar=ex.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),as=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:ex.getEnumType(ne)}],ex.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"},{no:7,name:"INVALID_HANDLE"},{no:8,name:"INVALID_NAME"},{no:9,name:"DUPLICATE_HANDLE"},{no:10,name:"DUPLICATE_NAME"}])),ao=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}],ex.makeEnum("livekit.EncodedFileType",[{no:0,name:"DEFAULT_FILETYPE"},{no:1,name:"MP4"},{no:2,name:"OGG"},{no:3,name:"MP3"}])),am=ex.makeEnum("livekit.SegmentedFileProtocol",[{no:0,name:"DEFAULT_SEGMENTED_FILE_PROTOCOL"},{no:1,name:"HLS_PROTOCOL"}]),ad=ex.makeEnum("livekit.SegmentedFileSuffix",[{no:0,name:"INDEX"},{no:1,name:"TIMESTAMP"}]),al=ex.makeEnum("livekit.ImageFileSuffix",[{no:0,name:"IMAGE_SUFFIX_INDEX"},{no:1,name:"IMAGE_SUFFIX_TIMESTAMP"},{no:2,name:"IMAGE_SUFFIX_NONE_OVERWRITE"}]),ac=ex.makeEnum("livekit.StreamProtocol",[{no:0,name:"DEFAULT_PROTOCOL"},{no:1,name:"RTMP"},{no:2,name:"SRT"}]),au=ex.makeEnum("livekit.AudioMixing",[{no:0,name:"DEFAULT_MIXING"},{no:1,name:"DUAL_CHANNEL_AGENT"},{no:2,name:"DUAL_CHANNEL_ALTERNATE"}]),aT=ex.makeEnum("livekit.EncodingOptionsPreset",[{no:0,name:"H264_720P_30"},{no:1,name:"H264_720P_60"},{no:2,name:"H264_1080P_30"},{no:3,name:"H264_1080P_60"},{no:4,name:"PORTRAIT_H264_720P_30"},{no:5,name:"PORTRAIT_H264_720P_60"},{no:6,name:"PORTRAIT_H264_1080P_30"},{no:7,name:"PORTRAIT_H264_1080P_60"}]),ap=ex.makeEnum("livekit.EgressStatus",[{no:0,name:"EGRESS_STARTING"},{no:1,name:"EGRESS_ACTIVE"},{no:2,name:"EGRESS_ENDING"},{no:3,name:"EGRESS_COMPLETE"},{no:4,name:"EGRESS_FAILED"},{no:5,name:"EGRESS_ABORTED"},{no:6,name:"EGRESS_LIMIT_REACHED"}]),ak=ex.makeEnum("livekit.EgressSourceType",[{no:0,name:"EGRESS_SOURCE_TYPE_WEB",localName:"WEB"},{no:1,name:"EGRESS_SOURCE_TYPE_SDK",localName:"SDK"}]),af=ex.makeMessageType("livekit.RoomCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"layout",kind:"scalar",T:9},{no:3,name:"audio_only",kind:"scalar",T:8},{no:15,name:"audio_mixing",kind:"enum",T:ex.getEnumType(au)},{no:4,name:"video_only",kind:"scalar",T:8},{no:5,name:"custom_base_url",kind:"scalar",T:9},{no:6,name:"file",kind:"message",T:aE,oneof:"output"},{no:7,name:"stream",kind:"message",T:aR,oneof:"output"},{no:10,name:"segments",kind:"message",T:aS,oneof:"output"},{no:8,name:"preset",kind:"enum",T:ex.getEnumType(aT),oneof:"options"},{no:9,name:"advanced",kind:"message",T:aP,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:aE,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:aR,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:aS,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:aI,repeated:!0},{no:16,name:"webhooks",kind:"message",T:nU,repeated:!0}]),a_=ex.makeMessageType("livekit.WebEgressRequest",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"audio_only",kind:"scalar",T:8},{no:3,name:"video_only",kind:"scalar",T:8},{no:12,name:"await_start_signal",kind:"scalar",T:8},{no:4,name:"file",kind:"message",T:aE,oneof:"output"},{no:5,name:"stream",kind:"message",T:aR,oneof:"output"},{no:6,name:"segments",kind:"message",T:aS,oneof:"output"},{no:7,name:"preset",kind:"enum",T:ex.getEnumType(aT),oneof:"options"},{no:8,name:"advanced",kind:"message",T:aP,oneof:"options"},{no:9,name:"file_outputs",kind:"message",T:aE,repeated:!0},{no:10,name:"stream_outputs",kind:"message",T:aR,repeated:!0},{no:11,name:"segment_outputs",kind:"message",T:aS,repeated:!0},{no:13,name:"image_outputs",kind:"message",T:aI,repeated:!0},{no:14,name:"webhooks",kind:"message",T:nU,repeated:!0}]),ag=ex.makeMessageType("livekit.ParticipantEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"screen_share",kind:"scalar",T:8},{no:4,name:"preset",kind:"enum",T:ex.getEnumType(aT),oneof:"options"},{no:5,name:"advanced",kind:"message",T:aP,oneof:"options"},{no:6,name:"file_outputs",kind:"message",T:aE,repeated:!0},{no:7,name:"stream_outputs",kind:"message",T:aR,repeated:!0},{no:8,name:"segment_outputs",kind:"message",T:aS,repeated:!0},{no:9,name:"image_outputs",kind:"message",T:aI,repeated:!0},{no:10,name:"webhooks",kind:"message",T:nU,repeated:!0}]),ah=ex.makeMessageType("livekit.TrackCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"audio_track_id",kind:"scalar",T:9},{no:3,name:"video_track_id",kind:"scalar",T:9},{no:4,name:"file",kind:"message",T:aE,oneof:"output"},{no:5,name:"stream",kind:"message",T:aR,oneof:"output"},{no:8,name:"segments",kind:"message",T:aS,oneof:"output"},{no:6,name:"preset",kind:"enum",T:ex.getEnumType(aT),oneof:"options"},{no:7,name:"advanced",kind:"message",T:aP,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:aE,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:aR,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:aS,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:aI,repeated:!0},{no:15,name:"webhooks",kind:"message",T:nU,repeated:!0}]),ay=ex.makeMessageType("livekit.TrackEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"track_id",kind:"scalar",T:9},{no:3,name:"file",kind:"message",T:ab,oneof:"output"},{no:4,name:"websocket_url",kind:"scalar",T:9,oneof:"output"},{no:5,name:"webhooks",kind:"message",T:nU,repeated:!0}]),aE=ex.makeMessageType("livekit.EncodedFileOutput",()=>[{no:1,name:"file_type",kind:"enum",T:ex.getEnumType(ao)},{no:2,name:"filepath",kind:"scalar",T:9},{no:6,name:"disable_manifest",kind:"scalar",T:8},{no:3,name:"s3",kind:"message",T:aN,oneof:"output"},{no:4,name:"gcp",kind:"message",T:av,oneof:"output"},{no:5,name:"azure",kind:"message",T:aA,oneof:"output"},{no:7,name:"aliOSS",kind:"message",T:aw,oneof:"output"}]),aS=ex.makeMessageType("livekit.SegmentedFileOutput",()=>[{no:1,name:"protocol",kind:"enum",T:ex.getEnumType(am)},{no:2,name:"filename_prefix",kind:"scalar",T:9},{no:3,name:"playlist_name",kind:"scalar",T:9},{no:11,name:"live_playlist_name",kind:"scalar",T:9},{no:4,name:"segment_duration",kind:"scalar",T:13},{no:10,name:"filename_suffix",kind:"enum",T:ex.getEnumType(ad)},{no:8,name:"disable_manifest",kind:"scalar",T:8},{no:5,name:"s3",kind:"message",T:aN,oneof:"output"},{no:6,name:"gcp",kind:"message",T:av,oneof:"output"},{no:7,name:"azure",kind:"message",T:aA,oneof:"output"},{no:9,name:"aliOSS",kind:"message",T:aw,oneof:"output"}]),ab=ex.makeMessageType("livekit.DirectFileOutput",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:aN,oneof:"output"},{no:3,name:"gcp",kind:"message",T:av,oneof:"output"},{no:4,name:"azure",kind:"message",T:aA,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:aw,oneof:"output"}]),aI=ex.makeMessageType("livekit.ImageOutput",()=>[{no:1,name:"capture_interval",kind:"scalar",T:13},{no:2,name:"width",kind:"scalar",T:5},{no:3,name:"height",kind:"scalar",T:5},{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:5,name:"filename_suffix",kind:"enum",T:ex.getEnumType(al)},{no:6,name:"image_codec",kind:"enum",T:ex.getEnumType(e2)},{no:7,name:"disable_manifest",kind:"scalar",T:8},{no:8,name:"s3",kind:"message",T:aN,oneof:"output"},{no:9,name:"gcp",kind:"message",T:av,oneof:"output"},{no:10,name:"azure",kind:"message",T:aA,oneof:"output"},{no:11,name:"aliOSS",kind:"message",T:aw,oneof:"output"}]),aN=ex.makeMessageType("livekit.S3Upload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:11,name:"session_token",kind:"scalar",T:9},{no:12,name:"assume_role_arn",kind:"scalar",T:9},{no:13,name:"assume_role_external_id",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9},{no:6,name:"force_path_style",kind:"scalar",T:8},{no:7,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:8,name:"tagging",kind:"scalar",T:9},{no:9,name:"content_disposition",kind:"scalar",T:9},{no:10,name:"proxy",kind:"message",T:aO}]),av=ex.makeMessageType("livekit.GCPUpload",()=>[{no:1,name:"credentials",kind:"scalar",T:9},{no:2,name:"bucket",kind:"scalar",T:9},{no:3,name:"proxy",kind:"message",T:aO}]),aA=ex.makeMessageType("livekit.AzureBlobUpload",()=>[{no:1,name:"account_name",kind:"scalar",T:9},{no:2,name:"account_key",kind:"scalar",T:9},{no:3,name:"container_name",kind:"scalar",T:9}]),aw=ex.makeMessageType("livekit.AliOSSUpload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9}]),aO=ex.makeMessageType("livekit.ProxyConfig",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"password",kind:"scalar",T:9}]),aR=ex.makeMessageType("livekit.StreamOutput",()=>[{no:1,name:"protocol",kind:"enum",T:ex.getEnumType(ac)},{no:2,name:"urls",kind:"scalar",T:9,repeated:!0}]),aP=ex.makeMessageType("livekit.EncodingOptions",()=>[{no:1,name:"width",kind:"scalar",T:5},{no:2,name:"height",kind:"scalar",T:5},{no:3,name:"depth",kind:"scalar",T:5},{no:4,name:"framerate",kind:"scalar",T:5},{no:5,name:"audio_codec",kind:"enum",T:ex.getEnumType(e0)},{no:6,name:"audio_bitrate",kind:"scalar",T:5},{no:11,name:"audio_quality",kind:"scalar",T:5},{no:7,name:"audio_frequency",kind:"scalar",T:5},{no:8,name:"video_codec",kind:"enum",T:ex.getEnumType(e1)},{no:9,name:"video_bitrate",kind:"scalar",T:5},{no:12,name:"video_quality",kind:"scalar",T:5},{no:10,name:"key_frame_interval",kind:"scalar",T:1}]),aU=(()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"room_id",kind:"scalar",T:9},{no:13,name:"room_name",kind:"scalar",T:9},{no:26,name:"source_type",kind:"enum",T:ex.getEnumType(ak)},{no:3,name:"status",kind:"enum",T:ex.getEnumType(ap)},{no:10,name:"started_at",kind:"scalar",T:3},{no:11,name:"ended_at",kind:"scalar",T:3},{no:18,name:"updated_at",kind:"scalar",T:3},{no:21,name:"details",kind:"scalar",T:9},{no:9,name:"error",kind:"scalar",T:9},{no:22,name:"error_code",kind:"scalar",T:5},{no:4,name:"room_composite",kind:"message",T:af,oneof:"request"},{no:14,name:"web",kind:"message",T:a_,oneof:"request"},{no:19,name:"participant",kind:"message",T:ag,oneof:"request"},{no:5,name:"track_composite",kind:"message",T:ah,oneof:"request"},{no:6,name:"track",kind:"message",T:ay,oneof:"request"},{no:7,name:"stream",kind:"message",T:aU,oneof:"result"},{no:8,name:"file",kind:"message",T:aM,oneof:"result"},{no:12,name:"segments",kind:"message",T:aC,oneof:"result"},{no:15,name:"stream_results",kind:"message",T:aD,repeated:!0},{no:16,name:"file_results",kind:"message",T:aM,repeated:!0},{no:17,name:"segment_results",kind:"message",T:aC,repeated:!0},{no:20,name:"image_results",kind:"message",T:aF,repeated:!0},{no:23,name:"manifest_location",kind:"scalar",T:9},{no:25,name:"backup_storage_used",kind:"scalar",T:8}],ex.makeMessageType("livekit.StreamInfoList",()=>[{no:1,name:"info",kind:"message",T:aD,repeated:!0}])),aD=ex.makeMessageType("livekit.StreamInfo",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:4,name:"duration",kind:"scalar",T:3},{no:5,name:"status",kind:"enum",T:ex.getEnumType(aL)},{no:6,name:"error",kind:"scalar",T:9},{no:7,name:"last_retry_at",kind:"scalar",T:3},{no:8,name:"retries",kind:"scalar",T:13}]),aL=ex.makeEnum("livekit.StreamInfo.Status",[{no:0,name:"ACTIVE"},{no:1,name:"FINISHED"},{no:2,name:"FAILED"}]),aM=ex.makeMessageType("livekit.FileInfo",()=>[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:6,name:"duration",kind:"scalar",T:3},{no:4,name:"size",kind:"scalar",T:3},{no:5,name:"location",kind:"scalar",T:9}]),aC=ex.makeMessageType("livekit.SegmentsInfo",()=>[{no:1,name:"playlist_name",kind:"scalar",T:9},{no:8,name:"live_playlist_name",kind:"scalar",T:9},{no:2,name:"duration",kind:"scalar",T:3},{no:3,name:"size",kind:"scalar",T:3},{no:4,name:"playlist_location",kind:"scalar",T:9},{no:9,name:"live_playlist_location",kind:"scalar",T:9},{no:5,name:"segment_count",kind:"scalar",T:3},{no:6,name:"started_at",kind:"scalar",T:3},{no:7,name:"ended_at",kind:"scalar",T:3}]),aF=ex.makeMessageType("livekit.ImagesInfo",()=>[{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:1,name:"image_count",kind:"scalar",T:3},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3}]),aB=ex.makeMessageType("livekit.AutoParticipantEgress",()=>[{no:1,name:"preset",kind:"enum",T:ex.getEnumType(aT),oneof:"options"},{no:2,name:"advanced",kind:"message",T:aP,oneof:"options"},{no:3,name:"file_outputs",kind:"message",T:aE,repeated:!0},{no:4,name:"segment_outputs",kind:"message",T:aS,repeated:!0}]),aH=ex.makeMessageType("livekit.AutoTrackEgress",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:aN,oneof:"output"},{no:3,name:"gcp",kind:"message",T:av,oneof:"output"},{no:4,name:"azure",kind:"message",T:aA,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:aw,oneof:"output"}]),ax=ex.makeEnum("livekit.IngressInput",[{no:0,name:"RTMP_INPUT"},{no:1,name:"WHIP_INPUT"},{no:2,name:"URL_INPUT"}]),a$=ex.makeEnum("livekit.IngressAudioEncodingPreset",[{no:0,name:"OPUS_STEREO_96KBPS"},{no:1,name:"OPUS_MONO_64KBS"}]),aJ=ex.makeEnum("livekit.IngressVideoEncodingPreset",[{no:0,name:"H264_720P_30FPS_3_LAYERS"},{no:1,name:"H264_1080P_30FPS_3_LAYERS"},{no:2,name:"H264_540P_25FPS_2_LAYERS"},{no:3,name:"H264_720P_30FPS_1_LAYER"},{no:4,name:"H264_1080P_30FPS_1_LAYER"},{no:5,name:"H264_720P_30FPS_3_LAYERS_HIGH_MOTION"},{no:6,name:"H264_1080P_30FPS_3_LAYERS_HIGH_MOTION"},{no:7,name:"H264_540P_25FPS_2_LAYERS_HIGH_MOTION"},{no:8,name:"H264_720P_30FPS_1_LAYER_HIGH_MOTION"},{no:9,name:"H264_1080P_30FPS_1_LAYER_HIGH_MOTION"}]),aK=ex.makeMessageType("livekit.IngressAudioOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:ex.getEnumType(e4)},{no:3,name:"preset",kind:"enum",T:ex.getEnumType(a$),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:aV,oneof:"encoding_options"}]),aj=ex.makeMessageType("livekit.IngressVideoOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:ex.getEnumType(e4)},{no:3,name:"preset",kind:"enum",T:ex.getEnumType(aJ),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:aG,oneof:"encoding_options"}]),aV=ex.makeMessageType("livekit.IngressAudioEncodingOptions",()=>[{no:1,name:"audio_codec",kind:"enum",T:ex.getEnumType(e0)},{no:2,name:"bitrate",kind:"scalar",T:13},{no:3,name:"disable_dtx",kind:"scalar",T:8},{no:4,name:"channels",kind:"scalar",T:13}]),aG=ex.makeMessageType("livekit.IngressVideoEncodingOptions",()=>[{no:1,name:"video_codec",kind:"enum",T:ex.getEnumType(e1)},{no:2,name:"frame_rate",kind:"scalar",T:1},{no:3,name:"layers",kind:"message",T:nk,repeated:!0}]),aq=(()=>[{no:1,name:"ingress_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"stream_key",kind:"scalar",T:9},{no:4,name:"url",kind:"scalar",T:9},{no:5,name:"input_type",kind:"enum",T:ex.getEnumType(ax)},{no:13,name:"bypass_transcoding",kind:"scalar",T:8},{no:15,name:"enable_transcoding",kind:"scalar",T:8,opt:!0},{no:6,name:"audio",kind:"message",T:aK},{no:7,name:"video",kind:"message",T:aj},{no:8,name:"room_name",kind:"scalar",T:9},{no:9,name:"participant_identity",kind:"scalar",T:9},{no:10,name:"participant_name",kind:"scalar",T:9},{no:14,name:"participant_metadata",kind:"scalar",T:9},{no:11,name:"reusable",kind:"scalar",T:8},{no:12,name:"state",kind:"message",T:aq},{no:16,name:"enabled",kind:"scalar",T:8,opt:!0}],ex.makeMessageType("livekit.IngressState",()=>[{no:1,name:"status",kind:"enum",T:ex.getEnumType(aW)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"video",kind:"message",T:aY},{no:4,name:"audio",kind:"message",T:aX},{no:5,name:"room_id",kind:"scalar",T:9},{no:7,name:"started_at",kind:"scalar",T:3},{no:8,name:"ended_at",kind:"scalar",T:3},{no:10,name:"updated_at",kind:"scalar",T:3},{no:9,name:"resource_id",kind:"scalar",T:9},{no:6,name:"tracks",kind:"message",T:nu,repeated:!0}])),aW=ex.makeEnum("livekit.IngressState.Status",[{no:0,name:"ENDPOINT_INACTIVE"},{no:1,name:"ENDPOINT_BUFFERING"},{no:2,name:"ENDPOINT_PUBLISHING"},{no:3,name:"ENDPOINT_ERROR"},{no:4,name:"ENDPOINT_COMPLETE"}]),aY=ex.makeMessageType("livekit.InputVideoState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"width",kind:"scalar",T:13},{no:4,name:"height",kind:"scalar",T:13},{no:5,name:"framerate",kind:"scalar",T:1}]),aX=ex.makeMessageType("livekit.InputAudioState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"channels",kind:"scalar",T:13},{no:4,name:"sample_rate",kind:"scalar",T:13}]),az=ex.makeMessageType("livekit.RoomEgress",()=>[{no:1,name:"room",kind:"message",T:af},{no:3,name:"participant",kind:"message",T:aB},{no:2,name:"tracks",kind:"message",T:aH}]),aQ=ex.makeMessageType("livekit.RoomConfiguration",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"empty_timeout",kind:"scalar",T:13},{no:3,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:11,name:"metadata",kind:"scalar",T:9},{no:5,name:"egress",kind:"message",T:az},{no:7,name:"min_playout_delay",kind:"scalar",T:13},{no:8,name:"max_playout_delay",kind:"scalar",T:13},{no:9,name:"sync_streams",kind:"scalar",T:8},{no:10,name:"agents",kind:"message",T:nH,repeated:!0}]),aZ=ex.makeEnum("livekit.SIPStatusCode",[{no:0,name:"SIP_STATUS_UNKNOWN"},{no:100,name:"SIP_STATUS_TRYING"},{no:180,name:"SIP_STATUS_RINGING"},{no:181,name:"SIP_STATUS_CALL_IS_FORWARDED"},{no:182,name:"SIP_STATUS_QUEUED"},{no:183,name:"SIP_STATUS_SESSION_PROGRESS"},{no:199,name:"SIP_STATUS_EARLY_DIALOG_TERMINATED"},{no:200,name:"SIP_STATUS_OK"},{no:202,name:"SIP_STATUS_ACCEPTED"},{no:204,name:"SIP_STATUS_NO_NOTIFICATION"},{no:300,name:"SIP_STATUS_MULTIPLE_CHOICES"},{no:301,name:"SIP_STATUS_MOVED_PERMANENTLY"},{no:302,name:"SIP_STATUS_MOVED_TEMPORARILY"},{no:305,name:"SIP_STATUS_USE_PROXY"},{no:380,name:"SIP_STATUS_ALTERNATIVE_SERVICE"},{no:400,name:"SIP_STATUS_BAD_REQUEST"},{no:401,name:"SIP_STATUS_UNAUTHORIZED"},{no:402,name:"SIP_STATUS_PAYMENT_REQUIRED"},{no:403,name:"SIP_STATUS_FORBIDDEN"},{no:404,name:"SIP_STATUS_NOTFOUND"},{no:405,name:"SIP_STATUS_METHOD_NOT_ALLOWED"},{no:406,name:"SIP_STATUS_NOT_ACCEPTABLE"},{no:407,name:"SIP_STATUS_PROXY_AUTH_REQUIRED"},{no:408,name:"SIP_STATUS_REQUEST_TIMEOUT"},{no:409,name:"SIP_STATUS_CONFLICT"},{no:410,name:"SIP_STATUS_GONE"},{no:411,name:"SIP_STATUS_LENGTH_REQUIRED"},{no:412,name:"SIP_STATUS_CONDITIONAL_REQUEST_FAILED"},{no:413,name:"SIP_STATUS_REQUEST_ENTITY_TOO_LARGE"},{no:414,name:"SIP_STATUS_REQUEST_URI_TOO_LONG"},{no:415,name:"SIP_STATUS_UNSUPPORTED_MEDIA_TYPE"},{no:416,name:"SIP_STATUS_REQUESTED_RANGE_NOT_SATISFIABLE"},{no:417,name:"SIP_STATUS_UNKNOWN_RESOURCE_PRIORITY"},{no:420,name:"SIP_STATUS_BAD_EXTENSION"},{no:421,name:"SIP_STATUS_EXTENSION_REQUIRED"},{no:422,name:"SIP_STATUS_SESSION_INTERVAL_TOO_SMALL"},{no:423,name:"SIP_STATUS_INTERVAL_TOO_BRIEF"},{no:424,name:"SIP_STATUS_BAD_LOCATION_INFORMATION"},{no:425,name:"SIP_STATUS_BAD_ALERT_MESSAGE"},{no:428,name:"SIP_STATUS_USE_IDENTITY_HEADER"},{no:429,name:"SIP_STATUS_PROVIDE_REFERRER_IDENTITY"},{no:430,name:"SIP_STATUS_FLOW_FAILED"},{no:433,name:"SIP_STATUS_ANONYMITY_DISALLOWED"},{no:436,name:"SIP_STATUS_BAD_IDENTITY_INFO"},{no:437,name:"SIP_STATUS_UNSUPPORTED_CERTIFICATE"},{no:438,name:"SIP_STATUS_INVALID_IDENTITY_HEADER"},{no:439,name:"SIP_STATUS_FIRST_HOP_LACKS_OUTBOUND_SUPPORT"},{no:440,name:"SIP_STATUS_MAX_BREADTH_EXCEEDED"},{no:469,name:"SIP_STATUS_BAD_INFO_PACKAGE"},{no:470,name:"SIP_STATUS_CONSENT_NEEDED"},{no:480,name:"SIP_STATUS_TEMPORARILY_UNAVAILABLE"},{no:481,name:"SIP_STATUS_CALL_TRANSACTION_DOES_NOT_EXISTS"},{no:482,name:"SIP_STATUS_LOOP_DETECTED"},{no:483,name:"SIP_STATUS_TOO_MANY_HOPS"},{no:484,name:"SIP_STATUS_ADDRESS_INCOMPLETE"},{no:485,name:"SIP_STATUS_AMBIGUOUS"},{no:486,name:"SIP_STATUS_BUSY_HERE"},{no:487,name:"SIP_STATUS_REQUEST_TERMINATED"},{no:488,name:"SIP_STATUS_NOT_ACCEPTABLE_HERE"},{no:489,name:"SIP_STATUS_BAD_EVENT"},{no:491,name:"SIP_STATUS_REQUEST_PENDING"},{no:493,name:"SIP_STATUS_UNDECIPHERABLE"},{no:494,name:"SIP_STATUS_SECURITY_AGREEMENT_REQUIRED"},{no:500,name:"SIP_STATUS_INTERNAL_SERVER_ERROR"},{no:501,name:"SIP_STATUS_NOT_IMPLEMENTED"},{no:502,name:"SIP_STATUS_BAD_GATEWAY"},{no:503,name:"SIP_STATUS_SERVICE_UNAVAILABLE"},{no:504,name:"SIP_STATUS_GATEWAY_TIMEOUT"},{no:505,name:"SIP_STATUS_VERSION_NOT_SUPPORTED"},{no:513,name:"SIP_STATUS_MESSAGE_TOO_LARGE"},{no:600,name:"SIP_STATUS_GLOBAL_BUSY_EVERYWHERE"},{no:603,name:"SIP_STATUS_GLOBAL_DECLINE"},{no:604,name:"SIP_STATUS_GLOBAL_DOES_NOT_EXIST_ANYWHERE"},{no:606,name:"SIP_STATUS_GLOBAL_NOT_ACCEPTABLE"},{no:607,name:"SIP_STATUS_GLOBAL_UNWANTED"},{no:608,name:"SIP_STATUS_GLOBAL_REJECTED"}]),a0=ex.makeEnum("livekit.SIPTransport",[{no:0,name:"SIP_TRANSPORT_AUTO"},{no:1,name:"SIP_TRANSPORT_UDP"},{no:2,name:"SIP_TRANSPORT_TCP"},{no:3,name:"SIP_TRANSPORT_TLS"}]),a1=ex.makeEnum("livekit.SIPHeaderOptions",[{no:0,name:"SIP_NO_HEADERS"},{no:1,name:"SIP_X_HEADERS"},{no:2,name:"SIP_ALL_HEADERS"}]),a2=ex.makeEnum("livekit.SIPMediaEncryption",[{no:0,name:"SIP_MEDIA_ENCRYPT_DISABLE"},{no:1,name:"SIP_MEDIA_ENCRYPT_ALLOW"},{no:2,name:"SIP_MEDIA_ENCRYPT_REQUIRE"}]),a3=ex.makeEnum("livekit.ProviderType",[{no:0,name:"PROVIDER_TYPE_UNKNOWN",localName:"UNKNOWN"},{no:1,name:"PROVIDER_TYPE_INTERNAL",localName:"INTERNAL"},{no:2,name:"PROVIDER_TYPE_EXTERNAL",localName:"EXTERNAL"}]),a9=(()=>[{no:1,name:"code",kind:"enum",T:ex.getEnumType(aZ)},{no:2,name:"status",kind:"scalar",T:9}],ex.makeEnum("livekit.SIPTrunkInfo.TrunkKind",[{no:0,name:"TRUNK_LEGACY"},{no:1,name:"TRUNK_INBOUND"},{no:2,name:"TRUNK_OUTBOUND"}])),a4=(()=>[{no:1,name:"sip_trunk_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"numbers",kind:"scalar",T:9,repeated:!0},{no:5,name:"allowed_addresses",kind:"scalar",T:9,repeated:!0},{no:6,name:"allowed_numbers",kind:"scalar",T:9,repeated:!0},{no:7,name:"auth_username",kind:"scalar",T:9},{no:8,name:"auth_password",kind:"scalar",T:9},{no:9,name:"headers",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"headers_to_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:14,name:"attributes_to_headers",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:15,name:"include_headers",kind:"enum",T:ex.getEnumType(a1)},{no:11,name:"ringing_timeout",kind:"message",T:eJ},{no:12,name:"max_call_duration",kind:"message",T:eJ},{no:13,name:"krisp_enabled",kind:"scalar",T:8},{no:16,name:"media_encryption",kind:"enum",T:ex.getEnumType(a2)}],ex.makeMessageType("livekit.SIPDispatchRuleDirect",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}])),a8=ex.makeMessageType("livekit.SIPDispatchRuleIndividual",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}]),a6=ex.makeMessageType("livekit.SIPDispatchRuleCallee",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9},{no:3,name:"randomize",kind:"scalar",T:8}]),a5=ex.makeMessageType("livekit.SIPDispatchRule",()=>[{no:1,name:"dispatch_rule_direct",kind:"message",T:a4,oneof:"rule"},{no:2,name:"dispatch_rule_individual",kind:"message",T:a8,oneof:"rule"},{no:3,name:"dispatch_rule_callee",kind:"message",T:a6,oneof:"rule"}]);()=>[{no:1,name:"sip_dispatch_rule_id",kind:"scalar",T:9},{no:2,name:"rule",kind:"message",T:a5},{no:3,name:"trunk_ids",kind:"scalar",T:9,repeated:!0},{no:4,name:"hide_phone_number",kind:"scalar",T:8},{no:7,name:"inbound_numbers",kind:"scalar",T:9,repeated:!0},{no:13,name:"numbers",kind:"scalar",T:9,repeated:!0},{no:5,name:"name",kind:"scalar",T:9},{no:6,name:"metadata",kind:"scalar",T:9},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"room_preset",kind:"scalar",T:9},{no:10,name:"room_config",kind:"message",T:aQ},{no:11,name:"krisp_enabled",kind:"scalar",T:8},{no:12,name:"media_encryption",kind:"enum",T:ex.getEnumType(a2)}],()=>[{no:1,name:"city",kind:"scalar",T:9},{no:2,name:"country",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9}];var a7=e.i(951615);let te=new TextEncoder,tn=new TextDecoder,ta=e=>a7.Buffer.from(e).toString("base64url");var tt=e.i(666680),ti=e.i(812057);class tr extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,n){super(e,n),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ts extends tr{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class to extends tr{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class tm extends tr{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class td extends tr{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n)}}let tl=tt.webcrypto;function tc(e,n,...a){if((a=a.filter(Boolean)).length>2){let n=a.pop();e+=`one of type ${a.join(", ")}, or ${n}.`}else 2===a.length?e+=`one of type ${a[0]} or ${a[1]}.`:e+=`of type ${a[0]}.`;return null==n?e+=` Received ${n}`:"function"==typeof n&&n.name?e+=` Received function ${n.name}`:"object"==typeof n&&null!=n&&n.constructor?.name&&(e+=` Received an instance of ${n.constructor.name}`),e}let tu=(e,...n)=>tc("Key must be ",e,...n);function tT(e,n,...a){return tc(`Key for the ${e} algorithm must be `,n,...a)}let tp=e=>ti.types.isKeyObject(e)||ti.types.isCryptoKey(e),tk=["KeyObject"];function tf(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function t_(e){return tf(e)&&"string"==typeof e.kty}(globalThis.CryptoKey||tl?.CryptoKey)&&tk.push("CryptoKey"),new WeakMap;let tg=(e,n)=>{let a;try{a=e instanceof tt.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof a||a<2048)throw TypeError(`${n} requires key modulusLength to be 2048 bits or larger`)},th=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function ty(e,n="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${n} must be ${e}`)}function tE(e,n){return e.name===n}function tS(e){return parseInt(e.name.slice(4),10)}let tb=(0,ti.promisify)(tt.sign),tI=async(e,n,a)=>{let t=function(e,n,a){if(n instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(tu(n,...tk));return(0,tt.createSecretKey)(n)}if(n instanceof tt.KeyObject)return n;if(ti.types.isCryptoKey(n))return!function(e,n,...a){switch(n){case"HS256":case"HS384":case"HS512":{if(!tE(e.algorithm,"HMAC"))throw ty("HMAC");let a=parseInt(n.slice(2),10);if(tS(e.algorithm.hash)!==a)throw ty(`SHA-${a}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!tE(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ty("RSASSA-PKCS1-v1_5");let a=parseInt(n.slice(2),10);if(tS(e.algorithm.hash)!==a)throw ty(`SHA-${a}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!tE(e.algorithm,"RSA-PSS"))throw ty("RSA-PSS");let a=parseInt(n.slice(2),10);if(tS(e.algorithm.hash)!==a)throw ty(`SHA-${a}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw ty("Ed25519 or Ed448");break;case"Ed25519":if(!tE(e.algorithm,"Ed25519"))throw ty("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!tE(e.algorithm,"ECDSA"))throw ty("ECDSA");let a=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(n);if(e.algorithm.namedCurve!==a)throw ty(a,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(a.length&&!a.some(n=>e.usages.includes(n))){let e="CryptoKey does not support this operation, its usages must include ";if(a.length>2){let n=a.pop();e+=`one of ${a.join(", ")}, or ${n}.`}else 2===a.length?e+=`one of ${a[0]} or ${a[1]}.`:e+=`${a[0]}.`;throw TypeError(e)}}(n,e,a),tt.KeyObject.from(n);if(t_(n))return e.startsWith("HS")?(0,tt.createSecretKey)(Buffer.from(n.k,"base64url")):n;throw TypeError(tu(n,...tk,"Uint8Array","JSON Web Key"))}(e,n,"sign");if(e.startsWith("HS")){let n=tt.createHmac(function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new ts(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),t);return n.update(a),n.digest()}return tb(function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new ts(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),a,function(e,n){let a,t,i,r;if(n instanceof tt.KeyObject)a=n.asymmetricKeyType,t=n.asymmetricKeyDetails;else switch(i=!0,n.kty){case"RSA":a="rsa";break;case"EC":a="ec";break;case"OKP":if("Ed25519"===n.crv){a="ed25519";break}if("Ed448"===n.crv){a="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"Ed25519":if("ed25519"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(a))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");tg(n,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===a){let{hashAlgorithm:n,mgf1HashAlgorithm:a,saltLength:i}=t,r=parseInt(e.slice(-3),10);if(void 0!==n&&(n!==`sha${r}`||a!==n))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>r>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");tg(n,e),r={padding:tt.constants.RSA_PKCS1_PSS_PADDING,saltLength:tt.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let t=((e,n)=>{let a;if(ti.types.isCryptoKey(e))a=tt.KeyObject.from(e);else if(ti.types.isKeyObject(e))a=e;else if(t_(e))return e.crv;else throw TypeError(tu(e,...tk));if("secret"===a.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(a.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${a.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${a.asymmetricKeyType.slice(1)}`;case"ec":{let e=a.asymmetricKeyDetails.namedCurve;switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new ts("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}})(n),i=th.get(e);if(t!==i)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${i}, got ${t}`);r={dsaEncoding:"ieee-p1363"};break}default:throw new ts(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return i?{format:"jwk",key:n,...r}:r?{...r,key:n}:n}(e,t))},tN=e=>e?.[Symbol.toStringTag],tv=(e,n,a)=>{if(void 0!==n.use&&"sig"!==n.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==n.key_ops&&n.key_ops.includes?.(a)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${a}`);if(void 0!==n.alg&&n.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0};function tA(e,n,a,t){n.startsWith("HS")||"dir"===n||n.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(n)?((e,n,a,t)=>{if(!(n instanceof Uint8Array)){if(t&&t_(n)){if(t_(n)&&"oct"===n.kty&&"string"==typeof n.k&&tv(e,n,a))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!tp(n))throw TypeError(tT(e,n,...tk,"Uint8Array",t?"JSON Web Key":null));if("secret"!==n.type)throw TypeError(`${tN(n)} instances for symmetric algorithms must be of type "secret"`)}})(n,a,t,e):((e,n,a,t)=>{if(t&&t_(n))switch(a){case"sign":if("oct"!==n.kty&&"string"==typeof n.d&&tv(e,n,a))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==n.kty&&void 0===n.d&&tv(e,n,a))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!tp(n))throw TypeError(tT(e,n,...tk,t?"JSON Web Key":null));if("secret"===n.type)throw TypeError(`${tN(n)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===a&&"public"===n.type)throw TypeError(`${tN(n)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===a&&"public"===n.type)throw TypeError(`${tN(n)} instances for asymmetric algorithm decryption must be of type "private"`);if(n.algorithm&&"verify"===a&&"private"===n.type)throw TypeError(`${tN(n)} instances for asymmetric algorithm verifying must be of type "public"`);if(n.algorithm&&"encrypt"===a&&"private"===n.type)throw TypeError(`${tN(n)} instances for asymmetric algorithm encryption must be of type "public"`)})(n,a,t,e)}tA.bind(void 0,!1);let tw=tA.bind(void 0,!0),tO=function(e,n,a,t,i){let r;if(void 0!==i.crit&&t?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!t||void 0===t.crit)return new Set;if(!Array.isArray(t.crit)||0===t.crit.length||t.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(r=void 0!==a?new Map([...Object.entries(a),...n.entries()]):n,t.crit)){if(!r.has(s))throw new ts(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(r.get(s)&&void 0===t[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(t.crit)};class tR{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){let a;if(!this._protectedHeader&&!this._unprotectedHeader)throw new to("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!((...e)=>{let n,a=e.filter(Boolean);if(0===a.length||1===a.length)return!0;for(let e of a){let a=Object.keys(e);if(!n||0===n.size){n=new Set(a);continue}for(let e of a){if(n.has(e))return!1;n.add(e)}}return!0})(this._protectedHeader,this._unprotectedHeader))throw new to("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let t={...this._protectedHeader,...this._unprotectedHeader},i=tO(to,new Map([["b64",!0]]),n?.crit,this._protectedHeader,t),r=!0;if(i.has("b64")&&"boolean"!=typeof(r=this._protectedHeader.b64))throw new to('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:s}=t;if("string"!=typeof s||!s)throw new to('JWS "alg" (Algorithm) Header Parameter missing or invalid');tw(s,e,"sign");let o=this._payload;r&&(o=te.encode(ta(o)));let m=function(...e){let n=new Uint8Array(e.reduce((e,{length:n})=>e+n,0)),a=0;for(let t of e)n.set(t,a),a+=t.length;return n}(a=this._protectedHeader?te.encode(ta(JSON.stringify(this._protectedHeader))):te.encode(""),te.encode("."),o),d={signature:ta(await tI(s,e,m)),payload:""};return r&&(d.payload=tn.decode(o)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=tn.decode(a)),d}}class tP{_flattened;constructor(e){this._flattened=new tR(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){let a=await this._flattened.sign(e,n);if(void 0===a.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${a.protected}.${a.payload}.${a.signature}`}}let tU=e=>Math.floor(e.getTime()/1e3),tD=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tL=e=>{let n,a=tD.exec(e);if(!a||a[4]&&a[1])throw TypeError("Invalid time period format");let t=parseFloat(a[2]);switch(a[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(t);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(60*t);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(3600*t);break;case"day":case"days":case"d":n=Math.round(86400*t);break;case"week":case"weeks":case"w":n=Math.round(604800*t);break;default:n=Math.round(0x1e187e0*t)}return"-"===a[1]||"ago"===a[4]?-n:n};function tM(e,n){if(!Number.isFinite(n))throw TypeError(`Invalid ${e} input`);return n}class tC{_payload;constructor(e={}){if(!tf(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tM("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tM("setNotBefore",tU(e))}:this._payload={...this._payload,nbf:tU(new Date)+tL(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tM("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tM("setExpirationTime",tU(e))}:this._payload={...this._payload,exp:tU(new Date)+tL(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tU(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tM("setIssuedAt",tU(e))}:"string"==typeof e?this._payload={...this._payload,iat:tM("setIssuedAt",tU(new Date)+tL(e))}:this._payload={...this._payload,iat:tM("setIssuedAt",e)},this}}class tF extends tC{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){let a=new tP(te.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new tm("JWTs MUST NOT use unencoded payload");return a.sign(e,n)}}function tB(e){switch(e){case e4.CAMERA:return"camera";case e4.MICROPHONE:return"microphone";case e4.SCREEN_SHARE:return"screen_share";case e4.SCREEN_SHARE_AUDIO:return"screen_share_audio";default:throw TypeError(`Cannot convert TrackSource ${e} to string`)}}(0,ti.promisify)(tt.verify);class tH{constructor(e,n,a){if(e||(e=process.env.LIVEKIT_API_KEY),n||(n=process.env.LIVEKIT_API_SECRET),e&&n)"u">typeof document&&console.error("You should not include your API secret in your web client bundle.\n\nYour web client should request a token from your backend server which should then use the API secret to generate a token. See https://docs.livekit.io/client/connect/");else throw Error("api-key and api-secret must be set");this.apiKey=e,this.apiSecret=n,this.grants={},this.identity=null==a?void 0:a.identity,this.ttl=(null==a?void 0:a.ttl)||"6h","number"==typeof this.ttl&&(this.ttl=`${this.ttl}s`),(null==a?void 0:a.metadata)&&(this.metadata=a.metadata),(null==a?void 0:a.attributes)&&(this.attributes=a.attributes),(null==a?void 0:a.name)&&(this.name=a.name)}addGrant(e){this.grants.video={...this.grants.video??{},...e}}addInferenceGrant(e){this.grants.inference={...this.grants.inference??{},...e}}addSIPGrant(e){this.grants.sip={...this.grants.sip??{},...e}}addObservabilityGrant(e){this.grants.observability={...this.grants.observability??{},...e}}get name(){return this.grants.name}set name(e){this.grants.name=e}get metadata(){return this.grants.metadata}set metadata(e){this.grants.metadata=e}get attributes(){return this.grants.attributes}set attributes(e){this.grants.attributes=e}get kind(){return this.grants.kind}set kind(e){this.grants.kind=e}get sha256(){return this.grants.sha256}set sha256(e){this.grants.sha256=e}get roomPreset(){return this.grants.roomPreset}set roomPreset(e){this.grants.roomPreset=e}get roomConfig(){return this.grants.roomConfig}set roomConfig(e){this.grants.roomConfig=e}async toJwt(){var e,n;let a,t=new TextEncoder().encode(this.apiSecret),i=new tF((Array.isArray(null==(n=(a={...this.grants}).video)?void 0:n.canPublishSources)&&(a.video.canPublishSources=a.video.canPublishSources.map(tB)),a)).setProtectedHeader({alg:"HS256"}).setIssuer(this.apiKey).setExpirationTime(this.ttl).setNotBefore(0);if(this.identity)i.setSubject(this.identity);else if(null==(e=this.grants.video)?void 0:e.roomJoin)throw Error("identity is required for join but not set");return i.sign(t)}}var tx=e.i(39334),t$=e.i(572067);let tJ="[LiveKit Token]";async function tK(e){try{let{userId:n}=await (0,t$.auth)(),{roomName:a,participantName:t,participantIdentity:i}=await e.json();if(!n)return console.warn(`${tJ} Unauthenticated token request rejected`),tx.NextResponse.json({error:"Authentication required"},{status:401});let r=t||"User";if(!a)return tx.NextResponse.json({error:"Missing required field: roomName"},{status:400});let s=process.env.LIVEKIT_API_KEY,o=process.env.LIVEKIT_API_SECRET;if(!s||!o)return console.error(`${tJ} Missing LIVEKIT_API_KEY or LIVEKIT_API_SECRET`),tx.NextResponse.json({error:"LiveKit server not configured"},{status:500});let m=new tH(s,o,{identity:n,name:r});m.addGrant({room:a,roomJoin:!0,canPublish:!0,canSubscribe:!0,canPublishData:!0,canUpdateOwnMetadata:!0});let d=await m.toJwt();return console.log(`${tJ} Token generated for room: ${a}, participant: ${r} (${n})`),tx.NextResponse.json({token:d,url:process.env.LIVEKIT_URL||"ws://localhost:7880"})}catch(e){return console.error(`${tJ} Token generation failed:`,e),tx.NextResponse.json({error:"Failed to generate token"},{status:500})}}e.s(["POST",()=>tK],551128);var tj=e.i(551128);let tV=new d.AppRouteRouteModule({definition:{kind:l.RouteKind.APP_ROUTE,page:"/api/livekit/token/route",pathname:"/api/livekit/token",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/livekit/token/route.ts",nextConfigOutput:"",userland:tj}),{workAsyncStorage:tG,workUnitAsyncStorage:tq,serverHooks:tW}=tV;function tY(){return(0,c.patchFetch)({workAsyncStorage:tG,workUnitAsyncStorage:tq})}async function tX(e,n,a){tV.isDev&&(0,u.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let t="/api/livekit/token/route";t=t.replace(/\/index$/,"")||"/";let i=await tV.prepare(e,n,{srcPage:t,multiZoneDraftMode:!1});if(!i)return n.statusCode=400,n.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:r,params:s,nextConfig:o,parsedUrl:m,isDraftMode:d,prerenderManifest:c,routerServerContext:v,isOnDemandRevalidate:A,revalidateOnlyGenerated:w,resolvedPathname:O,clientReferenceManifest:R,serverActionsManifest:P}=i,U=(0,k.normalizeAppPath)(t),D=!!(c.dynamicRoutes[U]||c.routes[O]),L=async()=>((null==v?void 0:v.render404)?await v.render404(e,n,m,!1):n.end("This page could not be found"),null);if(D&&!d){let e=!!c.routes[O],n=c.dynamicRoutes[U];if(n&&!1===n.fallback&&!e){if(o.experimental.adapterPath)return await L();throw new I.NoFallbackError}}let M=null;!D||tV.isDev||d||(M="/index"===(M=O)?"/":M);let C=!0===tV.isDev||!D,F=D&&!C;P&&R&&(0,p.setManifestsSingleton)({page:t,clientReferenceManifest:R,serverActionsManifest:P});let B=e.method||"GET",H=(0,T.getTracer)(),x=H.getActiveScopeSpan(),$={params:s,prerenderManifest:c,renderOpts:{experimental:{authInterrupts:!!o.experimental.authInterrupts},cacheComponents:!!o.cacheComponents,supportsDynamicResponse:C,incrementalCache:(0,u.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:o.cacheLife,waitUntil:a.waitUntil,onClose:e=>{n.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(n,a,t,i)=>tV.onRequestError(e,n,t,i,v)},sharedContext:{buildId:r}},J=new f.NodeNextRequest(e),K=new f.NodeNextResponse(n),j=_.NextRequestAdapter.fromNodeNextRequest(J,(0,_.signalFromNodeResponse)(n));try{let i=async e=>tV.handle(j,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":n.statusCode,"next.rsc":!1});let a=H.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==g.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=a.get("next.route");if(i){let n=`${B} ${i}`;e.setAttributes({"next.route":i,"http.route":i,"next.span_name":n}),e.updateName(n)}else e.updateName(`${B} ${t}`)}),r=!!(0,u.getRequestMeta)(e,"minimalMode"),s=async s=>{var m,u;let T=async({previousCacheEntry:o})=>{try{if(!r&&A&&w&&!o)return n.statusCode=404,n.setHeader("x-nextjs-cache","REVALIDATED"),n.end("This page could not be found"),null;let t=await i(s);e.fetchMetrics=$.renderOpts.fetchMetrics;let m=$.renderOpts.pendingWaitUntil;m&&a.waitUntil&&(a.waitUntil(m),m=void 0);let d=$.renderOpts.collectedTags;if(!D)return await (0,y.sendResponse)(J,K,t,$.renderOpts.pendingWaitUntil),null;{let e=await t.blob(),n=(0,E.toNodeOutgoingHttpHeaders)(t.headers);d&&(n[b.NEXT_CACHE_TAGS_HEADER]=d),!n["content-type"]&&e.type&&(n["content-type"]=e.type);let a=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=b.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,i=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=b.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:N.CachedRouteKind.APP_ROUTE,status:t.status,body:Buffer.from(await e.arrayBuffer()),headers:n},cacheControl:{revalidate:a,expire:i}}}}catch(n){throw(null==o?void 0:o.isStale)&&await tV.onRequestError(e,n,{routerKind:"App Router",routePath:t,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:A})},!1,v),n}},p=await tV.handleResponse({req:e,nextConfig:o,cacheKey:M,routeKind:l.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:c,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:w,responseGenerator:T,waitUntil:a.waitUntil,isMinimalMode:r});if(!D)return null;if((null==p||null==(m=p.value)?void 0:m.kind)!==N.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==p||null==(u=p.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});r||n.setHeader("x-nextjs-cache",A?"REVALIDATED":p.isMiss?"MISS":p.isStale?"STALE":"HIT"),d&&n.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let k=(0,E.fromNodeOutgoingHttpHeaders)(p.value.headers);return r&&D||k.delete(b.NEXT_CACHE_TAGS_HEADER),!p.cacheControl||n.getHeader("Cache-Control")||k.get("Cache-Control")||k.set("Cache-Control",(0,S.getCacheControlHeader)(p.cacheControl)),await (0,y.sendResponse)(J,K,new Response(p.value.body,{headers:k,status:p.value.status||200})),null};x?await s(x):await H.withPropagatedContext(e.headers,()=>H.trace(g.BaseServerSpan.handleRequest,{spanName:`${B} ${t}`,kind:T.SpanKind.SERVER,attributes:{"http.method":B,"http.target":e.url}},s))}catch(n){if(n instanceof I.NoFallbackError||await tV.onRequestError(e,n,{routerKind:"App Router",routePath:U,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:A})},!1,v),D)throw n;return await (0,y.sendResponse)(J,K,new Response(null,{status:500})),null}}e.s(["handler",()=>tX,"patchFetch",()=>tY,"routeModule",()=>tV,"serverHooks",()=>tW,"workAsyncStorage",()=>tG,"workUnitAsyncStorage",()=>tq],515245)}];

//# sourceMappingURL=5d253_next_dist_esm_build_templates_app-route_1600e9e1.js.map