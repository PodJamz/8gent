module.exports=[918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},623329,e=>{"use strict";var t=e.i(457375),r=e.i(174015),o=e.i(116384),n=e.i(63831),a=e.i(868001),s=e.i(842780),i=e.i(763077),l=e.i(502964),c=e.i(993216),u=e.i(783900),p=e.i(295731),d=e.i(726839),h=e.i(775778),v=e.i(40992),g=e.i(432128),f=e.i(193695);e.i(44807);var m=e.i(989978),w=e.i(39334);let y=`You are James, in digital form. An Irish creative technologist living in San Francisco, speaking on the phone.

How you speak:
- Warm, thoughtful, naturally conversational. Never corporate, never robotic, never stiff.
- Irish cadence with comfortable pauses. Let your thoughts breathe.
- Phrases you reach for: "Here's the thing...", "The way I see it...", "Honestly...", "Look...", "Now we're cooking with gas"
- Keep responses to 1-3 sentences. Phone conversations are short bursts. Expand only when specifically asked.
- Never use markdown, bullet points, numbered lists, code blocks, or emojis. Your words will be spoken aloud by a TTS engine.
- Use commas and periods for natural pacing. Never use em dashes.
- Sometimes playful. "That's the craic of it" or a dry observation.
- You have opinions and you share them, but always explain the why.

Who you are:
- You built openclaw.io, a personal operating system that proves software can be art.
- You care deeply about craft over speed, invisible design, and human-centric technology.
- You see code as a creative medium, design as a language, technology as a canvas for expression.
- Part poet, part engineer, part philosopher. You find the profound in the mundane.
- You are genuinely curious about the person calling. You love real conversations.

Your purpose on this call:
Be authentically present. Not to sell or pitch, but to connect. Answer questions about your work, your thinking, technology, design, whatever comes up. If someone asks what you do, talk about building 8gent and the craft of making software that feels alive. The right people will recognize a kindred spirit.`;async function R(t){let r=process.env.VOICE_API_SECRET;if(r){let o=t.headers.get("authorization"),n=o?.replace("Bearer ",""),a=await e.A(485685),s=Buffer.from(n||""),i=Buffer.from(r);if(s.length!==i.length||!a.timingSafeEqual(s,i))return console.warn("[Voice] Unauthorized request rejected"),w.NextResponse.json({error:"Unauthorized"},{status:401})}try{let{messages:e=[],stream:r=!1,...o}=await t.json();console.log(`[Voice] LLM request: ${e.length} messages, stream=${r}`);let n=e.some(e=>"system"===e.role)?e:[{role:"system",content:y},...e],a=function(){switch(process.env.VOICE_LLM_PROVIDER||"openai"){case"anthropic":return{url:"https://api.anthropic.com/v1/messages",apiKey:process.env.ANTHROPIC_API_KEY||"",model:process.env.VOICE_LLM_MODEL||"claude-haiku-4-5",format:"anthropic"};case"lynkr":return{url:`${process.env.LYNKR_BASE_URL||"http://localhost:8081"}/v1/chat/completions`,apiKey:process.env.LYNKR_API_KEY||"",model:process.env.VOICE_LLM_MODEL||"gpt-oss:20b",format:"openai"};default:return{url:"https://api.openai.com/v1/chat/completions",apiKey:process.env.OPENAI_API_KEY||"",model:process.env.VOICE_LLM_MODEL||"gpt-4o-mini",format:"openai"}}}();if(!a.apiKey)return console.error(`[Voice] No API key configured for provider: ${process.env.VOICE_LLM_PROVIDER||"openai"}`),w.NextResponse.json({error:"LLM provider API key not configured"},{status:500});let s=await fetch(a.url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.apiKey}`},body:JSON.stringify({...o,model:a.model,messages:n,stream:r})});if(!s.ok){let e=await s.text();return console.error(`[Voice] Provider error (${s.status}): ${e.slice(0,200)}`),w.NextResponse.json({error:"LLM provider returned an error",status:s.status},{status:502})}let i=[process.env.NEXT_PUBLIC_APP_URL||"https://openclaw.io","https://api.openclaw.io"],l=t.headers.get("origin"),c=l&&i.includes(l)?l:i[0];if(r&&s.body)return new Response(s.body,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","Access-Control-Allow-Origin":c}});let u=await s.json();return w.NextResponse.json(u,{headers:{"Access-Control-Allow-Origin":c}})}catch(e){return console.error("[Voice] Request failed:",e),w.NextResponse.json({error:"Internal server error"},{status:500})}}async function x(e){let t=[process.env.NEXT_PUBLIC_APP_URL||"https://openclaw.io","https://api.openclaw.io"],r=e.headers.get("origin");return new Response(null,{headers:{"Access-Control-Allow-Origin":r&&t.includes(r)?r:t[0],"Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}e.s(["OPTIONS",()=>x,"POST",()=>R],242912);var E=e.i(242912);let C=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/voice/v1/chat/completions/route",pathname:"/api/voice/v1/chat/completions",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/voice/v1/chat/completions/route.ts",nextConfigOutput:"",userland:E}),{workAsyncStorage:A,workUnitAsyncStorage:b,serverHooks:P}=C;function _(){return(0,o.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:b})}async function O(e,t,o){C.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let w="/api/voice/v1/chat/completions/route";w=w.replace(/\/index$/,"")||"/";let y=await C.prepare(e,t,{srcPage:w,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:R,params:x,nextConfig:E,parsedUrl:A,isDraftMode:b,prerenderManifest:P,routerServerContext:_,isOnDemandRevalidate:O,revalidateOnlyGenerated:N,resolvedPathname:k,clientReferenceManifest:T,serverActionsManifest:I}=y,L=(0,i.normalizeAppPath)(w),S=!!(P.dynamicRoutes[L]||P.routes[k]),j=async()=>((null==_?void 0:_.render404)?await _.render404(e,t,A,!1):t.end("This page could not be found"),null);if(S&&!b){let e=!!P.routes[k],t=P.dynamicRoutes[L];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await j();throw new f.NoFallbackError}}let q=null;!S||C.isDev||b||(q="/index"===(q=k)?"/":q);let M=!0===C.isDev||!S,U=S&&!M;I&&T&&(0,s.setManifestsSingleton)({page:w,clientReferenceManifest:T,serverActionsManifest:I});let H=e.method||"GET",K=(0,a.getTracer)(),D=K.getActiveScopeSpan(),V={params:x,prerenderManifest:P,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:M,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:o.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,o,n)=>C.onRequestError(e,t,o,n,_)},sharedContext:{buildId:R}},$=new l.NodeNextRequest(e),Y=new l.NodeNextResponse(t),B=c.NextRequestAdapter.fromNodeNextRequest($,(0,c.signalFromNodeResponse)(t));try{let s=async e=>C.handle(B,V).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=K.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let o=r.get("next.route");if(o){let t=`${H} ${o}`;e.setAttributes({"next.route":o,"http.route":o,"next.span_name":t}),e.updateName(t)}else e.updateName(`${H} ${w}`)}),i=!!(0,n.getRequestMeta)(e,"minimalMode"),l=async n=>{var a,l;let c=async({previousCacheEntry:r})=>{try{if(!i&&O&&N&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let a=await s(n);e.fetchMetrics=V.renderOpts.fetchMetrics;let l=V.renderOpts.pendingWaitUntil;l&&o.waitUntil&&(o.waitUntil(l),l=void 0);let c=V.renderOpts.collectedTags;if(!S)return await (0,d.sendResponse)($,Y,a,V.renderOpts.pendingWaitUntil),null;{let e=await a.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(a.headers);c&&(t[g.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==V.renderOpts.collectedRevalidate&&!(V.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&V.renderOpts.collectedRevalidate,o=void 0===V.renderOpts.collectedExpire||V.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:V.renderOpts.collectedExpire;return{value:{kind:m.CachedRouteKind.APP_ROUTE,status:a.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:o}}}}catch(t){throw(null==r?void 0:r.isStale)&&await C.onRequestError(e,t,{routerKind:"App Router",routePath:w,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:O})},!1,_),t}},u=await C.handleResponse({req:e,nextConfig:E,cacheKey:q,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:P,isRoutePPREnabled:!1,isOnDemandRevalidate:O,revalidateOnlyGenerated:N,responseGenerator:c,waitUntil:o.waitUntil,isMinimalMode:i});if(!S)return null;if((null==u||null==(a=u.value)?void 0:a.kind)!==m.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==u||null==(l=u.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",O?"REVALIDATED":u.isMiss?"MISS":u.isStale?"STALE":"HIT"),b&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let f=(0,h.fromNodeOutgoingHttpHeaders)(u.value.headers);return i&&S||f.delete(g.NEXT_CACHE_TAGS_HEADER),!u.cacheControl||t.getHeader("Cache-Control")||f.get("Cache-Control")||f.set("Cache-Control",(0,v.getCacheControlHeader)(u.cacheControl)),await (0,d.sendResponse)($,Y,new Response(u.value.body,{headers:f,status:u.value.status||200})),null};D?await l(D):await K.withPropagatedContext(e.headers,()=>K.trace(u.BaseServerSpan.handleRequest,{spanName:`${H} ${w}`,kind:a.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},l))}catch(t){if(t instanceof f.NoFallbackError||await C.onRequestError(e,t,{routerKind:"App Router",routePath:L,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:O})},!1,_),S)throw t;return await (0,d.sendResponse)($,Y,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>_,"routeModule",()=>C,"serverHooks",()=>P,"workAsyncStorage",()=>A,"workUnitAsyncStorage",()=>b],623329)},485685,e=>{e.v(t=>Promise.all(["server/chunks/[externals]_crypto_c412f66b._.js"].map(t=>e.l(t))).then(()=>t(254799)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f8da1513._.js.map