(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,562966,e=>{"use strict";var t=e.i(726151),r=e.i(923041);let s="openclaw.notes",a="openclaw.notes.folders",l="openclaw.notes.selectedNoteId",n="openclaw.notes.selectedFolderId",o="openclaw.notes.sortBy",i="openclaw.notes.viewMode",d=[{id:"inbox",name:"Inbox",parentId:null,color:"#3b82f6",createdAt:Date.now()},{id:"personal",name:"Personal",parentId:null,color:"#10b981",createdAt:Date.now()},{id:"work",name:"Work",parentId:null,color:"#f59e0b",createdAt:Date.now()}],c={id:"welcome",title:"Welcome to Notes",content:`# Welcome to Notes! ðŸ“

This is your personal notes app with **markdown support**.

## Features

- ðŸ“ Organize notes into folders
- ðŸ” Quick search with \`âŒ˜K\`
- âš¡ Instant capture with \`âŒ˜â‡§N\`
- ðŸ“± Works great on mobile
- ðŸŒ“ Respects your theme

## Markdown Support

You can use all the usual markdown:

- **Bold** and *italic* text
- \`inline code\` and code blocks
- [Links](https://example.com)
- Lists, headings, and more!

\`\`\`javascript
// Even syntax-highlighted code
const greeting = "Hello, Notes!";
\`\`\`

## Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| \`âŒ˜â‡§N\` | Quick capture |
| \`âŒ˜K\` | Search notes |
| \`âŒ˜N\` | New note |
| \`âŒ˜S\` | Save (auto-saves) |

---

Start writing and your notes will be saved automatically!
`,folderId:"inbox",tags:["welcome","getting-started"],createdAt:Date.now(),updatedAt:Date.now(),isPinned:!0};function h(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function m(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}let u=(0,r.createContext)(null);function x({children:e}){let[x,v]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[g,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[y,w]=(0,r.useState)(""),[k,C]=(0,r.useState)("updated"),[S,E]=(0,r.useState)("list"),[P,I]=(0,r.useState)(!1),[A,D]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=m(localStorage.getItem(s),[]),t=m(localStorage.getItem(a),[]),r=localStorage.getItem(l),h=localStorage.getItem(n),u=localStorage.getItem(o),x=localStorage.getItem(i);0===t.length?f(d):f(t),0===e.length?(v([c]),b(c.id)):(v(e),r&&b(r)),h&&N(h),u&&C(u),x&&E(x),D(!0)},[]),(0,r.useEffect)(()=>{A&&localStorage.setItem(s,JSON.stringify(x))},[x,A]),(0,r.useEffect)(()=>{A&&localStorage.setItem(a,JSON.stringify(p))},[p,A]),(0,r.useEffect)(()=>{A&&(g?localStorage.setItem(l,g):localStorage.removeItem(l))},[g,A]),(0,r.useEffect)(()=>{A&&(j?localStorage.setItem(n,j):localStorage.removeItem(n))},[j,A]),(0,r.useEffect)(()=>{A&&localStorage.setItem(o,k)},[k,A]),(0,r.useEffect)(()=>{A&&localStorage.setItem(i,S)},[S,A]);let L=(0,r.useCallback)((e=null)=>{let t={id:h(),title:"Untitled",content:"",folderId:e??j,tags:[],createdAt:Date.now(),updatedAt:Date.now(),isPinned:!1};return v(e=>[t,...e]),b(t.id),t},[j]),F=(0,r.useCallback)((e,t)=>{v(r=>r.map(r=>r.id===e?{...r,...t,updatedAt:Date.now()}:r))},[]),T=(0,r.useCallback)(e=>{v(t=>t.filter(t=>t.id!==e)),b(t=>t===e?null:t)},[]),K=(0,r.useCallback)(e=>{let t=x.find(t=>t.id===e);if(!t)return null;let r={...t,id:h(),title:`${t.title} (Copy)`,createdAt:Date.now(),updatedAt:Date.now(),isPinned:!1};return v(e=>[r,...e]),b(r.id),r},[x]),M=(0,r.useCallback)((e,t)=>{F(e,{folderId:t})},[F]),z=(0,r.useCallback)(e=>{v(t=>t.map(t=>t.id===e?{...t,isPinned:!t.isPinned,updatedAt:Date.now()}:t))},[]),R=(0,r.useCallback)((e,t=null,r="#6366f1")=>{let s={id:h(),name:e,parentId:t,color:r,createdAt:Date.now()};return f(e=>[...e,s]),s},[]),O=(0,r.useCallback)((e,t)=>{f(r=>r.map(r=>r.id===e?{...r,...t}:r))},[]),B=(0,r.useCallback)((e,t=!1)=>{let r=e=>{let t=p.filter(t=>t.parentId===e);return[e,...t.flatMap(e=>r(e.id))]},s=r(e);t?v(e=>e.filter(e=>!s.includes(e.folderId??""))):v(e=>e.map(e=>s.includes(e.folderId??"")?{...e,folderId:null}:e)),f(e=>e.filter(e=>!s.includes(e.id))),N(e=>s.includes(e??"")?null:e)},[p]),$=(0,r.useCallback)(e=>{b(e)},[]),U=(0,r.useCallback)(e=>{N(e)},[]),Q=(0,r.useCallback)(()=>{I(!0)},[]),H=(0,r.useCallback)(()=>{I(!1)},[]),W=(0,r.useCallback)((e,t=null)=>{let r="Quick Note",s=e,a=e.split("\n")[0];a.startsWith("#")?r=a.replace(/^#+\s*/,"").trim()||"Quick Note":a.length>0&&a.length<=50&&(r=a,s=e.substring(a.length).trim());let l={id:h(),title:r,content:s,folderId:t??"inbox",tags:[],createdAt:Date.now(),updatedAt:Date.now(),isPinned:!1};return v(e=>[l,...e]),I(!1),l},[]),J=(0,r.useCallback)(e=>x.filter(t=>t.folderId===e),[x]),X=(0,r.useCallback)(e=>p.filter(t=>t.parentId===e),[p]),Z=(0,r.useCallback)(()=>{let e=x;if(null!==j&&(e=e.filter(e=>e.folderId===j)),y.trim()){let t=y.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))}return[...e].sort((e,t)=>{if(e.isPinned&&!t.isPinned)return -1;if(!e.isPinned&&t.isPinned)return 1;switch(k){case"updated":default:return t.updatedAt-e.updatedAt;case"created":return t.createdAt-e.createdAt;case"title":return e.title.localeCompare(t.title)}})},[x,j,y,k]),q=x.find(e=>e.id===g)??null,G=p.find(e=>e.id===j)??null;return(0,t.jsx)(u.Provider,{value:{notes:x,folders:p,selectedNoteId:g,selectedFolderId:j,searchQuery:y,sortBy:k,viewMode:S,isQuickCaptureOpen:P,createNote:L,updateNote:F,deleteNote:T,duplicateNote:K,moveNote:M,togglePinNote:z,createFolder:R,updateFolder:O,deleteFolder:B,selectNote:$,selectFolder:U,setSearchQuery:w,setSortBy:C,setViewMode:E,openQuickCapture:Q,closeQuickCapture:H,quickCapture:W,getNotesInFolder:J,getSubfolders:X,getFilteredNotes:Z,selectedNote:q,selectedFolder:G},children:e})}function v(){let e=(0,r.useContext)(u);if(!e)throw Error("useNotes must be used within a NotesProvider");return e}e.s(["NotesProvider",()=>x,"useNotes",()=>v])},253398,e=>{"use strict";var t=e.i(726151),r=e.i(923041),s=e.i(662582),a=e.i(278124),l=e.i(263012),n=e.i(280028),o=e.i(752153),i=e.i(55841),d=e.i(431529),c=e.i(896491),h=e.i(254862),m=e.i(517703),u=e.i(562966),x=e.i(975157);let v=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function p({folder:e,depth:m=0}){let{selectedFolderId:f,selectFolder:g,getSubfolders:b,getNotesInFolder:j,updateFolder:N,deleteFolder:y,createFolder:w}=(0,u.useNotes)(),[k,C]=(0,r.useState)(!0),[S,E]=(0,r.useState)(!1),[P,I]=(0,r.useState)(!1),[A,D]=(0,r.useState)(e.name),[L,F]=(0,r.useState)(!1),T=(0,r.useRef)(null),K=(0,r.useRef)(null),M=b(e.id),z=j(e.id).length,R=f===e.id;(0,r.useEffect)(()=>{let e=e=>{T.current&&!T.current.contains(e.target)&&(E(!1),F(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{P&&K.current&&(K.current.focus(),K.current.select())},[P]);let O=(0,r.useCallback)(()=>{g(e.id)},[g,e.id]),B=(0,r.useCallback)(e=>{e.stopPropagation(),C(e=>!e)},[]),$=(0,r.useCallback)(()=>{A.trim()&&A!==e.name&&N(e.id,{name:A.trim()}),I(!1),E(!1)},[A,e.id,e.name,N]),U=(0,r.useCallback)(()=>{confirm(`Delete "${e.name}" and move its notes to All Notes?`)&&y(e.id,!1),E(!1)},[y,e.id,e.name]),Q=(0,r.useCallback)(t=>{N(e.id,{color:t}),F(!1),E(!1)},[e.id,N]),H=(0,r.useCallback)(()=>{w("New Folder",e.id),C(!0),E(!1)},[w,e.id]);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{onClick:O,className:(0,x.cn)("group flex items-center gap-1 px-2 py-1.5 rounded-lg cursor-pointer transition-colors",R?"bg-[hsl(var(--theme-primary)/0.15)] text-[hsl(var(--theme-primary))]":"text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))]"),style:{paddingLeft:`${12*m+8}px`},children:[M.length>0?(0,t.jsx)("button",{onClick:B,className:"p-0.5 rounded hover:bg-[hsl(var(--theme-muted))] transition-colors",children:(0,t.jsx)(o.ChevronRight,{className:(0,x.cn)("w-3.5 h-3.5 transition-transform",k&&"rotate-90")})}):(0,t.jsx)("div",{className:"w-4"}),k&&M.length>0?(0,t.jsx)(n.FolderOpen,{className:"w-4 h-4 flex-shrink-0",style:{color:e.color}}):(0,t.jsx)(l.Folder,{className:"w-4 h-4 flex-shrink-0",style:{color:e.color}}),P?(0,t.jsx)("input",{ref:K,value:A,onChange:e=>D(e.target.value),onBlur:$,onKeyDown:t=>{"Enter"===t.key&&$(),"Escape"===t.key&&(D(e.name),I(!1))},className:"flex-1 min-w-0 px-1 py-0.5 text-sm bg-[hsl(var(--theme-background))] border border-[hsl(var(--theme-border))] rounded outline-none focus:border-[hsl(var(--theme-primary))]",onClick:e=>e.stopPropagation()}):(0,t.jsx)("span",{className:"flex-1 min-w-0 text-sm truncate",children:e.name}),z>0&&!P&&(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--theme-muted-foreground))]",children:z}),(0,t.jsxs)("div",{className:"relative",ref:T,children:[(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),E(!S)},className:(0,x.cn)("p-1 rounded transition-colors",S?"opacity-100 bg-[hsl(var(--theme-muted))]":"opacity-0 group-hover:opacity-100 hover:bg-[hsl(var(--theme-muted))]"),children:(0,t.jsx)(d.MoreHorizontal,{className:"w-3.5 h-3.5"})}),(0,t.jsx)(a.AnimatePresence,{children:S&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"absolute right-0 top-full mt-1 z-50 w-40 rounded-lg border border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-card))] shadow-lg overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("button",{onClick:()=>I(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))] transition-colors",children:[(0,t.jsx)(c.Edit2,{className:"w-3.5 h-3.5"}),"Rename"]}),(0,t.jsxs)("button",{onClick:()=>F(!L),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))] transition-colors",children:[(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full border border-[hsl(var(--theme-border))]",style:{backgroundColor:e.color}}),"Color"]}),L&&(0,t.jsx)("div",{className:"px-3 py-2 grid grid-cols-4 gap-1.5",children:v.map(r=>(0,t.jsx)("button",{onClick:()=>Q(r),className:(0,x.cn)("w-5 h-5 rounded-full border-2 transition-transform hover:scale-110",e.color===r?"border-[hsl(var(--theme-foreground))]":"border-transparent"),style:{backgroundColor:r}},r))}),(0,t.jsxs)("button",{onClick:H,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))] transition-colors",children:[(0,t.jsx)(i.Plus,{className:"w-3.5 h-3.5"}),"Add Subfolder"]}),(0,t.jsx)("div",{className:"h-px bg-[hsl(var(--theme-border))]"}),(0,t.jsxs)("button",{onClick:U,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-500/10 transition-colors",children:[(0,t.jsx)(h.Trash2,{className:"w-3.5 h-3.5"}),"Delete"]})]})})]})]}),(0,t.jsx)(a.AnimatePresence,{children:k&&M.length>0&&(0,t.jsx)(s.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:M.map(e=>(0,t.jsx)(p,{folder:e,depth:m+1},e.id))})})]})}function f({className:e}){let{folders:n,selectedFolderId:o,selectFolder:d,createFolder:c,notes:h}=(0,u.useNotes)(),[v,f]=(0,r.useState)(!1),[g,b]=(0,r.useState)(""),j=(0,r.useRef)(null),N=n.filter(e=>null===e.parentId),y=h.length;(0,r.useEffect)(()=>{v&&j.current&&j.current.focus()},[v]);let w=(0,r.useCallback)(()=>{g.trim()&&(c(g.trim()),b("")),f(!1)},[c,g]);return(0,t.jsxs)("div",{className:(0,x.cn)("flex flex-col h-full",e),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-[hsl(var(--theme-border))]",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-[hsl(var(--theme-foreground))]",style:{fontFamily:"var(--theme-font-heading)"},children:"Folders"}),(0,t.jsx)("button",{onClick:()=>f(!0),className:"p-1 rounded-md hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"New folder",children:(0,t.jsx)(i.Plus,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 space-y-0.5",children:[(0,t.jsxs)("div",{onClick:()=>d(null),className:(0,x.cn)("flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer transition-colors",null===o?"bg-[hsl(var(--theme-primary)/0.15)] text-[hsl(var(--theme-primary))]":"text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))]"),children:[(0,t.jsx)(m.FileText,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"flex-1 text-sm",children:"All Notes"}),(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--theme-muted-foreground))]",children:y})]}),N.map(e=>(0,t.jsx)(p,{folder:e},e.id)),(0,t.jsx)(a.AnimatePresence,{children:v&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 px-2 py-1.5",children:[(0,t.jsx)(l.Folder,{className:"w-4 h-4 text-[hsl(var(--theme-muted-foreground))]"}),(0,t.jsx)("input",{ref:j,value:g,onChange:e=>b(e.target.value),onBlur:w,onKeyDown:e=>{"Enter"===e.key&&w(),"Escape"===e.key&&(b(""),f(!1))},placeholder:"Folder name",className:"flex-1 min-w-0 px-2 py-1 text-sm bg-[hsl(var(--theme-background))] border border-[hsl(var(--theme-border))] rounded outline-none focus:border-[hsl(var(--theme-primary))]"})]})})]})]})}e.s(["NotesFolderTree",()=>f])},966844,e=>{"use strict";var t=e.i(726151),r=e.i(923041),s=e.i(662582),a=e.i(278124),l=e.i(55841),n=e.i(907928),o=e.i(517703),i=e.i(610724),d=e.i(689124),d=d,c=e.i(832446),h=e.i(389441),h=h,m=e.i(562966),u=e.i(975157);function x({note:e,isSelected:a}){var l;let o,d,c,h,{selectNote:x,folders:v}=(0,m.useNotes)(),p=v.find(t=>t.id===e.folderId),f=(0,r.useMemo)(()=>e.content.replace(/^#+\s+/gm,"").replace(/[*_`~\[\]]/g,"").replace(/\n+/g," ").trim().substring(0,100),[e.content]);return(0,t.jsxs)(s.motion.button,{onClick:()=>x(e.id),layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:(0,u.cn)("w-full text-left p-3 rounded-lg border transition-all",a?"bg-[hsl(var(--theme-primary)/0.1)] border-[hsl(var(--theme-primary))]":"bg-[hsl(var(--theme-card))] border-[hsl(var(--theme-border))] hover:border-[hsl(var(--theme-primary)/0.5)]"),children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-1",children:[(0,t.jsx)("h3",{className:(0,u.cn)("flex-1 font-medium text-sm truncate",a?"text-[hsl(var(--theme-primary))]":"text-[hsl(var(--theme-foreground))]"),style:{fontFamily:"var(--theme-font-heading)"},children:e.title||"Untitled"}),e.isPinned&&(0,t.jsx)(n.Pin,{className:"w-3.5 h-3.5 flex-shrink-0 text-[hsl(var(--theme-primary))]"})]}),f&&(0,t.jsx)("p",{className:"text-xs text-[hsl(var(--theme-muted-foreground))] line-clamp-2 mb-2",children:f}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-[hsl(var(--theme-muted-foreground))]",children:[p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:p.color}}),p.name]}),(0,t.jsx)("span",{children:"Â·"})]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.Clock,{className:"w-2.5 h-2.5"}),(l=e.updatedAt,d=Math.floor((o=Date.now()-l)/6e4),c=Math.floor(o/36e5),h=Math.floor(o/864e5),d<1?"Just now":d<60?`${d}m ago`:c<24?`${c}h ago`:h<7?`${h}d ago`:new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"}))]})]})]})}function v({note:e,isSelected:r}){var a;let l,i,d,c,{selectNote:h,folders:x}=(0,m.useNotes)(),v=x.find(t=>t.id===e.folderId);return(0,t.jsxs)(s.motion.button,{onClick:()=>h(e.id),layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:(0,u.cn)("w-full text-left px-3 py-2.5 flex items-center gap-3 rounded-lg transition-all",r?"bg-[hsl(var(--theme-primary)/0.1)] text-[hsl(var(--theme-primary))]":"hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-foreground))]"),children:[e.isPinned?(0,t.jsx)(n.Pin,{className:"w-4 h-4 flex-shrink-0 text-[hsl(var(--theme-primary))]"}):(0,t.jsx)(o.FileText,{className:"w-4 h-4 flex-shrink-0 text-[hsl(var(--theme-muted-foreground))]"}),(0,t.jsx)("span",{className:"flex-1 text-sm truncate font-medium",style:{fontFamily:"var(--theme-font-heading)"},children:e.title||"Untitled"}),v&&(0,t.jsx)("span",{className:"hidden sm:flex items-center gap-1 text-xs text-[hsl(var(--theme-muted-foreground))]",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:v.color}})}),(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--theme-muted-foreground))]",children:(a=e.updatedAt,i=Math.floor((l=Date.now()-a)/6e4),d=Math.floor(l/36e5),c=Math.floor(l/864e5),i<1?"Just now":i<60?`${i}m`:d<24?`${d}h`:c<7?`${c}d`:new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"}))})]})}let p=[{value:"updated",label:"Last Modified"},{value:"created",label:"Date Created"},{value:"title",label:"Title"}];function f({className:e}){let{createNote:n,selectedNoteId:i,selectedFolderId:f,selectedFolder:g,getFilteredNotes:b,sortBy:j,setSortBy:N,viewMode:y,setViewMode:w,searchQuery:k}=(0,m.useNotes)(),C=b(),S=(0,r.useCallback)(()=>{n(f)},[n,f]),E=g?.name??"All Notes";return(0,t.jsxs)("div",{className:(0,u.cn)("flex flex-col h-full",e),children:[(0,t.jsxs)("div",{className:"flex-shrink-0 px-3 py-2 border-b border-[hsl(var(--theme-border))] space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-[hsl(var(--theme-foreground))] truncate",style:{fontFamily:"var(--theme-font-heading)"},children:k?`Search: "${k}"`:E}),(0,t.jsx)("button",{onClick:S,className:"p-1.5 rounded-lg bg-[hsl(var(--theme-primary))] text-white hover:bg-[hsl(var(--theme-primary)/0.9)] transition-colors",title:"New note","aria-label":"Create new note",children:(0,t.jsx)(l.Plus,{className:"w-4 h-4","aria-hidden":"true"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.default,{className:"w-3.5 h-3.5 text-[hsl(var(--theme-muted-foreground))]"}),(0,t.jsx)("select",{value:j,onChange:e=>N(e.target.value),className:"text-xs bg-transparent border-none outline-none text-[hsl(var(--theme-muted-foreground))] cursor-pointer",children:p.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5 p-0.5 rounded-md bg-[hsl(var(--theme-muted))]",role:"group","aria-label":"View mode",children:[(0,t.jsx)("button",{onClick:()=>w("list"),className:(0,u.cn)("p-1 rounded transition-colors","list"===y?"bg-[hsl(var(--theme-card))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-muted-foreground))]"),"aria-label":"List view","aria-pressed":"list"===y,children:(0,t.jsx)(c.List,{className:"w-3.5 h-3.5","aria-hidden":"true"})}),(0,t.jsx)("button",{onClick:()=>w("grid"),className:(0,u.cn)("p-1 rounded transition-colors","grid"===y?"bg-[hsl(var(--theme-card))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-muted-foreground))]"),"aria-label":"Grid view","aria-pressed":"grid"===y,children:(0,t.jsx)(d.default,{className:"w-3.5 h-3.5","aria-hidden":"true"})})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-2",children:0===C.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[(0,t.jsx)(o.FileText,{className:"w-12 h-12 text-[hsl(var(--theme-muted-foreground))] mb-3"}),(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--theme-muted-foreground))]",children:k?"No notes found":"No notes yet"}),!k&&(0,t.jsx)("button",{onClick:S,className:"mt-3 px-3 py-1.5 text-sm rounded-lg bg-[hsl(var(--theme-primary))] text-white hover:bg-[hsl(var(--theme-primary)/0.9)] transition-colors",children:"Create your first note"})]}):"grid"===y?(0,t.jsx)(s.motion.div,{layout:!0,className:"grid gap-2",children:(0,t.jsx)(a.AnimatePresence,{mode:"popLayout",children:C.map(e=>(0,t.jsx)(x,{note:e,isSelected:e.id===i},e.id))})}):(0,t.jsx)(s.motion.div,{layout:!0,className:"space-y-0.5",children:(0,t.jsx)(a.AnimatePresence,{mode:"popLayout",children:C.map(e=>(0,t.jsx)(v,{note:e,isSelected:e.id===i},e.id))})})}),(0,t.jsx)("div",{className:"flex-shrink-0 px-3 py-1.5 border-t border-[hsl(var(--theme-border))]",children:(0,t.jsxs)("p",{className:"text-[10px] text-[hsl(var(--theme-muted-foreground))]",children:[C.length," ",1===C.length?"note":"notes"]})})]})}e.s(["NotesList",()=>f],966844)},482241,e=>{"use strict";var t=e.i(88554);e.s(["FolderInput",()=>t.default])},100202,e=>{"use strict";var t=e.i(726151),r=e.i(923041);e.i(164485);var s=e.i(51924),a=e.i(662582),l=e.i(278124),n=e.i(223687),o=e.i(34345),i=e.i(728694),d=e.i(907928),c=e.i(199655),c=c,h=e.i(981779),m=e.i(254862),u=e.i(431529),x=e.i(482241),v=e.i(610724),p=e.i(746487),f=e.i(88535),g=e.i(653120),b=e.i(562490),j=e.i(832446),N=e.i(254176),y=e.i(253545),w=e.i(982512),k=e.i(465231),C=e.i(657912),S=e.i(390671),S=S,E=e.i(718733),E=E,P=e.i(71851),I=e.i(562966),A=e.i(975157);function D({note:e,className:D}){let{updateNote:L,deleteNote:F,duplicateNote:T,togglePinNote:K,folders:M,moveNote:z}=(0,I.useNotes)(),[R,O]=(0,r.useState)("split"),[B,$]=(0,r.useState)(!1),[U,Q]=(0,r.useState)(!1),[H,W]=(0,r.useState)(e.title),[J,X]=(0,r.useState)(e.content),Z=(0,r.useRef)(null),q=(0,r.useRef)(null),G=(0,r.useRef)(null),V=(0,s.useHorizontalScroll)();(0,r.useEffect)(()=>{W(e.title),X(e.content)},[e.id,e.title,e.content]),(0,r.useEffect)(()=>{let t=setTimeout(()=>{(H!==e.title||J!==e.content)&&L(e.id,{title:H,content:J})},500);return()=>clearTimeout(t)},[H,J,e.id,e.title,e.content,L]),(0,r.useEffect)(()=>{let e=e=>{Z.current&&!Z.current.contains(e.target)&&($(!1),Q(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let Y=(0,r.useCallback)(e=>{W(e.target.value)},[]),_=(0,r.useCallback)(e=>{X(e.target.value)},[]),ee=(0,r.useCallback)(e=>{if("Tab"===e.key){e.preventDefault();let t=e.currentTarget.selectionStart,r=e.currentTarget.selectionEnd,s=e.currentTarget.value;if(e.shiftKey){let e=s.substring(0,t),a=s.substring(r),l=e.lastIndexOf("\n")+1,n=e.substring(l);n.startsWith("  ")&&X(s.substring(0,l)+n.substring(2)+a)}else X(s.substring(0,t)+"  "+s.substring(r)),setTimeout(()=>{G.current&&(G.current.selectionStart=G.current.selectionEnd=t+2)},0)}(e.metaKey||e.ctrlKey)&&"b"===e.key&&(e.preventDefault(),et("**","**")),(e.metaKey||e.ctrlKey)&&"i"===e.key&&(e.preventDefault(),et("*","*")),(e.metaKey||e.ctrlKey)&&e.shiftKey&&"k"===e.key&&(e.preventDefault(),et("[","](url)"))},[]),et=(0,r.useCallback)((e,t)=>{if(!G.current)return;let r=G.current.selectionStart,s=G.current.selectionEnd,a=J.substring(r,s)||"text";X(J.substring(0,r)+e+a+t+J.substring(s)),setTimeout(()=>{G.current&&(G.current.focus(),G.current.selectionStart=r+e.length,G.current.selectionEnd=r+e.length+a.length)},0)},[J]),er=(0,r.useCallback)(e=>{if(!G.current)return;let t=G.current.selectionStart,r=J.lastIndexOf("\n",t-1)+1;-1===J.indexOf("\n",t)&&J.length,X(J.substring(0,r)+e+J.substring(r)),setTimeout(()=>{G.current&&(G.current.focus(),G.current.selectionStart=G.current.selectionEnd=t+e.length)},0)},[J]),es=(0,r.useCallback)(()=>{if(!G.current)return;let e=G.current.selectionStart,t=G.current.selectionEnd,r=J.substring(e,t)||"code here";X(J.substring(0,e)+"\n```\n"+r+"\n```\n"+J.substring(t)),setTimeout(()=>{G.current&&(G.current.focus(),G.current.selectionStart=e+5,G.current.selectionEnd=e+5+r.length)},0)},[J]),ea=(0,r.useCallback)(()=>{if(!G.current)return;let e=G.current.selectionStart;X(J.substring(0,e)+"![alt text](image-url)"+J.substring(e)),setTimeout(()=>{G.current&&(G.current.focus(),G.current.selectionStart=e+2,G.current.selectionEnd=e+10)},0)},[J]),el=(0,r.useCallback)(()=>{T(e.id),$(!1)},[T,e.id]),en=(0,r.useCallback)(()=>{confirm("Delete this note? This cannot be undone.")&&F(e.id),$(!1)},[F,e.id]),eo=(0,r.useCallback)(t=>{z(e.id,t),$(!1),Q(!1)},[z,e.id]),ei=M.find(t=>t.id===e.folderId);return(0,t.jsxs)("div",{className:(0,A.cn)("flex flex-col h-full",D),children:[(0,t.jsxs)("div",{className:"flex-shrink-0 border-b border-[hsl(var(--theme-border))] p-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{ref:q,value:H,onChange:Y,placeholder:"Untitled",className:(0,A.cn)("flex-1 text-lg font-semibold bg-transparent border-none outline-none","text-[hsl(var(--theme-foreground))]","placeholder-[hsl(var(--theme-muted-foreground))]"),style:{fontFamily:"var(--theme-font-heading)"}}),(0,t.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-[hsl(var(--theme-muted))]",children:[(0,t.jsx)("button",{onClick:()=>O("edit"),className:(0,A.cn)("p-1.5 rounded transition-colors","edit"===R?"bg-[hsl(var(--theme-card))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))]"),title:"Edit mode","aria-label":"Switch to edit mode","aria-pressed":"edit"===R,children:(0,t.jsx)(i.EyeOff,{className:"w-4 h-4","aria-hidden":"true"})}),(0,t.jsx)("button",{onClick:()=>O("split"),className:(0,A.cn)("p-1.5 rounded transition-colors","split"===R?"bg-[hsl(var(--theme-card))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))]"),title:"Split view","aria-label":"Switch to split view","aria-pressed":"split"===R,children:(0,t.jsxs)("div",{className:"w-4 h-4 flex gap-0.5","aria-hidden":"true",children:[(0,t.jsx)("div",{className:"w-1.5 h-full bg-current rounded-sm"}),(0,t.jsx)("div",{className:"w-1.5 h-full bg-current rounded-sm opacity-50"})]})}),(0,t.jsx)("button",{onClick:()=>O("preview"),className:(0,A.cn)("p-1.5 rounded transition-colors","preview"===R?"bg-[hsl(var(--theme-card))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))]"),title:"Preview mode","aria-label":"Switch to preview mode","aria-pressed":"preview"===R,children:(0,t.jsx)(o.Eye,{className:"w-4 h-4","aria-hidden":"true"})})]}),(0,t.jsx)("button",{onClick:()=>K(e.id),className:(0,A.cn)("p-2 rounded-lg transition-colors",e.isPinned?"text-[hsl(var(--theme-primary))] bg-[hsl(var(--theme-primary)/0.1)]":"text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))]"),title:e.isPinned?"Unpin":"Pin","aria-label":e.isPinned?"Unpin note":"Pin note","aria-pressed":e.isPinned,children:e.isPinned?(0,t.jsx)(d.Pin,{className:"w-4 h-4","aria-hidden":"true"}):(0,t.jsx)(c.default,{className:"w-4 h-4","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"relative",ref:Z,children:[(0,t.jsx)("button",{onClick:()=>$(!B),className:"p-2 rounded-lg text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))] transition-colors","aria-label":"More options","aria-haspopup":"true","aria-expanded":B,children:(0,t.jsx)(u.MoreHorizontal,{className:"w-4 h-4","aria-hidden":"true"})}),(0,t.jsx)(l.AnimatePresence,{children:B&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95,y:-5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-5},transition:{duration:.15},className:"absolute right-0 top-full mt-1 z-50 w-48 rounded-lg border border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-card))] shadow-lg overflow-hidden",children:[(0,t.jsxs)("button",{onClick:el,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))] transition-colors",children:[(0,t.jsx)(h.Copy,{className:"w-4 h-4"}),"Duplicate"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>Q(!U),className:"w-full flex items-center justify-between gap-2 px-3 py-2 text-sm text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))] transition-colors",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.FolderInput,{className:"w-4 h-4"}),"Move to..."]}),(0,t.jsx)("span",{className:"text-[hsl(var(--theme-muted-foreground))]",children:">"})]}),(0,t.jsx)(l.AnimatePresence,{children:U&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:5},animate:{opacity:1,x:0},exit:{opacity:0,x:5},className:"absolute left-full top-0 ml-1 w-40 rounded-lg border border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-card))] shadow-lg overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>eo(null),className:(0,A.cn)("w-full flex items-center gap-2 px-3 py-2 text-sm transition-colors",null===e.folderId?"bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))]"),children:"All Notes"}),M.map(r=>(0,t.jsxs)("button",{onClick:()=>eo(r.id),className:(0,A.cn)("w-full flex items-center gap-2 px-3 py-2 text-sm transition-colors",e.folderId===r.id?"bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))]"),children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.color}}),r.name]},r.id))]})})]}),(0,t.jsx)("div",{className:"h-px bg-[hsl(var(--theme-border))]"}),(0,t.jsxs)("button",{onClick:en,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-500 hover:bg-red-500/10 transition-colors",children:[(0,t.jsx)(m.Trash2,{className:"w-4 h-4"}),"Delete"]})]})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-[hsl(var(--theme-muted-foreground))]",children:[ei&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:ei.color}}),ei.name]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(v.Clock,{className:"w-3 h-3"}),new Date(e.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})]}),e.tags.length>0&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Hash,{className:"w-3 h-3"}),e.tags.join(", ")]})]})]}),("edit"===R||"split"===R)&&(0,t.jsxs)("div",{ref:V,className:"flex-shrink-0 flex items-center gap-1 px-3 py-2 border-b border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-muted)/0.3)] overflow-x-auto scrollbar-hide",children:[(0,t.jsx)("button",{onClick:()=>et("**","**"),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Bold (Cmd+B)",children:(0,t.jsx)(f.Bold,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>et("*","*"),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Italic (Cmd+I)",children:(0,t.jsx)(g.Italic,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>et("~~","~~"),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Strikethrough",children:(0,t.jsx)(b.Strikethrough,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-5 bg-[hsl(var(--theme-border))] mx-1"}),(0,t.jsx)("button",{onClick:()=>er("# "),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Heading 1",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>er("## "),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Heading 2",children:(0,t.jsx)(E.default,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-5 bg-[hsl(var(--theme-border))] mx-1"}),(0,t.jsx)("button",{onClick:()=>er("- "),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Bullet List",children:(0,t.jsx)(j.List,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>er("1. "),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Numbered List",children:(0,t.jsx)(N.ListOrdered,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>er("- [ ] "),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Task List",children:(0,t.jsx)(P.CheckSquare,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>er("> "),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Quote",children:(0,t.jsx)(y.Quote,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-5 bg-[hsl(var(--theme-border))] mx-1"}),(0,t.jsx)("button",{onClick:()=>et("`","`"),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Inline Code",children:(0,t.jsx)(w.Code,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:es,className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors text-xs font-mono",title:"Code Block",children:"</>"}),(0,t.jsx)("div",{className:"w-px h-5 bg-[hsl(var(--theme-border))] mx-1"}),(0,t.jsx)("button",{onClick:()=>et("[","](url)"),className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Link (Cmd+K)",children:(0,t.jsx)(k.Link2,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:ea,className:"p-1.5 rounded hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",title:"Image",children:(0,t.jsx)(C.Image,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex min-h-0",children:[(0,t.jsx)(l.AnimatePresence,{mode:"wait",children:("edit"===R||"split"===R)&&(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,A.cn)("flex-1 min-w-0 flex flex-col","split"===R&&"border-r border-[hsl(var(--theme-border))]"),children:(0,t.jsx)("textarea",{ref:G,value:J,onChange:_,onKeyDown:ee,placeholder:"Start writing with markdown...",className:(0,A.cn)("w-full h-full p-4 bg-transparent border-none outline-none resize-none","text-[hsl(var(--theme-foreground))]","placeholder-[hsl(var(--theme-muted-foreground))]","font-mono text-sm leading-relaxed"),spellCheck:!1})})}),(0,t.jsx)(l.AnimatePresence,{mode:"wait",children:("preview"===R||"split"===R)&&(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 min-w-0 overflow-auto",children:(0,t.jsx)("div",{className:"p-4 prose prose-sm dark:prose-invert max-w-none prose-headings:font-[var(--theme-font-heading)] prose-headings:text-[hsl(var(--theme-foreground))] prose-p:text-[hsl(var(--theme-foreground))] prose-a:text-[hsl(var(--theme-primary))] prose-code:text-[hsl(var(--theme-primary))] prose-code:bg-[hsl(var(--theme-muted))] prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-pre:bg-[hsl(var(--theme-muted))] prose-pre:border prose-pre:border-[hsl(var(--theme-border))]",children:J?(0,t.jsx)(n.default,{children:J}):(0,t.jsx)("p",{className:"text-[hsl(var(--theme-muted-foreground))] italic",children:"Nothing to preview yet..."})})})})]})]})}e.s(["NoteEditor",()=>D],100202)},635545,e=>{"use strict";var t=e.i(726151),r=e.i(923041),s=e.i(92768),a=e.i(591372),l=e.i(538226),n=e.i(562966),o=e.i(975157);function i({className:e}){let{searchQuery:i,setSearchQuery:d}=(0,n.useNotes)(),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"/"===e.key&&(e.preventDefault(),c.current?.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let h=(0,r.useCallback)(()=>{d(""),c.current?.focus()},[d]);return(0,t.jsxs)("div",{className:(0,o.cn)("relative",e),children:[(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,t.jsx)(s.Search,{className:"w-4 h-4 text-[hsl(var(--theme-muted-foreground))]"})}),(0,t.jsx)("input",{ref:c,type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Search notes...",className:(0,o.cn)("w-full pl-9 pr-16 py-2 rounded-lg","bg-[hsl(var(--theme-muted))]","border border-transparent","text-sm text-[hsl(var(--theme-foreground))]","placeholder-[hsl(var(--theme-muted-foreground))]","outline-none focus:border-[hsl(var(--theme-primary))]","transition-colors")}),(0,t.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[i&&(0,t.jsx)("button",{onClick:h,className:"p-1 rounded hover:bg-[hsl(var(--theme-background))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",children:(0,t.jsx)(a.X,{className:"w-3.5 h-3.5"})}),(0,t.jsxs)("kbd",{className:"hidden sm:flex items-center gap-0.5 px-1.5 py-0.5 text-[10px] font-medium text-[hsl(var(--theme-muted-foreground))] bg-[hsl(var(--theme-background))] border border-[hsl(var(--theme-border))] rounded",children:[(0,t.jsx)(l.Command,{className:"w-2.5 h-2.5"}),"K"]})]})]})}e.s(["NotesSearch",()=>i])},7011,e=>{"use strict";var t=e.i(726151),r=e.i(923041),s=e.i(662582),a=e.i(278124),l=e.i(591372),n=e.i(734545),o=e.i(482241),i=e.i(973493),d=e.i(562966),c=e.i(975157);function h(){let{isQuickCaptureOpen:e,closeQuickCapture:h,quickCapture:m,folders:u}=(0,d.useNotes)(),[x,v]=(0,r.useState)(""),[p,f]=(0,r.useState)("inbox"),[g,b]=(0,r.useState)(!1),j=(0,r.useRef)(null),N=(0,r.useRef)(null);(0,r.useEffect)(()=>{e&&j.current&&setTimeout(()=>j.current?.focus(),100)},[e]),(0,r.useEffect)(()=>{e||(v(""),f("inbox"),b(!1))},[e]),(0,r.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&h()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,h]);let y=(0,r.useCallback)(()=>{x.trim()&&(m(x,p),v(""))},[x,p,m]),w=(0,r.useCallback)(e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),y())},[y]),k=u.find(e=>e.id===p);return(0,t.jsx)(a.AnimatePresence,{children:e&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh] px-4",onClick:h,children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,t.jsxs)(s.motion.div,{ref:N,initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.2,ease:"easeOut"},onClick:e=>e.stopPropagation(),className:"relative w-full max-w-lg rounded-2xl border border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-card))] shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[hsl(var(--theme-border))]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[hsl(var(--theme-primary)/0.1)] flex items-center justify-center",children:(0,t.jsx)(n.Zap,{className:"w-4 h-4 text-[hsl(var(--theme-primary))]"})}),(0,t.jsx)("span",{className:"font-semibold text-[hsl(var(--theme-foreground))]",style:{fontFamily:"var(--theme-font-heading)"},children:"Quick Capture"})]}),(0,t.jsx)("button",{onClick:h,className:"p-1.5 rounded-lg hover:bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",children:(0,t.jsx)(l.X,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("textarea",{ref:j,value:x,onChange:e=>v(e.target.value),onKeyDown:w,placeholder:"Capture your thought... (supports markdown)",rows:4,className:(0,c.cn)("w-full px-3 py-2.5 rounded-lg resize-none","bg-[hsl(var(--theme-muted))]","border border-transparent","text-sm text-[hsl(var(--theme-foreground))]","placeholder-[hsl(var(--theme-muted-foreground))]","outline-none focus:border-[hsl(var(--theme-primary))]","transition-colors")})}),(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-muted)/0.5)]",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>b(!g),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-[hsl(var(--theme-muted))] text-sm text-[hsl(var(--theme-muted-foreground))] transition-colors",children:[(0,t.jsx)(o.FolderInput,{className:"w-4 h-4"}),k?(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-sm",style:{backgroundColor:k.color}}),k.name]}):"Inbox",(0,t.jsx)(i.ChevronDown,{className:"w-3.5 h-3.5"})]}),(0,t.jsx)(a.AnimatePresence,{children:g&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute bottom-full left-0 mb-1 w-48 rounded-lg border border-[hsl(var(--theme-border))] bg-[hsl(var(--theme-card))] shadow-lg overflow-hidden z-10",children:u.map(e=>(0,t.jsxs)("button",{onClick:()=>{f(e.id),b(!1)},className:(0,c.cn)("w-full flex items-center gap-2 px-3 py-2 text-sm transition-colors",p===e.id?"bg-[hsl(var(--theme-muted))] text-[hsl(var(--theme-foreground))]":"text-[hsl(var(--theme-foreground))] hover:bg-[hsl(var(--theme-muted))]"),children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:e.color}}),e.name]},e.id))})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"hidden sm:block text-[10px] text-[hsl(var(--theme-muted-foreground))]",children:"âŒ˜ + Enter to save"}),(0,t.jsx)("button",{onClick:y,disabled:!x.trim(),className:(0,c.cn)("px-4 py-1.5 rounded-lg text-sm font-medium transition-colors","bg-[hsl(var(--theme-primary))] text-white","hover:bg-[hsl(var(--theme-primary)/0.9)]","disabled:opacity-50 disabled:cursor-not-allowed"),children:"Save"})]})]})]})]})})}e.s(["QuickCaptureModal",()=>h])},91431,e=>{"use strict";var t=e.i(726151),r=e.i(923041),s=e.i(662582),a=e.i(278124),l=e.i(429931),n=e.i(940945),o=e.i(591372),i=e.i(271119),d=e.i(517703),c=e.i(734545),h=e.i(519628),m=e.i(71508),u=e.i(300605),x=e.i(140113),v=e.i(242092),p=e.i(902146),f=e.i(562966),g=e.i(253398),b=e.i(966844),j=e.i(100202),N=e.i(635545),y=e.i(7011);function w(){let{designTheme:e}=(0,p.useDesignTheme)(),{resolvedTheme:w,setTheme:k}=(0,v.useTheme)(),C="dark"===w,{selectedNote:S,selectedNoteId:E,openQuickCapture:P,createNote:I,selectNote:A}=(0,f.useNotes)(),[D,L]=(0,r.useState)(!1),[F,T]=(0,r.useState)("list"),[K,M]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth<768;L(e),e||M(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{D&&E&&T("editor")},[D,E]),(0,r.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&e.shiftKey&&"n"===e.key&&(e.preventDefault(),P()),(e.metaKey||e.ctrlKey)&&!e.shiftKey&&"n"===e.key&&(e.preventDefault(),I()),"Escape"===e.key&&D&&"editor"===F&&(T("list"),A(null))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[P,I,D,F,A]),(0,r.useCallback)(()=>{"editor"===F?T("list"):"list"===F&&K&&M(!1)},[F,K]),(0,t.jsx)("div",{className:C?"dark":"",children:(0,t.jsxs)("div",{"data-design-theme":e,className:"min-h-screen flex flex-col transition-colors duration-300",style:{backgroundColor:"hsl(var(--theme-background))",color:"hsl(var(--theme-foreground))",fontFamily:"var(--theme-font)"},children:[(0,t.jsx)(s.motion.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex-shrink-0 h-14 border-b border-[hsl(var(--theme-border))] backdrop-blur-xl",style:{backgroundColor:"hsl(var(--theme-background) / 0.8)"},children:(0,t.jsxs)("div",{className:"h-full max-w-[1600px] mx-auto px-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[D&&(0,t.jsx)("button",{onClick:()=>{"editor"===F?T("list"):M(!K)},className:"p-2 rounded-lg hover:bg-[hsl(var(--theme-muted))] transition-colors",children:"editor"===F?(0,t.jsx)(i.ChevronLeft,{className:"w-5 h-5"}):K?(0,t.jsx)(o.X,{className:"w-5 h-5"}):(0,t.jsx)(n.Menu,{className:"w-5 h-5"})}),(0,t.jsxs)(x.default,{href:"/",className:"hidden sm:inline-flex items-center gap-2 text-sm text-[hsl(var(--theme-muted-foreground))] hover:text-[hsl(var(--theme-foreground))] transition-colors",children:[(0,t.jsx)(u.ArrowLeft,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Back"})]}),!D&&(0,t.jsx)("div",{className:"w-px h-6 bg-[hsl(var(--theme-border))]"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, hsl(var(--theme-primary)), hsl(var(--theme-accent)))"},children:(0,t.jsx)(d.FileText,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-[hsl(var(--theme-foreground))]",style:{fontFamily:"var(--theme-font-heading)"},children:"Notes"})]})]}),!D&&(0,t.jsx)("div",{className:"flex-1 max-w-md mx-4",children:(0,t.jsx)(N.NotesSearch,{})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:P,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[hsl(var(--theme-primary))] text-white hover:bg-[hsl(var(--theme-primary)/0.9)] transition-colors",children:[(0,t.jsx)(c.Zap,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline text-sm",children:"Capture"})]}),(0,t.jsx)("button",{onClick:()=>k(C?"light":"dark"),className:"p-2 rounded-lg hover:bg-[hsl(var(--theme-muted))] transition-colors",title:C?"Light mode":"Dark mode",children:C?(0,t.jsx)(h.Sun,{className:"w-5 h-5"}):(0,t.jsx)(m.Moon,{className:"w-5 h-5"})})]})]})}),D&&"editor"!==F&&(0,t.jsx)("div",{className:"flex-shrink-0 px-4 py-2 border-b border-[hsl(var(--theme-border))]",children:(0,t.jsx)(N.NotesSearch,{})}),(0,t.jsx)("div",{className:"flex-1 flex min-h-0 relative",children:D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.AnimatePresence,{children:K&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/30 z-10",onClick:()=>M(!1)}),(0,t.jsx)(s.motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:l.springs.snappy,className:"absolute left-0 top-0 bottom-0 w-64 z-20 bg-[hsl(var(--theme-background))] border-r border-[hsl(var(--theme-border))]",children:(0,t.jsx)(g.NotesFolderTree,{})})]})}),(0,t.jsxs)(a.AnimatePresence,{mode:"wait",children:["list"===F&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:l.springs.snappy,className:"flex-1",children:(0,t.jsx)(b.NotesList,{})},"list"),"editor"===F&&S&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:l.springs.snappy,className:"flex-1",children:(0,t.jsx)(j.NoteEditor,{note:S})},"editor")]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"w-56 flex-shrink-0 border-r border-[hsl(var(--theme-border))]",children:(0,t.jsx)(g.NotesFolderTree,{})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"w-72 flex-shrink-0 border-r border-[hsl(var(--theme-border))]",children:(0,t.jsx)(b.NotesList,{})}),(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex-1 min-w-0",children:S?(0,t.jsx)(j.NoteEditor,{note:S}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[(0,t.jsx)(d.FileText,{className:"w-16 h-16 text-[hsl(var(--theme-muted-foreground))] mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-[hsl(var(--theme-foreground))] mb-2",style:{fontFamily:"var(--theme-font-heading)"},children:"Select a note"}),(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--theme-muted-foreground))] mb-4",children:"Choose a note from the list or create a new one"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[hsl(var(--theme-muted-foreground))]",children:[(0,t.jsx)("kbd",{className:"px-2 py-1 rounded bg-[hsl(var(--theme-muted))] border border-[hsl(var(--theme-border))]",children:"âŒ˜N"}),(0,t.jsx)("span",{children:"New note"}),(0,t.jsx)("span",{className:"mx-2",children:"Â·"}),(0,t.jsx)("kbd",{className:"px-2 py-1 rounded bg-[hsl(var(--theme-muted))] border border-[hsl(var(--theme-border))]",children:"âŒ˜â‡§N"}),(0,t.jsx)("span",{children:"Quick capture"})]})]})})]})}),(0,t.jsx)(y.QuickCaptureModal,{})]})})}function k(){return(0,t.jsx)(f.NotesProvider,{children:(0,t.jsx)(w,{})})}e.s(["NotesApp",()=>k])}]);