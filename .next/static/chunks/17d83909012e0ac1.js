(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,961226,894747,e=>{"use strict";let t=(0,e.i(699528).default)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);e.s(["default",()=>t],894747),e.s(["Terminal",()=>t],961226)},940945,462137,e=>{"use strict";let t=(0,e.i(699528).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);e.s(["default",()=>t],462137),e.s(["Menu",()=>t],940945)},17781,e=>{"use strict";let t=(0,e.i(699528).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["default",()=>t])},431529,e=>{"use strict";var t=e.i(17781);e.s(["MoreHorizontal",()=>t.default])},806420,e=>{"use strict";let t=(0,e.i(699528).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["default",()=>t])},85444,e=>{"use strict";var t=e.i(806420);e.s(["XCircle",()=>t.default])},936294,776802,e=>{"use strict";let t=(0,e.i(699528).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>t],776802),e.s(["Info",()=>t],936294)},650425,194623,e=>{"use strict";let t=(0,e.i(699528).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["default",()=>t],194623),e.s(["TrendingUp",()=>t],650425)},164485,51924,e=>{"use strict";e.i(973823),e.i(773632),e.i(548685),e.i(563162),e.i(460630);var t=e.i(923041);function a(e={}){let{speed:s=1,smooth:l=!1}=e,n=(0,t.useRef)(null),i=(0,t.useCallback)(e=>{let t=n.current;if(!t||Math.abs(e.deltaX)>Math.abs(e.deltaY)||!(t.scrollWidth>t.clientWidth))return;let a=t.scrollLeft<=0,i=t.scrollLeft>=t.scrollWidth-t.clientWidth-1;a&&e.deltaY<0||i&&e.deltaY>0||(e.preventDefault(),l?t.scrollBy({left:e.deltaY*s,behavior:"smooth"}):t.scrollLeft+=e.deltaY*s)},[s,l]);return(0,t.useEffect)(()=>{let e=n.current;if(e)return e.addEventListener("wheel",i,{passive:!1}),()=>{e.removeEventListener("wheel",i)}},[i]),n}e.s(["useHorizontalScroll",()=>a],51924),e.s([],164485)},460630,e=>{"use strict";var t=e.i(923041);function a(){let[e,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)");a(e.matches);let t=e=>{a(e.matches)};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[]),e}e.s(["useReducedMotion",()=>a])},319041,406691,e=>{"use strict";function t(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function a(e,t){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",...t})}function s(e,t){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,...t&&{timeZone:t}})}function l(e){if(e<60)return`${e} min`;let t=Math.floor(e/60),a=e%60;return 0===a?1===t?"1 hour":`${t} hours`:`${t}h ${a}m`}function n(e){let t=e-Date.now(),s=Math.floor(t/6e4),l=Math.floor(t/36e5),n=Math.floor(t/864e5);return t<0?"Past":s<60?`in ${s} min`:l<24?`in ${l} hour${1===l?"":"s"}`:1===n?"Tomorrow":n<7?`in ${n} days`:a(e,{weekday:void 0,year:void 0})}function i(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function r(e,t){let a=new Date(e,t,1),s=new Date(e,t+1,0),l=new Date(a);l.setDate(l.getDate()-a.getDay());let n=new Date(s);n.setDate(n.getDate()+(6-s.getDay()));let i=[],r=new Date(l);for(;r<=n;)i.push(new Date(r)),r.setDate(r.getDate()+1);return i}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function d(e){return o(e,new Date)}function c(e){let t=new Date;return t.setHours(0,0,0,0),e<t}function x(e=0,t=24,a=30){let l=[];for(let n=60*e;n<60*t;n+=a){let e=function(e){let t=Math.floor(e/60);return`${t.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}(n),t=s(new Date().setHours(0,n,0,0));l.push({value:e,label:t})}return l}function u(e,t){return`${window.location.origin}/book/${e}/${t}`}async function m(e){try{return await navigator.clipboard.writeText(e),!0}catch{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{return document.execCommand("copy"),!0}catch{return!1}finally{document.body.removeChild(t)}}}function h(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function p(){return Math.random().toString(36).substring(2,11)+Date.now().toString(36)}e.s(["DAY_NAMES",0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"DAY_NAMES_SHORT",0,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"DURATION_OPTIONS",0,[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}],"EVENT_COLORS",0,[{value:"#3b82f6",label:"Blue"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Yellow"},{value:"#ef4444",label:"Red"},{value:"#8b5cf6",label:"Purple"},{value:"#ec4899",label:"Pink"},{value:"#06b6d4",label:"Cyan"},{value:"#f97316",label:"Orange"}]],406691),e.s(["copyToClipboard",()=>m,"formatDate",()=>a,"formatDateString",()=>t,"formatDuration",()=>l,"formatTime",()=>s,"generateId",()=>p,"generateTimeOptions",()=>x,"getBookingLink",()=>u,"getCalendarDates",()=>r,"getRelativeTime",()=>n,"getUserTimezone",()=>i,"isPast",()=>c,"isSameDay",()=>o,"isToday",()=>d,"isValidEmail",()=>h],319041)},563162,e=>{"use strict";var t=e.i(923041),a=e.i(850402),s=e.i(319041);let l=null;try{l=e.r(334905).api}catch{}function n(e={}){let{autoInitializeAvailability:i=!0}=e,[r,o]=(0,t.useState)("month"),[d,c]=(0,t.useState)(new Date),[x,u]=(0,t.useState)(!1),m=!!l?.scheduling,h=(0,a.useQuery)(l.scheduling.getUserProfile,m?{}:"skip"),p=(0,a.useQuery)(l.scheduling.getEventTypes,m?{}:"skip"),g=(0,a.useQuery)(l.scheduling.getAvailability,m?{}:"skip"),f=(0,a.useQuery)(l.scheduling.getDefaultAvailability,m?{}:"skip"),b=(0,a.useQuery)(l.scheduling.getCalendarIntegration,m?{}:"skip"),w=(0,a.useQuery)(l.scheduling.getUpcomingBookings,m?{limit:10}:"skip"),y=(0,a.useMutation)(l.scheduling.createEventType),v=(0,a.useMutation)(l.scheduling.updateEventType),j=(0,a.useMutation)(l.scheduling.deleteEventType),N=(0,a.useMutation)(l.scheduling.createAvailability),k=(0,a.useMutation)(l.scheduling.updateAvailability),S=(0,a.useMutation)(l.scheduling.deleteAvailability),C=(0,a.useMutation)(l.scheduling.initializeDefaultAvailability),T=(0,a.useMutation)(l.scheduling.setOverride),z=(0,a.useMutation)(l.scheduling.deleteOverride),M=(0,a.useMutation)(l.scheduling.updateBookingStatus),E=(0,a.useMutation)(l.scheduling.rescheduleBooking),$=(0,a.useMutation)(l.scheduling.saveCalendarIntegration);(0,a.useMutation)(l.scheduling.updateCalendarIntegration);let D=(0,a.useMutation)(l.scheduling.deleteCalendarIntegration),A=(0,a.useMutation)(l.scheduling.updateBookingGoogleEventId),P=(0,a.useMutation)(l.scheduling.createOrUpdateUserProfile);(0,t.useEffect)(()=>{m&&i&&void 0!==g&&0===g.length&&null===f&&C({timezone:(0,s.getUserTimezone)()}).catch(console.error)},[m,i,g,f,C]);let U=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");return await P(e)},[m,P]),I=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");return await y(e)},[m,y]),F=(0,t.useCallback)(async(e,t)=>{if(!m)throw Error("Schema not deployed");let{_id:a,ownerId:s,createdAt:l,...n}=t;await v({id:e,...n})},[m,v]),L=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await j({id:e})},[m,j]),O=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");return await N(e)},[m,N]),R=(0,t.useCallback)(async(e,t)=>{if(!m)throw Error("Schema not deployed");let{_id:a,ownerId:s,createdAt:l,...n}=t;await k({id:e,...n})},[m,k]),Y=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await S({id:e})},[m,S]),B=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");return await T(e)},[m,T]),H=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await z({date:e})},[m,z]),_=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await M({id:e,status:"confirmed"})},[m,M]),X=(0,t.useCallback)(async(e,t,a)=>{if(!m)throw Error("Schema not deployed");await M({id:e,status:"cancelled",cancelReason:t,cancelledBy:a})},[m,M]),q=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await M({id:e,status:"no_show"})},[m,M]),G=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await M({id:e,status:"completed"})},[m,M]),W=(0,t.useCallback)(async(e,t)=>{if(!m)throw Error("Schema not deployed");return await E({id:e,newStartTime:t})},[m,E]),Q=(0,t.useCallback)(async()=>{u(!0);try{let e=await fetch("/api/calendar/google/auth?returnUrl=/calendar"),t=await e.json();if(t.authUrl)window.location.href=t.authUrl;else throw Error(t.error||"Failed to get auth URL")}catch(e){throw console.error("Failed to connect Google Calendar:",e),u(!1),e}},[]),K=(0,t.useCallback)(async e=>{if(!m)throw Error("Schema not deployed");await $(e)},[m,$]),V=(0,t.useCallback)(async()=>{if(!m)throw Error("Schema not deployed");await D()},[m,D]),Z=(0,t.useCallback)(async(e,t="create")=>{if(!b)throw Error("No calendar integration configured");let a=await fetch("/api/calendar/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,booking:e,integration:b,timezone:f?.timezone||(0,s.getUserTimezone)()})}),l=await a.json();if(l.needsTokenUpdate)return await $({accessToken:l.newTokens.accessToken,refreshToken:l.newTokens.refreshToken,tokenExpiry:l.newTokens.tokenExpiry,calendarId:b.calendarId,calendarEmail:b.calendarEmail}),Z(e,t);if(!l.success)throw Error(l.error||"Sync failed");return"create"===t&&l.googleEventId&&await A({bookingId:e._id,googleEventId:l.googleEventId,location:l.meetLink}),l},[b,f?.timezone,$,A]),J=!m||void 0===p||void 0===g||void 0===b;return{schemaReady:m,userProfile:h??null,eventTypes:p||[],availability:g||[],defaultAvailability:f??null,calendarIntegration:b??null,upcomingBookings:w||[],calendarView:r,setCalendarView:o,selectedDate:d,setSelectedDate:c,createOrUpdateUserProfile:U,createEventType:I,updateEventType:F,deleteEventType:L,createAvailability:O,updateAvailability:R,deleteAvailability:Y,setOverride:B,deleteOverride:H,confirmBooking:_,cancelBooking:X,markNoShow:q,markCompleted:G,rescheduleBooking:W,connectGoogleCalendar:Q,saveGoogleTokens:K,disconnectGoogleCalendar:V,syncBookingToCalendar:Z,isConnectingGoogle:x,isLoading:J}}e.s(["useScheduling",()=>n])},249387,e=>{"use strict";let t=(0,e.i(699528).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["default",()=>t])},679519,e=>{"use strict";let t=(0,e.i(699528).default)("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);e.s(["default",()=>t])},871783,e=>{"use strict";let t=(0,e.i(699528).default)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);e.s(["default",()=>t])},184284,e=>{"use strict";var t=e.i(726151),a=e.i(923041),s=e.i(662582),l=e.i(278124),n=e.i(140113),i=e.i(300605),r=e.i(874221),o=e.i(107800),d=e.i(734545),c=e.i(249387),c=c,x=e.i(650425),u=e.i(413698),m=e.i(936294),h=e.i(961226),p=e.i(843762),g=e.i(940945),f=e.i(591372),b=e.i(86066),w=e.i(576161),y=e.i(298130),v=e.i(55841),j=e.i(384785),N=e.i(679519),N=N,k=e.i(573138),S=e.i(871783),S=S;let C={base:"Base Thread",parallel:"P-Thread",chained:"C-Thread",fusion:"F-Thread",big:"B-Thread",long:"L-Thread",zero:"Z-Thread"},T={base:{bg:"bg-slate-500",text:"text-slate-400",glow:"rgba(100, 116, 139, 0.5)"},parallel:{bg:"bg-blue-500",text:"text-blue-400",glow:"rgba(59, 130, 246, 0.5)"},chained:{bg:"bg-amber-500",text:"text-amber-400",glow:"rgba(245, 158, 11, 0.5)"},fusion:{bg:"bg-purple-500",text:"text-purple-400",glow:"rgba(168, 85, 247, 0.5)"},big:{bg:"bg-rose-500",text:"text-rose-400",glow:"rgba(244, 63, 94, 0.5)"},long:{bg:"bg-emerald-500",text:"text-emerald-400",glow:"rgba(16, 185, 129, 0.5)"},zero:{bg:"bg-cyan-500",text:"text-cyan-400",glow:"rgba(6, 182, 212, 0.5)"}},z={haiku:{name:"Claude Haiku",tier:1,color:"#94a3b8"},sonnet:{name:"Claude Sonnet",tier:2,color:"#a78bfa"},opus:{name:"Claude Opus",tier:3,color:"#f472b6"},"opus-4.5":{name:"Claude Opus 4.5",tier:4,color:"#f97316"},"gpt-4o":{name:"GPT-4o",tier:3,color:"#22c55e"},gemini:{name:"Gemini Pro",tier:3,color:"#3b82f6"}};function M(e){return e<.01?`$${(100*e).toFixed(2)}\xa2`:`$${e.toFixed(4)}`}function E(e){return e<1e3?`${e}`:e<1e6?`${(e/1e3).toFixed(1)}K`:`${(e/1e6).toFixed(2)}M`}let $=(0,a.memo)(function({children:e,onClick:l,variant:n="default",size:i="md",icon:r,label:o,shortcut:d,active:c=!1,disabled:x=!1,glow:u,className:m=""}){let[h,p]=(0,a.useState)(!1),g={default:{base:"linear-gradient(180deg, #2a2a2a 0%, #1f1f1f 50%, #1a1a1a 100%)",glow:c?"rgba(255,255,255,0.1)":"transparent",text:c?"text-white":"text-white/60"},primary:{base:c?"linear-gradient(180deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%)":"linear-gradient(180deg, #2a2a2a 0%, #1f1f1f 50%, #1a1a1a 100%)",glow:c?"rgba(59, 130, 246, 0.4)":"transparent",text:c?"text-white":"text-blue-400"},danger:{base:c?"linear-gradient(180deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%)":"linear-gradient(180deg, #2d1f1f 0%, #1f1515 50%, #1a1010 100%)",glow:c?"rgba(239, 68, 68, 0.4)":"transparent",text:c?"text-white":"text-red-400"},success:{base:c?"linear-gradient(180deg, #22c55e 0%, #16a34a 50%, #15803d 100%)":"linear-gradient(180deg, #1f2d1f 0%, #152015 50%, #101a10 100%)",glow:c?"rgba(34, 197, 94, 0.4)":"transparent",text:c?"text-white":"text-green-400"}}[n],f=()=>{x||(p(!0),setTimeout(()=>p(!1),150),l?.())};return(0,t.jsxs)(s.motion.button,{className:`
        relative flex flex-col items-center justify-center gap-0.5
        rounded-lg select-none overflow-hidden
        ${{sm:"min-w-[36px] sm:min-w-[40px] h-9 sm:h-10",md:"min-w-[44px] sm:min-w-[52px] h-10 sm:h-12",lg:"min-w-[56px] sm:min-w-[64px] h-12 sm:h-14",wide:"w-full h-9 sm:h-10"}[i]}
        ${x?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${m}
      `,onMouseDown:()=>!x&&p(!0),onMouseUp:f,onMouseLeave:()=>p(!1),onTouchStart:()=>!x&&p(!0),onTouchEnd:f,disabled:x,animate:{y:2*!!h},transition:{type:"spring",stiffness:800,damping:20},children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-lg",style:{background:"linear-gradient(180deg, #1a1a1a 0%, #0a0a0a 100%)",transform:"translateY(4px)",opacity:h?.3:1}}),(c||u)&&(0,t.jsx)("div",{className:"absolute inset-0 rounded-lg transition-opacity duration-300",style:{background:`radial-gradient(ellipse at center, ${u||g.glow} 0%, transparent 70%)`,filter:"blur(8px)"}}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-lg overflow-hidden transition-all duration-200",style:{background:g.base,boxShadow:h?"inset 0 2px 4px rgba(0,0,0,0.5), inset 0 -1px 1px rgba(255,255,255,0.05)":"inset 0 1px 1px rgba(255,255,255,0.1), inset 0 -2px 4px rgba(0,0,0,0.3)",transform:h?"translateY(2px)":"translateY(0)"},children:(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-px",style:{background:"linear-gradient(90deg, transparent 10%, rgba(255,255,255,0.15) 50%, transparent 90%)"}})}),(0,t.jsxs)("div",{className:`relative z-10 flex flex-col items-center justify-center gap-0.5 ${g.text}`,style:{transform:h?"translateY(2px)":"translateY(0)"},children:[r&&(0,t.jsx)("span",{className:"transition-colors",children:r}),o&&(0,t.jsx)("span",{className:"text-[7px] font-bold tracking-wider uppercase leading-tight text-center",children:o}),e]}),d&&(0,t.jsx)("div",{className:"absolute bottom-0.5 right-0.5 px-1 py-px rounded text-[5px] font-mono bg-black/30 text-white/30 z-20",style:{transform:h?"translateY(2px)":"translateY(0)"},children:d})]})}),D=["base","parallel","chained","fusion","big","long","zero"],A=(0,a.memo)(function({selected:e,onChange:a}){let l=D.indexOf(e),n=270/(D.length-1);return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsxs)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 relative",children:[D.map((e,s)=>{let i=Math.PI/180*(-135+s*n-90),r=32*Math.cos(i),o=32*Math.sin(i),d=s<=l,c=T[e];return(0,t.jsx)("button",{onClick:()=>a(e),className:`absolute w-2 h-2 rounded-full transition-all duration-150 ${d?c.bg:"bg-white/20"}`,style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${r}px), calc(-50% + ${o}px))`,boxShadow:d?`0 0 6px ${c.glow}`:"none"},title:C[e]},e)}),(0,t.jsxs)(s.motion.div,{className:"absolute inset-2 rounded-full cursor-pointer",animate:{rotate:-135+l*n},transition:{type:"spring",stiffness:400,damping:25},style:{background:"linear-gradient(180deg, #4a4a4a 0%, #2a2a2a 30%, #1a1a1a 70%, #0f0f0f 100%)",boxShadow:`
              inset 0 2px 4px rgba(255,255,255,0.15),
              inset 0 -2px 4px rgba(0,0,0,0.5),
              0 4px 8px rgba(0,0,0,0.5)
            `},children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:[...Array(12)].map((e,a)=>(0,t.jsx)("div",{className:"absolute w-full h-px bg-white/10",style:{transform:`rotate(${180*a/12}deg)`}},a))}),(0,t.jsx)("div",{className:"absolute inset-2 rounded-full",style:{background:"linear-gradient(180deg, #3a3a3a 0%, #1a1a1a 100%)",boxShadow:"inset 0 1px 2px rgba(255,255,255,0.1)"}}),(0,t.jsx)("div",{className:"absolute top-1 left-1/2 w-1 h-2 -translate-x-1/2 rounded-full",style:{background:T[e].bg.replace("bg-",""),backgroundColor:T[e].glow,boxShadow:`0 0 6px ${T[e].glow}`}})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:`text-[7px] sm:text-[8px] font-bold tracking-wider uppercase ${T[e].text}`,children:C[e]}),(0,t.jsx)("div",{className:"text-[5px] sm:text-[6px] text-white/40 uppercase tracking-wide",children:"Type"})]})]})}),P=(0,a.memo)(function({activeThreads:e,totalThreads:a,toolCalls:l,cost:n,efficiency:i,selectedThread:r}){return(0,t.jsx)("div",{className:"relative w-full rounded-lg overflow-hidden",style:{background:"linear-gradient(180deg, #0a0f0a 0%, #050805 100%)",boxShadow:`
          inset 0 2px 4px rgba(0,0,0,0.8),
          inset 0 -1px 1px rgba(255,255,255,0.05)
        `},children:(0,t.jsxs)("div",{className:"absolute inset-0.5 rounded-md overflow-hidden",style:{background:"linear-gradient(180deg, #0a120a 0%, #040804 100%)"},children:[(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0,0,0,0.3) 1px, rgba(0,0,0,0.3) 2px)"}}),(0,t.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, rgba(34, 197, 94, 0.05) 0%, transparent 70%)"}}),(0,t.jsxs)("div",{className:"relative h-full flex flex-col justify-between p-1.5 sm:p-2 font-mono text-green-400",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-[7px] sm:text-[8px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"THREADS:"}),(0,t.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"THR:"}),(0,t.jsxs)("span",{className:"font-bold",children:[e,"/",a]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"CALLS:"}),(0,t.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"C:"}),(0,t.jsx)("span",{className:"font-bold",children:E(l)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,t.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"COST:"}),(0,t.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"$:"}),(0,t.jsx)("span",{className:"font-bold",children:M(n)})]})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:r?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-[9px] sm:text-[10px] font-bold text-green-300 mb-0.5 truncate max-w-full",children:r.name}),(0,t.jsxs)("div",{className:"text-[7px] sm:text-[8px] text-green-500/80",children:[C[r.type]," • ",z[r.model].name]}),(0,t.jsx)("div",{className:"w-24 sm:w-32 h-1 bg-green-950/50 rounded-full mt-1.5 mx-auto overflow-hidden",children:(0,t.jsx)(s.motion.div,{className:"h-full rounded-full",style:{background:"linear-gradient(90deg, #22c55e 0%, #4ade80 100%)",boxShadow:"0 0 10px rgba(34, 197, 94, 0.5)"},animate:{width:`${r.progress}%`},transition:{duration:.3}})}),(0,t.jsxs)("div",{className:"text-[6px] sm:text-[7px] text-green-500/60 mt-1",children:[r.status.toUpperCase()," • ",r.progress,"%"]})]}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-[9px] sm:text-[10px] text-green-500/60",children:"NO THREAD SELECTED"}),(0,t.jsx)("div",{className:"text-[7px] sm:text-[8px] text-green-500/40",children:"Select or create a thread"})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-[6px] sm:text-[7px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(S.default,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-green-500/60"}),(0,t.jsx)("span",{className:"text-green-500/60 hidden sm:inline",children:"EFFICIENCY:"}),(0,t.jsx)("span",{className:"text-green-500/60 sm:hidden",children:"EFF:"})]}),(0,t.jsx)("div",{className:"flex-1 mx-2 h-1 bg-green-950/50 rounded-full overflow-hidden",children:(0,t.jsx)(s.motion.div,{className:"h-full rounded-full",style:{background:i>50?"linear-gradient(90deg, #22c55e 0%, #4ade80 100%)":i>25?"linear-gradient(90deg, #eab308 0%, #facc15 100%)":"linear-gradient(90deg, #ef4444 0%, #f87171 100%)"},animate:{width:`${Math.min(i,100)}%`}})}),(0,t.jsx)("span",{className:"font-bold text-green-300",children:i.toFixed(1)})]})]})]})})}),U=(0,a.memo)(function({value:e,onChange:a,max:s=10}){return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0.5 sm:gap-1",children:[(0,t.jsx)("button",{onClick:()=>a(Math.max(e-1,1)),className:"w-4 h-4 sm:w-5 sm:h-5 rounded bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 flex items-center justify-center text-[10px] sm:text-xs font-bold",children:"-"}),(0,t.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center font-mono text-base sm:text-lg font-bold",style:{background:"linear-gradient(180deg, #1a1a1a 0%, #0f0f0f 100%)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.5)",color:e>1?"#3b82f6":"#ffffff60",textShadow:e>1?"0 0 10px rgba(59, 130, 246, 0.5)":"none"},children:e}),(0,t.jsx)("button",{onClick:()=>a(Math.min(e+1,s)),className:"w-4 h-4 sm:w-5 sm:h-5 rounded bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60 flex items-center justify-center text-[10px] sm:text-xs font-bold",children:"+"})]}),(0,t.jsx)("div",{className:"text-[5px] sm:text-[6px] text-white/40 uppercase tracking-wide",children:"Spawn"})]})});function I({activeThreads:e=0,totalThreads:s=0,totalToolCalls:l=0,totalCost:n=0,efficiency:i=0,selectedThread:r,onCreateThread:o,onStartThread:d,onPauseThread:c,onStopThread:x,onFuseThreads:m,onSpawnParallel:h,onModelChange:p,onSettingsOpen:g,className:f=""}){let[S,C]=(0,a.useState)("base"),[z,M]=(0,a.useState)(3),[E,I]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=e=>{if(!["INPUT","TEXTAREA"].includes(e.target.tagName))switch(e.key.toLowerCase()){case"n":e.preventDefault(),o?.(S);break;case" ":e.preventDefault(),r?.status==="running"?(c?.(),I(!1)):(d?.(),I(!0));break;case"s":e.metaKey||e.ctrlKey||(e.preventDefault(),x?.(),I(!1));break;case"f":e.preventDefault(),m?.();break;case"p":e.preventDefault(),h?.(z)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[S,z,r,o,d,c,x,m,h]),(0,t.jsx)("div",{className:`relative w-full max-w-sm sm:max-w-md mx-auto px-2 sm:px-0 ${f}`,children:(0,t.jsxs)("div",{className:"relative rounded-2xl overflow-hidden",style:{background:"linear-gradient(180deg, #d4d4d4 0%, #a8a8a8 5%, #c0c0c0 50%, #a0a0a0 95%, #888888 100%)",boxShadow:`
            0 20px 50px rgba(0,0,0,0.5),
            0 10px 20px rgba(0,0,0,0.3),
            inset 0 2px 0 rgba(255,255,255,0.6),
            inset 0 -2px 0 rgba(0,0,0,0.2)
          `},children:[(0,t.jsx)("div",{className:"absolute top-0 left-3 right-3 h-px z-10",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.8) 20%, rgba(255,255,255,0.8) 80%, transparent)"}}),(0,t.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,t.jsx)("div",{className:"mb-3 sm:mb-4 h-20 sm:h-24",children:(0,t.jsx)(P,{activeThreads:e,totalThreads:s,toolCalls:l,cost:n,efficiency:i,selectedThread:r})}),(0,t.jsxs)("div",{className:"flex items-end justify-between gap-2 sm:gap-3 mb-3 sm:mb-4",children:[(0,t.jsx)(A,{selected:S,onChange:C}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)($,{size:"md",variant:"success",icon:E?(0,t.jsx)(w.Pause,{className:"w-4 h-4"}):(0,t.jsx)(b.Play,{className:"w-4 h-4"}),label:E?"Pause":"Start",active:E,shortcut:"␣",onClick:()=>{E?c?.():d?.(),I(!E)}}),(0,t.jsx)($,{size:"md",variant:"danger",icon:(0,t.jsx)(y.Square,{className:"w-4 h-4"}),label:"Stop",shortcut:"S",onClick:()=>{x?.(),I(!1)}})]}),(0,t.jsx)("div",{className:"text-[5px] sm:text-[6px] text-zinc-500 uppercase tracking-wide",children:"Transport"})]}),(0,t.jsx)(U,{value:z,onChange:M})]}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-1 sm:gap-2 mb-2 sm:mb-3",children:[(0,t.jsx)($,{size:"md",variant:"primary",icon:(0,t.jsx)(v.Plus,{className:"w-4 h-4"}),label:"New",shortcut:"N",onClick:()=>o?.(S),className:"!w-full"}),(0,t.jsx)($,{size:"md",icon:(0,t.jsx)(j.Layers,{className:"w-4 h-4"}),label:"Spawn",shortcut:"P",onClick:()=>h?.(z),glow:"rgba(59, 130, 246, 0.3)",className:"!w-full"}),(0,t.jsx)($,{size:"md",icon:(0,t.jsx)(N.default,{className:"w-4 h-4"}),label:"Fuse",shortcut:"F",onClick:m,glow:"rgba(168, 85, 247, 0.3)",className:"!w-full"}),(0,t.jsx)($,{size:"md",icon:(0,t.jsx)(k.RefreshCw,{className:"w-4 h-4"}),label:"Retry",className:"!w-full"}),(0,t.jsx)($,{size:"md",icon:(0,t.jsx)(u.Settings,{className:"w-4 h-4"}),label:"Config",onClick:g,className:"!w-full"})]}),(0,t.jsx)("div",{className:"flex gap-1 sm:gap-1.5",children:D.map(e=>{let a=T[e],s=S===e;return(0,t.jsx)("button",{onClick:()=>C(e),className:`flex-1 py-1 sm:py-1.5 rounded-md sm:rounded-lg text-[6px] sm:text-[7px] font-bold tracking-wider uppercase transition-all ${s?`${a.bg} text-white`:`bg-zinc-800/50 ${a.text} hover:bg-zinc-700/50`}`,style:{boxShadow:s?`0 0 12px ${a.glow}`:"none"},children:e.charAt(0).toUpperCase()},e)})})]}),(0,t.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-8 rounded-r",style:{background:"linear-gradient(90deg, #2a2a2a, #3a3a3a)",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.5)"}}),(0,t.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-8 rounded-l",style:{background:"linear-gradient(90deg, #3a3a3a, #2a2a2a)",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.5)"}})]})})}e.i(164485);var F=e.i(51924),L=e.i(432827),O=e.i(85444),R=e.i(746115),Y=e.i(431529);let B=(0,a.memo)(function({thread:e,isSelected:a,onSelect:l,onClose:n}){let i=T[e.type],r={idle:(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-500"}),running:(0,t.jsx)(s.motion.div,{className:"w-1.5 h-1.5 rounded-full bg-green-500",animate:{opacity:[1,.3,1]},transition:{duration:1,repeat:1/0}}),paused:(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),completed:(0,t.jsx)(L.CheckCircle,{className:"w-3 h-3 text-green-500"}),failed:(0,t.jsx)(O.XCircle,{className:"w-3 h-3 text-red-500"}),reviewing:(0,t.jsx)(s.motion.div,{className:"w-1.5 h-1.5 rounded-full bg-purple-500",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}}),fusing:(0,t.jsx)(R.Loader2,{className:"w-3 h-3 text-purple-500 animate-spin"})};return(0,t.jsxs)(s.motion.div,{layout:!0,initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},whileHover:{y:-2},className:`
        relative group flex items-center gap-1 sm:gap-1.5 px-1.5 sm:px-2 py-1 sm:py-1.5 rounded-t-lg cursor-pointer
        transition-colors border-b-2 flex-shrink-0
        ${a?"bg-zinc-800 border-b-transparent":"bg-zinc-900/80 border-b-zinc-700/50 hover:bg-zinc-800/80"}
      `,onClick:l,style:{borderTopColor:a?i.glow:"transparent",borderTopWidth:2},children:[(0,t.jsx)("div",{className:`w-0.5 sm:w-1 h-3 sm:h-4 rounded-full ${i.bg}`,style:{boxShadow:a?`0 0 8px ${i.glow}`:"none"}}),(0,t.jsx)("div",{className:"flex-shrink-0",children:r[e.status]}),(0,t.jsx)("span",{className:`text-[10px] sm:text-xs font-medium truncate max-w-[50px] sm:max-w-[80px] ${a?"text-white":"text-zinc-400"}`,children:e.name}),"running"===e.status&&(0,t.jsx)("div",{className:"hidden sm:block w-8 h-1 bg-zinc-700 rounded-full overflow-hidden",children:(0,t.jsx)(s.motion.div,{className:"h-full bg-green-500",initial:{width:0},animate:{width:`${e.progress}%`}})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"flex-shrink-0 p-0.5 rounded hover:bg-zinc-700 opacity-0 group-hover:opacity-100 sm:transition-opacity",children:(0,t.jsx)(f.X,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-zinc-400 hover:text-white"})})]})});function H({threads:e,selectedThreadId:n,onSelectThread:i,onCloseThread:r,onReorderThreads:o,maxVisible:d=8,className:c=""}){let[x,u]=(0,a.useState)(!1),m=(0,F.useHorizontalScroll)(),h=e.slice(0,d),p=e.slice(d),g=p.length>0,f=e.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{});return(0,t.jsxs)("div",{className:`relative ${c}`,children:[(0,t.jsxs)("div",{ref:m,className:"flex items-end gap-0.5 px-1 sm:px-2 pb-0 overflow-x-auto scrollbar-hide",style:{background:"linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.3) 100%)"},children:[(0,t.jsx)(s.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-shrink-0 flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-t-lg bg-zinc-800/50 border border-zinc-700/50 border-b-0 text-zinc-500 hover:text-white hover:bg-zinc-800 transition-colors",children:(0,t.jsx)("span",{className:"text-base sm:text-lg font-light",children:"+"})}),(0,t.jsx)(l.AnimatePresence,{mode:"popLayout",children:h.map(e=>(0,t.jsx)(B,{thread:e,isSelected:e.id===n,onSelect:()=>i(e.id),onClose:()=>r(e.id)},e.id))}),g&&(0,t.jsxs)(s.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!x),className:"flex-shrink-0 relative flex items-center gap-1 px-1.5 sm:px-2 py-1.5 rounded-t-lg bg-zinc-900/80 hover:bg-zinc-800/80 text-zinc-400 hover:text-white transition-colors",children:[(0,t.jsx)(Y.MoreHorizontal,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,t.jsxs)("span",{className:"text-[9px] sm:text-[10px] font-bold bg-zinc-700 px-1 rounded",children:["+",p.length]})]}),(0,t.jsx)("div",{className:"flex-1 min-w-4"}),(0,t.jsxs)("div",{className:"hidden xs:flex flex-shrink-0 items-center gap-2 sm:gap-3 px-2 sm:px-3 py-1.5 text-[9px] sm:text-[10px] text-zinc-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),(0,t.jsx)("span",{children:e.filter(e=>"running"===e.status).length}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"running"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(L.CheckCircle,{className:"w-3 h-3 text-zinc-600"}),(0,t.jsx)("span",{children:e.filter(e=>"completed"===e.status).length}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"done"})]})]})]}),(0,t.jsx)(l.AnimatePresence,{children:x&&g&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute bottom-full right-0 mb-1 w-64 max-h-80 overflow-auto rounded-lg bg-zinc-900 border border-zinc-800 shadow-xl",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"text-[10px] text-zinc-500 uppercase tracking-wide px-2 py-1",children:["All Threads (",e.length,")"]}),Object.entries(f).map(([e,a])=>(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:`text-[9px] font-bold uppercase tracking-wide px-2 py-1 ${T[e].text}`,children:[C[e]," (",a.length,")"]}),a.map(e=>(0,t.jsxs)("button",{onClick:()=>{i(e.id),u(!1)},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded hover:bg-zinc-800 transition-colors ${e.id===n?"bg-zinc-800":""}`,children:[(0,t.jsx)("div",{className:`w-1 h-3 rounded-full ${T[e.type].bg}`}),(0,t.jsx)("span",{className:"text-xs text-zinc-300 truncate flex-1 text-left",children:e.name}),(0,t.jsxs)("span",{className:"text-[10px] text-zinc-500",children:[e.progress,"%"]})]},e.id))]},e))]})})})]})}function _(e,t){let a=["idle","running","paused","completed","failed"],s=["haiku","sonnet","opus","opus-4.5"],l={base:["Analyze codebase","Fix bug #123","Refactor utils","Add tests"],parallel:["Research A","Research B","Research C","Research D"],chained:["Phase 1: Plan","Phase 2: Build","Phase 3: Test","Phase 4: Deploy"],fusion:["Model A output","Model B output","Model C output","Synthesized"],big:["Sprint 1","Sprint 2","Sprint 3","Sprint 4"],long:["Deep research","Full audit","Migration","Refactor all"],zero:["Auto-deploy","Auto-fix","Auto-test","Auto-review"]},n=a[Math.floor(Math.random()*a.length)],i=s[Math.floor(Math.random()*s.length)],r="completed"===n?100:"failed"===n?50*Math.random():100*Math.random(),o=Math.floor(500*Math.random()),d=Math.floor(3e5*Math.random());return{id:`thread_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e,status:n,name:l[e][t%l[e].length],prompt:`Execute ${e} thread task`,model:i,createdAt:Date.now()-864e5*Math.random(),startedAt:"idle"!==n?Date.now()-d:void 0,completedAt:"completed"===n||"failed"===n?Date.now():void 0,progress:Math.round(r),currentStep:"running"===n?"Processing...":void 0,metrics:{toolCalls:o,tokensUsed:150*o,estimatedCost:.001*o,duration:d,checkpointCount:Math.floor(5*Math.random()),verificationAttempts:Math.floor(3*Math.random())+1,iterations:Math.floor(10*Math.random())}}}function X({icon:e,label:a,value:s,subValue:l,color:n="text-white"}){return(0,t.jsxs)("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%)",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("div",{className:"p-1.5 sm:p-2 rounded-lg bg-white/5",children:e}),l&&(0,t.jsx)("span",{className:"text-[9px] sm:text-[10px] text-zinc-500",children:l})]}),(0,t.jsx)("div",{className:`mt-1 sm:mt-2 text-lg sm:text-xl font-bold ${n}`,children:s}),(0,t.jsx)("div",{className:"text-[8px] sm:text-[10px] text-zinc-500 uppercase tracking-wide",children:a})]})}function q({thread:e,isSelected:a,onSelect:l}){let n=T[e.type];return(0,t.jsx)(s.motion.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:l,className:`w-full p-3 rounded-lg text-left transition-all ${a?"bg-zinc-800 border border-zinc-700":"bg-zinc-900/50 border border-transparent hover:bg-zinc-800/50"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`w-2 h-full min-h-[40px] rounded-full ${n.bg}`,style:{boxShadow:`0 0 8px ${n.glow}`}}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-white truncate",children:e.name}),(0,t.jsx)("span",{className:`text-[9px] font-bold uppercase ${n.text}`,children:e.type})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${"completed"===e.status?"bg-green-500/20 text-green-400":"running"===e.status?"bg-blue-500/20 text-blue-400":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-zinc-500/20 text-zinc-400"}`,children:e.status}),(0,t.jsxs)("span",{className:"text-[10px] text-zinc-500",children:[e.metrics.toolCalls," calls"]}),(0,t.jsx)("span",{className:"text-[10px] text-zinc-500",children:M(e.metrics.estimatedCost)})]}),"running"===e.status&&(0,t.jsx)("div",{className:"mt-2 h-1 bg-zinc-700 rounded-full overflow-hidden",children:(0,t.jsx)(s.motion.div,{className:"h-full bg-blue-500",initial:{width:0},animate:{width:`${e.progress}%`}})})]})]})})}function G(){let[e,b]=(0,a.useState)([]),[w,y]=(0,a.useState)(),[v,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=[];["base","parallel","chained","fusion","big","long"].forEach((t,a)=>{for(let s=0;s<2;s++)e.push(_(t,2*a+s))}),b(e),e.length>0&&y(e[0].id)},[]);let N=(0,a.useMemo)(()=>e.find(e=>e.id===w),[e,w]),k=(0,a.useMemo)(()=>{let t=e.filter(e=>"running"===e.status).length,a=e.reduce((e,t)=>e+t.metrics.toolCalls,0),s=e.reduce((e,t)=>e+t.metrics.estimatedCost,0),l=e.filter(e=>"completed"===e.status);return{activeThreads:t,totalToolCalls:a,totalCost:s,avgEfficiency:l.length>0?l.reduce((e,t)=>e+function(e){if(!e.metrics.duration||0===e.metrics.duration)return 0;let t=e.metrics.duration/6e4;return Math.max(0,(e.metrics.toolCalls/Math.max(t,.1)-.1*e.metrics.checkpointCount)*(1===e.metrics.verificationAttempts?1.2:1))}(t),0)/l.length:0}},[e]),S=(0,a.useCallback)(t=>{let a=_(t,e.length);a.status="idle",a.progress=0,b(e=>[...e,a]),y(a.id)},[e.length]),C=(0,a.useCallback)(t=>{b(e=>e.filter(e=>e.id!==t)),w===t&&y(e.find(e=>e.id!==t)?.id)},[w,e]),z=(0,a.useCallback)(()=>{if(!w)return;b(e=>e.map(e=>e.id===w?{...e,status:"running",startedAt:Date.now()}:e));let e=setInterval(()=>{b(t=>t.map(t=>{if(t.id===w&&"running"===t.status){let a=Math.min(t.progress+10*Math.random(),100);return a>=100?(clearInterval(e),{...t,status:"completed",progress:100,completedAt:Date.now()}):{...t,progress:Math.round(a),metrics:{...t.metrics,toolCalls:t.metrics.toolCalls+Math.floor(5*Math.random())}}}return t}))},500)},[w]),$=(0,a.useCallback)(()=>{w&&b(e=>e.map(e=>e.id===w?{...e,status:"paused"}:e))},[w]),D=(0,a.useCallback)(()=>{w&&b(e=>e.map(e=>e.id===w?{...e,status:"idle",progress:0,startedAt:void 0}:e))},[w]),A=(0,a.useCallback)(t=>{let a=[];for(let s=0;s<t;s++){let t=_("parallel",e.length+s);t.name=`Parallel #${e.filter(e=>"parallel"===e.type).length+s+1}`,t.status="running",t.progress=0,a.push(t)}b(e=>[...e,...a])},[e]);return(0,t.jsxs)("div",{className:"min-h-[100dvh] flex flex-col",style:{background:"linear-gradient(180deg, #0a0a0a 0%, #111111 50%, #0a0a0a 100%)"},children:[(0,t.jsxs)("header",{className:"flex-shrink-0 flex items-center justify-between px-4 py-3 border-b border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(n.default,{href:"/",className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors",children:[(0,t.jsx)(i.ArrowLeft,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"OpenClaw-OS"})]}),(0,t.jsx)("div",{className:"w-px h-5 bg-white/10"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600",children:(0,t.jsx)(r.Cpu,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:"Thread Engine"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>j(!v),className:"md:hidden p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors",children:v?(0,t.jsx)(f.X,{className:"w-4 h-4"}):(0,t.jsx)(g.Menu,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors",children:(0,t.jsx)(m.Info,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"hidden sm:flex p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5 transition-colors",children:(0,t.jsx)(u.Settings,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"flex-shrink-0 border-b border-white/5",children:(0,t.jsx)(H,{threads:e,selectedThreadId:w,onSelectThread:y,onCloseThread:C})}),(0,t.jsxs)("div",{className:"flex-1 flex min-h-0 relative",children:[(0,t.jsx)(l.AnimatePresence,{children:v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>j(!1),className:"md:hidden fixed inset-0 bg-black/60 z-40"}),(0,t.jsxs)(s.motion.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"md:hidden fixed left-0 top-0 bottom-0 w-72 max-w-[85vw] bg-zinc-900 border-r border-white/10 flex flex-col z-50",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-white/5 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-2",children:["Threads (",e.length,")"]}),(0,t.jsx)("div",{className:"flex gap-1 flex-wrap",children:["base","parallel","chained","fusion","big","long","zero"].map(a=>{let s=e.filter(e=>e.type===a).length,l=T[a];return(0,t.jsxs)("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${l.bg} text-white`,children:[a.charAt(0).toUpperCase(),": ",s]},a)})})]}),(0,t.jsx)("button",{onClick:()=>j(!1),className:"p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-white/5",children:(0,t.jsx)(f.X,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto p-2 space-y-2",children:(0,t.jsx)(l.AnimatePresence,{children:e.map(e=>(0,t.jsx)(q,{thread:e,isSelected:e.id===w,onSelect:()=>{y(e.id),j(!1)}},e.id))})})]})]})}),(0,t.jsxs)("aside",{className:"hidden md:flex w-72 flex-shrink-0 border-r border-white/5 flex-col",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-white/5",children:[(0,t.jsxs)("div",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-2",children:["Threads (",e.length,")"]}),(0,t.jsx)("div",{className:"flex gap-1 flex-wrap",children:["base","parallel","chained","fusion","big","long","zero"].map(a=>{let s=e.filter(e=>e.type===a).length,l=T[a];return(0,t.jsxs)("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${l.bg} text-white`,children:[a.charAt(0).toUpperCase(),": ",s]},a)})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto p-2 space-y-2",children:(0,t.jsx)(l.AnimatePresence,{children:e.map(e=>(0,t.jsx)(q,{thread:e,isSelected:e.id===w,onSelect:()=>y(e.id)},e.id))})})]}),(0,t.jsxs)("main",{className:"flex-1 flex flex-col p-2 sm:p-4 min-w-0 overflow-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-3 sm:mb-4",children:[(0,t.jsx)(X,{icon:(0,t.jsx)(o.Activity,{className:"w-4 h-4 text-green-400"}),label:"Active Threads",value:k.activeThreads,subValue:`/ ${e.length}`,color:"text-green-400"}),(0,t.jsx)(X,{icon:(0,t.jsx)(d.Zap,{className:"w-4 h-4 text-yellow-400"}),label:"Total Tool Calls",value:E(k.totalToolCalls),color:"text-yellow-400"}),(0,t.jsx)(X,{icon:(0,t.jsx)(c.default,{className:"w-4 h-4 text-emerald-400"}),label:"Total Cost",value:M(k.totalCost),color:"text-emerald-400"}),(0,t.jsx)(X,{icon:(0,t.jsx)(x.TrendingUp,{className:"w-4 h-4 text-blue-400"}),label:"Avg Efficiency",value:k.avgEfficiency.toFixed(1),subValue:"calls/min",color:"text-blue-400"})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(I,{activeThreads:k.activeThreads,totalThreads:e.length,totalToolCalls:k.totalToolCalls,totalCost:k.totalCost,efficiency:k.avgEfficiency,selectedThread:N?{id:N.id,type:N.type,name:N.name,status:N.status,progress:N.progress,model:N.model,duration:N.metrics.duration,toolCalls:N.metrics.toolCalls}:void 0,onCreateThread:S,onStartThread:z,onPauseThread:$,onStopThread:D,onSpawnParallel:A})}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center justify-center gap-2 text-[10px] text-zinc-500 mt-4",children:[(0,t.jsx)(h.Terminal,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Use keyboard shortcuts: [N] New • [Space] Start/Pause • [S] Stop • [P] Spawn Parallel • [F] Fuse"})]})]})]}),(0,t.jsxs)("footer",{className:"flex-shrink-0 px-3 sm:px-4 py-2 border-t border-white/5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px] text-zinc-500",children:[(0,t.jsx)(p.Sparkles,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Thread-Based Engineering by Andy Devdan"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Thread Engine"})]}),(0,t.jsxs)("div",{className:"text-[9px] sm:text-[10px] text-zinc-600",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Scale your compute • Scale your impact"}),(0,t.jsx)("span",{className:"sm:hidden",children:"by Devdan"})]})]})]})}e.s(["default",()=>G],184284)}]);