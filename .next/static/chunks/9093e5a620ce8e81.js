(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,981779,565546,e=>{"use strict";let t=(0,e.i(699528).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>t],565546),e.s(["Copy",()=>t],981779)},206449,173434,e=>{"use strict";let t=(0,e.i(699528).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["default",()=>t],173434),e.s(["ExternalLink",()=>t],206449)},696202,e=>{"use strict";e.i(429931),e.i(854056),e.i(279198),e.i(188994),e.i(547732),e.i(212699),e.s([])},733006,169792,e=>{"use strict";let t=(0,e.i(699528).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["default",()=>t],169792),e.s(["Video",()=>t],733006)},692028,259371,e=>{"use strict";let t=(0,e.i(699528).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t],259371),e.s(["Calendar",()=>t],692028)},613508,e=>{"use strict";var t=e.i(639761);e.s(["Globe",()=>t.default])},887604,e=>{"use strict";let t=(0,e.i(699528).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["default",()=>t])},240041,e=>{"use strict";var t=e.i(887604);e.s(["Pencil",()=>t.default])},58977,e=>{"use strict";let t=(0,e.i(699528).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},271119,e=>{"use strict";var t=e.i(58977);e.s(["ChevronLeft",()=>t.default])},319041,406691,e=>{"use strict";function t(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${i}`}function a(e,t){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",...t})}function i(e,t){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,...t&&{timeZone:t}})}function n(e){if(e<60)return`${e} min`;let t=Math.floor(e/60),a=e%60;return 0===a?1===t?"1 hour":`${t} hours`:`${t}h ${a}m`}function s(e){let t=e-Date.now(),i=Math.floor(t/6e4),n=Math.floor(t/36e5),s=Math.floor(t/864e5);return t<0?"Past":i<60?`in ${i} min`:n<24?`in ${n} hour${1===n?"":"s"}`:1===s?"Tomorrow":s<7?`in ${s} days`:a(e,{weekday:void 0,year:void 0})}function l(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function r(e,t){let a=new Date(e,t,1),i=new Date(e,t+1,0),n=new Date(a);n.setDate(n.getDate()-a.getDay());let s=new Date(i);s.setDate(s.getDate()+(6-i.getDay()));let l=[],r=new Date(n);for(;r<=s;)l.push(new Date(r)),r.setDate(r.getDate()+1);return l}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function c(e){return o(e,new Date)}function d(e){let t=new Date;return t.setHours(0,0,0,0),e<t}function u(e=0,t=24,a=30){let n=[];for(let s=60*e;s<60*t;s+=a){let e=function(e){let t=Math.floor(e/60);return`${t.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}(s),t=i(new Date().setHours(0,s,0,0));n.push({value:e,label:t})}return n}function m(e,t){return`${window.location.origin}/book/${e}/${t}`}async function x(e){try{return await navigator.clipboard.writeText(e),!0}catch{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{return document.execCommand("copy"),!0}catch{return!1}finally{document.body.removeChild(t)}}}function h(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function y(){return Math.random().toString(36).substring(2,11)+Date.now().toString(36)}e.s(["DAY_NAMES",0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"DAY_NAMES_SHORT",0,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"DURATION_OPTIONS",0,[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}],"EVENT_COLORS",0,[{value:"#3b82f6",label:"Blue"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Yellow"},{value:"#ef4444",label:"Red"},{value:"#8b5cf6",label:"Purple"},{value:"#ec4899",label:"Pink"},{value:"#06b6d4",label:"Cyan"},{value:"#f97316",label:"Orange"}]],406691),e.s(["copyToClipboard",()=>x,"formatDate",()=>a,"formatDateString",()=>t,"formatDuration",()=>n,"formatTime",()=>i,"generateId",()=>y,"generateTimeOptions",()=>u,"getBookingLink",()=>m,"getCalendarDates",()=>r,"getRelativeTime",()=>s,"getUserTimezone",()=>l,"isPast",()=>d,"isSameDay",()=>o,"isToday",()=>c,"isValidEmail",()=>h],319041)},907215,e=>{"use strict";let t=(0,e.i(699528).default)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);e.s(["default",()=>t])},367493,e=>{"use strict";var t=e.i(907215);e.s(["ToggleLeft",()=>t.default])},850280,107367,746564,e=>{"use strict";var t=e.i(699528);let a=(0,t.default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["default",()=>a],850280);let i=(0,t.default)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);e.s(["default",()=>i],107367);let n=(0,t.default)("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);e.s(["default",()=>n],746564)},224968,e=>{"use strict";var t=e.i(726151),a=e.i(923041),i=e.i(850402),n=e.i(746115),s=e.i(692028),l=e.i(140113),r=e.i(662582),o=e.i(278124);e.i(132352);var c=e.i(749467),d=e.i(268924),u=e.i(36135),m=e.i(68041),x=e.i(123118),h=e.i(158095),y=e.i(429931),f=e.i(319041);let g="jamesspalding",p="James";function v({api:e}){let[v,b]=(0,a.useState)("conversational"),[k,j]=(0,a.useState)(null),[T,S]=(0,a.useState)(null),[N]=(0,a.useState)((0,f.getUserTimezone)()),[w,D]=(0,a.useState)("select-date"),[C,M]=(0,a.useState)(new Date),[E,L]=(0,a.useState)(null),[$,_]=(0,a.useState)(null),z=(0,i.useQuery)(e.scheduling.getPublicEventTypes,{ownerId:g}),A=(0,i.useQuery)(k&&T?e.scheduling.getAvailableSlots:"skip",k&&T?{eventTypeId:T._id,date:(0,f.formatDateString)(k),timezone:N}:"skip"),I=(0,i.useMutation)(e.scheduling.createBooking),O=(0,a.useCallback)(e=>{j(e),z&&z.length>0&&!T&&S(z[0])},[z,T]),P=(0,a.useCallback)(async e=>{let t=z?.find(t=>t._id===e.eventTypeId);if(!t)throw Error("Event type not found");_({_id:await I({eventTypeId:e.eventTypeId,guestEmail:e.guestEmail,guestName:e.guestName,guestTimezone:e.guestTimezone,startTime:e.startTime,notes:e.notes}),eventTypeId:e.eventTypeId,hostId:g,guestEmail:e.guestEmail,guestName:e.guestName,guestTimezone:e.guestTimezone,startTime:e.startTime,endTime:e.startTime+60*t.duration*1e3,status:"confirmed",title:t.title,locationType:t.locationType,notes:e.notes,createdAt:Date.now(),updatedAt:Date.now()})},[I,z]),B=(0,a.useCallback)(async e=>{let t=z?.find(t=>t._id===e.eventTypeId);t&&S(t),await P(e)},[z,P]),U=async e=>{T&&E&&(await P({eventTypeId:T._id,guestName:e.guestName,guestEmail:e.guestEmail,guestTimezone:e.guestTimezone,startTime:E.timestamp,notes:e.notes}),D("confirmed"))};return void 0===z?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"animate-pulse text-center",children:[(0,t.jsx)(n.Loader2,{className:"w-8 h-8 mx-auto mb-4 animate-spin opacity-50"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):z&&0!==z.length?(!T&&z.length>0&&S(z[0]),"conversational"===v)?(0,t.jsx)(c.ConversationalBooking,{eventTypes:z,availableSlots:A,onDateSelect:O,onSubmit:B,isLoadingSlots:null!==k&&void 0===A,hostName:p,onSwitchToClassic:()=>b("classic")}):"confirmed"===w&&$&&T?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,t.jsx)(x.BookingConfirmation,{booking:$,eventType:T,onClose:()=>window.close()})}):(0,t.jsxs)("div",{className:"min-h-screen p-4 md:p-8",children:[(0,t.jsx)(r.motion.button,{initial:{opacity:0},animate:{opacity:1},onClick:()=>b("conversational"),className:"fixed top-4 right-4 flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors z-50 bg-card/80 backdrop-blur-sm px-4 py-2 rounded-full",children:"âœ¨ Try the new experience"}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-[300px,1fr] gap-8",children:[(0,t.jsx)("div",{children:(0,t.jsxs)(h.LiquidGlass,{className:"p-6 rounded-2xl sticky top-8",children:["select-date"!==w&&(0,t.jsx)("button",{onClick:()=>{"select-time"===w?D("select-date"):"enter-details"===w&&D("select-time")},className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-4",children:"â† Back"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Meeting type"}),(0,t.jsx)("select",{value:T?._id||"",onChange:e=>{let t=z.find(t=>t._id===e.target.value);t&&S(t)},className:"w-full p-2 rounded-lg bg-background border border-border",children:z.map(e=>(0,t.jsxs)("option",{value:e._id,children:[e.title," (",(0,f.formatDuration)(e.duration),")"]},e._id))})]}),T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-3 h-12 rounded-full mb-4",style:{backgroundColor:T.color}}),(0,t.jsx)("h1",{className:"text-xl font-bold mb-2",children:T.title}),T.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:T.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(s.Calendar,{className:"w-4 h-4"}),(0,f.formatDuration)(T.duration)]})]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(o.AnimatePresence,{mode:"wait",children:["select-date"===w&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:y.springs.smooth,children:(0,t.jsxs)(h.LiquidGlass,{className:"p-6 rounded-2xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Select a Date"}),(0,t.jsx)(d.BookingCalendar,{selectedDate:k,onSelectDate:e=>{j(e),L(null),D("select-time")},currentMonth:C,onMonthChange:M,maxAdvanceDays:T?.maxAdvance})]})},"select-date"),"select-time"===w&&k&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:y.springs.smooth,children:(0,t.jsxs)(h.LiquidGlass,{className:"p-6 rounded-2xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Select a Time"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:k.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),(0,t.jsx)(u.TimeSlotPicker,{slots:A||[],selectedSlot:E,onSelectSlot:e=>{L(e),D("enter-details")},timezone:N,isLoading:void 0===A})]})},"select-time"),"enter-details"===w&&k&&E&&T&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:y.springs.smooth,children:(0,t.jsx)(m.BookingForm,{eventType:T,selectedDate:k,selectedSlot:E,onSubmit:U,onBack:()=>D("select-time")})},"enter-details")]})})]})})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"text-center max-w-md",children:[(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:"ðŸ“…"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"No Availability"}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-6",children:[p," hasn't set up any meeting types yet."]}),(0,t.jsx)(l.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-full font-medium",children:"Return Home"})]})})}function b(){let[e,i]=(0,a.useState)(!1),[n,s]=(0,a.useState)(null);return((0,a.useEffect)(()=>{i(!0)},[]),(0,a.useEffect)(()=>{if(e)try{let e=(()=>{let e=Error("Cannot find module '../../../convex/_generated/api'");throw e.code="MODULE_NOT_FOUND",e})().api;e?.scheduling&&s(e)}catch{}},[e]),n)?(0,t.jsx)(v,{api:n}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"text-center max-w-md",children:[(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:"ðŸ—“ï¸"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Coming Soon"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"The booking system is being set up. Check back soon!"}),(0,t.jsx)(l.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-full font-medium",children:"Return Home"})]})})}function k(){let[e,i]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{i(!0)},[]),e)?(0,t.jsx)(b,{}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:"ðŸ—“ï¸"}),(0,t.jsx)(n.Loader2,{className:"w-8 h-8 mx-auto animate-spin opacity-50"})]})})}e.s(["default",()=>k])}]);