(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,670977,e=>{"use strict";var t=e.i(726151),s=e.i(923041),i=e.i(569206),a=e.i(662582),r=e.i(746115),n=e.i(801365),l=e.i(432827),o=e.i(51278);function c(){let e=(0,i.useParams)(),c=(0,i.useRouter)(),d=e.token,[x,m]=(0,s.useState)("loading"),[u,h]=(0,s.useState)(null),[b,f]=(0,s.useState)("");(0,s.useEffect)(()=>{async function e(){try{let e=await fetch(`/api/save?token=${encodeURIComponent(d)}`),t=await e.json();if(e.ok&&t.success){h(t),m("success");let e={sessionId:t.sessionId,createdAt:t.createdAt,lastModified:Date.now(),draft:t.draft,chatHistory:t.chatHistory||[],eventLog:t.eventLog||[],notifications:[]};localStorage.setItem("openclaw_session",JSON.stringify(e))}else 404===e.status?(m("notfound"),f("This saved session could not be found.")):410===e.status?(m("expired"),f("This saved session has expired.")):(m("error"),f(t.error||"Failed to load session"))}catch(e){m("error"),f("Network error. Please try again.")}}d&&e()},[d]);let p=()=>{c.push("/")};return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-30",style:{backgroundImage:"url(https://2oczblkb3byymav8.public.blob.vercel-storage.com/aurora.jpeg)"}}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,t.jsx)(a.motion.div,{className:"relative z-10 max-w-md w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,t.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8",children:["loading"===x&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(r.Loader2,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-white text-xl font-semibold mb-2",children:"Loading your draft..."}),(0,t.jsx)("p",{className:"text-white/50 text-sm",children:"Please wait while we retrieve your saved session."})]}),"success"===x&&u&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(l.CheckCircle,{className:"w-8 h-8 text-green-400"})}),(0,t.jsx)("h1",{className:"text-white text-xl font-semibold mb-2",children:"Draft Loaded!"}),(0,t.jsx)("p",{className:"text-white/50 text-sm mb-6",children:"Your saved project draft has been restored to your session."}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 mb-6 text-left",children:[(0,t.jsx)("h3",{className:"text-white/70 text-xs uppercase tracking-wider mb-3",children:"Brief Summary"}),u.draft.brief.problem&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-white/40 text-xs",children:"Building:"}),(0,t.jsx)("p",{className:"text-white/80 text-sm truncate",children:u.draft.brief.problem})]}),u.draft.brief.audience&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white/40 text-xs",children:"For:"}),(0,t.jsx)("p",{className:"text-white/80 text-sm truncate",children:u.draft.brief.audience})]})]}),(0,t.jsxs)("button",{onClick:p,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium py-3 px-6 rounded-full hover:opacity-90 transition-opacity",children:[(0,t.jsx)(o.Home,{className:"w-4 h-4"}),"Go to OpenClaw-OS"]})]}),("error"===x||"notfound"===x||"expired"===x)&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(n.AlertCircle,{className:"w-8 h-8 text-red-400"})}),(0,t.jsxs)("h1",{className:"text-white text-xl font-semibold mb-2",children:["notfound"===x&&"Session Not Found","expired"===x&&"Session Expired","error"===x&&"Error Loading Session"]}),(0,t.jsx)("p",{className:"text-white/50 text-sm mb-6",children:b}),(0,t.jsxs)("button",{onClick:p,className:"w-full flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 text-white font-medium py-3 px-6 rounded-full transition-colors",children:[(0,t.jsx)(o.Home,{className:"w-4 h-4"}),"Start Fresh"]})]}),"success"===x&&u&&(0,t.jsxs)("p",{className:"text-white/30 text-xs text-center mt-4",children:["This link expires ",new Date(u.expiresAt).toLocaleDateString()]})]})})]})}e.s(["default",()=>c])}]);