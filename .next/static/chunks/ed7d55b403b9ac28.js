(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,981779,565546,e=>{"use strict";let s=(0,e.i(699528).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>s],565546),e.s(["Copy",()=>s],981779)},782575,e=>{"use strict";let s=(0,e.i(699528).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["default",()=>s])},541956,e=>{"use strict";var s=e.i(782575);e.s(["Upload",()=>s.default])},434300,e=>{"use strict";var s=e.i(726151),r=e.i(923041),a=e.i(662582),l=e.i(278124),t=e.i(140113),i=e.i(300605),d=e.i(541956),c=e.i(555603),n=e.i(811164),n=n,o=e.i(8722),x=e.i(746115),m=e.i(591372),h=e.i(981779);function u(){let[e,u]=(0,r.useState)(null),[b,p]=(0,r.useState)(null),[j,g]=(0,r.useState)(!1),[k,f]=(0,r.useState)(null),[N,v]=(0,r.useState)(null),[w,z]=(0,r.useState)(null),[y,C]=(0,r.useState)(null),U=(0,r.useRef)(null),A=(0,r.useRef)(null),F=async(e,s)=>{g(!0),z(null);try{let r=new FormData;r.append("file",e),r.append("type",s);let a=await fetch("/api/tracks/upload",{method:"POST",body:r});if(!a.ok){let e=await a.json();throw Error(e.error||"Upload failed")}let l=await a.json();"audio"===s?(f(l),u(null)):(v(l),p(null))}catch(e){z(e instanceof Error?e.message:"Upload failed")}finally{g(!1)}},S=(e,s)=>{navigator.clipboard.writeText(e),C(s),setTimeout(()=>C(null),2e3)},M=e=>e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`;return(0,s.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 py-12 px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(t.default,{href:"/vault",className:"inline-flex items-center gap-2 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white transition-colors mb-4",children:[(0,s.jsx)(i.ArrowLeft,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Back to Vault"})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:"Upload Music"}),(0,s.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400 mt-2",children:"Upload audio files and album artwork to Vercel Blob storage."})]}),(0,s.jsx)(l.AnimatePresence,{children:w&&(0,s.jsxs)(a.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-3",children:[(0,s.jsx)(m.X,{className:"w-5 h-5 text-red-500"}),(0,s.jsx)("span",{className:"text-red-700 dark:text-red-300",children:w})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,s.jsx)(c.Music,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold text-zinc-900 dark:text-white",children:"Audio File"}),(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:"MP3, WAV, OGG, M4A, AAC"})]})]}),(0,s.jsx)("input",{ref:U,type:"file",accept:"audio/*",className:"hidden",onChange:e=>u(e.target.files?.[0]||null)}),!e&&!k&&(0,s.jsxs)("button",{onClick:()=>U.current?.click(),className:"w-full py-8 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg hover:border-purple-400 dark:hover:border-purple-600 transition-colors flex flex-col items-center gap-2 text-zinc-500 dark:text-zinc-400 hover:text-purple-600 dark:hover:text-purple-400",children:[(0,s.jsx)(d.Upload,{className:"w-8 h-8"}),(0,s.jsx)("span",{children:"Click to select audio file"})]}),e&&!k&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(c.Music,{className:"w-5 h-5 text-purple-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-zinc-900 dark:text-white text-sm",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:M(e.size)})]})]}),(0,s.jsx)("button",{onClick:()=>u(null),className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded",children:(0,s.jsx)(m.X,{className:"w-4 h-4 text-zinc-500"})})]}),(0,s.jsx)("button",{onClick:()=>F(e,"audio"),disabled:j,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Upload,{className:"w-4 h-4"}),"Upload Audio"]})})]}),k&&(0,s.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-3",children:[(0,s.jsx)(o.Check,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:"Uploaded successfully!"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"flex-1 text-xs bg-white dark:bg-zinc-800 p-2 rounded border border-zinc-200 dark:border-zinc-700 overflow-x-auto",children:k.url}),(0,s.jsx)("button",{onClick:()=>S(k.url,"audio"),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:"audio"===y?(0,s.jsx)(o.Check,{className:"w-4 h-4 text-green-500"}):(0,s.jsx)(h.Copy,{className:"w-4 h-4 text-zinc-500"})})]}),(0,s.jsx)("button",{onClick:()=>{f(null)},className:"text-sm text-purple-600 hover:text-purple-700",children:"Upload another"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,s.jsx)(n.default,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold text-zinc-900 dark:text-white",children:"Album Artwork"}),(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:"JPG, PNG, WebP, GIF"})]})]}),(0,s.jsx)("input",{ref:A,type:"file",accept:"image/*",className:"hidden",onChange:e=>p(e.target.files?.[0]||null)}),!b&&!N&&(0,s.jsxs)("button",{onClick:()=>A.current?.click(),className:"w-full py-8 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg hover:border-blue-400 dark:hover:border-blue-600 transition-colors flex flex-col items-center gap-2 text-zinc-500 dark:text-zinc-400 hover:text-blue-600 dark:hover:text-blue-400",children:[(0,s.jsx)(d.Upload,{className:"w-8 h-8"}),(0,s.jsx)("span",{children:"Click to select image file"})]}),b&&!N&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(n.default,{className:"w-5 h-5 text-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-zinc-900 dark:text-white text-sm",children:b.name}),(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:M(b.size)})]})]}),(0,s.jsx)("button",{onClick:()=>p(null),className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded",children:(0,s.jsx)(m.X,{className:"w-4 h-4 text-zinc-500"})})]}),(0,s.jsx)("button",{onClick:()=>F(b,"image"),disabled:j,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Loader2,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Upload,{className:"w-4 h-4"}),"Upload Artwork"]})})]}),N&&(0,s.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-3",children:[(0,s.jsx)(o.Check,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:"Uploaded successfully!"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"flex-1 text-xs bg-white dark:bg-zinc-800 p-2 rounded border border-zinc-200 dark:border-zinc-700 overflow-x-auto",children:N.url}),(0,s.jsx)("button",{onClick:()=>S(N.url,"image"),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:"image"===y?(0,s.jsx)(o.Check,{className:"w-4 h-4 text-green-500"}):(0,s.jsx)(h.Copy,{className:"w-4 h-4 text-zinc-500"})})]}),(0,s.jsx)("button",{onClick:()=>{v(null)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Upload another"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 p-6 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl",children:[(0,s.jsx)("h3",{className:"font-semibold text-amber-800 dark:text-amber-200 mb-2",children:"How to add tracks"}),(0,s.jsxs)("ol",{className:"text-sm text-amber-700 dark:text-amber-300 space-y-2 list-decimal list-inside",children:[(0,s.jsx)("li",{children:"Upload your audio file and album artwork above"}),(0,s.jsx)("li",{children:"Copy the generated URLs"}),(0,s.jsxs)("li",{children:["Edit ",(0,s.jsx)("code",{className:"bg-amber-100 dark:bg-amber-800 px-1 rounded",children:"src/data/tracks.ts"})]}),(0,s.jsx)("li",{children:"Add a new track object with the URLs and metadata"}),(0,s.jsx)("li",{children:"Deploy to see your track in the music player"})]})]})]})})}e.s(["default",()=>u],434300)}]);