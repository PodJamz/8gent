(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58977,e=>{"use strict";let t=(0,e.i(699528).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},271119,e=>{"use strict";var t=e.i(58977);e.s(["ChevronLeft",()=>t.default])},34345,930344,e=>{"use strict";let t=(0,e.i(699528).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t],930344),e.s(["Eye",()=>t],34345)},956352,919938,e=>{"use strict";let t=(0,e.i(699528).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["default",()=>t],919938),e.s(["AlertTriangle",()=>t],956352)},965238,e=>{"use strict";let t=(0,e.i(699528).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["default",()=>t])},835185,e=>{"use strict";var t=e.i(965238);e.s(["UserPlus",()=>t.default])},486636,e=>{"use strict";let t=(0,e.i(699528).default)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);e.s(["default",()=>t])},117343,e=>{"use strict";var t=e.i(486636);e.s(["Unlock",()=>t.default])},911901,e=>{"use strict";let t=(0,e.i(699528).default)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["default",()=>t])},906509,e=>{"use strict";var t=e.i(911901);e.s(["Crown",()=>t.default])},345347,e=>{"use strict";var t=e.i(923041);function s(){let[e,s]=(0,t.useState)({isAuthenticated:!1,isLoading:!0}),a=(0,t.useCallback)(async()=>{try{let e=await fetch("/api/auth/admin"),t=await e.json();s({isAuthenticated:t.isAuthenticated??!1,username:t.username,isLoading:!1})}catch{s({isAuthenticated:!1,isLoading:!1})}},[]);return(0,t.useEffect)(()=>{a()},[a]),{...e,refresh:a}}e.s(["useAdminSession",()=>s])},163308,e=>{"use strict";let t=(0,e.i(699528).default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["default",()=>t])},389059,e=>{"use strict";var t=e.i(163308);e.s(["Key",()=>t.default])},162591,e=>{"use strict";let t=(0,e.i(699528).default)("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);e.s(["default",()=>t])},455672,e=>{"use strict";var t=e.i(162591);e.s(["FileEdit",()=>t.default])},427118,470148,e=>{"use strict";var t=e.i(699528);let s=(0,t.default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>s],427118);let a=(0,t.default)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);e.s(["default",()=>a],470148)},829166,e=>{"use strict";let t=(0,e.i(699528).default)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);e.s(["default",()=>t])},315494,e=>{"use strict";var t=e.i(726151),s=e.i(923041),a=e.i(569206),i=e.i(662582),l=e.i(278124),r=e.i(140113),n=e.i(850402),c=e.i(334905);e.i(621586);var d=e.i(910158),o=e.i(345347),x=e.i(271119),m=e.i(183904),h=e.i(55841),u=e.i(254862),p=e.i(8722),b=e.i(591372),w=e.i(746115),g=e.i(974478),f=e.i(427118),f=f,j=e.i(835185),v=e.i(34345),y=e.i(906509),N=e.i(470148),N=N,k=e.i(129828),A=e.i(117343),C=e.i(973493),M=e.i(23670),U=e.i(555603),$=e.i(976974),P=e.i(843762),S=e.i(829166),S=S,E=e.i(389059),z=e.i(455672),L=e.i(956352);let F=c.api.userManagement,O=[{value:"admin",label:"Admin",description:"Full access to all features",icon:f.default},{value:"collaborator",label:"Collaborator",description:"Access to assigned features",icon:m.Users},{value:"viewer",label:"Viewer",description:"Read-only access",icon:v.Eye}],T=[{slug:"humans",name:"Humans Search",icon:m.Users},{slug:"studio",name:"Jamz Studio",icon:U.Music},{slug:"vault",name:"Vault",icon:k.Lock},{slug:"calendar",name:"Calendar",icon:k.Lock},{slug:"prototyping",name:"Prototyping",icon:$.Palette}],R=[{key:"privateMusic",label:"Private Music",description:"Access unreleased tracks",icon:U.Music},{key:"designCanvas",label:"Design Canvas",description:"Use infinite canvas",icon:$.Palette},{key:"clawAI",label:"Claw AI",description:"Chat with AI assistant",icon:P.Sparkles},{key:"security",label:"Security Dashboard",description:"View security events",icon:g.Shield},{key:"analytics",label:"Analytics",description:"View usage stats",icon:S.default}],q=[{key:"manageUsers",label:"Manage Users",description:"Add, edit, remove users",icon:N.default},{key:"managePasscodes",label:"Manage Passcodes",description:"Change area passcodes",icon:E.Key},{key:"manageContent",label:"Manage Content",description:"Edit site content",icon:z.FileEdit}];function D(){let e=(0,a.useRouter)(),{isAuthenticated:c,isLoading:U}=(0,o.useAdminSession)(),[$,P]=(0,s.useState)(!1),[S,E]=(0,s.useState)(null),[z,D]=(0,s.useState)(null),[V,I]=(0,s.useState)(null),[H,B]=(0,s.useState)(null),[K,J]=(0,s.useState)(""),[Q,G]=(0,s.useState)(""),[X,W]=(0,s.useState)("collaborator"),[Y,Z]=(0,s.useState)(""),_=(0,n.useQuery)(F?.listManagedUsers),ee=(0,n.useQuery)(F?.getUserStats),et=(0,n.useMutation)(F?.upsertManagedUser),es=(0,n.useMutation)(F?.deleteManagedUser),ea=(0,n.useMutation)(F?.toggleAreaAccess),ei=(0,n.useMutation)(F?.updateUserPermissions),el=(0,n.useMutation)(F?.seedOwner);(0,s.useEffect)(()=>{U||c||e.push("/settings")},[c,U,e]),(0,s.useEffect)(()=>{if(H){let e=setTimeout(()=>B(null),3e3);return()=>clearTimeout(e)}},[H]);let er=async()=>{if(!K.trim())return void I("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(K))return void I("Please enter a valid email address");try{await et({email:K,displayName:Q||void 0,role:X,isActive:!0,notes:Y||void 0,invitedBy:"admin"}),P(!1),eh(),B(`${Q||K} has been added`),I(null)}catch(e){I(e instanceof Error?e.message:"Failed to add user")}},en=async e=>{if(confirm("Are you sure you want to remove this user? This cannot be undone."))try{await es({email:e}),B("User has been removed")}catch(e){I(e instanceof Error?e.message:"Failed to remove user")}},ec=async e=>{try{await et({email:e.email,displayName:e.displayName,role:e.role,isActive:!e.isActive,invitedBy:"admin"}),B(`${e.displayName||e.email} has been ${e.isActive?"deactivated":"activated"}`)}catch(e){I(e instanceof Error?e.message:"Failed to update user")}},ed=async(e,t)=>{let s=e.permissions.areas.includes(t);try{await ea({email:e.email,area:t,hasAccess:!s})}catch(e){I(e instanceof Error?e.message:"Failed to update access")}},eo=async(e,t)=>{let s={...e.permissions,[t]:!e.permissions[t]};try{await ei({email:e.email,permissions:s})}catch(e){I(e instanceof Error?e.message:"Failed to update permissions")}},ex=async(e,t)=>{try{await et({email:e.email,displayName:e.displayName,role:t,isActive:e.isActive,notes:e.notes,invitedBy:"admin"}),B(`${e.displayName||e.email} is now a ${t}`)}catch(e){I(e instanceof Error?e.message:"Failed to change role")}},em=async()=>{try{await el({email:"admin@openclaw.io",displayName:"OpenClaw-OS"}),B("Owner account created")}catch(e){I(e instanceof Error?e.message:"Failed to create owner")}},eh=()=>{J(""),G(""),W("collaborator"),Z("")};return U?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,t.jsx)(w.Loader2,{className:"w-8 h-8 animate-spin text-white/50"})}):c?(0,t.jsx)(d.PageTransition,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-zinc-950",children:[(0,t.jsx)("header",{className:"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center gap-4",children:[(0,t.jsx)(r.default,{href:"/settings",className:"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors","aria-label":"Go back to settings",children:(0,t.jsx)(x.ChevronLeft,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-white",children:"User Management"}),(0,t.jsx)("p",{className:"text-xs text-white/50",children:"Manage access and permissions"})]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-white"})})]})}),(0,t.jsxs)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:[(0,t.jsxs)(l.AnimatePresence,{children:[V&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-2",children:[(0,t.jsx)(L.AlertTriangle,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-red-400",children:V}),(0,t.jsx)("button",{onClick:()=>I(null),className:"ml-auto p-1 hover:bg-red-500/20 rounded",children:(0,t.jsx)(b.X,{className:"w-3 h-3 text-red-400"})})]}),H&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl flex items-center gap-2",children:[(0,t.jsx)(p.Check,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-emerald-400",children:H})]})]}),ee&&(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:ee.total}),(0,t.jsx)("div",{className:"text-xs text-white/50",children:"Total"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:ee.active}),(0,t.jsx)("div",{className:"text-xs text-white/50",children:"Active"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:ee.byRole.admin}),(0,t.jsx)("div",{className:"text-xs text-white/50",children:"Admins"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white/60",children:ee.byRole.collaborator+ee.byRole.viewer}),(0,t.jsx)("div",{className:"text-xs text-white/50",children:"Others"})]})]}),(0,t.jsx)("div",{className:"mb-6 p-4 rounded-xl bg-white/5 border border-white/10",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.Shield,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm text-white/70",children:"Manage who has access to your OpenClaw-OS instance. Add collaborators, assign roles, and control exactly what features and areas each user can access."})})]})}),_?.length===0&&(0,t.jsxs)("button",{onClick:em,className:"mb-4 w-full py-3 px-4 rounded-xl bg-amber-500/10 border border-amber-500/30 hover:bg-amber-500/20 text-amber-400 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(y.Crown,{className:"w-4 h-4"}),"Initialize Owner Account"]}),!$&&(0,t.jsxs)("button",{onClick:()=>P(!0),className:"mb-4 w-full py-3 px-4 rounded-xl bg-emerald-500/10 border border-emerald-500/30 hover:bg-emerald-500/20 text-emerald-400 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(j.UserPlus,{className:"w-4 h-4"}),"Add New User"]}),(0,t.jsx)(l.AnimatePresence,{children:$&&(0,t.jsx)(i.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 overflow-hidden",children:(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-emerald-500/30 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-emerald-400 text-sm font-medium",children:[(0,t.jsx)(j.UserPlus,{className:"w-4 h-4"}),"Add New User"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",value:K,onChange:e=>J(e.target.value),placeholder:"user@example.com",className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:"Display Name"}),(0,t.jsx)("input",{type:"text",value:Q,onChange:e=>G(e.target.value),placeholder:"John Doe",className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-2",children:"Role"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:O.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>W(e.value),className:`p-3 rounded-lg border transition-colors text-left ${X===e.value?"border-emerald-500/50 bg-emerald-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[(0,t.jsx)(s,{className:`w-4 h-4 mb-1 ${X===e.value?"text-emerald-400":"text-white/60"}`}),(0,t.jsx)("div",{className:`text-sm font-medium ${X===e.value?"text-emerald-400":"text-white"}`,children:e.label}),(0,t.jsx)("div",{className:"text-xs text-white/40",children:e.description})]},e.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-1",children:"Notes (optional)"}),(0,t.jsx)("textarea",{value:Y,onChange:e=>Z(e.target.value),placeholder:"Add any notes about this user...",rows:2,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)("button",{onClick:er,className:"flex-1 py-2 px-4 bg-emerald-500 hover:bg-emerald-600 rounded-lg text-white text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(h.Plus,{className:"w-4 h-4"}),"Add User"]}),(0,t.jsx)("button",{onClick:()=>{P(!1),eh(),I(null)},className:"py-2 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors",children:"Cancel"})]})]})})}),(0,t.jsx)("div",{className:"space-y-3",children:void 0===_?(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)(w.Loader2,{className:"w-6 h-6 animate-spin text-white/50"})}):0===_.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(m.Users,{className:"w-12 h-12 mx-auto mb-3 text-white/20"}),(0,t.jsx)("p",{className:"text-white/50",children:"No users yet"}),(0,t.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"Add your first user to get started"})]}):_.map(e=>{let s=(e=>{switch(e){case"owner":return y.Crown;case"admin":return f.default;case"collaborator":return m.Users;default:return v.Eye}})(e.role),a=z===e.email,r="owner"===e.role;return(0,t.jsxs)(i.motion.div,{layout:!0,className:"rounded-xl bg-white/5 border border-white/10 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 flex items-center gap-3 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>D(a?null:e.email),children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-800 flex items-center justify-center text-lg font-medium text-white",children:e.avatarUrl?(0,t.jsx)("img",{src:e.avatarUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):(e.displayName||e.email)[0].toUpperCase()}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-white font-medium truncate",children:e.displayName||e.email}),!e.isActive&&(0,t.jsx)("span",{className:"text-xs text-white/40 bg-white/10 px-2 py-0.5 rounded",children:"Inactive"}),!e.clerkId&&(0,t.jsx)("span",{className:"text-xs text-amber-400/70 bg-amber-500/10 px-2 py-0.5 rounded",children:"Pending"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/40",children:[(0,t.jsx)("span",{className:"truncate",children:e.email}),e.lastActiveAt&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"Â·"}),(0,t.jsxs)("span",{children:["Active ",new Date(e.lastActiveAt).toLocaleDateString()]})]})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg ${(e=>{switch(e){case"owner":return"text-amber-400 bg-amber-500/10";case"admin":return"text-purple-400 bg-purple-500/10";case"collaborator":return"text-emerald-400 bg-emerald-500/10";default:return"text-white/60 bg-white/10"}})(e.role)}`,children:[(0,t.jsx)(s,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-xs font-medium capitalize",children:e.role})]}),a?(0,t.jsx)(M.ChevronUp,{className:"w-4 h-4 text-white/40"}):(0,t.jsx)(C.ChevronDown,{className:"w-4 h-4 text-white/40"})]}),(0,t.jsx)(l.AnimatePresence,{children:a&&(0,t.jsx)(i.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-white/10 space-y-4",children:[!r&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-2",children:"Role"}),(0,t.jsx)("div",{className:"flex gap-2",children:O.map(s=>{let a=s.icon,i=e.role===s.value;return(0,t.jsxs)("button",{onClick:()=>ex(e,s.value),className:`flex-1 p-2 rounded-lg border transition-colors ${i?"border-emerald-500/50 bg-emerald-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[(0,t.jsx)(a,{className:`w-4 h-4 mx-auto mb-1 ${i?"text-emerald-400":"text-white/60"}`}),(0,t.jsx)("div",{className:`text-xs font-medium ${i?"text-emerald-400":"text-white/70"}`,children:s.label})]},s.value)})})]}),!r&&"admin"!==e.role&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-2",children:"Protected Area Access"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:T.map(s=>{let a=e.permissions.areas.includes(s.slug),i=s.icon;return(0,t.jsxs)("button",{onClick:()=>ed(e,s.slug),className:`flex items-center gap-2 p-2 rounded-lg border transition-colors ${a?"border-emerald-500/50 bg-emerald-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[(0,t.jsx)(i,{className:`w-4 h-4 ${a?"text-emerald-400":"text-white/40"}`}),(0,t.jsx)("span",{className:`text-xs ${a?"text-emerald-400":"text-white/60"}`,children:s.name}),a&&(0,t.jsx)(p.Check,{className:"w-3 h-3 text-emerald-400 ml-auto"})]},s.slug)})})]}),!r&&"admin"!==e.role&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-2",children:"Feature Access"}),(0,t.jsx)("div",{className:"space-y-2",children:R.map(s=>{let a=e.permissions[s.key],i=s.icon;return(0,t.jsxs)("button",{onClick:()=>eo(e,s.key),className:`w-full flex items-center gap-3 p-2 rounded-lg border transition-colors ${a?"border-emerald-500/30 bg-emerald-500/5":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[(0,t.jsx)(i,{className:`w-4 h-4 ${a?"text-emerald-400":"text-white/40"}`}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:`text-sm ${a?"text-white":"text-white/60"}`,children:s.label}),(0,t.jsx)("div",{className:"text-xs text-white/40",children:s.description})]}),(0,t.jsx)("div",{className:`w-10 h-6 rounded-full p-0.5 transition-colors ${a?"bg-emerald-500":"bg-white/20"}`,children:(0,t.jsx)("div",{className:`w-5 h-5 rounded-full bg-white shadow transition-transform ${a?"translate-x-4":""}`})})]},s.key)})})]}),"admin"===e.role&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-white/50 mb-2",children:"Admin Permissions"}),(0,t.jsx)("div",{className:"space-y-2",children:q.map(s=>{let a=e.permissions[s.key],i=s.icon;return(0,t.jsxs)("button",{onClick:()=>eo(e,s.key),className:`w-full flex items-center gap-3 p-2 rounded-lg border transition-colors ${a?"border-purple-500/30 bg-purple-500/5":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[(0,t.jsx)(i,{className:`w-4 h-4 ${a?"text-purple-400":"text-white/40"}`}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:`text-sm ${a?"text-white":"text-white/60"}`,children:s.label}),(0,t.jsx)("div",{className:"text-xs text-white/40",children:s.description})]}),(0,t.jsx)("div",{className:`w-10 h-6 rounded-full p-0.5 transition-colors ${a?"bg-purple-500":"bg-white/20"}`,children:(0,t.jsx)("div",{className:`w-5 h-5 rounded-full bg-white shadow transition-transform ${a?"translate-x-4":""}`})})]},s.key)})})]}),e.notes&&(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/5 text-xs text-white/50",children:e.notes}),!r&&(0,t.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-white/10",children:[(0,t.jsx)("button",{onClick:()=>ec(e),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${e.isActive?"bg-amber-500/10 text-amber-400 hover:bg-amber-500/20":"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20"}`,children:e.isActive?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Lock,{className:"w-4 h-4"}),"Deactivate"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Unlock,{className:"w-4 h-4"}),"Activate"]})}),(0,t.jsxs)("button",{onClick:()=>en(e.email),className:"py-2 px-3 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4"}),"Remove"]})]}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-amber-500/10 text-amber-400 text-xs",children:[(0,t.jsx)(y.Crown,{className:"w-4 h-4"}),"Owner account cannot be modified"]})]})})})]},e.id)})}),(0,t.jsxs)("div",{className:"mt-8 p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(g.Shield,{className:"w-4 h-4"}),"Role Permissions"]}),(0,t.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("dt",{className:"flex items-center gap-1.5 text-amber-400 w-24",children:[(0,t.jsx)(y.Crown,{className:"w-3.5 h-3.5"}),"Owner"]}),(0,t.jsx)("dd",{className:"text-white/60 flex-1",children:"Full control over everything. Cannot be modified or removed."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("dt",{className:"flex items-center gap-1.5 text-purple-400 w-24",children:[(0,t.jsx)(f.default,{className:"w-3.5 h-3.5"}),"Admin"]}),(0,t.jsx)("dd",{className:"text-white/60 flex-1",children:"Access to all features and can manage other users (except owner)."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("dt",{className:"flex items-center gap-1.5 text-emerald-400 w-24",children:[(0,t.jsx)(m.Users,{className:"w-3.5 h-3.5"}),"Collaborator"]}),(0,t.jsx)("dd",{className:"text-white/60 flex-1",children:"Access to assigned features and areas only."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("dt",{className:"flex items-center gap-1.5 text-white/60 w-24",children:[(0,t.jsx)(v.Eye,{className:"w-3.5 h-3.5"}),"Viewer"]}),(0,t.jsx)("dd",{className:"text-white/60 flex-1",children:"Read-only access to permitted content."})]})]})]})]})]})}):null}e.s(["default",()=>D],315494)},276622,e=>{e.v(t=>Promise.all(["static/chunks/e9a36fd48fa91706.js","static/chunks/6f90eb9222fdcbd4.js"].map(t=>e.l(t))).then(()=>t(556113)))}]);