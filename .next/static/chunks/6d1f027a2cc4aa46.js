(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,459839,(e,t,n)=>{},881927,(e,t,n)=>{var r=e.i(478522);e.r(459839);var i=e.r(923041),o=i&&"object"==typeof i&&"default"in i?i:{default:i},s=void 0!==r.default&&r.default.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,i=t.optimizeForSpeed,o=void 0===i?s:i;c(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(s||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(c(a(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return s||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var n="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){s||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},n.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&c(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},h={};function d(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return h[r]||(h[r]="jsx-"+u(e+"-"+n)),h[r]}function m(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return h[n]||(h[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[n]}var p=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,o=void 0!==i&&i;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),r&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var o=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=o,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return o.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var i=d(r,n);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return m(i,e)}):[m(i,t)]}}return{styleId:d(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=i.createContext(null);function y(){return new p}function g(){return i.useContext(f)}f.displayName="StyleSheetContext";var v=o.default.useInsertionEffect||o.default.useLayoutEffect,b="u">typeof window?y():void 0;function x(e){var t=b||g();return t&&("u"<typeof window?t.add(e):v(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}x.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,r=i.useContext(f),s=i.useState(function(){return r||t||y()})[0];return o.default.createElement(f.Provider,{value:s},n)},n.createStyleRegistry=y,n.style=x,n.useStyleRegistry=g},750755,(e,t,n)=>{t.exports=e.r(881927).style},520132,e=>{"use strict";var t=e.i(923041),n=e.i(724114),r=e.i(238949),i=e.i(81670);let o=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function s(e,s){let a=(0,r.useThree)(e=>e.gl),l=(0,i.useLoader)(n.TextureLoader,o(e)?Object.values(e):e);return(0,t.useLayoutEffect)(()=>{null==s||s(l)},[s]),(0,t.useEffect)(()=>{if("initTexture"in a){let e=[];Array.isArray(l)?e=l:l instanceof n.Texture?e=[l]:o(l)&&(e=Object.values(l)),e.forEach(e=>{e instanceof n.Texture&&a.initTexture(e)})}},[a,l]),(0,t.useMemo)(()=>{if(!o(e))return l;{let t={},n=0;for(let r in e)t[r]=l[n++];return t}},[e,l])}s.preload=e=>i.useLoader.preload(n.TextureLoader,e),s.clear=e=>i.useLoader.clear(n.TextureLoader,e),e.s(["useTexture",()=>s])},429008,932334,e=>{"use strict";let t,n;var r=e.i(511334),i=e.i(923041),o=e.i(986125),s=e.i(724114),a=e.i(238949),l=e.i(393658);let c=new s.Vector3,u=new s.Vector3,h=new s.Vector3,d=new s.Vector2;function m(e,t,n){let r=c.setFromMatrixPosition(e.matrixWorld);r.project(t);let i=n.width/2,o=n.height/2;return[r.x*i+i,-(r.y*o)+o]}let p=e=>1e-10>Math.abs(e)?0:e;function f(e,t,n=""){let r="matrix3d(";for(let n=0;16!==n;n++)r+=p(t[n]*e.elements[n])+(15!==n?",":")");return n+r}let y=(t=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>f(e,t)),g=(n=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>f(e,n(t),"translate(-50%,-50%)")),v=i.forwardRef(({children:e,eps:t=.001,style:n,className:f,prepend:v,center:b,fullscreen:x,portal:S,distanceFactor:E,sprite:j=!1,transform:_=!1,occlude:M,onOcclude:w,castShadow:P,receiveShadow:T,material:O,geometry:A,zIndexRange:R=[0x1000037,0],calculatePosition:C=m,as:z="div",wrapperClass:L,pointerEvents:F="auto",...I},k)=>{let{gl:N,camera:D,scene:V,size:H,raycaster:Y,events:U,viewport:W}=(0,a.useThree)(),[Z]=i.useState(()=>document.createElement(z)),X=i.useRef(null),$=i.useRef(null),K=i.useRef(0),G=i.useRef([0,0]),q=i.useRef(null),B=i.useRef(null),Q=(null==S?void 0:S.current)||U.connected||N.domElement.parentNode,J=i.useRef(null),ee=i.useRef(!1),et=i.useMemo(()=>{var e;return M&&"blending"!==M||Array.isArray(M)&&M.length&&(e=M[0])&&"object"==typeof e&&"current"in e},[M]);i.useLayoutEffect(()=>{let e=N.domElement;M&&"blending"===M?(e.style.zIndex=`${Math.floor(R[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[M]),i.useLayoutEffect(()=>{if($.current){let e=X.current=o.createRoot(Z);if(V.updateMatrixWorld(),_)Z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=C($.current,D,H);Z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Q&&(v?Q.prepend(Z):Q.appendChild(Z)),()=>{Q&&Q.removeChild(Z),e.unmount()}}},[Q,_]),i.useLayoutEffect(()=>{L&&(Z.className=L)},[L]);let en=i.useMemo(()=>_?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:b?"translate3d(-50%,-50%,0)":"none",...x&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...n},[n,b,x,H,_]),er=i.useMemo(()=>({position:"absolute",pointerEvents:F}),[F]);i.useLayoutEffect(()=>{var t,r;ee.current=!1,_?null==(t=X.current)||t.render(i.createElement("div",{ref:q,style:en},i.createElement("div",{ref:B,style:er},i.createElement("div",{ref:k,className:f,style:n,children:e})))):null==(r=X.current)||r.render(i.createElement("div",{ref:k,style:en,className:f,children:e}))});let ei=i.useRef(!0);(0,l.useFrame)(e=>{if($.current){D.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);let e=_?G.current:C($.current,D,H);if(_||Math.abs(K.current-D.zoom)>t||Math.abs(G.current[0]-e[0])>t||Math.abs(G.current[1]-e[1])>t){var n;let t,r,i,o,a=(n=$.current,t=c.setFromMatrixPosition(n.matrixWorld),r=u.setFromMatrixPosition(D.matrixWorld),i=t.sub(r),o=D.getWorldDirection(h),i.angleTo(o)>Math.PI/2),l=!1;et&&(Array.isArray(M)?l=M.map(e=>e.current):"blending"!==M&&(l=[V]));let m=ei.current;l?ei.current=function(e,t,n,r){let i=c.setFromMatrixPosition(e.matrixWorld),o=i.clone();o.project(t),d.set(o.x,o.y),n.setFromCamera(d,t);let s=n.intersectObjects(r,!0);if(s.length){let e=s[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}($.current,D,Y,l)&&!a:ei.current=!a,m!==ei.current&&(w?w(!ei.current):Z.style.display=ei.current?"block":"none");let f=Math.floor(R[0]/2),v=M?et?[R[0],f]:[f-1,0]:R;if(Z.style.zIndex=`${function(e,t,n){if(t instanceof s.PerspectiveCamera||t instanceof s.OrthographicCamera){let r=c.setFromMatrixPosition(e.matrixWorld),i=u.setFromMatrixPosition(t.matrixWorld),o=r.distanceTo(i),s=(n[1]-n[0])/(t.far-t.near),a=n[1]-s*t.far;return Math.round(s*o+a)}}($.current,D,v)}`,_){let[e,t]=[H.width/2,H.height/2],n=D.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:o,bottom:s,right:a}=D,l=y(D.matrixWorldInverse),c=r?`scale(${n})translate(${p(-(a+o)/2)}px,${p((i+s)/2)}px)`:`translateZ(${n}px)`,u=$.current.matrixWorld;j&&((u=D.matrixWorldInverse.clone().transpose().copyPosition(u).scale($.current.scale)).elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),Z.style.width=H.width+"px",Z.style.height=H.height+"px",Z.style.perspective=r?"":`${n}px`,q.current&&B.current&&(q.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,B.current.style.transform=g(u,1/((E||10)/400)))}else{let t=void 0===E?1:function(e,t){if(t instanceof s.OrthographicCamera)return t.zoom;if(!(t instanceof s.PerspectiveCamera))return 1;{let n=c.setFromMatrixPosition(e.matrixWorld),r=u.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*n.distanceTo(r))}}($.current,D)*E;Z.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}G.current=e,K.current=D.zoom}}if(!et&&J.current&&!ee.current)if(_){if(q.current){let e=q.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=D;if(t||A)I.scale&&(Array.isArray(I.scale)?I.scale instanceof s.Vector3?J.current.scale.copy(I.scale.clone().divideScalar(1)):J.current.scale.set(1/I.scale[0],1/I.scale[1],1/I.scale[2]):J.current.scale.setScalar(1/I.scale));else{let t=(E||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;J.current.scale.set(n,r,1)}ee.current=!0}}}else{let t=Z.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/W.factor,n=t.clientWidth*e,r=t.clientHeight*e;J.current.scale.set(n,r,1),ee.current=!0}J.current.lookAt(e.camera.position)}});let eo=i.useMemo(()=>({vertexShader:_?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[_]);return i.createElement("group",(0,r.default)({},I,{ref:$}),M&&!et&&i.createElement("mesh",{castShadow:P,receiveShadow:T,ref:J},A||i.createElement("planeGeometry",null),O||i.createElement("shaderMaterial",{side:s.DoubleSide,vertexShader:eo.vertexShader,fragmentShader:eo.fragmentShader})))});function b(e,t,n){return e+(t-e)*n}function x(e,t,n,r){let i=n/(2*Math.PI*r)*t-t/2;return new s.Vector3(e*Math.cos(n),i,e*Math.sin(n))}function S(e,t){let n=[],r=Math.PI*(Math.sqrt(5)-1);for(let i=0;i<e;i++){let o=1-i/(e-1)*2,a=Math.sqrt(1-o*o),l=r*i;n.push(new s.Vector3(Math.cos(l)*a*t,o*t,Math.sin(l)*a*t))}return n}function E(e,t,n,r){return e+(t-e)*(1-Math.exp(-n*r))}e.s(["Html",()=>v],429008),e.s(["damp",()=>E,"fibonacciSphere",()=>S,"helixPoint",()=>x,"lerp",()=>b],932334)},81670,e=>{"use strict";var t=e.i(91071);e.s(["useLoader",()=>t.G])},511334,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>t])},601461,e=>{"use strict";var t=Object.defineProperty;class n{constructor(){((e,n,r)=>{let i;return(i="symbol"!=typeof n?n+"":n)in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r})(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}e.s(["EventDispatcher",()=>n])},954965,e=>{"use strict";var t=e.i(511334),n=e.i(238949),r=e.i(393658),i=e.i(923041),o=e.i(724114),s=e.i(601461),a=Object.defineProperty,l=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};let c=new o.Ray,u=new o.Plane,h=Math.cos(Math.PI/180*70),d=(e,t)=>(e%t+t)%t;class m extends s.EventDispatcher{constructor(e,t){super(),l(this,"object"),l(this,"domElement"),l(this,"enabled",!0),l(this,"target",new o.Vector3),l(this,"minDistance",0),l(this,"maxDistance",1/0),l(this,"minZoom",0),l(this,"maxZoom",1/0),l(this,"minPolarAngle",0),l(this,"maxPolarAngle",Math.PI),l(this,"minAzimuthAngle",-1/0),l(this,"maxAzimuthAngle",1/0),l(this,"enableDamping",!1),l(this,"dampingFactor",.05),l(this,"enableZoom",!0),l(this,"zoomSpeed",1),l(this,"enableRotate",!0),l(this,"rotateSpeed",1),l(this,"enablePan",!0),l(this,"panSpeed",1),l(this,"screenSpacePanning",!0),l(this,"keyPanSpeed",7),l(this,"zoomToCursor",!1),l(this,"autoRotate",!1),l(this,"autoRotateSpeed",2),l(this,"reverseOrbit",!1),l(this,"reverseHorizontalOrbit",!1),l(this,"reverseVerticalOrbit",!1),l(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),l(this,"mouseButtons",{LEFT:o.MOUSE.ROTATE,MIDDLE:o.MOUSE.DOLLY,RIGHT:o.MOUSE.PAN}),l(this,"touches",{ONE:o.TOUCH.ROTATE,TWO:o.TOUCH.DOLLY_PAN}),l(this,"target0"),l(this,"position0"),l(this,"zoom0"),l(this,"_domElementKeyEvents",null),l(this,"getPolarAngle"),l(this,"getAzimuthalAngle"),l(this,"setPolarAngle"),l(this,"setAzimuthalAngle"),l(this,"getDistance"),l(this,"getZoomScale"),l(this,"listenToKeyEvents"),l(this,"stopListenToKeyEvents"),l(this,"saveState"),l(this,"reset"),l(this,"update"),l(this,"connect"),l(this,"dispose"),l(this,"dollyIn"),l(this,"dollyOut"),l(this,"getScale"),l(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=e=>{let t=d(e,2*Math.PI),r=f.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),y.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=d(e,2*Math.PI),r=f.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),y.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),m=a.NONE},this.update=(()=>{let t=new o.Vector3,i=new o.Vector3(0,1,0),s=new o.Quaternion().setFromUnitVectors(e.up,i),l=s.clone().invert(),d=new o.Vector3,b=new o.Quaternion,x=2*Math.PI;return function(){let S=n.object.position;s.setFromUnitVectors(e.up,i),l.copy(s).invert(),t.copy(S).sub(n.target),t.applyQuaternion(s),f.setFromVector3(t),n.autoRotate&&m===a.NONE&&L(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(f.theta+=y.theta*n.dampingFactor,f.phi+=y.phi*n.dampingFactor):(f.theta+=y.theta,f.phi+=y.phi);let E=n.minAzimuthAngle,j=n.maxAzimuthAngle;isFinite(E)&&isFinite(j)&&(E<-Math.PI?E+=x:E>Math.PI&&(E-=x),j<-Math.PI?j+=x:j>Math.PI&&(j-=x),E<=j?f.theta=Math.max(E,Math.min(j,f.theta)):f.theta=f.theta>(E+j)/2?Math.max(E,f.theta):Math.min(j,f.theta)),f.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,f.phi)),f.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(v,n.dampingFactor):n.target.add(v),n.zoomToCursor&&A||n.object.isOrthographicCamera?f.radius=H(f.radius):f.radius=H(f.radius*g),t.setFromSpherical(f),t.applyQuaternion(l),S.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(y.theta*=1-n.dampingFactor,y.phi*=1-n.dampingFactor,v.multiplyScalar(1-n.dampingFactor)):(y.set(0,0,0),v.set(0,0,0));let _=!1;if(n.zoomToCursor&&A){let r=null;if(n.object instanceof o.PerspectiveCamera&&n.object.isPerspectiveCamera){let e=t.length();r=H(e*g);let i=e-r;n.object.position.addScaledVector(T,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new o.Vector3(O.x,O.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),_=!0;let i=new o.Vector3(O.x,O.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(c.origin.copy(n.object.position),c.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(c.direction))<h?e.lookAt(n.target):(u.setFromNormalAndCoplanarPoint(n.object.up,n.target),c.intersectPlane(u,n.target))))}else n.object instanceof o.OrthographicCamera&&n.object.isOrthographicCamera&&(_=1!==g)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix());return g=1,A=!1,!!(_||d.distanceToSquared(n.object.position)>p||8*(1-b.dot(n.object.quaternion))>p)&&(n.dispatchEvent(r),d.copy(n.object.position),b.copy(n.object.quaternion),_=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",et),n.domElement.addEventListener("pointerdown",q),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,r,i,o,s;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",et),null==(t=n.domElement)||t.removeEventListener("pointerdown",q),null==(r=n.domElement)||r.removeEventListener("pointercancel",Q),null==(i=n.domElement)||i.removeEventListener("wheel",J),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",B),null==(s=n.domElement)||s.ownerDocument.removeEventListener("pointerup",Q),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",ee)};const n=this,r={type:"change"},i={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let m=a.NONE;const p=1e-6,f=new o.Spherical,y=new o.Spherical;let g=1;const v=new o.Vector3,b=new o.Vector2,x=new o.Vector2,S=new o.Vector2,E=new o.Vector2,j=new o.Vector2,_=new o.Vector2,M=new o.Vector2,w=new o.Vector2,P=new o.Vector2,T=new o.Vector3,O=new o.Vector2;let A=!1;const R=[],C={};function z(){return Math.pow(.95,n.zoomSpeed)}function L(e){n.reverseOrbit||n.reverseHorizontalOrbit?y.theta+=e:y.theta-=e}function F(e){n.reverseOrbit||n.reverseVerticalOrbit?y.phi+=e:y.phi-=e}const I=(()=>{let e=new o.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}})(),k=(()=>{let e=new o.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),v.add(e)}})(),N=(()=>{let e=new o.Vector3;return function(t,r){let i=n.domElement;if(i&&n.object instanceof o.PerspectiveCamera&&n.object.isPerspectiveCamera){let o=n.object.position;e.copy(o).sub(n.target);let s=e.length();I(2*t*(s*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),k(2*r*s/i.clientHeight,n.object.matrix)}else i&&n.object instanceof o.OrthographicCamera&&n.object.isOrthographicCamera?(I(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),k(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function D(e){n.object instanceof o.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof o.OrthographicCamera&&n.object.isOrthographicCamera?g=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function V(e){if(!n.zoomToCursor||!n.domElement)return;A=!0;let t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,o=t.width,s=t.height;O.x=r/o*2-1,O.y=-(i/s*2)+1,T.set(O.x,O.y,1).unproject(n.object).sub(n.object.position).normalize()}function H(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function Y(e){b.set(e.clientX,e.clientY)}function U(e){E.set(e.clientX,e.clientY)}function W(){if(1==R.length)b.set(R[0].pageX,R[0].pageY);else{let e=.5*(R[0].pageX+R[1].pageX),t=.5*(R[0].pageY+R[1].pageY);b.set(e,t)}}function Z(){if(1==R.length)E.set(R[0].pageX,R[0].pageY);else{let e=.5*(R[0].pageX+R[1].pageX),t=.5*(R[0].pageY+R[1].pageY);E.set(e,t)}}function X(){let e=R[0].pageX-R[1].pageX,t=R[0].pageY-R[1].pageY,n=Math.sqrt(e*e+t*t);M.set(0,n)}function $(e){if(1==R.length)x.set(e.pageX,e.pageY);else{let t=er(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}S.subVectors(x,b).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(L(2*Math.PI*S.x/t.clientHeight),F(2*Math.PI*S.y/t.clientHeight)),b.copy(x)}function K(e){if(1==R.length)j.set(e.pageX,e.pageY);else{let t=er(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);j.set(n,r)}_.subVectors(j,E).multiplyScalar(n.panSpeed),N(_.x,_.y),E.copy(j)}function G(e){var t;let r=er(e),i=e.pageX-r.x,o=e.pageY-r.y,s=Math.sqrt(i*i+o*o);w.set(0,s),P.set(0,Math.pow(w.y/M.y,n.zoomSpeed)),t=P.y,D(g/t),M.copy(w)}function q(e){var t,r,s;!1!==n.enabled&&(0===R.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",B),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",Q)),s=e,R.push(s),"touch"===e.pointerType?function(e){switch(en(e),R.length){case 1:switch(n.touches.ONE){case o.TOUCH.ROTATE:if(!1===n.enableRotate)return;W(),m=a.TOUCH_ROTATE;break;case o.TOUCH.PAN:if(!1===n.enablePan)return;Z(),m=a.TOUCH_PAN;break;default:m=a.NONE}break;case 2:switch(n.touches.TWO){case o.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&X(),n.enablePan&&Z(),m=a.TOUCH_DOLLY_PAN;break;case o.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&X(),n.enableRotate&&W(),m=a.TOUCH_DOLLY_ROTATE;break;default:m=a.NONE}break;default:m=a.NONE}m!==a.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case o.MOUSE.DOLLY:if(!1===n.enableZoom)return;V(e),M.set(e.clientX,e.clientY),m=a.DOLLY;break;case o.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;U(e),m=a.PAN}else{if(!1===n.enableRotate)return;Y(e),m=a.ROTATE}break;case o.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;Y(e),m=a.ROTATE}else{if(!1===n.enablePan)return;U(e),m=a.PAN}break;default:m=a.NONE}m!==a.NONE&&n.dispatchEvent(i)}(e))}function B(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(en(e),m){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;$(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;K(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&G(e),n.enablePan&&K(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&G(e),n.enableRotate&&$(e),n.update();break;default:m=a.NONE}}(e):function(e){if(!1!==n.enabled)switch(m){case a.ROTATE:let t;if(!1===n.enableRotate)return;x.set(e.clientX,e.clientY),S.subVectors(x,b).multiplyScalar(n.rotateSpeed),(t=n.domElement)&&(L(2*Math.PI*S.x/t.clientHeight),F(2*Math.PI*S.y/t.clientHeight)),b.copy(x),n.update();break;case a.DOLLY:var r,i;if(!1===n.enableZoom)return;(w.set(e.clientX,e.clientY),P.subVectors(w,M),P.y>0)?(r=z(),D(g/r)):P.y<0&&(i=z(),D(g*i)),M.copy(w),n.update();break;case a.PAN:if(!1===n.enablePan)return;j.set(e.clientX,e.clientY),_.subVectors(j,E).multiplyScalar(n.panSpeed),N(_.x,_.y),E.copy(j),n.update()}}(e))}function Q(e){var t,r,i;(function(e){delete C[e.pointerId];for(let t=0;t<R.length;t++)if(R[t].pointerId==e.pointerId)return void R.splice(t,1)})(e),0===R.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",B),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",Q)),n.dispatchEvent(s),m=a.NONE}function J(e){if(!1!==n.enabled&&!1!==n.enableZoom&&(m===a.NONE||m===a.ROTATE)){var t,r;e.preventDefault(),n.dispatchEvent(i),(V(e),e.deltaY<0)?(t=z(),D(g*t)):e.deltaY>0&&(r=z(),D(g/r)),n.update(),n.dispatchEvent(s)}}function ee(e){if(!1!==n.enabled&&!1!==n.enablePan){let t=!1;switch(e.code){case n.keys.UP:N(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:N(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:N(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:N(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}}function et(e){!1!==n.enabled&&e.preventDefault()}function en(e){let t=C[e.pointerId];void 0===t&&(t=new o.Vector2,C[e.pointerId]=t),t.set(e.pageX,e.pageY)}function er(e){return C[(e.pointerId===R[0].pointerId?R[1]:R[0]).pointerId]}this.dollyIn=(e=z())=>{D(g*e),n.update()},this.dollyOut=(e=z())=>{D(g/e),n.update()},this.getScale=()=>g,this.setScale=e=>{D(e),n.update()},this.getZoomScale=()=>z(),void 0!==t&&this.connect(t),this.update()}}let p=i.forwardRef(({makeDefault:e,camera:o,regress:s,domElement:a,enableDamping:l=!0,keyEvents:c=!1,onChange:u,onStart:h,onEnd:d,...p},f)=>{let y=(0,n.useThree)(e=>e.invalidate),g=(0,n.useThree)(e=>e.camera),v=(0,n.useThree)(e=>e.gl),b=(0,n.useThree)(e=>e.events),x=(0,n.useThree)(e=>e.setEvents),S=(0,n.useThree)(e=>e.set),E=(0,n.useThree)(e=>e.get),j=(0,n.useThree)(e=>e.performance),_=o||g,M=a||b.connected||v.domElement,w=i.useMemo(()=>new m(_),[_]);return(0,r.useFrame)(()=>{w.enabled&&w.update()},-1),i.useEffect(()=>(c&&w.connect(!0===c?M:c),w.connect(M),()=>void w.dispose()),[c,M,s,w,y]),i.useEffect(()=>{let e=e=>{y(),s&&j.regress(),u&&u(e)},t=e=>{h&&h(e)},n=e=>{d&&d(e)};return w.addEventListener("change",e),w.addEventListener("start",t),w.addEventListener("end",n),()=>{w.removeEventListener("start",t),w.removeEventListener("end",n),w.removeEventListener("change",e)}},[u,h,d,w,y,x]),i.useEffect(()=>{if(e){let e=E().controls;return S({controls:w}),()=>S({controls:e})}},[e,w]),i.createElement("primitive",(0,t.default)({ref:f,object:w,enableDamping:l},p))});e.s(["OrbitControls",()=>p],954965)},901053,e=>{"use strict";var t=e.i(726151),n=e.i(750755),r=e.i(923041),i=e.i(117448),o=e.i(393658),s=e.i(238949),a=e.i(520132),l=e.i(429008),c=e.i(954965),u=e.i(724114),h=e.i(932334);function d({image:e,initialPosition:n,index:i,size:s,floatIntensity:c,isHovered:d,isSelected:p,onHover:f,onClick:y}){let g=(0,r.useRef)(null),v=(0,a.useTexture)(e.src),[b,x]=(0,r.useState)(n.clone()),S=(0,r.useRef)(Math.random()*Math.PI*2);(0,o.useFrame)(e=>{if(!g.current)return;let t=e.clock.elapsedTime,r=Math.sin(.5*t+S.current)*c,o=Math.cos(.3*t+2*S.current)*c,s=Math.sin(.4*t+1.5*S.current)*c*.5;g.current.position.x=(0,h.lerp)(g.current.position.x,n.x+r,.02),g.current.position.y=(0,h.lerp)(g.current.position.y,n.y+o,.02),g.current.position.z=(0,h.lerp)(g.current.position.z,n.z+s,.02),g.current.rotation.x=.1*Math.sin(.2*t+i),g.current.rotation.y=.1*Math.cos(.15*t+i);let a=p?1.8:d?1.3:1;g.current.scale.setScalar((0,h.lerp)(g.current.scale.x,a,.1))});let E=v.image?v.image.width/v.image.height:1,j=E>1?s:s*E,_=E>1?s/E:s;return(0,t.jsxs)("group",{children:[(0,t.jsxs)("mesh",{ref:g,position:n,onPointerEnter:()=>f(i),onPointerLeave:()=>f(null),onClick:y,children:[(0,t.jsx)("planeGeometry",{args:[j,_]}),(0,t.jsx)("meshStandardMaterial",{map:v,transparent:!0,opacity:d||p?1:.85,side:u.DoubleSide,emissive:p?"#4f46e5":"#000000",emissiveIntensity:.3*!!p})]}),d&&(0,t.jsx)(m,{position:b}),d&&e.alt&&(0,t.jsx)(l.Html,{center:!0,position:[n.x,n.y-_/2-.3,n.z],children:(0,t.jsx)("div",{className:"bg-black/80 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap backdrop-blur-sm",children:e.alt})})]})}function m({position:e}){let n=(0,r.useRef)(null),[i]=(0,r.useMemo)(()=>{let t=new Float32Array(90);for(let n=0;n<30;n++)t[3*n]=e.x+(Math.random()-.5)*.5,t[3*n+1]=e.y+(Math.random()-.5)*.5,t[3*n+2]=e.z+(Math.random()-.5)*.5;return[t]},[e]);return(0,o.useFrame)(e=>{n.current&&(n.current.rotation.y=e.clock.elapsedTime)}),(0,t.jsxs)("points",{ref:n,children:[(0,t.jsx)("bufferGeometry",{children:(0,t.jsx)("bufferAttribute",{attach:"attributes-position",args:[i,3]})}),(0,t.jsx)("pointsMaterial",{size:.05,color:"#4f46e5",transparent:!0,opacity:.6,sizeAttenuation:!0})]})}function p({count:e,spread:n,audioData:i}){let s=(0,r.useRef)(null),[a,l]=(0,r.useMemo)(()=>{let t=new Float32Array(3*e),r=new Float32Array(3*e);for(let i=0;i<e;i++){t[3*i]=(Math.random()-.5)*n*2,t[3*i+1]=(Math.random()-.5)*n*2,t[3*i+2]=(Math.random()-.5)*n*2;let e=Math.random();r[3*i]=(0,h.lerp)(.31,.02,e),r[3*i+1]=(0,h.lerp)(.27,.71,e),r[3*i+2]=(0,h.lerp)(.9,.83,e)}return[t,r]},[e,n]);return(0,o.useFrame)(e=>{if(s.current){let t=.02*e.clock.elapsedTime,n=.1*Math.sin(.01*e.clock.elapsedTime);i?.enabled&&(t*=1+3*i.energy,n*=1+2*i.bass,s.current.material instanceof u.PointsMaterial&&(s.current.material.size=.03+.05*i.beatIntensity,s.current.material.opacity=.4+.4*i.energy)),s.current.rotation.y=t,s.current.rotation.x=n}}),(0,t.jsxs)("points",{ref:s,children:[(0,t.jsxs)("bufferGeometry",{children:[(0,t.jsx)("bufferAttribute",{attach:"attributes-position",args:[a,3]}),(0,t.jsx)("bufferAttribute",{attach:"attributes-color",args:[l,3]})]}),(0,t.jsx)("pointsMaterial",{size:.03,transparent:!0,opacity:.4,vertexColors:!0,sizeAttenuation:!0})]})}function f({images:e,spread:n,imageSize:i,floatIntensity:o,onImageClick:a,audioData:l}){let[h,m]=(0,r.useState)(null),[f,y]=(0,r.useState)(null),{camera:g}=(0,s.useThree)(),v=(0,r.useMemo)(()=>e.map((t,r)=>{let i=Math.acos(-1+2*r/e.length),o=Math.sqrt(e.length*Math.PI)*i,s=n*(.5+.5*Math.random());return new u.Vector3(s*Math.cos(o)*Math.sin(i),s*Math.sin(o)*Math.sin(i)*.6,s*Math.cos(i))}),[e.length,n]),b=(0,r.useCallback)(t=>{if(f===t)y(null);else{y(t),a?.(e[t],t);let r=v[t].clone().multiplyScalar(.3).add(new u.Vector3(0,0,1.5*n));g.position.lerp(r,.1)}},[f,a,e,v,g,n]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("ambientLight",{intensity:l?.enabled?.3+.3*l.energy:.4}),(0,t.jsx)("pointLight",{position:[10,10,10],intensity:l?.enabled?.8+.5*l.treble:1}),(0,t.jsx)("pointLight",{position:[-10,-10,-10],intensity:l?.enabled?.4+.4*l.bass:.5,color:"#4f46e5"}),(0,t.jsx)("pointLight",{position:[0,10,0],intensity:l?.enabled?.4+.4*l.mid:.5,color:"#06b6d4"}),(0,t.jsxs)("mesh",{children:[(0,t.jsx)("sphereGeometry",{args:[.1*n,32,32]}),(0,t.jsx)("meshBasicMaterial",{color:"#4f46e5",transparent:!0,opacity:.15})]}),e.map((e,n)=>(0,t.jsx)(d,{image:e,initialPosition:v[n],index:n,size:i,floatIntensity:o,isHovered:h===n,isSelected:f===n,onHover:m,onClick:()=>b(n)},`${e.src}-${n}`)),(0,t.jsx)(p,{count:800,spread:1.5*n,audioData:l}),(0,t.jsx)(c.OrbitControls,{enablePan:!0,enableZoom:!0,minDistance:.5*n,maxDistance:4*n,autoRotate:null===h&&null===f,autoRotateSpeed:.3}),(0,t.jsx)("fog",{attach:"fog",args:["#0f172a",n,4*n]})]})}function y({images:e}){return(0,t.jsxs)("div",{className:"jsx-45d4394796fc069e w-full h-full bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 p-8 overflow-y-auto",children:[(0,t.jsx)("div",{className:"jsx-45d4394796fc069e flex flex-wrap justify-center gap-4",children:e.map((e,n)=>(0,t.jsx)("div",{style:{animation:`float ${3+2*Math.random()}s ease-in-out infinite`,animationDelay:`${2*Math.random()}s`},className:"jsx-45d4394796fc069e transform hover:scale-110 transition-transform duration-300",children:(0,t.jsx)("img",{src:e.src,alt:e.alt||"",className:"jsx-45d4394796fc069e w-32 h-32 object-cover rounded-lg shadow-xl"})},n))}),(0,t.jsx)(n.default,{id:"45d4394796fc069e",children:"@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}"})]})}function g({images:e,className:n="w-full h-[600px]",particleCount:o=500,spread:s=8,imageSize:a=1.5,floatIntensity:l=.5,onImageClick:c,audioData:u}){let[h,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{try{let e=document.createElement("canvas");e.getContext("webgl")||e.getContext("experimental-webgl")||d(!1)}catch{d(!1)}},[]),h)?(0,t.jsx)("div",{className:n,children:(0,t.jsx)(i.Canvas,{camera:{position:[0,0,2*s],fov:60},gl:{antialias:!0,alpha:!0},style:{background:"linear-gradient(180deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%)"},children:(0,t.jsx)(f,{images:e,spread:s,imageSize:a,floatIntensity:u?.enabled?l*(1+u.energy):l,onImageClick:c,audioData:u})})}):(0,t.jsx)("div",{className:n,children:(0,t.jsx)(y,{images:e})})}e.s(["default",()=>g])}]);