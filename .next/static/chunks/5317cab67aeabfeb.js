(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,206449,173434,e=>{"use strict";let t=(0,e.i(699528).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["default",()=>t],173434),e.s(["ExternalLink",()=>t],206449)},692028,259371,e=>{"use strict";let t=(0,e.i(699528).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t],259371),e.s(["Calendar",()=>t],692028)},638580,e=>{"use strict";let t=(0,e.i(699528).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["default",()=>t])},966406,e=>{"use strict";var t=e.i(638580);e.s(["RotateCcw",()=>t.default])},332966,e=>{"use strict";let t=(0,e.i(699528).default)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);e.s(["default",()=>t])},360797,e=>{"use strict";var t=e.i(332966);e.s(["Map",()=>t.default])},58977,e=>{"use strict";let t=(0,e.i(699528).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},271119,e=>{"use strict";var t=e.i(58977);e.s(["ChevronLeft",()=>t.default])},34345,930344,e=>{"use strict";let t=(0,e.i(699528).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t],930344),e.s(["Eye",()=>t],34345)},956352,919938,e=>{"use strict";let t=(0,e.i(699528).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["default",()=>t],919938),e.s(["AlertTriangle",()=>t],956352)},168840,e=>{"use strict";let t=(0,e.i(699528).default)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["default",()=>t])},280028,e=>{"use strict";var t=e.i(168840);e.s(["FolderOpen",()=>t.default])},365704,e=>{"use strict";let t=(0,e.i(699528).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>t])},201899,e=>{"use strict";var t=e.i(365704);e.s(["CheckCircle2",()=>t.default])},936294,776802,e=>{"use strict";let t=(0,e.i(699528).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>t],776802),e.s(["Info",()=>t],936294)},650425,194623,e=>{"use strict";let t=(0,e.i(699528).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["default",()=>t],194623),e.s(["TrendingUp",()=>t],650425)},164485,51924,e=>{"use strict";e.i(973823),e.i(773632),e.i(548685),e.i(563162),e.i(460630);var t=e.i(923041);function a(e={}){let{speed:l=1,smooth:r=!1}=e,i=(0,t.useRef)(null),n=(0,t.useCallback)(e=>{let t=i.current;if(!t||Math.abs(e.deltaX)>Math.abs(e.deltaY)||!(t.scrollWidth>t.clientWidth))return;let a=t.scrollLeft<=0,n=t.scrollLeft>=t.scrollWidth-t.clientWidth-1;a&&e.deltaY<0||n&&e.deltaY>0||(e.preventDefault(),r?t.scrollBy({left:e.deltaY*l,behavior:"smooth"}):t.scrollLeft+=e.deltaY*l)},[l,r]);return(0,t.useEffect)(()=>{let e=i.current;if(e)return e.addEventListener("wheel",n,{passive:!1}),()=>{e.removeEventListener("wheel",n)}},[n]),i}e.s(["useHorizontalScroll",()=>a],51924),e.s([],164485)},460630,e=>{"use strict";var t=e.i(923041);function a(){let[e,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)");a(e.matches);let t=e=>{a(e.matches)};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[]),e}e.s(["useReducedMotion",()=>a])},319041,406691,e=>{"use strict";function t(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${l}`}function a(e,t){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",...t})}function l(e,t){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,...t&&{timeZone:t}})}function r(e){if(e<60)return`${e} min`;let t=Math.floor(e/60),a=e%60;return 0===a?1===t?"1 hour":`${t} hours`:`${t}h ${a}m`}function i(e){let t=e-Date.now(),l=Math.floor(t/6e4),r=Math.floor(t/36e5),i=Math.floor(t/864e5);return t<0?"Past":l<60?`in ${l} min`:r<24?`in ${r} hour${1===r?"":"s"}`:1===i?"Tomorrow":i<7?`in ${i} days`:a(e,{weekday:void 0,year:void 0})}function n(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function o(e,t){let a=new Date(e,t,1),l=new Date(e,t+1,0),r=new Date(a);r.setDate(r.getDate()-a.getDay());let i=new Date(l);i.setDate(i.getDate()+(6-l.getDay()));let n=[],o=new Date(r);for(;o<=i;)n.push(new Date(o)),o.setDate(o.getDate()+1);return n}function u(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function s(e){return u(e,new Date)}function c(e){let t=new Date;return t.setHours(0,0,0,0),e<t}function d(e=0,t=24,a=30){let r=[];for(let i=60*e;i<60*t;i+=a){let e=function(e){let t=Math.floor(e/60);return`${t.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}(i),t=l(new Date().setHours(0,i,0,0));r.push({value:e,label:t})}return r}function h(e,t){return`${window.location.origin}/book/${e}/${t}`}async function y(e){try{return await navigator.clipboard.writeText(e),!0}catch{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{return document.execCommand("copy"),!0}catch{return!1}finally{document.body.removeChild(t)}}}function f(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function p(){return Math.random().toString(36).substring(2,11)+Date.now().toString(36)}e.s(["DAY_NAMES",0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"DAY_NAMES_SHORT",0,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"DURATION_OPTIONS",0,[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}],"EVENT_COLORS",0,[{value:"#3b82f6",label:"Blue"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Yellow"},{value:"#ef4444",label:"Red"},{value:"#8b5cf6",label:"Purple"},{value:"#ec4899",label:"Pink"},{value:"#06b6d4",label:"Cyan"},{value:"#f97316",label:"Orange"}]],406691),e.s(["copyToClipboard",()=>y,"formatDate",()=>a,"formatDateString",()=>t,"formatDuration",()=>r,"formatTime",()=>l,"generateId",()=>p,"generateTimeOptions",()=>d,"getBookingLink",()=>h,"getCalendarDates",()=>o,"getRelativeTime",()=>i,"getUserTimezone",()=>n,"isPast",()=>c,"isSameDay",()=>u,"isToday",()=>s,"isValidEmail",()=>f],319041)},563162,e=>{"use strict";var t=e.i(923041),a=e.i(850402),l=e.i(319041);let r=null;try{r=e.r(334905).api}catch{}function i(e={}){let{autoInitializeAvailability:n=!0}=e,[o,u]=(0,t.useState)("month"),[s,c]=(0,t.useState)(new Date),[d,h]=(0,t.useState)(!1),y=!!r?.scheduling,f=(0,a.useQuery)(r.scheduling.getUserProfile,y?{}:"skip"),p=(0,a.useQuery)(r.scheduling.getEventTypes,y?{}:"skip"),g=(0,a.useQuery)(r.scheduling.getAvailability,y?{}:"skip"),k=(0,a.useQuery)(r.scheduling.getDefaultAvailability,y?{}:"skip"),m=(0,a.useQuery)(r.scheduling.getCalendarIntegration,y?{}:"skip"),v=(0,a.useQuery)(r.scheduling.getUpcomingBookings,y?{limit:10}:"skip"),w=(0,a.useMutation)(r.scheduling.createEventType),b=(0,a.useMutation)(r.scheduling.updateEventType),M=(0,a.useMutation)(r.scheduling.deleteEventType),S=(0,a.useMutation)(r.scheduling.createAvailability),E=(0,a.useMutation)(r.scheduling.updateAvailability),C=(0,a.useMutation)(r.scheduling.deleteAvailability),T=(0,a.useMutation)(r.scheduling.initializeDefaultAvailability),D=(0,a.useMutation)(r.scheduling.setOverride),x=(0,a.useMutation)(r.scheduling.deleteOverride),A=(0,a.useMutation)(r.scheduling.updateBookingStatus),L=(0,a.useMutation)(r.scheduling.rescheduleBooking),z=(0,a.useMutation)(r.scheduling.saveCalendarIntegration);(0,a.useMutation)(r.scheduling.updateCalendarIntegration);let U=(0,a.useMutation)(r.scheduling.deleteCalendarIntegration),I=(0,a.useMutation)(r.scheduling.updateBookingGoogleEventId),O=(0,a.useMutation)(r.scheduling.createOrUpdateUserProfile);(0,t.useEffect)(()=>{y&&n&&void 0!==g&&0===g.length&&null===k&&T({timezone:(0,l.getUserTimezone)()}).catch(console.error)},[y,n,g,k,T]);let $=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");return await O(e)},[y,O]),R=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");return await w(e)},[y,w]),F=(0,t.useCallback)(async(e,t)=>{if(!y)throw Error("Schema not deployed");let{_id:a,ownerId:l,createdAt:r,...i}=t;await b({id:e,...i})},[y,b]),P=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await M({id:e})},[y,M]),j=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");return await S(e)},[y,S]),H=(0,t.useCallback)(async(e,t)=>{if(!y)throw Error("Schema not deployed");let{_id:a,ownerId:l,createdAt:r,...i}=t;await E({id:e,...i})},[y,E]),Y=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await C({id:e})},[y,C]),B=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");return await D(e)},[y,D]),V=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await x({date:e})},[y,x]),q=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await A({id:e,status:"confirmed"})},[y,A]),G=(0,t.useCallback)(async(e,t,a)=>{if(!y)throw Error("Schema not deployed");await A({id:e,status:"cancelled",cancelReason:t,cancelledBy:a})},[y,A]),N=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await A({id:e,status:"no_show"})},[y,A]),_=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await A({id:e,status:"completed"})},[y,A]),Q=(0,t.useCallback)(async(e,t)=>{if(!y)throw Error("Schema not deployed");return await L({id:e,newStartTime:t})},[y,L]),W=(0,t.useCallback)(async()=>{h(!0);try{let e=await fetch("/api/calendar/google/auth?returnUrl=/calendar"),t=await e.json();if(t.authUrl)window.location.href=t.authUrl;else throw Error(t.error||"Failed to get auth URL")}catch(e){throw console.error("Failed to connect Google Calendar:",e),h(!1),e}},[]),K=(0,t.useCallback)(async e=>{if(!y)throw Error("Schema not deployed");await z(e)},[y,z]),Z=(0,t.useCallback)(async()=>{if(!y)throw Error("Schema not deployed");await U()},[y,U]),J=(0,t.useCallback)(async(e,t="create")=>{if(!m)throw Error("No calendar integration configured");let a=await fetch("/api/calendar/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,booking:e,integration:m,timezone:k?.timezone||(0,l.getUserTimezone)()})}),r=await a.json();if(r.needsTokenUpdate)return await z({accessToken:r.newTokens.accessToken,refreshToken:r.newTokens.refreshToken,tokenExpiry:r.newTokens.tokenExpiry,calendarId:m.calendarId,calendarEmail:m.calendarEmail}),J(e,t);if(!r.success)throw Error(r.error||"Sync failed");return"create"===t&&r.googleEventId&&await I({bookingId:e._id,googleEventId:r.googleEventId,location:r.meetLink}),r},[m,k?.timezone,z,I]),X=!y||void 0===p||void 0===g||void 0===m;return{schemaReady:y,userProfile:f??null,eventTypes:p||[],availability:g||[],defaultAvailability:k??null,calendarIntegration:m??null,upcomingBookings:v||[],calendarView:o,setCalendarView:u,selectedDate:s,setSelectedDate:c,createOrUpdateUserProfile:$,createEventType:R,updateEventType:F,deleteEventType:P,createAvailability:j,updateAvailability:H,deleteAvailability:Y,setOverride:B,deleteOverride:V,confirmBooking:q,cancelBooking:G,markNoShow:N,markCompleted:_,rescheduleBooking:Q,connectGoogleCalendar:W,saveGoogleTokens:K,disconnectGoogleCalendar:Z,syncBookingToCalendar:J,isConnectingGoogle:d,isLoading:X}}e.s(["useScheduling",()=>i])},311549,e=>{"use strict";let t=(0,e.i(699528).default)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);e.s(["default",()=>t])},811785,e=>{"use strict";var t=e.i(311549);e.s(["Edit3",()=>t.default])},47093,e=>{"use strict";let t=(0,e.i(699528).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["default",()=>t])},856625,e=>{"use strict";var t=e.i(47093);e.s(["Filter",()=>t.default])},539931,e=>{"use strict";let t=(0,e.i(699528).default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);e.s(["default",()=>t])},339420,e=>{"use strict";var t=e.i(539931);e.s(["GripVertical",()=>t.default])},618632,e=>{"use strict";let t=(0,e.i(699528).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["default",()=>t])},948793,e=>{"use strict";var t=e.i(618632);e.s(["Tag",()=>t.default])},335133,980975,993362,e=>{"use strict";var t=e.i(699528);let a=(0,t.default)("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);e.s(["default",()=>a],335133);let l=(0,t.default)("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);e.s(["default",()=>l],980975);let r=(0,t.default)("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);e.s(["default",()=>r],993362)},255494,e=>{"use strict";let t=(0,e.i(699528).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["default",()=>t])}]);