(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81670,e=>{"use strict";var t=e.i(91071);e.s(["useLoader",()=>t.G])},511334,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>t])},601461,e=>{"use strict";var t=Object.defineProperty;class r{constructor(){((e,r,n)=>{let i;return(i="symbol"!=typeof r?r+"":r)in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n})(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let r=this._listeners[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}}e.s(["EventDispatcher",()=>r])},520132,e=>{"use strict";var t=e.i(923041),r=e.i(724114),n=e.i(238949),i=e.i(81670);let s=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function o(e,o){let a=(0,n.useThree)(e=>e.gl),l=(0,i.useLoader)(r.TextureLoader,s(e)?Object.values(e):e);return(0,t.useLayoutEffect)(()=>{null==o||o(l)},[o]),(0,t.useEffect)(()=>{if("initTexture"in a){let e=[];Array.isArray(l)?e=l:l instanceof r.Texture?e=[l]:s(l)&&(e=Object.values(l)),e.forEach(e=>{e instanceof r.Texture&&a.initTexture(e)})}},[a,l]),(0,t.useMemo)(()=>{if(!s(e))return l;{let t={},r=0;for(let n in e)t[n]=l[r++];return t}},[e,l])}o.preload=e=>i.useLoader.preload(r.TextureLoader,e),o.clear=e=>i.useLoader.clear(r.TextureLoader,e),e.s(["useTexture",()=>o])},429008,932334,e=>{"use strict";let t,r;var n=e.i(511334),i=e.i(923041),s=e.i(986125),o=e.i(724114),a=e.i(238949),l=e.i(393658);let c=new o.Vector3,d=new o.Vector3,m=new o.Vector3,u=new o.Vector2;function h(e,t,r){let n=c.setFromMatrixPosition(e.matrixWorld);n.project(t);let i=r.width/2,s=r.height/2;return[n.x*i+i,-(n.y*s)+s]}let f=e=>1e-10>Math.abs(e)?0:e;function p(e,t,r=""){let n="matrix3d(";for(let r=0;16!==r;r++)n+=f(t[r]*e.elements[r])+(15!==r?",":")");return r+n}let x=(t=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>p(e,t)),v=(r=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>p(e,r(t),"translate(-50%,-50%)")),g=i.forwardRef(({children:e,eps:t=.001,style:r,className:p,prepend:g,center:y,fullscreen:b,portal:E,distanceFactor:M,sprite:w=!1,transform:j=!1,occlude:P,onOcclude:k,castShadow:L,receiveShadow:S,material:T,geometry:A,zIndexRange:I=[0x1000037,0],calculatePosition:C=h,as:$="div",wrapperClass:W,pointerEvents:R="auto",...z},D)=>{let{gl:F,camera:N,scene:O,size:V,raycaster:G,events:H,viewport:_}=(0,a.useThree)(),[q]=i.useState(()=>document.createElement($)),K=i.useRef(null),U=i.useRef(null),B=i.useRef(0),Q=i.useRef([0,0]),X=i.useRef(null),Y=i.useRef(null),Z=(null==E?void 0:E.current)||H.connected||F.domElement.parentNode,J=i.useRef(null),ee=i.useRef(!1),et=i.useMemo(()=>{var e;return P&&"blending"!==P||Array.isArray(P)&&P.length&&(e=P[0])&&"object"==typeof e&&"current"in e},[P]);i.useLayoutEffect(()=>{let e=F.domElement;P&&"blending"===P?(e.style.zIndex=`${Math.floor(I[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[P]),i.useLayoutEffect(()=>{if(U.current){let e=K.current=s.createRoot(q);if(O.updateMatrixWorld(),j)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=C(U.current,N,V);q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Z&&(g?Z.prepend(q):Z.appendChild(q)),()=>{Z&&Z.removeChild(q),e.unmount()}}},[Z,j]),i.useLayoutEffect(()=>{W&&(q.className=W)},[W]);let er=i.useMemo(()=>j?{position:"absolute",top:0,left:0,width:V.width,height:V.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:y?"translate3d(-50%,-50%,0)":"none",...b&&{top:-V.height/2,left:-V.width/2,width:V.width,height:V.height},...r},[r,y,b,V,j]),en=i.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);i.useLayoutEffect(()=>{var t,n;ee.current=!1,j?null==(t=K.current)||t.render(i.createElement("div",{ref:X,style:er},i.createElement("div",{ref:Y,style:en},i.createElement("div",{ref:D,className:p,style:r,children:e})))):null==(n=K.current)||n.render(i.createElement("div",{ref:D,style:er,className:p,children:e}))});let ei=i.useRef(!0);(0,l.useFrame)(e=>{if(U.current){N.updateMatrixWorld(),U.current.updateWorldMatrix(!0,!1);let e=j?Q.current:C(U.current,N,V);if(j||Math.abs(B.current-N.zoom)>t||Math.abs(Q.current[0]-e[0])>t||Math.abs(Q.current[1]-e[1])>t){var r;let t,n,i,s,a=(r=U.current,t=c.setFromMatrixPosition(r.matrixWorld),n=d.setFromMatrixPosition(N.matrixWorld),i=t.sub(n),s=N.getWorldDirection(m),i.angleTo(s)>Math.PI/2),l=!1;et&&(Array.isArray(P)?l=P.map(e=>e.current):"blending"!==P&&(l=[O]));let h=ei.current;l?ei.current=function(e,t,r,n){let i=c.setFromMatrixPosition(e.matrixWorld),s=i.clone();s.project(t),u.set(s.x,s.y),r.setFromCamera(u,t);let o=r.intersectObjects(n,!0);if(o.length){let e=o[0].distance;return i.distanceTo(r.ray.origin)<e}return!0}(U.current,N,G,l)&&!a:ei.current=!a,h!==ei.current&&(k?k(!ei.current):q.style.display=ei.current?"block":"none");let p=Math.floor(I[0]/2),g=P?et?[I[0],p]:[p-1,0]:I;if(q.style.zIndex=`${function(e,t,r){if(t instanceof o.PerspectiveCamera||t instanceof o.OrthographicCamera){let n=c.setFromMatrixPosition(e.matrixWorld),i=d.setFromMatrixPosition(t.matrixWorld),s=n.distanceTo(i),o=(r[1]-r[0])/(t.far-t.near),a=r[1]-o*t.far;return Math.round(o*s+a)}}(U.current,N,g)}`,j){let[e,t]=[V.width/2,V.height/2],r=N.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:i,left:s,bottom:o,right:a}=N,l=x(N.matrixWorldInverse),c=n?`scale(${r})translate(${f(-(a+s)/2)}px,${f((i+o)/2)}px)`:`translateZ(${r}px)`,d=U.current.matrixWorld;w&&((d=N.matrixWorldInverse.clone().transpose().copyPosition(d).scale(U.current.scale)).elements[3]=d.elements[7]=d.elements[11]=0,d.elements[15]=1),q.style.width=V.width+"px",q.style.height=V.height+"px",q.style.perspective=n?"":`${r}px`,X.current&&Y.current&&(X.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,Y.current.style.transform=v(d,1/((M||10)/400)))}else{let t=void 0===M?1:function(e,t){if(t instanceof o.OrthographicCamera)return t.zoom;if(!(t instanceof o.PerspectiveCamera))return 1;{let r=c.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}}(U.current,N)*M;q.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}Q.current=e,B.current=N.zoom}}if(!et&&J.current&&!ee.current)if(j){if(X.current){let e=X.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=N;if(t||A)z.scale&&(Array.isArray(z.scale)?z.scale instanceof o.Vector3?J.current.scale.copy(z.scale.clone().divideScalar(1)):J.current.scale.set(1/z.scale[0],1/z.scale[1],1/z.scale[2]):J.current.scale.setScalar(1/z.scale));else{let t=(M||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;J.current.scale.set(r,n,1)}ee.current=!0}}}else{let t=q.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/_.factor,r=t.clientWidth*e,n=t.clientHeight*e;J.current.scale.set(r,n,1),ee.current=!0}J.current.lookAt(e.camera.position)}});let es=i.useMemo(()=>({vertexShader:j?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[j]);return i.createElement("group",(0,n.default)({},z,{ref:U}),P&&!et&&i.createElement("mesh",{castShadow:L,receiveShadow:S,ref:J},A||i.createElement("planeGeometry",null),T||i.createElement("shaderMaterial",{side:o.DoubleSide,vertexShader:es.vertexShader,fragmentShader:es.fragmentShader})))});function y(e,t,r){return e+(t-e)*r}function b(e,t,r,n){let i=r/(2*Math.PI*n)*t-t/2;return new o.Vector3(e*Math.cos(r),i,e*Math.sin(r))}function E(e,t){let r=[],n=Math.PI*(Math.sqrt(5)-1);for(let i=0;i<e;i++){let s=1-i/(e-1)*2,a=Math.sqrt(1-s*s),l=n*i;r.push(new o.Vector3(Math.cos(l)*a*t,s*t,Math.sin(l)*a*t))}return r}function M(e,t,r,n){return e+(t-e)*(1-Math.exp(-r*n))}e.s(["Html",()=>g],429008),e.s(["damp",()=>M,"fibonacciSphere",()=>E,"helixPoint",()=>b,"lerp",()=>y],932334)},579067,e=>{"use strict";var t=e.i(726151),r=e.i(923041),n=e.i(117448),i=e.i(393658),s=e.i(238949),o=e.i(520132),a=e.i(429008),l=e.i(511334),c=e.i(724114),d=e.i(601461),m=Object.defineProperty,u=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?m(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r};let h=new c.Euler(0,0,0,"YXZ"),f=new c.Vector3,p={type:"change"},x={type:"lock"},v={type:"unlock"},g=Math.PI/2;class y extends d.EventDispatcher{constructor(e,t){super(),u(this,"camera"),u(this,"domElement"),u(this,"isLocked"),u(this,"minPolarAngle"),u(this,"maxPolarAngle"),u(this,"pointerSpeed"),u(this,"onMouseMove",e=>{this.domElement&&!1!==this.isLocked&&(h.setFromQuaternion(this.camera.quaternion),h.y-=.002*e.movementX*this.pointerSpeed,h.x-=.002*e.movementY*this.pointerSpeed,h.x=Math.max(g-this.maxPolarAngle,Math.min(g-this.minPolarAngle,h.x)),this.camera.quaternion.setFromEuler(h),this.dispatchEvent(p))}),u(this,"onPointerlockChange",()=>{this.domElement&&(this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(x),this.isLocked=!0):(this.dispatchEvent(v),this.isLocked=!1))}),u(this,"onPointerlockError",()=>{console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}),u(this,"connect",e=>{this.domElement=e||this.domElement,this.domElement&&(this.domElement.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError))}),u(this,"disconnect",()=>{this.domElement&&(this.domElement.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError))}),u(this,"dispose",()=>{this.disconnect()}),u(this,"getObject",()=>this.camera),u(this,"direction",new c.Vector3(0,0,-1)),u(this,"getDirection",e=>e.copy(this.direction).applyQuaternion(this.camera.quaternion)),u(this,"moveForward",e=>{f.setFromMatrixColumn(this.camera.matrix,0),f.crossVectors(this.camera.up,f),this.camera.position.addScaledVector(f,e)}),u(this,"moveRight",e=>{f.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(f,e)}),u(this,"lock",()=>{this.domElement&&this.domElement.requestPointerLock()}),u(this,"unlock",()=>{this.domElement&&this.domElement.ownerDocument.exitPointerLock()}),this.camera=e,this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,t&&this.connect(t)}}let b=r.forwardRef(({domElement:e,selector:t,onChange:n,onLock:i,onUnlock:o,enabled:a=!0,makeDefault:c,...d},m)=>{let{camera:u,...h}=d,f=(0,s.useThree)(e=>e.setEvents),p=(0,s.useThree)(e=>e.gl),x=(0,s.useThree)(e=>e.camera),v=(0,s.useThree)(e=>e.invalidate),g=(0,s.useThree)(e=>e.events),b=(0,s.useThree)(e=>e.get),E=(0,s.useThree)(e=>e.set),M=u||x,w=e||g.connected||p.domElement,j=r.useMemo(()=>new y(M),[M]);return r.useEffect(()=>{if(a){j.connect(w);let e=b().events.compute;return f({compute(e,t){let r=t.size.width/2,n=t.size.height/2;t.pointer.set(r/t.size.width*2-1,-(2*(n/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),()=>{j.disconnect(),f({compute:e})}}},[a,j]),r.useEffect(()=>{let e=e=>{v(),n&&n(e)};j.addEventListener("change",e),i&&j.addEventListener("lock",i),o&&j.addEventListener("unlock",o);let r=()=>j.lock(),s=t?Array.from(document.querySelectorAll(t)):[document];return s.forEach(e=>e&&e.addEventListener("click",r)),()=>{j.removeEventListener("change",e),i&&j.removeEventListener("lock",i),o&&j.removeEventListener("unlock",o),s.forEach(e=>e?e.removeEventListener("click",r):void 0)}},[n,i,o,t,j,v]),r.useEffect(()=>{if(c){let e=b().controls;return E({controls:j}),()=>E({controls:e})}},[c,j]),r.createElement("primitive",(0,l.default)({ref:m,object:j},h))});var E=e.i(932334);function M({image:e,position:n,rotation:s,size:l,index:d,onHover:m,onClick:u,isHovered:h,audioData:f}){let p=(0,r.useRef)(null),x=(0,r.useRef)(null),v=(0,o.useTexture)(e.src),[g,y]=(0,r.useState)(.5);(0,i.useFrame)((e,t)=>{let r=h?1.5:.5;if(f?.enabled){let e=[f.bass,f.lowMid,f.mid,f.highMid,f.treble][d%5]||0;r+=.8*e,f.isBeat&&(r+=.5*f.beatIntensity)}if(y(e=>(0,E.lerp)(e,r,5*t)),x.current&&f?.enabled&&x.current.material instanceof c.MeshStandardMaterial){let t=(.05*e.clock.elapsedTime+.1*d)%1;x.current.material.emissive.setHSL(t,.6,.2),x.current.material.emissiveIntensity=.3*f.beatIntensity}});let b=v.image?v.image.width/v.image.height:1,M=b>1?l:l*b,w=b>1?l/b:l,j=f?.enabled?`hsl(${40+30*f.mid}, ${50+30*f.energy}%, 90%)`:"#fff5e6";return(0,t.jsxs)("group",{position:n,rotation:s,children:[(0,t.jsx)("spotLight",{position:[0,w/2+.5,.5],angle:f?.enabled?.6+.2*f.energy:.6,penumbra:.5,intensity:g,color:j,"target-position":[0,0,0]}),(0,t.jsxs)("mesh",{ref:x,position:[0,0,-.025],children:[(0,t.jsx)("boxGeometry",{args:[M+.16,w+.16,.05]}),(0,t.jsx)("meshStandardMaterial",{color:h?"#8b7355":"#5c4a32",metalness:f?.enabled?.3+.3*f.treble:.3,roughness:.7,emissive:"#4f46e5",emissiveIntensity:0})]}),(0,t.jsxs)("mesh",{ref:p,position:[0,0,.01],onPointerEnter:()=>m(d),onPointerLeave:()=>m(null),onClick:u,children:[(0,t.jsx)("planeGeometry",{args:[M,w]}),(0,t.jsx)("meshStandardMaterial",{map:v})]}),h&&e.alt&&(0,t.jsx)(a.Html,{center:!0,position:[0,-w/2-.4,.1],children:(0,t.jsxs)("div",{className:"bg-white/95 text-gray-800 px-4 py-2 rounded shadow-lg min-w-[150px]",children:[(0,t.jsx)("p",{className:"font-serif text-sm font-medium",children:e.alt}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})})]})}function w({speed:e}){let{camera:t}=(0,s.useThree)(),n=(0,r.useRef)(new c.Vector3),i=(0,r.useRef)(new c.Vector3);return(0,r.useEffect)(()=>{let r={},s=e=>{r[e.code]=!0},o=e=>{r[e.code]=!1};window.addEventListener("keydown",s),window.addEventListener("keyup",o);let a=setInterval(()=>{i.current.set(0,0,0),(r.KeyW||r.ArrowUp)&&(i.current.z-=1),(r.KeyS||r.ArrowDown)&&(i.current.z+=1),(r.KeyA||r.ArrowLeft)&&(i.current.x-=1),(r.KeyD||r.ArrowRight)&&(i.current.x+=1),i.current.normalize(),i.current.applyQuaternion(t.quaternion),i.current.y=0,n.current.lerp(i.current.multiplyScalar(e),.1),t.position.add(n.current),t.position.y=1.6},16);return()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",o),clearInterval(a)}},[t,e]),null}function j({images:e,roomWidth:n,roomHeight:i,roomDepth:s,frameSize:o,walkSpeed:a,onImageClick:l,audioData:c}){let[d,m]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),f=(0,r.useMemo)(()=>{let t=[],r=0,o=Math.floor(s/3)-1;for(let a=0;a<o&&r<e.length;a++)t.push({image:e[r],position:[-n/2+.1,i/2-.5,-s/2+3+3*a],rotation:[0,Math.PI/2,0],index:r}),r++;let a=Math.floor(s/3)-1;for(let o=0;o<a&&r<e.length;o++)t.push({image:e[r],position:[n/2-.1,i/2-.5,-s/2+3+3*o],rotation:[0,-Math.PI/2,0],index:r}),r++;let l=Math.floor(n/3)-1;for(let o=0;o<l&&r<e.length;o++)t.push({image:e[r],position:[-n/2+3+3*o,i/2-.5,s/2-.1],rotation:[0,Math.PI,0],index:r}),r++;return t},[e,n,i,s]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("ambientLight",{intensity:c?.enabled?.25+.2*c.energy:.3}),(0,t.jsx)("hemisphereLight",{intensity:c?.enabled?.35+.2*c.mid:.4,groundColor:c?.enabled?`hsl(${30+20*c.bass}, 30%, 15%)`:"#3d3d3d"}),Array.from({length:4}).map((e,r)=>{let n=[c?.bass||0,c?.lowMid||0,c?.mid||0,c?.treble||0],o=c?.enabled?.8+.6*n[r]:.8,a=c?.enabled?.5+.5*c.beatIntensity:.5;return(0,t.jsxs)("group",{position:[0,i-.1,-s/4+r*s/3],children:[(0,t.jsx)("pointLight",{intensity:o,distance:c?.enabled?8+4*c.energy:8,color:c?.enabled?`hsl(${40+30*c.mid}, 70%, 90%)`:"#fff5e6"}),(0,t.jsxs)("mesh",{children:[(0,t.jsx)("cylinderGeometry",{args:[.3,.3,.05,32]}),(0,t.jsx)("meshStandardMaterial",{color:"#ffffff",emissive:c?.enabled?`hsl(${40+20*c.mid}, 80%, 70%)`:"#fff5e6",emissiveIntensity:a})]})]},r)}),(0,t.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],receiveShadow:!0,children:[(0,t.jsx)("planeGeometry",{args:[n,s]}),(0,t.jsx)("meshStandardMaterial",{color:c?.enabled?`hsl(${30+10*c.bass}, 15%, 12%)`:"#2a2520",roughness:c?.enabled?.8-.2*c.energy:.8,metalness:c?.enabled?.1+.2*c.treble:.1})]}),(0,t.jsxs)("mesh",{rotation:[Math.PI/2,0,0],position:[0,i,0],children:[(0,t.jsx)("planeGeometry",{args:[n,s]}),(0,t.jsx)("meshStandardMaterial",{color:"#f5f5f0"})]}),(0,t.jsxs)("mesh",{position:[-n/2,i/2,0],rotation:[0,Math.PI/2,0],children:[(0,t.jsx)("planeGeometry",{args:[s,i]}),(0,t.jsx)("meshStandardMaterial",{color:"#e8e4df"})]}),(0,t.jsxs)("mesh",{position:[n/2,i/2,0],rotation:[0,-Math.PI/2,0],children:[(0,t.jsx)("planeGeometry",{args:[s,i]}),(0,t.jsx)("meshStandardMaterial",{color:"#e8e4df"})]}),(0,t.jsxs)("mesh",{position:[0,i/2,s/2],rotation:[0,Math.PI,0],children:[(0,t.jsx)("planeGeometry",{args:[n,i]}),(0,t.jsx)("meshStandardMaterial",{color:"#dcd8d3"})]}),(0,t.jsxs)("mesh",{position:[0,i/2,-s/2],children:[(0,t.jsx)("planeGeometry",{args:[n,i]}),(0,t.jsx)("meshStandardMaterial",{color:"#e8e4df"})]}),f.map(({image:e,position:r,rotation:n,index:i})=>(0,t.jsx)(M,{image:e,position:r,rotation:n,size:o,index:i,onHover:m,onClick:()=>l?.(e,i),isHovered:d===i,audioData:c},`${e.src}-${i}`)),(0,t.jsxs)("mesh",{position:[0,.25,0],children:[(0,t.jsx)("boxGeometry",{args:[2,.5,.6]}),(0,t.jsx)("meshStandardMaterial",{color:"#4a3f35"})]}),(0,t.jsx)(w,{speed:a}),(0,t.jsx)(b,{onLock:()=>h(!0),onUnlock:()=>h(!1)})]})}function P({images:e}){return(0,t.jsx)("div",{className:"w-full h-full bg-gradient-to-b from-stone-100 to-stone-200 p-8 overflow-y-auto",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-serif text-stone-800 mb-6 text-center",children:"Gallery Exhibition"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:e.map((e,r)=>(0,t.jsxs)("div",{className:"bg-white p-4 shadow-lg",children:[(0,t.jsx)("img",{src:e.src,alt:e.alt||"",className:"w-full h-40 object-cover"}),e.alt&&(0,t.jsx)("p",{className:"text-stone-600 text-sm mt-2 font-serif",children:e.alt})]},r))})]})})}function k({images:e,className:i="w-full h-[700px]",roomWidth:s=12,roomHeight:o=4,roomDepth:a=20,frameSize:l=1.8,walkSpeed:c=.08,onImageClick:d,audioData:m}){let[u,h]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{try{let e=document.createElement("canvas");e.getContext("webgl")||e.getContext("experimental-webgl")||h(!1)}catch{h(!1)}},[]),u)?(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)(n.Canvas,{camera:{position:[0,1.6,-a/2+2],fov:75},shadows:!0,gl:{antialias:!0},style:{background:"#1a1a1a"},children:(0,t.jsx)(j,{images:e,roomWidth:s,roomHeight:o,roomDepth:a,frameSize:l,walkSpeed:m?.enabled?c*(1+.5*m.energy):c,onImageClick:d,audioData:m})}),(0,t.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-lg text-sm",children:"Click to look around | WASD or Arrow keys to walk"})]}):(0,t.jsx)("div",{className:i,children:(0,t.jsx)(P,{images:e})})}e.s(["default",()=>k],579067)}]);