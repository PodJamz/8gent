(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81670,e=>{"use strict";var t=e.i(91071);e.s(["useLoader",()=>t.G])},511334,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>t])},520132,e=>{"use strict";var t=e.i(923041),r=e.i(724114),n=e.i(238949),i=e.i(81670);let o=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function a(e,a){let l=(0,n.useThree)(e=>e.gl),s=(0,i.useLoader)(r.TextureLoader,o(e)?Object.values(e):e);return(0,t.useLayoutEffect)(()=>{null==a||a(s)},[a]),(0,t.useEffect)(()=>{if("initTexture"in l){let e=[];Array.isArray(s)?e=s:s instanceof r.Texture?e=[s]:o(s)&&(e=Object.values(s)),e.forEach(e=>{e instanceof r.Texture&&l.initTexture(e)})}},[l,s]),(0,t.useMemo)(()=>{if(!o(e))return s;{let t={},r=0;for(let n in e)t[n]=s[r++];return t}},[e,s])}a.preload=e=>i.useLoader.preload(r.TextureLoader,e),a.clear=e=>i.useLoader.clear(r.TextureLoader,e),e.s(["useTexture",()=>a])},429008,932334,e=>{"use strict";let t,r;var n=e.i(511334),i=e.i(923041),o=e.i(986125),a=e.i(724114),l=e.i(238949),s=e.i(393658);let c=new a.Vector3,u=new a.Vector3,d=new a.Vector3,f=new a.Vector2;function m(e,t,r){let n=c.setFromMatrixPosition(e.matrixWorld);n.project(t);let i=r.width/2,o=r.height/2;return[n.x*i+i,-(n.y*o)+o]}let h=e=>1e-10>Math.abs(e)?0:e;function p(e,t,r=""){let n="matrix3d(";for(let r=0;16!==r;r++)n+=h(t[r]*e.elements[r])+(15!==r?",":")");return r+n}let x=(t=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>p(e,t)),y=(r=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>p(e,r(t),"translate(-50%,-50%)")),v=i.forwardRef(({children:e,eps:t=.001,style:r,className:p,prepend:v,center:M,fullscreen:g,portal:P,distanceFactor:b,sprite:w=!1,transform:E=!1,occlude:T,onOcclude:W,castShadow:S,receiveShadow:$,material:R,geometry:A,zIndexRange:j=[0x1000037,0],calculatePosition:I=m,as:L="div",wrapperClass:z,pointerEvents:F="auto",...C},O)=>{let{gl:V,camera:H,scene:N,size:k,raycaster:D,events:q,viewport:B}=(0,l.useThree)(),[G]=i.useState(()=>document.createElement(L)),K=i.useRef(null),U=i.useRef(null),_=i.useRef(0),Z=i.useRef([0,0]),J=i.useRef(null),Q=i.useRef(null),X=(null==P?void 0:P.current)||q.connected||V.domElement.parentNode,Y=i.useRef(null),ee=i.useRef(!1),et=i.useMemo(()=>{var e;return T&&"blending"!==T||Array.isArray(T)&&T.length&&(e=T[0])&&"object"==typeof e&&"current"in e},[T]);i.useLayoutEffect(()=>{let e=V.domElement;T&&"blending"===T?(e.style.zIndex=`${Math.floor(j[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[T]),i.useLayoutEffect(()=>{if(U.current){let e=K.current=o.createRoot(G);if(N.updateMatrixWorld(),E)G.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=I(U.current,H,k);G.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return X&&(v?X.prepend(G):X.appendChild(G)),()=>{X&&X.removeChild(G),e.unmount()}}},[X,E]),i.useLayoutEffect(()=>{z&&(G.className=z)},[z]);let er=i.useMemo(()=>E?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:M?"translate3d(-50%,-50%,0)":"none",...g&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...r},[r,M,g,k,E]),en=i.useMemo(()=>({position:"absolute",pointerEvents:F}),[F]);i.useLayoutEffect(()=>{var t,n;ee.current=!1,E?null==(t=K.current)||t.render(i.createElement("div",{ref:J,style:er},i.createElement("div",{ref:Q,style:en},i.createElement("div",{ref:O,className:p,style:r,children:e})))):null==(n=K.current)||n.render(i.createElement("div",{ref:O,style:er,className:p,children:e}))});let ei=i.useRef(!0);(0,s.useFrame)(e=>{if(U.current){H.updateMatrixWorld(),U.current.updateWorldMatrix(!0,!1);let e=E?Z.current:I(U.current,H,k);if(E||Math.abs(_.current-H.zoom)>t||Math.abs(Z.current[0]-e[0])>t||Math.abs(Z.current[1]-e[1])>t){var r;let t,n,i,o,l=(r=U.current,t=c.setFromMatrixPosition(r.matrixWorld),n=u.setFromMatrixPosition(H.matrixWorld),i=t.sub(n),o=H.getWorldDirection(d),i.angleTo(o)>Math.PI/2),s=!1;et&&(Array.isArray(T)?s=T.map(e=>e.current):"blending"!==T&&(s=[N]));let m=ei.current;s?ei.current=function(e,t,r,n){let i=c.setFromMatrixPosition(e.matrixWorld),o=i.clone();o.project(t),f.set(o.x,o.y),r.setFromCamera(f,t);let a=r.intersectObjects(n,!0);if(a.length){let e=a[0].distance;return i.distanceTo(r.ray.origin)<e}return!0}(U.current,H,D,s)&&!l:ei.current=!l,m!==ei.current&&(W?W(!ei.current):G.style.display=ei.current?"block":"none");let p=Math.floor(j[0]/2),v=T?et?[j[0],p]:[p-1,0]:j;if(G.style.zIndex=`${function(e,t,r){if(t instanceof a.PerspectiveCamera||t instanceof a.OrthographicCamera){let n=c.setFromMatrixPosition(e.matrixWorld),i=u.setFromMatrixPosition(t.matrixWorld),o=n.distanceTo(i),a=(r[1]-r[0])/(t.far-t.near),l=r[1]-a*t.far;return Math.round(a*o+l)}}(U.current,H,v)}`,E){let[e,t]=[k.width/2,k.height/2],r=H.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:i,left:o,bottom:a,right:l}=H,s=x(H.matrixWorldInverse),c=n?`scale(${r})translate(${h(-(l+o)/2)}px,${h((i+a)/2)}px)`:`translateZ(${r}px)`,u=U.current.matrixWorld;w&&((u=H.matrixWorldInverse.clone().transpose().copyPosition(u).scale(U.current.scale)).elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),G.style.width=k.width+"px",G.style.height=k.height+"px",G.style.perspective=n?"":`${r}px`,J.current&&Q.current&&(J.current.style.transform=`${c}${s}translate(${e}px,${t}px)`,Q.current.style.transform=y(u,1/((b||10)/400)))}else{let t=void 0===b?1:function(e,t){if(t instanceof a.OrthographicCamera)return t.zoom;if(!(t instanceof a.PerspectiveCamera))return 1;{let r=c.setFromMatrixPosition(e.matrixWorld),n=u.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}}(U.current,H)*b;G.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}Z.current=e,_.current=H.zoom}}if(!et&&Y.current&&!ee.current)if(E){if(J.current){let e=J.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=H;if(t||A)C.scale&&(Array.isArray(C.scale)?C.scale instanceof a.Vector3?Y.current.scale.copy(C.scale.clone().divideScalar(1)):Y.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):Y.current.scale.setScalar(1/C.scale));else{let t=(b||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;Y.current.scale.set(r,n,1)}ee.current=!0}}}else{let t=G.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/B.factor,r=t.clientWidth*e,n=t.clientHeight*e;Y.current.scale.set(r,n,1),ee.current=!0}Y.current.lookAt(e.camera.position)}});let eo=i.useMemo(()=>({vertexShader:E?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[E]);return i.createElement("group",(0,n.default)({},C,{ref:U}),T&&!et&&i.createElement("mesh",{castShadow:S,receiveShadow:$,ref:Y},A||i.createElement("planeGeometry",null),R||i.createElement("shaderMaterial",{side:a.DoubleSide,vertexShader:eo.vertexShader,fragmentShader:eo.fragmentShader})))});function M(e,t,r){return e+(t-e)*r}function g(e,t,r,n){let i=r/(2*Math.PI*n)*t-t/2;return new a.Vector3(e*Math.cos(r),i,e*Math.sin(r))}function P(e,t){let r=[],n=Math.PI*(Math.sqrt(5)-1);for(let i=0;i<e;i++){let o=1-i/(e-1)*2,l=Math.sqrt(1-o*o),s=n*i;r.push(new a.Vector3(Math.cos(s)*l*t,o*t,Math.sin(s)*l*t))}return r}function b(e,t,r,n){return e+(t-e)*(1-Math.exp(-r*n))}e.s(["Html",()=>v],429008),e.s(["damp",()=>b,"fibonacciSphere",()=>P,"helixPoint",()=>g,"lerp",()=>M],932334)},985104,e=>{"use strict";let t=parseInt(e.i(724114).REVISION.replace(/\D+/g,""));e.s(["version",()=>t])}]);