{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/motion/index.ts"],"sourcesContent":["// Motion Primitives - Global Animation System\n// Inspired by https://motion-primitives.com\n\n// Configuration\nexport {\n  motionConfig,\n  presets,\n  containerVariants,\n  createStaggerContainer,\n  type PresetName,\n} from './config';\n\n// Provider\nexport { MotionProvider, useMotion } from './provider';\n\n// Core Components\nexport { InView, type InViewProps } from './in-view';\nexport { TextEffect, type TextEffectProps, type TextPreset, type PerType } from './text-effect';\nexport { AnimatedGroup, type AnimatedGroupProps } from './animated-group';\nexport { FadeIn, FadeInUp, FadeInDown, FadeInBlur, FadeInScale, type FadeInProps } from './fade-in';\n\n// Re-export motion for convenience\nexport { motion, AnimatePresence } from 'motion/react';\n"],"names":[],"mappings":";AAAA,8CAA8C;AAC9C,4CAA4C;AAE5C,gBAAgB;AAChB;AAQA,WAAW;AACX;AAEA,kBAAkB;AAClB;AACA;AACA;AACA"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ui/perspective-grid.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, useCallback } from 'react';\n\ninterface PerspectiveGridProps {\n  className?: string;\n  lineColor?: string;\n  glowColor?: string;\n  vanishY?: number; // 0-1, where 0 is top, 0.5 is middle\n  gridLines?: number;\n  horizontalLines?: number;\n  animated?: boolean;\n}\n\nexport function PerspectiveGrid({\n  className = '',\n  lineColor = 'rgba(255, 255, 255, 0.15)',\n  glowColor = 'rgba(120, 180, 255, 0.3)',\n  vanishY = 0.35,\n  gridLines = 24,\n  horizontalLines = 12,\n  animated = true,\n}: PerspectiveGridProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationRef = useRef<number>(0);\n  const timeRef = useRef(0);\n\n  const draw = useCallback((ctx: CanvasRenderingContext2D, width: number, height: number, time: number) => {\n    ctx.clearRect(0, 0, width, height);\n\n    const vanishX = width / 2;\n    const vanishYPos = height * vanishY;\n\n    // Subtle animation offset\n    const animOffset = animated ? Math.sin(time * 0.0005) * 0.02 : 0;\n    const pulseIntensity = animated ? 0.7 + Math.sin(time * 0.001) * 0.3 : 1;\n\n    // Draw radial lines from vanishing point to bottom edges\n    ctx.strokeStyle = lineColor;\n    ctx.lineWidth = 1;\n\n    // Vertical lines converging to vanishing point\n    for (let i = 0; i <= gridLines; i++) {\n      const t = i / gridLines;\n      const bottomX = width * t;\n\n      ctx.beginPath();\n      ctx.moveTo(vanishX, vanishYPos);\n      ctx.lineTo(bottomX, height);\n      ctx.stroke();\n    }\n\n    // Horizontal lines with perspective spacing (closer together near vanishing point)\n    for (let i = 1; i <= horizontalLines; i++) {\n      const t = i / horizontalLines;\n      // Exponential spacing for perspective effect\n      const perspectiveT = Math.pow(t, 1.8 + animOffset);\n      const y = vanishYPos + (height - vanishYPos) * perspectiveT;\n\n      // Calculate x intersection points with the outer diagonal lines\n      const progress = (y - vanishYPos) / (height - vanishYPos);\n      const leftX = vanishX - (vanishX * progress);\n      const rightX = vanishX + (vanishX * progress);\n\n      ctx.beginPath();\n      ctx.moveTo(leftX, y);\n      ctx.lineTo(rightX, y);\n      ctx.stroke();\n    }\n\n    // Add subtle glow at vanishing point\n    const gradient = ctx.createRadialGradient(\n      vanishX, vanishYPos, 0,\n      vanishX, vanishYPos, height * 0.4\n    );\n    gradient.addColorStop(0, glowColor.replace(/[\\d.]+\\)$/, `${0.4 * pulseIntensity})`));\n    gradient.addColorStop(0.5, glowColor.replace(/[\\d.]+\\)$/, `${0.1 * pulseIntensity})`));\n    gradient.addColorStop(1, 'transparent');\n\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, width, height);\n\n  }, [lineColor, glowColor, vanishY, gridLines, horizontalLines, animated]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const resize = () => {\n      const dpr = Math.min(window.devicePixelRatio, 2);\n      const rect = canvas.getBoundingClientRect();\n      canvas.width = rect.width * dpr;\n      canvas.height = rect.height * dpr;\n      ctx.scale(dpr, dpr);\n      draw(ctx, rect.width, rect.height, timeRef.current);\n    };\n\n    const animate = (time: number) => {\n      timeRef.current = time;\n      const rect = canvas.getBoundingClientRect();\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      const dpr = Math.min(window.devicePixelRatio, 2);\n      ctx.scale(dpr, dpr);\n      draw(ctx, rect.width, rect.height, time);\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    resize();\n\n    if (animated) {\n      animationRef.current = requestAnimationFrame(animate);\n    }\n\n    window.addEventListener('resize', resize);\n\n    return () => {\n      window.removeEventListener('resize', resize);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [draw, animated]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`absolute inset-0 w-full h-full ${className}`}\n      style={{ pointerEvents: 'none' }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAcO,SAAS,gBAAgB,EAC9B,YAAY,EAAE,EACd,YAAY,2BAA2B,EACvC,YAAY,0BAA0B,EACtC,UAAU,IAAI,EACd,YAAY,EAAE,EACd,kBAAkB,EAAE,EACpB,WAAW,IAAI,EACM;;IACrB,MAAM,YAAY,IAAA,gXAAM,EAAoB;IAC5C,MAAM,eAAe,IAAA,gXAAM,EAAS;IACpC,MAAM,UAAU,IAAA,gXAAM,EAAC;IAEvB,MAAM,OAAO,IAAA,qXAAW;6CAAC,CAAC,KAA+B,OAAe,QAAgB;YACtF,IAAI,SAAS,CAAC,GAAG,GAAG,OAAO;YAE3B,MAAM,UAAU,QAAQ;YACxB,MAAM,aAAa,SAAS;YAE5B,0BAA0B;YAC1B,MAAM,aAAa,WAAW,KAAK,GAAG,CAAC,OAAO,UAAU,OAAO;YAC/D,MAAM,iBAAiB,WAAW,MAAM,KAAK,GAAG,CAAC,OAAO,SAAS,MAAM;YAEvE,yDAAyD;YACzD,IAAI,WAAW,GAAG;YAClB,IAAI,SAAS,GAAG;YAEhB,+CAA+C;YAC/C,IAAK,IAAI,IAAI,GAAG,KAAK,WAAW,IAAK;gBACnC,MAAM,IAAI,IAAI;gBACd,MAAM,UAAU,QAAQ;gBAExB,IAAI,SAAS;gBACb,IAAI,MAAM,CAAC,SAAS;gBACpB,IAAI,MAAM,CAAC,SAAS;gBACpB,IAAI,MAAM;YACZ;YAEA,mFAAmF;YACnF,IAAK,IAAI,IAAI,GAAG,KAAK,iBAAiB,IAAK;gBACzC,MAAM,IAAI,IAAI;gBACd,6CAA6C;gBAC7C,MAAM,eAAe,KAAK,GAAG,CAAC,GAAG,MAAM;gBACvC,MAAM,IAAI,aAAa,CAAC,SAAS,UAAU,IAAI;gBAE/C,gEAAgE;gBAChE,MAAM,WAAW,CAAC,IAAI,UAAU,IAAI,CAAC,SAAS,UAAU;gBACxD,MAAM,QAAQ,UAAW,UAAU;gBACnC,MAAM,SAAS,UAAW,UAAU;gBAEpC,IAAI,SAAS;gBACb,IAAI,MAAM,CAAC,OAAO;gBAClB,IAAI,MAAM,CAAC,QAAQ;gBACnB,IAAI,MAAM;YACZ;YAEA,qCAAqC;YACrC,MAAM,WAAW,IAAI,oBAAoB,CACvC,SAAS,YAAY,GACrB,SAAS,YAAY,SAAS;YAEhC,SAAS,YAAY,CAAC,GAAG,UAAU,OAAO,CAAC,aAAa,GAAG,MAAM,eAAe,CAAC,CAAC;YAClF,SAAS,YAAY,CAAC,KAAK,UAAU,OAAO,CAAC,aAAa,GAAG,MAAM,eAAe,CAAC,CAAC;YACpF,SAAS,YAAY,CAAC,GAAG;YAEzB,IAAI,SAAS,GAAG;YAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,OAAO;QAE5B;4CAAG;QAAC;QAAW;QAAW;QAAS;QAAW;QAAiB;KAAS;IAExE,IAAA,mXAAS;qCAAC;YACR,MAAM,SAAS,UAAU,OAAO;YAChC,IAAI,CAAC,QAAQ;YAEb,MAAM,MAAM,OAAO,UAAU,CAAC;YAC9B,IAAI,CAAC,KAAK;YAEV,MAAM;oDAAS;oBACb,MAAM,MAAM,KAAK,GAAG,CAAC,OAAO,gBAAgB,EAAE;oBAC9C,MAAM,OAAO,OAAO,qBAAqB;oBACzC,OAAO,KAAK,GAAG,KAAK,KAAK,GAAG;oBAC5B,OAAO,MAAM,GAAG,KAAK,MAAM,GAAG;oBAC9B,IAAI,KAAK,CAAC,KAAK;oBACf,KAAK,KAAK,KAAK,KAAK,EAAE,KAAK,MAAM,EAAE,QAAQ,OAAO;gBACpD;;YAEA,MAAM;qDAAU,CAAC;oBACf,QAAQ,OAAO,GAAG;oBAClB,MAAM,OAAO,OAAO,qBAAqB;oBACzC,IAAI,YAAY,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG;oBAChC,MAAM,MAAM,KAAK,GAAG,CAAC,OAAO,gBAAgB,EAAE;oBAC9C,IAAI,KAAK,CAAC,KAAK;oBACf,KAAK,KAAK,KAAK,KAAK,EAAE,KAAK,MAAM,EAAE;oBACnC,aAAa,OAAO,GAAG,sBAAsB;gBAC/C;;YAEA;YAEA,IAAI,UAAU;gBACZ,aAAa,OAAO,GAAG,sBAAsB;YAC/C;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAElC;6CAAO;oBACL,OAAO,mBAAmB,CAAC,UAAU;oBACrC,IAAI,aAAa,OAAO,EAAE;wBACxB,qBAAqB,aAAa,OAAO;oBAC3C;gBACF;;QACF;oCAAG;QAAC;QAAM;KAAS;IAEnB,qBACE,sYAAC;QACC,KAAK;QACL,WAAW,CAAC,+BAA+B,EAAE,WAAW;QACxD,OAAO;YAAE,eAAe;QAAO;;;;;;AAGrC;GAvHgB;KAAA"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/LockScreen.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, Suspense } from 'react';\nimport { motion, useMotionValue, useTransform, animate, useReducedMotion, AnimatePresence } from 'framer-motion';\nimport { useMusic } from '@/context/MusicContext';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { PerspectiveGrid } from '@/components/ui/perspective-grid';\nimport { Play, Pause, SkipBack, SkipForward, ChevronUp } from 'lucide-react';\nimport { springs, motionConfig } from '@/components/motion/config';\nimport dynamic from 'next/dynamic';\n\n// Dynamically import 3D tunnel to avoid SSR issues\nconst Tunnel3D = dynamic(\n  () => import('@/components/ui/tunnel-3d').then(mod => ({ default: mod.Tunnel3D })),\n  { ssr: false, loading: () => null }\n);\n\ninterface LockScreenProps {\n  onUnlock: () => void;\n  onBackgroundReady?: () => void;\n  backgroundReady?: boolean;\n}\n\nexport function LockScreen({ onUnlock, onBackgroundReady, backgroundReady = false }: LockScreenProps) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [tunnelMounted, setTunnelMounted] = useState(false);\n  const { currentTrack, isPlaying, currentTime: trackTime, duration, togglePlay, skipToNext, skipToPrevious } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n\n  // Track when tunnel is ready\n  const handleTunnelReady = useCallback(() => {\n    setTunnelMounted(true);\n    onBackgroundReady?.();\n  }, [onBackgroundReady]);\n\n  // Auto-trigger ready for reduced motion users\n  useEffect(() => {\n    if (prefersReducedMotion && !backgroundReady) {\n      onBackgroundReady?.();\n    }\n  }, [prefersReducedMotion, backgroundReady, onBackgroundReady]);\n\n  // Determine if UI should show (background ready or after timeout)\n  const showUI = backgroundReady || tunnelMounted || prefersReducedMotion;\n\n  const y = useMotionValue(0);\n  const opacity = useTransform(y, [-150, 0], [0, 1]);\n  const scale = useTransform(y, [-150, 0], [1.05, 1]);\n  const blur = useTransform(y, [-150, 0], [20, 0]);\n\n  // Update time every second\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: false,\n    });\n  };\n\n  const formatDate = (date: Date) => {\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric',\n    });\n  };\n\n  const formatTrackTime = (time: number) => {\n    if (isNaN(time)) return '0:00';\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const progressPercent = duration ? (trackTime / duration) * 100 : 0;\n\n  const handleDragEnd = useCallback(() => {\n    if (y.get() < -100) {\n      // Trigger unlock with smooth animation\n      animate(y, -300, {\n        ...springs.smooth,\n        onComplete: onUnlock,\n      });\n    } else {\n      // Snap back with snappy spring\n      animate(y, 0, springs.snappy);\n    }\n  }, [y, onUnlock]);\n\n  // Handle tap on bottom area to unlock\n  const handleUnlockTap = useCallback(() => {\n    if (prefersReducedMotion) {\n      // Skip animation for reduced motion\n      onUnlock();\n      return;\n    }\n    animate(y, -300, {\n      ...springs.smooth,\n      onComplete: onUnlock,\n    });\n  }, [y, onUnlock, prefersReducedMotion]);\n\n  const getGreeting = () => {\n    const hour = currentTime.getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 17) return 'Good afternoon';\n    return 'Good evening';\n  };\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 z-50 flex flex-col items-center justify-between overflow-hidden select-none\"\n      style={{\n        opacity,\n        scale,\n        filter: useTransform(blur, (v) => `blur(${v}px)`),\n      }}\n      drag=\"y\"\n      dragConstraints={{ top: -300, bottom: 0 }}\n      dragElastic={motionConfig.drag.elastic}\n      onDragEnd={handleDragEnd}\n      onDrag={(_, info) => {\n        y.set(info.offset.y);\n      }}\n    >\n      {/* 3D Tunnel Background - Loads first, always visible */}\n      {!prefersReducedMotion ? (\n        <Tunnel3D speed={0.4} lineColor=\"#475569\" onReady={handleTunnelReady} />\n      ) : (\n        <>\n          {/* Fallback for reduced motion */}\n          <div className=\"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900 to-indigo-950\" />\n          <PerspectiveGrid\n            lineColor=\"rgba(148, 163, 184, 0.12)\"\n            glowColor=\"rgba(99, 155, 255, 0.25)\"\n            vanishY={0.32}\n            gridLines={28}\n            horizontalLines={14}\n            animated={false}\n          />\n        </>\n      )}\n\n      {/* Subtle vignette overlay for depth */}\n      <div\n        className=\"absolute inset-0 pointer-events-none z-[1]\"\n        style={{\n          background: 'radial-gradient(ellipse at center 40%, transparent 0%, rgba(0,0,0,0.5) 100%)',\n        }}\n      />\n\n      {/* UI Components - Only animate in after background is ready */}\n      <AnimatePresence>\n        {showUI && (\n          <>\n            {/* Top section - Time & Date */}\n            <motion.div\n              className=\"relative z-10 pt-16 sm:pt-20 text-center\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.1, ...springs.smooth }}\n            >\n              <div className=\"text-white/60 text-sm sm:text-base font-medium mb-1\">\n                {formatDate(currentTime)}\n              </div>\n              <div className=\"text-white text-7xl sm:text-8xl md:text-9xl font-thin tracking-tight\">\n                {formatTime(currentTime)}\n              </div>\n            </motion.div>\n\n            {/* Middle section - Profile & Greeting */}\n            <div className=\"relative z-10 flex flex-col items-center\">\n              <motion.div\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 0.2, ...springs.smooth }}\n                className=\"mb-6\"\n              >\n                <div className=\"relative\">\n                  <div className=\"w-24 h-24 sm:w-28 sm:h-28 rounded-full overflow-hidden border-2 border-white/20 shadow-2xl\">\n                    <img\n                      src=\"/openclaw-logo.png\"\n                      alt=\"OpenClaw-OS\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  {/* Online indicator */}\n                  <div className=\"absolute bottom-1 right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-slate-900\" />\n                </div>\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.3, ...springs.smooth }}\n                className=\"text-center mb-8\"\n              >\n                <div className=\"text-white/40 text-xs uppercase tracking-widest mb-2\">Welcome to</div>\n                <div className=\"text-white text-2xl sm:text-3xl font-bold tracking-tight\">OpenClaw-OS</div>\n                <div className=\"text-white/50 text-sm mt-2 max-w-[280px] leading-relaxed\">\n                  Your AI-native operating system\n                </div>\n              </motion.div>\n\n              {/* Music Widget */}\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.4, ...springs.smooth }}\n              >\n                <LiquidGlass\n                  variant=\"card\"\n                  intensity=\"subtle\"\n                  className=\"w-[320px] sm:w-[360px] !p-4\"\n                  rippleEffect={false}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    {/* Album Art */}\n                    <div className=\"w-14 h-14 rounded-xl bg-white/10 flex-shrink-0 overflow-hidden\">\n                      {currentTrack.albumArt ? (\n                        <img\n                          src={currentTrack.albumArt}\n                          alt={currentTrack.album}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-2xl\">\n                          ðŸŽµ\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Track Info & Controls */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-white font-medium text-sm truncate\">\n                        {currentTrack.title}\n                      </div>\n                      <div className=\"text-white/50 text-xs truncate mb-2\">\n                        {currentTrack.artist}\n                      </div>\n\n                      {/* Progress Bar */}\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-[10px] text-white/40 w-8\">\n                          {formatTrackTime(trackTime)}\n                        </span>\n                        <div className=\"flex-1 h-1 bg-white/10 rounded-full overflow-hidden\">\n                          <div\n                            className=\"h-full bg-white/60 transition-all duration-150\"\n                            style={{ width: `${progressPercent}%` }}\n                          />\n                        </div>\n                        <span className=\"text-[10px] text-white/40 w-8 text-right\">\n                          {formatTrackTime(duration)}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Play Controls */}\n                    <div className=\"flex items-center gap-1\">\n                      <button\n                        onClick={(e) => { e.stopPropagation(); skipToPrevious(); }}\n                        className=\"p-2 text-white/60 hover:text-white transition-colors\"\n                      >\n                        <SkipBack className=\"w-4 h-4\" fill=\"currentColor\" />\n                      </button>\n                      <button\n                        onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n                        className=\"p-2 bg-white/20 rounded-full text-white hover:bg-white/30 transition-colors\"\n                      >\n                        {isPlaying ? (\n                          <Pause className=\"w-5 h-5\" fill=\"currentColor\" />\n                        ) : (\n                          <Play className=\"w-5 h-5\" fill=\"currentColor\" />\n                        )}\n                      </button>\n                      <button\n                        onClick={(e) => { e.stopPropagation(); skipToNext(); }}\n                        className=\"p-2 text-white/60 hover:text-white transition-colors\"\n                      >\n                        <SkipForward className=\"w-4 h-4\" fill=\"currentColor\" />\n                      </button>\n                    </div>\n                  </div>\n                </LiquidGlass>\n              </motion.div>\n            </div>\n\n            {/* Bottom section - Unlock hint (tappable) */}\n            <motion.div\n              className=\"relative z-10 pb-12 sm:pb-16 text-center cursor-pointer\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.5, ...springs.smooth }}\n              onClick={handleUnlockTap}\n              whileTap={{ scale: 0.95 }}\n              style={{ paddingTop: '60px', marginTop: '-60px' }} // Larger tap target\n            >\n              <motion.div\n                animate={prefersReducedMotion ? {} : { y: [0, -8, 0] }}\n                transition={{ repeat: Infinity, duration: 2, ease: 'easeInOut' }}\n                className=\"flex flex-col items-center text-white/40\"\n              >\n                <ChevronUp className=\"w-6 h-6 mb-1\" />\n                <span className=\"text-sm font-medium\">Swipe to begin your journey</span>\n              </motion.div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/DraggableAppIcon.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback, useState, useEffect } from 'react';\nimport type React from 'react';\nimport { motion, useMotionValue, animate, PanInfo, AnimatePresence } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\nimport { useHomeScreen, AppItem } from '@/context/HomeScreenContext';\nimport { X } from 'lucide-react';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface DraggableAppIconProps {\n  app: AppItem;\n  index: number;\n  delay?: number;\n  onClick?: () => void;\n  notificationCount?: number;\n  onAppOpen?: (appId: string) => void;\n  /** Tab index for keyboard navigation */\n  tabIndex?: number;\n  /** Focus handler for roving tabindex */\n  onFocus?: () => void;\n}\n\n// Store transition origin for page animations\nexport const APP_TRANSITION_KEY = 'openclaw_appTransition';\n\n// Long press duration (ms) to enter edit mode\nconst LONG_PRESS_DURATION = 500;\n\nexport function DraggableAppIcon({\n  app,\n  index,\n  delay = 0,\n  onClick,\n  notificationCount = 0,\n  onAppOpen,\n  tabIndex = 0,\n  onFocus,\n}: DraggableAppIconProps) {\n  const iconRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isDraggingRef = useRef(false);\n\n  const {\n    isEditMode,\n    enterEditMode,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n    gridItems,\n  } = useHomeScreen();\n\n  // Motion values for drag\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const scale = useMotionValue(1);\n  const zIndex = useMotionValue(0);\n\n  // Derived values\n  const isDragging = dragState.isDragging && dragState.draggedIndex === index;\n  const isDropTarget = dragState.dropTargetIndex === index && !isDragging;\n\n  // Reset position when not dragging\n  useEffect(() => {\n    if (!isDragging) {\n      animate(x, 0, springs.tight);\n      animate(y, 0, springs.tight);\n      animate(scale, 1, springs.tight);\n      zIndex.set(0);\n    }\n  }, [isDragging, x, y, scale, zIndex]);\n\n  // Long press handler to enter edit mode\n  const handleLongPressStart = useCallback(() => {\n    longPressTimerRef.current = setTimeout(() => {\n      if (!isDraggingRef.current) {\n        enterEditMode();\n        // Haptic feedback if available\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }, LONG_PRESS_DURATION);\n  }, [enterEditMode]);\n\n  const handleLongPressEnd = useCallback(() => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Handle tap/click\n  const handleTap = useCallback((e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault();\n\n    // Don't navigate if in edit mode or currently dragging\n    if (isEditMode || isDraggingRef.current) return;\n\n    // Mark notifications as read when opening app\n    if (onAppOpen) {\n      onAppOpen(app.id);\n    }\n\n    // Custom onClick handler (e.g., for Claw AI chat)\n    if (onClick) {\n      onClick();\n      return;\n    }\n\n    // External links open in new tab\n    if (app.external && app.href) {\n      window.open(app.href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Internal navigation with transition\n    if (app.href && !app.isChat) {\n      if (iconRef.current) {\n        const rect = iconRef.current.getBoundingClientRect();\n        const transitionData = {\n          x: rect.left + rect.width / 2,\n          y: rect.top + rect.height / 2,\n          width: rect.width,\n          height: rect.height,\n          gradient: app.gradient,\n          timestamp: Date.now(),\n        };\n        sessionStorage.setItem(APP_TRANSITION_KEY, JSON.stringify(transitionData));\n      }\n      router.push(app.href);\n    }\n  }, [app, router, onClick, isEditMode, onAppOpen]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode) return;\n\n    isDraggingRef.current = true;\n    handleLongPressEnd();\n\n    zIndex.set(100);\n    animate(scale, 1.1, springs.snappy);\n\n    const offset = {\n      x: info.point.x,\n      y: info.point.y,\n    };\n\n    startDrag({ type: 'app', item: app }, index, offset);\n  }, [isEditMode, app, index, startDrag, handleLongPressEnd, scale, zIndex]);\n\n  const handleDrag = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || !dragState.isDragging) return;\n\n    updateDragPosition({ x: info.point.x, y: info.point.y });\n\n    // Calculate which grid position we're over\n    if (iconRef.current) {\n      const iconCenter = {\n        x: info.point.x,\n        y: info.point.y,\n      };\n\n      // Find potential drop target\n      const gridContainer = iconRef.current.closest('.app-grid-container');\n      if (gridContainer) {\n        const icons = gridContainer.querySelectorAll('.app-icon-wrapper');\n        let closestIndex = -1;\n        let closestDistance = Infinity;\n\n        icons.forEach((icon, i) => {\n          if (i === index) return; // Skip self\n\n          const rect = icon.getBoundingClientRect();\n          const center = {\n            x: rect.left + rect.width / 2,\n            y: rect.top + rect.height / 2,\n          };\n\n          const distance = Math.hypot(iconCenter.x - center.x, iconCenter.y - center.y);\n\n          if (distance < closestDistance && distance < 80) {\n            closestDistance = distance;\n            closestIndex = i;\n          }\n        });\n\n        setDropTarget(closestIndex >= 0 ? closestIndex : null);\n      }\n    }\n  }, [isEditMode, dragState.isDragging, index, updateDragPosition, setDropTarget]);\n\n  const handleDragEnd = useCallback(() => {\n    isDraggingRef.current = false;\n    animate(scale, 1, springs.snappy);\n    zIndex.set(0);\n    endDrag();\n  }, [endDrag, scale, zIndex]);\n\n  // Mouse/Touch event handlers\n  const handlePointerDown = useCallback((e: React.PointerEvent) => {\n    handleLongPressStart();\n  }, [handleLongPressStart]);\n\n  const handlePointerUp = useCallback(() => {\n    handleLongPressEnd();\n  }, [handleLongPressEnd]);\n\n  const handlePointerCancel = useCallback(() => {\n    handleLongPressEnd();\n  }, [handleLongPressEnd]);\n\n  // Use CSS class for wiggle animation to avoid Framer Motion type issues\n  const shouldWiggle = isEditMode && !isDragging;\n\n  // Handle keyboard activation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (!isEditMode) {\n        handleTap(e as unknown as React.MouseEvent);\n      }\n    }\n  }, [isEditMode, handleTap]);\n\n  return (\n    <motion.div\n      className={`app-icon-wrapper flex flex-col items-center gap-2 relative ${shouldWiggle ? (index % 2 === 0 ? 'animate-ios-wiggle' : 'animate-ios-wiggle-alt') : ''\n        }`}\n      initial={{ opacity: 0, scale: 0.5, y: 20 }}\n      animate={{\n        opacity: dragState.isDragging && dragState.draggedIndex !== index && isDropTarget ? 0.5 : 1,\n        scale: 1,\n        y: 0,\n      }}\n      transition={{\n        delay,\n        ...springs.snappy,\n      }}\n      style={{\n        x: isDragging ? x : 0,\n        y: isDragging ? y : 0,\n        scale,\n        zIndex,\n      }}\n      drag={isEditMode}\n      dragMomentum={motionConfig.drag.momentum}\n      dragElastic={motionConfig.drag.elastic}\n      onDragStart={handleDragStart}\n      onDrag={handleDrag}\n      onDragEnd={handleDragEnd}\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n      onPointerCancel={handlePointerCancel}\n      whileHover={!isEditMode ? { scale: 1.05 } : undefined}\n      whileTap={!isEditMode ? { scale: 0.95 } : undefined}\n      tabIndex={tabIndex}\n      onFocus={onFocus}\n      onKeyDown={handleKeyDown}\n      role=\"gridcell\"\n      aria-label={`${app.name}${notificationCount > 0 ? `, ${notificationCount} notifications` : ''}`}\n      data-app-icon\n    >\n      {/* Delete button in edit mode */}\n      {isEditMode && (\n        <motion.button\n          className=\"absolute -top-1 -left-1 z-20 w-6 h-6 bg-black/70 rounded-full flex items-center justify-center border border-white/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0 }}\n          onClick={(e) => {\n            e.stopPropagation();\n            // Could implement remove functionality here\n          }}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n          aria-label={`Remove ${app.name}`}\n        >\n          <X className=\"w-3 h-3 text-white\" aria-hidden=\"true\" />\n        </motion.button>\n      )}\n\n      {/* Notification badge */}\n      <AnimatePresence>\n        {notificationCount > 0 && !isEditMode && (\n          <motion.div\n            className=\"absolute -top-1 -right-1 z-20 min-w-[18px] h-[18px] px-1 bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-red-500/30\"\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={springs.tight}\n          >\n            {notificationCount > 99 ? '99+' : notificationCount}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Drop target indicator */}\n      {isDropTarget && (\n        <motion.div\n          className=\"absolute inset-0 rounded-[22px] border-2 border-white/50 bg-white/10\"\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          layoutId=\"drop-indicator\"\n        />\n      )}\n\n      <div\n        ref={iconRef}\n        onClick={handleTap}\n        className=\"block cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent rounded-[20px]\"\n      >\n        <motion.div\n          className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n          animate={{\n            boxShadow: isDragging\n              ? '0 25px 50px -12px rgba(0, 0, 0, 0.5)'\n              : isDropTarget\n                ? '0 0 20px rgba(255, 255, 255, 0.3)'\n                : '0 10px 15px -3px rgba(0, 0, 0, 0.3)',\n          }}\n        >\n          {app.imageUrl ? (\n            <img\n              src={app.imageUrl}\n              alt={app.name}\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n          ) : (\n            <>\n              {/* Glass overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n\n              {/* Icon */}\n              <div className=\"relative z-10 text-white\">\n                {app.icon}\n              </div>\n            </>\n          )}\n        </motion.div>\n      </div>\n      <span className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate select-none\">\n        {app.name}\n      </span>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1308, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/AppFolder.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback, useState, useEffect, useMemo } from 'react';\nimport { motion, AnimatePresence, useMotionValue, animate, PanInfo } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\nimport { useHomeScreen, FolderItem, AppItem } from '@/context/HomeScreenContext';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\nimport { X, Pencil } from 'lucide-react';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { DraggableAppIcon } from './DraggableAppIcon';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface AppFolderProps {\n  folder: FolderItem;\n  index: number;\n  delay?: number;\n}\n\n// Long press duration (ms) to enter edit mode\nconst LONG_PRESS_DURATION = 500;\n\nexport function AppFolder({ folder, index, delay = 0 }: AppFolderProps) {\n  const folderRef = useRef<HTMLDivElement>(null);\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isDraggingRef = useRef(false);\n  const [isRenaming, setIsRenaming] = useState(false);\n  const [folderName, setFolderName] = useState(folder.name);\n\n  const {\n    isEditMode,\n    enterEditMode,\n    openFolderId,\n    openFolder,\n    closeFolder,\n    renameFolder,\n    removeFromFolder,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n  } = useHomeScreen();\n\n  const { getUnreadCountForApp, markAppNotificationsRead } = useSessionBrain();\n\n  const isOpen = openFolderId === folder.id;\n  const isDragging = dragState.isDragging && dragState.draggedIndex === index;\n  const isDropTarget = dragState.dropTargetIndex === index && !isDragging;\n\n  // Calculate total notification count for folder\n  const folderNotificationCount = useMemo(() => {\n    return folder.apps.reduce((count, app) => count + getUnreadCountForApp(app.id), 0);\n  }, [folder.apps, getUnreadCountForApp]);\n\n  // Mark notifications as read when opening an app\n  const handleAppOpen = useCallback((appId: string) => {\n    markAppNotificationsRead(appId);\n  }, [markAppNotificationsRead]);\n\n  // Motion values for drag\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const scale = useMotionValue(1);\n  const zIndex = useMotionValue(0);\n\n  // Reset position when not dragging\n  useEffect(() => {\n    if (!isDragging) {\n      animate(x, 0, springs.tight);\n      animate(y, 0, springs.tight);\n      animate(scale, 1, springs.tight);\n      zIndex.set(0);\n    }\n  }, [isDragging, x, y, scale, zIndex]);\n\n  // Long press handler\n  const handleLongPressStart = useCallback(() => {\n    longPressTimerRef.current = setTimeout(() => {\n      if (!isDraggingRef.current && !isOpen) {\n        enterEditMode();\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }, LONG_PRESS_DURATION);\n  }, [enterEditMode, isOpen]);\n\n  const handleLongPressEnd = useCallback(() => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Handle folder open\n  const handleFolderTap = useCallback(() => {\n    if (isEditMode || isDraggingRef.current) return;\n    openFolder(folder.id);\n  }, [isEditMode, folder.id, openFolder]);\n\n  // Handle rename\n  const handleRenameSubmit = useCallback(() => {\n    renameFolder(folder.id, folderName);\n    setIsRenaming(false);\n  }, [folder.id, folderName, renameFolder]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || isOpen) return;\n\n    isDraggingRef.current = true;\n    handleLongPressEnd();\n\n    zIndex.set(100);\n    animate(scale, 1.1, springs.snappy);\n\n    startDrag({ type: 'folder', item: folder }, index, { x: info.point.x, y: info.point.y });\n  }, [isEditMode, isOpen, folder, index, startDrag, handleLongPressEnd, scale, zIndex]);\n\n  const handleDrag = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || !dragState.isDragging) return;\n\n    updateDragPosition({ x: info.point.x, y: info.point.y });\n\n    if (folderRef.current) {\n      const gridContainer = folderRef.current.closest('.app-grid-container');\n      if (gridContainer) {\n        const icons = gridContainer.querySelectorAll('.app-icon-wrapper, .folder-wrapper');\n        let closestIndex = -1;\n        let closestDistance = Infinity;\n\n        icons.forEach((icon, i) => {\n          if (i === index) return;\n          const rect = icon.getBoundingClientRect();\n          const center = { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 };\n          const distance = Math.hypot(info.point.x - center.x, info.point.y - center.y);\n\n          if (distance < closestDistance && distance < 80) {\n            closestDistance = distance;\n            closestIndex = i;\n          }\n        });\n\n        setDropTarget(closestIndex >= 0 ? closestIndex : null);\n      }\n    }\n  }, [isEditMode, dragState.isDragging, index, updateDragPosition, setDropTarget]);\n\n  const handleDragEnd = useCallback(() => {\n    isDraggingRef.current = false;\n    animate(scale, 1, springs.snappy);\n    zIndex.set(0);\n    endDrag();\n  }, [endDrag, scale, zIndex]);\n\n  // Preview icons (show up to 4 in a 2x2 grid)\n  const previewApps = folder.apps.slice(0, 4);\n\n  // Use CSS class for wiggle animation to avoid Framer Motion type issues\n  const shouldWiggle = isEditMode && !isDragging && !isOpen;\n\n  return (\n    <>\n      <motion.div\n        ref={folderRef}\n        className={`folder-wrapper flex flex-col items-center gap-2 relative ${\n          shouldWiggle ? (index % 2 === 0 ? 'animate-ios-wiggle' : 'animate-ios-wiggle-alt') : ''\n        }`}\n        initial={{ opacity: 0, scale: 0.5, y: 20 }}\n        animate={{\n          opacity: dragState.isDragging && dragState.draggedIndex !== index && isDropTarget ? 0.5 : 1,\n          scale: 1,\n          y: 0,\n        }}\n        transition={{\n          delay,\n          ...springs.snappy,\n        }}\n        style={{\n          x: isDragging ? x : 0,\n          y: isDragging ? y : 0,\n          scale,\n          zIndex,\n        }}\n        drag={isEditMode && !isOpen}\n        dragMomentum={motionConfig.drag.momentum}\n        dragElastic={motionConfig.drag.elastic}\n        onDragStart={handleDragStart}\n        onDrag={handleDrag}\n        onDragEnd={handleDragEnd}\n        onPointerDown={handleLongPressStart}\n        onPointerUp={handleLongPressEnd}\n        onPointerCancel={handleLongPressEnd}\n        whileHover={!isEditMode && !isOpen ? { scale: 1.05 } : undefined}\n        whileTap={!isEditMode && !isOpen ? { scale: 0.95 } : undefined}\n      >\n        {/* Delete button in edit mode */}\n        {isEditMode && !isOpen && (\n          <motion.button\n            className=\"absolute -top-1 -left-1 z-20 w-6 h-6 bg-black/70 rounded-full flex items-center justify-center border border-white/20\"\n            initial={{ opacity: 0, scale: 0 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0 }}\n            onClick={(e) => {\n              e.stopPropagation();\n              // Could implement delete folder functionality\n            }}\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.9 }}\n          >\n            <X className=\"w-3 h-3 text-white\" />\n          </motion.button>\n        )}\n\n        {/* Notification badge for folder */}\n        <AnimatePresence>\n          {folderNotificationCount > 0 && !isEditMode && (\n            <motion.div\n              className=\"absolute -top-1 -right-1 z-20 min-w-[18px] h-[18px] px-1 bg-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30\"\n              initial={{ scale: 0, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0, opacity: 0 }}\n              transition={springs.tight}\n            >\n              {/* Pulse ring */}\n              <motion.div\n                className=\"absolute inset-0 bg-red-500 rounded-full\"\n                animate={{\n                  scale: [1, 1.5, 1],\n                  opacity: [0.5, 0, 0.5],\n                }}\n                transition={{\n                  duration: 1.2,\n                  repeat: Infinity,\n                  ease: 'easeOut',\n                }}\n              />\n              <span className=\"relative text-[10px] font-bold text-white\">\n                {folderNotificationCount > 99 ? '99+' : folderNotificationCount}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Drop target indicator */}\n        {isDropTarget && (\n          <motion.div\n            className=\"absolute inset-0 rounded-[22px] border-2 border-white/50 bg-white/10\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n          />\n        )}\n\n        {/* Folder icon - shows 2x2 preview of apps */}\n        <div\n          onClick={handleFolderTap}\n          className=\"block cursor-pointer\"\n        >\n          <motion.div\n            className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden backdrop-blur-xl bg-white/10 border border-white/20\"\n            animate={{\n              boxShadow: isDragging\n                ? '0 25px 50px -12px rgba(0, 0, 0, 0.5)'\n                : isDropTarget\n                  ? '0 0 20px rgba(255, 255, 255, 0.3)'\n                  : '0 10px 15px -3px rgba(0, 0, 0, 0.3)',\n            }}\n          >\n            {/* 2x2 Preview grid */}\n            <div className=\"grid grid-cols-2 gap-1 p-2\">\n              {previewApps.map((app, i) => (\n                <div\n                  key={app.id}\n                  className=\"w-5 h-5 sm:w-6 sm:h-6 rounded-md overflow-hidden relative\"\n                  style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n                >\n                  {app.imageUrl ? (\n                    <img\n                      src={app.imageUrl}\n                      alt={app.name}\n                      className=\"w-full h-full object-cover\"\n                      draggable={false}\n                    />\n                  ) : (\n                    <>\n                      <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent\" />\n                      {app.icon && (\n                        <div className=\"absolute inset-0 flex items-center justify-center text-white scale-[0.45]\">\n                          {app.icon}\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              ))}\n              {/* Empty slots */}\n              {Array.from({ length: 4 - previewApps.length }).map((_, i) => (\n                <div\n                  key={`empty-${i}`}\n                  className=\"w-5 h-5 sm:w-6 sm:h-6 rounded-md bg-white/5\"\n                />\n              ))}\n            </div>\n          </motion.div>\n        </div>\n\n        {/* Folder name */}\n        {isRenaming ? (\n          <input\n            type=\"text\"\n            value={folderName}\n            onChange={(e) => setFolderName(e.target.value)}\n            onBlur={handleRenameSubmit}\n            onKeyDown={(e) => e.key === 'Enter' && handleRenameSubmit()}\n            className=\"text-white/90 text-xs font-medium text-center max-w-[72px] bg-transparent border border-white/30 rounded px-1 py-0.5 outline-none\"\n            autoFocus\n          />\n        ) : (\n          <span\n            className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate select-none\"\n            onClick={(e) => {\n              if (isEditMode) {\n                e.stopPropagation();\n                setIsRenaming(true);\n              }\n            }}\n          >\n            {folder.name}\n          </span>\n        )}\n      </motion.div>\n\n      {/* Expanded folder overlay */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            className=\"fixed inset-0 z-50 flex items-center justify-center\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={springs.smooth}\n            onClick={closeFolder}\n          >\n            {/* Backdrop blur */}\n            <motion.div\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={springs.smooth}\n            />\n\n            {/* Folder content */}\n            <motion.div\n              className=\"relative z-10 w-[90%] max-w-md\"\n              initial={{ scale: 0.5, opacity: 0, y: 50 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.5, opacity: 0, y: 50 }}\n              transition={springs.snappy}\n              onClick={(e) => e.stopPropagation()}\n            >\n              <LiquidGlass\n                variant=\"panel\"\n                intensity=\"medium\"\n                className=\"!p-6\"\n                rippleEffect={false}\n              >\n                {/* Folder header */}\n                <div className=\"flex items-center justify-between mb-6\">\n                  {isRenaming ? (\n                    <input\n                      type=\"text\"\n                      value={folderName}\n                      onChange={(e) => setFolderName(e.target.value)}\n                      onBlur={handleRenameSubmit}\n                      onKeyDown={(e) => e.key === 'Enter' && handleRenameSubmit()}\n                      className=\"text-white text-lg font-semibold bg-transparent border-b border-white/30 outline-none\"\n                      autoFocus\n                    />\n                  ) : (\n                    <h2\n                      className=\"text-white text-lg font-semibold flex items-center gap-2 cursor-pointer group\"\n                      onClick={() => setIsRenaming(true)}\n                    >\n                      {folder.name}\n                      <Pencil className=\"w-4 h-4 opacity-0 group-hover:opacity-50 transition-opacity\" />\n                    </h2>\n                  )}\n                  <button\n                    onClick={closeFolder}\n                    className=\"text-white/50 hover:text-white transition-colors\"\n                  >\n                    <X className=\"w-6 h-6\" />\n                  </button>\n                </div>\n\n                {/* Apps grid inside folder */}\n                <div className=\"grid grid-cols-4 gap-4\">\n                  {folder.apps.map((app, i) => (\n                    <FolderAppIcon\n                      key={app.id}\n                      app={app}\n                      folderId={folder.id}\n                      index={i}\n                      notificationCount={getUnreadCountForApp(app.id)}\n                      onAppOpen={handleAppOpen}\n                    />\n                  ))}\n                </div>\n              </LiquidGlass>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n\n// Simplified app icon inside folder\ninterface FolderAppIconProps {\n  app: AppItem;\n  folderId: string;\n  index: number;\n  notificationCount?: number;\n  onAppOpen?: (appId: string) => void;\n}\n\nfunction FolderAppIcon({ app, folderId, index, notificationCount = 0, onAppOpen }: FolderAppIconProps) {\n  const { isEditMode, removeFromFolder, closeFolder } = useHomeScreen();\n  const router = useRouter();\n\n  const handleTap = useCallback(() => {\n    if (isEditMode) return;\n\n    // Mark notifications as read\n    if (onAppOpen) {\n      onAppOpen(app.id);\n    }\n\n    if (app.external && app.href) {\n      window.open(app.href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    if (app.href && !app.isChat) {\n      closeFolder();\n      router.push(app.href);\n    }\n  }, [app, router, isEditMode, closeFolder, onAppOpen]);\n\n  return (\n    <motion.div\n      className=\"flex flex-col items-center gap-1 relative\"\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ delay: 0.05 }}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n    >\n      {/* Remove button in edit mode */}\n      {isEditMode && (\n        <motion.button\n          className=\"absolute -top-1 -left-1 z-20 w-5 h-5 bg-black/70 rounded-full flex items-center justify-center border border-white/20\"\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          onClick={(e) => {\n            e.stopPropagation();\n            removeFromFolder(folderId, app.id);\n          }}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n        >\n          <X className=\"w-2.5 h-2.5 text-white\" />\n        </motion.button>\n      )}\n\n      {/* Notification badge */}\n      <AnimatePresence>\n        {notificationCount > 0 && !isEditMode && (\n          <motion.div\n            className=\"absolute -top-1 -right-1 z-20 min-w-[16px] h-[16px] px-0.5 bg-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30\"\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={springs.tight}\n          >\n            <span className=\"text-[9px] font-bold text-white\">\n              {notificationCount > 99 ? '99+' : notificationCount}\n            </span>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <div\n        onClick={handleTap}\n        className=\"cursor-pointer\"\n      >\n        <div\n          className=\"w-14 h-14 rounded-[14px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n        >\n          {app.imageUrl ? (\n            <img\n              src={app.imageUrl}\n              alt={app.name}\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n          ) : (\n            <>\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n              <div className=\"relative z-10 text-white scale-90\">\n                {app.icon}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <span className=\"text-white/90 text-[10px] font-medium text-center max-w-[56px] truncate select-none\">\n        {app.name}\n      </span>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2141, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/watch/watch-utils.ts"],"sourcesContent":["/**\n * Watch Utilities\n * Animation helpers and time calculations for watch faces\n */\n\n// Get current time angles for watch hands\nexport function getTimeAngles(date: Date = new Date()): {\n  hours: number;\n  minutes: number;\n  seconds: number;\n  milliseconds: number;\n} {\n  const hours = date.getHours() % 12;\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n  const milliseconds = date.getMilliseconds();\n\n  // Calculate smooth angles (continuous movement)\n  const secondsWithMs = seconds + milliseconds / 1000;\n  const minutesWithSeconds = minutes + secondsWithMs / 60;\n  const hoursWithMinutes = hours + minutesWithSeconds / 60;\n\n  return {\n    hours: hoursWithMinutes * 30, // 360Â° / 12 hours = 30Â° per hour\n    minutes: minutesWithSeconds * 6, // 360Â° / 60 minutes = 6Â° per minute\n    seconds: secondsWithMs * 6, // 360Â° / 60 seconds = 6Â° per second\n    milliseconds: milliseconds * 0.36, // For ultra-smooth if needed\n  };\n}\n\n// Convert HSL string to CSS\nexport function hslToCSS(hsl: string): string {\n  // If already a valid CSS color, return as-is\n  if (hsl.startsWith('hsl') || hsl.startsWith('rgb') || hsl.startsWith('#')) {\n    return hsl;\n  }\n  // Convert \"h s% l%\" format to \"hsl(h, s%, l%)\"\n  const parts = hsl.split(' ');\n  if (parts.length >= 3) {\n    return `hsl(${parts[0]}, ${parts[1]}, ${parts[2]})`;\n  }\n  return hsl;\n}\n\n// Convert to Roman numerals\nexport function toRoman(num: number): string {\n  const romanNumerals: [number, string][] = [\n    [12, 'XII'], [11, 'XI'], [10, 'X'], [9, 'IX'],\n    [8, 'VIII'], [7, 'VII'], [6, 'VI'], [5, 'V'],\n    [4, 'IV'], [3, 'III'], [2, 'II'], [1, 'I'],\n  ];\n\n  for (const [value, numeral] of romanNumerals) {\n    if (num === value) return numeral;\n  }\n  return String(num);\n}\n\n// Generate positions around the dial\nexport function getPositionOnCircle(\n  angle: number,\n  radius: number,\n  centerX: number = 50,\n  centerY: number = 50\n): { x: number; y: number } {\n  // Convert angle to radians, offset by -90Â° so 0Â° is at 12 o'clock\n  const radians = ((angle - 90) * Math.PI) / 180;\n  return {\n    x: centerX + radius * Math.cos(radians),\n    y: centerY + radius * Math.sin(radians),\n  };\n}\n\n// Generate tick marks for the dial\nexport function generateTickMarks(\n  count: number,\n  majorEvery: number = 5\n): Array<{ angle: number; isMajor: boolean }> {\n  const marks: Array<{ angle: number; isMajor: boolean }> = [];\n  for (let i = 0; i < count; i++) {\n    marks.push({\n      angle: (360 / count) * i,\n      isMajor: i % majorEvery === 0,\n    });\n  }\n  return marks;\n}\n\n// Format date for date window\nexport function formatDateWindow(date: Date = new Date()): string {\n  return date.getDate().toString().padStart(2, '0');\n}\n\n// Watch size presets\nexport const WATCH_SIZES = {\n  xs: 80,\n  sm: 120,\n  md: 180,\n  lg: 240,\n  xl: 320,\n  showcase: 400,\n} as const;\n\nexport type WatchSize = keyof typeof WATCH_SIZES;\n\n// Easing functions for smooth animations\nexport const easings = {\n  // Spring-like easing for hands\n  spring: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  // Smooth deceleration\n  easeOut: 'cubic-bezier(0.33, 1, 0.68, 1)',\n  // Linear for continuous rotation\n  linear: 'linear',\n};\n\n// Calculate hand dimensions based on style\nexport function getHandDimensions(\n  style: string,\n  type: 'hour' | 'minute' | 'second'\n): { length: number; width: number; tailLength: number } {\n  const dimensions: Record<string, Record<string, { length: number; width: number; tailLength: number }>> = {\n    dauphine: {\n      hour: { length: 28, width: 4, tailLength: 8 },\n      minute: { length: 38, width: 3, tailLength: 8 },\n      second: { length: 38, width: 1.5, tailLength: 12 },\n    },\n    baton: {\n      hour: { length: 26, width: 3.5, tailLength: 6 },\n      minute: { length: 38, width: 2.5, tailLength: 6 },\n      second: { length: 40, width: 1, tailLength: 14 },\n    },\n    mercedes: {\n      hour: { length: 26, width: 5, tailLength: 6 },\n      minute: { length: 38, width: 4, tailLength: 6 },\n      second: { length: 40, width: 1.5, tailLength: 14 },\n    },\n    snowflake: {\n      hour: { length: 26, width: 5, tailLength: 6 },\n      minute: { length: 38, width: 4, tailLength: 6 },\n      second: { length: 40, width: 1.5, tailLength: 14 },\n    },\n    sword: {\n      hour: { length: 28, width: 4, tailLength: 7 },\n      minute: { length: 40, width: 3, tailLength: 7 },\n      second: { length: 40, width: 1.2, tailLength: 14 },\n    },\n    leaf: {\n      hour: { length: 27, width: 5, tailLength: 7 },\n      minute: { length: 38, width: 4, tailLength: 7 },\n      second: { length: 38, width: 1.5, tailLength: 12 },\n    },\n    alpha: {\n      hour: { length: 26, width: 4.5, tailLength: 8 },\n      minute: { length: 38, width: 3.5, tailLength: 8 },\n      second: { length: 40, width: 1, tailLength: 14 },\n    },\n  };\n\n  return dimensions[style]?.[type] || dimensions.dauphine[type];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2417, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/WatchFace.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { type WatchDNA, type HandStyle, type IndexStyle } from '@/lib/watch/theme-to-watch';\nimport {\n  getTimeAngles,\n  toRoman,\n  getPositionOnCircle,\n  formatDateWindow,\n  WATCH_SIZES,\n  type WatchSize,\n  getHandDimensions,\n} from '@/lib/watch/watch-utils';\n\ninterface WatchFaceProps {\n  watchDNA: WatchDNA;\n  size?: WatchSize | number;\n  showCase?: boolean;\n  interactive?: boolean;\n  className?: string;\n  timezone?: string;\n}\n\nexport function WatchFace({\n  watchDNA,\n  size = 'md',\n  showCase = true,\n  interactive = true,\n  className = '',\n  timezone,\n}: WatchFaceProps) {\n  const [time, setTime] = useState(new Date());\n  const [isHovered, setIsHovered] = useState(false);\n\n  // Update time every 50ms for smooth seconds hand\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 50);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Get time for specific timezone if provided\n  const displayTime = useMemo(() => {\n    if (!timezone) return time;\n\n    const options: Intl.DateTimeFormatOptions = {\n      timeZone: timezone,\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n      fractionalSecondDigits: 3,\n      hour12: false,\n    };\n\n    try {\n      const formatter = new Intl.DateTimeFormat('en-US', options);\n      const parts = formatter.formatToParts(time);\n\n      const getPart = (type: string) => {\n        const part = parts.find(p => p.type === type);\n        return part ? parseInt(part.value, 10) : 0;\n      };\n\n      const tzDate = new Date(\n        getPart('year'),\n        getPart('month') - 1,\n        getPart('day'),\n        getPart('hour'),\n        getPart('minute'),\n        getPart('second'),\n        time.getMilliseconds()\n      );\n\n      return tzDate;\n    } catch {\n      return time;\n    }\n  }, [time, timezone]);\n\n  const angles = useMemo(() => getTimeAngles(displayTime), [displayTime]);\n  const pixelSize = typeof size === 'number' ? size : WATCH_SIZES[size];\n\n  // Determine if this is an iOS-style minimal watch or a tool watch\n  const isMinimalStyle = watchDNA.style === 'minimal' || watchDNA.style === 'elegant';\n  const isToolWatch = watchDNA.style === 'diver' || watchDNA.style === 'sporty';\n\n  return (\n    <motion.div\n      className={`relative ${className}`}\n      style={{ width: pixelSize, height: pixelSize }}\n      onMouseEnter={() => interactive && setIsHovered(true)}\n      onMouseLeave={() => interactive && setIsHovered(false)}\n      whileHover={interactive ? { scale: 1.02 } : undefined}\n      transition={{ type: 'spring', stiffness: 400, damping: 25 }}\n    >\n      <svg\n        viewBox=\"0 0 100 100\"\n        className=\"w-full h-full\"\n        style={{ filter: isHovered ? 'drop-shadow(0 8px 24px rgba(0,0,0,0.2))' : 'drop-shadow(0 4px 12px rgba(0,0,0,0.15))' }}\n      >\n        <defs>\n          {/* Gradients and filters */}\n          <radialGradient id={`dial-gradient-${watchDNA.theme}`} cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"rgba(255,255,255,0.15)\" />\n            <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0.05)\" />\n          </radialGradient>\n\n          <filter id={`crystal-${watchDNA.theme}`} x=\"-10%\" y=\"-10%\" width=\"120%\" height=\"120%\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"0.5\" result=\"blur\" />\n            <feOffset in=\"blur\" dx=\"0\" dy=\"1\" result=\"shadow\" />\n            <feComposite in=\"SourceGraphic\" in2=\"shadow\" operator=\"over\" />\n          </filter>\n\n          {/* Lume glow effect */}\n          <filter id={`lume-glow-${watchDNA.theme}`}>\n            <feGaussianBlur stdDeviation=\"1\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n        </defs>\n\n        {/* Case - iOS squircle style for minimal, round for others */}\n        {showCase && (\n          <WatchCase\n            watchDNA={watchDNA}\n            isMinimal={isMinimalStyle}\n            isHovered={isHovered}\n          />\n        )}\n\n        {/* Main dial */}\n        <Dial watchDNA={watchDNA} isMinimal={isMinimalStyle} />\n\n        {/* Chapter ring / minute track */}\n        {(watchDNA.hasChapterRing || isToolWatch) && (\n          <ChapterRing watchDNA={watchDNA} />\n        )}\n\n        {/* Hour indices */}\n        <Indices watchDNA={watchDNA} isMinimal={isMinimalStyle} />\n\n        {/* Date window */}\n        {watchDNA.hasDateWindow && (\n          <DateWindow\n            watchDNA={watchDNA}\n            date={formatDateWindow(displayTime)}\n          />\n        )}\n\n        {/* Hands */}\n        <Hands\n          watchDNA={watchDNA}\n          angles={angles}\n          isMinimal={isMinimalStyle}\n        />\n\n        {/* Center cap */}\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={isMinimalStyle ? 2.5 : 3}\n          fill={watchDNA.handColor}\n        />\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={isMinimalStyle ? 1.5 : 2}\n          fill={watchDNA.secondsHandColor}\n        />\n\n        {/* Crystal reflection overlay */}\n        {watchDNA.hasCrystalDome && (\n          <ellipse\n            cx=\"35\"\n            cy=\"35\"\n            rx=\"25\"\n            ry=\"20\"\n            fill={`url(#dial-gradient-${watchDNA.theme})`}\n            opacity=\"0.3\"\n          />\n        )}\n      </svg>\n    </motion.div>\n  );\n}\n\n// Watch Case Component\nfunction WatchCase({\n  watchDNA,\n  isMinimal,\n  isHovered,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n  isHovered: boolean;\n}) {\n  if (isMinimal) {\n    // iOS-style squircle case\n    return (\n      <>\n        {/* Outer case shadow */}\n        <rect\n          x=\"4\"\n          y=\"5\"\n          width=\"92\"\n          height=\"92\"\n          rx=\"22\"\n          fill=\"rgba(0,0,0,0.1)\"\n        />\n        {/* Case body */}\n        <rect\n          x=\"4\"\n          y=\"4\"\n          width=\"92\"\n          height=\"92\"\n          rx=\"22\"\n          fill={watchDNA.bezelColor}\n          stroke=\"rgba(255,255,255,0.2)\"\n          strokeWidth=\"0.5\"\n        />\n        {/* Inner bezel */}\n        <rect\n          x=\"6\"\n          y=\"6\"\n          width=\"88\"\n          height=\"88\"\n          rx=\"20\"\n          fill=\"none\"\n          stroke=\"rgba(0,0,0,0.1)\"\n          strokeWidth=\"0.5\"\n        />\n      </>\n    );\n  }\n\n  // Round case for tool watches\n  return (\n    <>\n      {/* Case shadow */}\n      <circle\n        cx=\"50\"\n        cy=\"51\"\n        r=\"48\"\n        fill=\"rgba(0,0,0,0.15)\"\n      />\n      {/* Outer case */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"48\"\n        fill={watchDNA.bezelColor}\n        stroke=\"rgba(255,255,255,0.1)\"\n        strokeWidth=\"0.5\"\n      />\n      {/* Bezel */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"46\"\n        fill=\"none\"\n        stroke={watchDNA.caseFinish === 'brushed' ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.1)'}\n        strokeWidth=\"3\"\n      />\n      {/* Inner bezel ring */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"44\"\n        fill=\"none\"\n        stroke=\"rgba(0,0,0,0.15)\"\n        strokeWidth=\"0.5\"\n      />\n    </>\n  );\n}\n\n// Dial Component\nfunction Dial({\n  watchDNA,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n}) {\n  const dialRadius = isMinimal ? 42 : 43;\n  const dialRx = isMinimal ? 18 : 43;\n\n  if (isMinimal) {\n    return (\n      <rect\n        x={50 - dialRadius}\n        y={50 - dialRadius}\n        width={dialRadius * 2}\n        height={dialRadius * 2}\n        rx={dialRx}\n        fill={watchDNA.dialColor}\n      />\n    );\n  }\n\n  return (\n    <>\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r={dialRadius}\n        fill={watchDNA.dialColor}\n      />\n      {/* Sunburst effect for elegant dials */}\n      {watchDNA.dialTexture === 'sunburst' && (\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={dialRadius}\n          fill={`url(#dial-gradient-${watchDNA.theme})`}\n          opacity=\"0.5\"\n        />\n      )}\n    </>\n  );\n}\n\n// Chapter Ring / Minute Track\nfunction ChapterRing({ watchDNA }: { watchDNA: WatchDNA }) {\n  const ticks = [];\n  for (let i = 0; i < 60; i++) {\n    const isMajor = i % 5 === 0;\n    const angle = i * 6;\n    const outerR = 42;\n    const innerR = isMajor ? 39 : 40.5;\n\n    const outer = getPositionOnCircle(angle, outerR);\n    const inner = getPositionOnCircle(angle, innerR);\n\n    ticks.push(\n      <line\n        key={`tick-${i}`}\n        x1={outer.x}\n        y1={outer.y}\n        x2={inner.x}\n        y2={inner.y}\n        stroke={watchDNA.indexColor}\n        strokeWidth={isMajor ? 0.8 : 0.4}\n        opacity={isMajor ? 0.8 : 0.5}\n      />\n    );\n  }\n\n  return <g>{ticks}</g>;\n}\n\n// Indices Component\nfunction Indices({\n  watchDNA,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n}) {\n  const { indexStyle, indexColor, font } = watchDNA;\n  const indices = [];\n\n  // Radius for index placement\n  const radius = isMinimal ? 34 : 36;\n  const textRadius = isMinimal ? 32 : 33;\n\n  for (let hour = 1; hour <= 12; hour++) {\n    const angle = hour * 30;\n    const pos = getPositionOnCircle(angle, radius);\n    const textPos = getPositionOnCircle(angle, textRadius);\n\n    // Determine what to show at this position\n    const isQuarter = hour === 12 || hour === 3 || hour === 6 || hour === 9;\n\n    if (indexStyle === 'none') {\n      // Minimal - just small dots at quarters\n      if (isQuarter) {\n        indices.push(\n          <circle\n            key={`index-${hour}`}\n            cx={pos.x}\n            cy={pos.y}\n            r={1}\n            fill={indexColor}\n            opacity={0.6}\n          />\n        );\n      }\n    } else if (indexStyle === 'arabic' || (indexStyle === 'mixed' && isQuarter)) {\n      // Arabic numerals\n      indices.push(\n        <text\n          key={`index-${hour}`}\n          x={textPos.x}\n          y={textPos.y}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill={indexColor}\n          fontSize={isMinimal ? 7 : 6}\n          fontFamily={font}\n          fontWeight={isMinimal ? 500 : 600}\n        >\n          {hour}\n        </text>\n      );\n    } else if (indexStyle === 'roman') {\n      // Roman numerals\n      indices.push(\n        <text\n          key={`index-${hour}`}\n          x={textPos.x}\n          y={textPos.y}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill={indexColor}\n          fontSize={5}\n          fontFamily=\"serif\"\n          fontWeight={400}\n        >\n          {toRoman(hour)}\n        </text>\n      );\n    } else if (indexStyle === 'dots') {\n      // Luminous dots (Explorer II style)\n      const dotSize = isQuarter ? 2.5 : 1.8;\n      indices.push(\n        <g key={`index-${hour}`} filter={`url(#lume-glow-${watchDNA.theme})`}>\n          <circle\n            cx={pos.x}\n            cy={pos.y}\n            r={dotSize}\n            fill={watchDNA.lumeColor}\n          />\n          <circle\n            cx={pos.x}\n            cy={pos.y}\n            r={dotSize * 0.6}\n            fill=\"rgba(255,255,255,0.8)\"\n          />\n        </g>\n      );\n      // Triangle at 12 for diver style\n      if (hour === 12) {\n        const triPos = getPositionOnCircle(0, radius + 2);\n        indices.push(\n          <polygon\n            key=\"triangle-12\"\n            points={`${triPos.x},${triPos.y - 4} ${triPos.x - 3},${triPos.y + 2} ${triPos.x + 3},${triPos.y + 2}`}\n            fill={watchDNA.lumeColor}\n            filter={`url(#lume-glow-${watchDNA.theme})`}\n          />\n        );\n      }\n    } else {\n      // Baton indices\n      const batonLength = isQuarter ? 5 : 3;\n      const outerPos = getPositionOnCircle(angle, radius + 2);\n      const innerPos = getPositionOnCircle(angle, radius + 2 - batonLength);\n\n      indices.push(\n        <line\n          key={`index-${hour}`}\n          x1={outerPos.x}\n          y1={outerPos.y}\n          x2={innerPos.x}\n          y2={innerPos.y}\n          stroke={indexColor}\n          strokeWidth={isQuarter ? 2 : 1.2}\n          strokeLinecap=\"round\"\n        />\n      );\n    }\n  }\n\n  return <g>{indices}</g>;\n}\n\n// Date Window Component\nfunction DateWindow({\n  watchDNA,\n  date,\n}: {\n  watchDNA: WatchDNA;\n  date: string;\n}) {\n  const position = watchDNA.datePosition === 3\n    ? { x: 68, y: 50 }\n    : { x: 50, y: 68 };\n\n  return (\n    <g>\n      {/* Date window frame */}\n      <rect\n        x={position.x - 6}\n        y={position.y - 4}\n        width={12}\n        height={8}\n        rx={1}\n        fill=\"rgba(255,255,255,0.95)\"\n        stroke={watchDNA.indexColor}\n        strokeWidth={0.5}\n      />\n      {/* Date text */}\n      <text\n        x={position.x}\n        y={position.y}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#1a1a1a\"\n        fontSize={5}\n        fontFamily=\"system-ui, sans-serif\"\n        fontWeight={600}\n      >\n        {date}\n      </text>\n    </g>\n  );\n}\n\n// Hands Component\nfunction Hands({\n  watchDNA,\n  angles,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  angles: { hours: number; minutes: number; seconds: number };\n  isMinimal: boolean;\n}) {\n  const { handStyle, handColor, secondsHandColor } = watchDNA;\n  const hourDims = getHandDimensions(handStyle, 'hour');\n  const minuteDims = getHandDimensions(handStyle, 'minute');\n  const secondDims = getHandDimensions(handStyle, 'second');\n\n  return (\n    <g>\n      {/* Hour hand */}\n      <g transform={`rotate(${angles.hours}, 50, 50)`}>\n        <Hand\n          length={hourDims.length}\n          width={hourDims.width}\n          tailLength={hourDims.tailLength}\n          color={handColor}\n          style={handStyle}\n          type=\"hour\"\n          isMinimal={isMinimal}\n        />\n      </g>\n\n      {/* Minute hand */}\n      <g transform={`rotate(${angles.minutes}, 50, 50)`}>\n        <Hand\n          length={minuteDims.length}\n          width={minuteDims.width}\n          tailLength={minuteDims.tailLength}\n          color={handColor}\n          style={handStyle}\n          type=\"minute\"\n          isMinimal={isMinimal}\n        />\n      </g>\n\n      {/* Seconds hand - always uses accent color */}\n      <g transform={`rotate(${angles.seconds}, 50, 50)`}>\n        <SecondsHand\n          length={secondDims.length}\n          tailLength={secondDims.tailLength}\n          color={secondsHandColor}\n          isMinimal={isMinimal}\n        />\n      </g>\n    </g>\n  );\n}\n\n// Individual Hand Component\nfunction Hand({\n  length,\n  width,\n  tailLength,\n  color,\n  style,\n  type,\n  isMinimal,\n}: {\n  length: number;\n  width: number;\n  tailLength: number;\n  color: string;\n  style: string;\n  type: 'hour' | 'minute';\n  isMinimal: boolean;\n}) {\n  // Different hand shapes based on style\n  if (style === 'mercedes' && type === 'hour') {\n    // Mercedes/Rolex style hour hand with circle\n    return (\n      <g>\n        <rect\n          x={50 - width / 2}\n          y={50 - length + 8}\n          width={width}\n          height={length - 12}\n          fill={color}\n        />\n        <circle\n          cx={50}\n          cy={50 - length + 5}\n          r={4}\n          fill=\"none\"\n          stroke={color}\n          strokeWidth={width * 0.8}\n        />\n        <rect\n          x={50 - width / 2}\n          y={50}\n          width={width}\n          height={tailLength}\n          fill={color}\n        />\n      </g>\n    );\n  }\n\n  if (style === 'dauphine' || isMinimal) {\n    // Tapered dauphine hands (iOS Clock style)\n    const tipWidth = width * 0.3;\n    return (\n      <polygon\n        points={`\n          ${50 - width / 2},${50 + tailLength}\n          ${50 - width / 2},${50}\n          ${50 - tipWidth},${50 - length + 4}\n          ${50},${50 - length}\n          ${50 + tipWidth},${50 - length + 4}\n          ${50 + width / 2},${50}\n          ${50 + width / 2},${50 + tailLength}\n        `}\n        fill={color}\n      />\n    );\n  }\n\n  // Default baton style\n  return (\n    <g>\n      <rect\n        x={50 - width / 2}\n        y={50 - length}\n        width={width}\n        height={length + tailLength}\n        rx={width / 2}\n        fill={color}\n      />\n    </g>\n  );\n}\n\n// Seconds Hand Component - always thin with counterbalance\nfunction SecondsHand({\n  length,\n  tailLength,\n  color,\n  isMinimal,\n}: {\n  length: number;\n  tailLength: number;\n  color: string;\n  isMinimal: boolean;\n}) {\n  const width = isMinimal ? 1 : 1.2;\n\n  return (\n    <g>\n      {/* Main hand */}\n      <line\n        x1={50}\n        y1={50 + tailLength}\n        x2={50}\n        y2={50 - length}\n        stroke={color}\n        strokeWidth={width}\n        strokeLinecap=\"round\"\n      />\n      {/* Counterbalance circle */}\n      <circle\n        cx={50}\n        cy={50 + tailLength - 3}\n        r={isMinimal ? 2 : 2.5}\n        fill={color}\n      />\n      {/* Tip arrow for tool watches */}\n      {!isMinimal && (\n        <polygon\n          points={`${50},${50 - length - 2} ${50 - 2},${50 - length + 3} ${50 + 2},${50 - length + 3}`}\n          fill={color}\n        />\n      )}\n    </g>\n  );\n}\n\nexport default WatchFace;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3316, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/TimezoneDetailModal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimezoneDetailModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  timezone: {\n    id: string;\n    city: string;\n    timezone: string;\n  };\n  watchDNA: WatchDNA;\n}\n\nfunction formatDetailedTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatDetailedDate(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    timeZone: timezone,\n  }).format(date);\n}\n\nfunction getTimezoneOffset(timezone: string): string {\n  const now = new Date();\n  const formatter = new Intl.DateTimeFormat('en-US', {\n    timeZone: timezone,\n    timeZoneName: 'shortOffset',\n  });\n  const parts = formatter.formatToParts(now);\n  const offsetPart = parts.find(p => p.type === 'timeZoneName');\n  return offsetPart?.value || '';\n}\n\nfunction getTimeDifference(timezone: string): string {\n  const now = new Date();\n\n  // Get the offset for the target timezone\n  const targetDate = new Date(now.toLocaleString('en-US', { timeZone: timezone }));\n  const localDate = new Date(now.toLocaleString('en-US'));\n\n  const diffMs = targetDate.getTime() - localDate.getTime();\n  const diffHours = Math.round(diffMs / (1000 * 60 * 60));\n\n  if (diffHours === 0) return 'Same as local time';\n  if (diffHours > 0) return `${diffHours}h ahead`;\n  return `${Math.abs(diffHours)}h behind`;\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): { icon: string; label: string } {\n  const hour = getHourInTimezone(date, timezone);\n\n  if (hour >= 5 && hour < 7) {\n    return { icon: '/icons/weather/sunrise.svg', label: 'Dawn' };\n  } else if (hour >= 7 && hour < 12) {\n    return { icon: '/icons/weather/clear-day.svg', label: 'Morning' };\n  } else if (hour >= 12 && hour < 17) {\n    return { icon: '/icons/weather/partly-cloudy-day.svg', label: 'Afternoon' };\n  } else if (hour >= 17 && hour < 20) {\n    return { icon: '/icons/weather/sunset.svg', label: 'Evening' };\n  } else if (hour >= 20 && hour < 22) {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Dusk' };\n  } else {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Night' };\n  }\n}\n\nfunction getTimeOfDay(date: Date, timezone: string): { period: string; weatherIcon: string; gradient: string; isNight: boolean } {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return { period: 'Dawn', weatherIcon: '/icons/weather/sunrise.svg', gradient: 'from-orange-500/30 to-pink-500/30', isNight: false };\n  } else if (hour >= 7 && hour < 12) {\n    return { period: 'Morning', weatherIcon: '/icons/weather/clear-day.svg', gradient: 'from-yellow-500/25 to-orange-500/25', isNight: false };\n  } else if (hour >= 12 && hour < 17) {\n    return { period: 'Afternoon', weatherIcon: '/icons/weather/partly-cloudy-day.svg', gradient: 'from-blue-500/25 to-cyan-500/25', isNight: false };\n  } else if (hour >= 17 && hour < 20) {\n    return { period: 'Evening', weatherIcon: '/icons/weather/sunset.svg', gradient: 'from-orange-500/30 to-red-500/30', isNight: false };\n  } else if (hour >= 20 && hour < 22) {\n    return { period: 'Dusk', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-purple-500/30 to-indigo-500/30', isNight: true };\n  } else {\n    return { period: 'Night', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-indigo-600/40 to-slate-800/40', isNight: true };\n  }\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 25%, 10%)',\n    handColor: 'hsl(210, 20%, 85%)',\n    indexColor: 'hsl(210, 15%, 70%)',\n    bezelColor: 'hsl(220, 20%, 15%)',\n    lumeColor: 'hsl(200, 100%, 70%)',\n  };\n}\n\nexport function TimezoneDetailModal({\n  isOpen,\n  onClose,\n  timezone,\n  watchDNA,\n}: TimezoneDetailModalProps) {\n  const [time, setTime] = useState(new Date());\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isOpen]);\n\n  const formattedTime = useMemo(() => formatDetailedTime(time, timezone.timezone), [time, timezone.timezone]);\n  const formattedDate = useMemo(() => formatDetailedDate(time, timezone.timezone), [time, timezone.timezone]);\n  const timezoneOffset = useMemo(() => getTimezoneOffset(timezone.timezone), [timezone.timezone]);\n  const timeDifference = useMemo(() => getTimeDifference(timezone.timezone), [timezone.timezone]);\n  const timeOfDay = useMemo(() => getTimeOfDay(time, timezone.timezone), [time, timezone.timezone]);\n\n  // Get dark mode watch DNA for nighttime\n  const effectiveWatchDNA = useMemo(\n    () => (timeOfDay.isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA),\n    [watchDNA, timeOfDay.isNight]\n  );\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          className=\"fixed inset-0 z-[200] flex items-center justify-center p-4\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n        >\n          {/* Backdrop */}\n          <motion.div\n            className={`absolute inset-0 backdrop-blur-md ${timeOfDay.isNight ? 'bg-black/70' : 'bg-black/60'}`}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n          />\n\n          {/* Modal Content */}\n          <motion.div\n            className=\"relative z-10 w-full max-w-sm rounded-3xl overflow-hidden\"\n            style={{\n              background: timeOfDay.isNight\n                ? 'linear-gradient(180deg, rgba(15,23,42,0.98) 0%, rgba(2,6,23,0.98) 100%)'\n                : 'linear-gradient(180deg, rgba(30,30,30,0.98) 0%, rgba(15,15,15,0.98) 100%)',\n              border: timeOfDay.isNight\n                ? '1px solid rgba(71,85,105,0.3)'\n                : '1px solid rgba(255,255,255,0.1)',\n              boxShadow: timeOfDay.isNight\n                ? '0 25px 50px -12px rgba(0,0,0,0.8), inset 0 1px 0 rgba(148,163,184,0.1)'\n                : '0 25px 50px -12px rgba(0,0,0,0.6)',\n            }}\n            initial={{ scale: 0.9, opacity: 0, y: 20 }}\n            animate={{ scale: 1, opacity: 1, y: 0 }}\n            exit={{ scale: 0.9, opacity: 0, y: 20 }}\n            transition={{\n              type: 'spring',\n              stiffness: 400,\n              damping: 30,\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Close Button */}\n            <button\n              onClick={onClose}\n              className={`absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full transition-colors z-20 ${\n                timeOfDay.isNight\n                  ? 'bg-slate-700/50 hover:bg-slate-600/60'\n                  : 'bg-white/10 hover:bg-white/20'\n              }`}\n              aria-label=\"Close timezone detail\"\n            >\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                className={timeOfDay.isNight ? 'text-slate-400' : 'text-white/70'}\n              >\n                <path d=\"M18 6L6 18M6 6l12 12\" />\n              </svg>\n            </button>\n\n            {/* Header with gradient accent and weather icon */}\n            <div className={`px-6 pt-6 pb-4 bg-gradient-to-r ${timeOfDay.gradient}`}>\n              <div className=\"flex items-center gap-3 mb-2\">\n                {/* Weather Icon */}\n                <motion.div\n                  initial={{ scale: 0, rotate: -180 }}\n                  animate={{ scale: 1, rotate: 0 }}\n                  transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 20 }}\n                  className=\"w-12 h-12\"\n                >\n                  <img\n                    src={timeOfDay.weatherIcon}\n                    alt={timeOfDay.period}\n                    width={48}\n                    height={48}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: timeOfDay.isNight\n                        ? 'drop-shadow(0 0 8px rgba(147,197,253,0.5))'\n                        : 'drop-shadow(0 4px 8px rgba(0,0,0,0.3))',\n                    }}\n                  />\n                </motion.div>\n                <div>\n                  <span\n                    className={`text-sm font-medium ${\n                      timeOfDay.isNight ? 'text-slate-400' : 'text-white/60'\n                    }`}\n                  >\n                    {timeOfDay.period}\n                  </span>\n                  <h2\n                    className={`text-2xl font-semibold tracking-tight ${\n                      timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                    }`}\n                  >\n                    {timezone.city}\n                  </h2>\n                </div>\n              </div>\n              <p\n                className={`text-sm mt-1 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n              >\n                {timezoneOffset} â€¢ {timeDifference}\n              </p>\n            </div>\n\n            {/* Watch Face - Centered and larger */}\n            <div className=\"flex justify-center py-8 relative\">\n              {/* Nighttime glow effect */}\n              {timeOfDay.isNight && (\n                <div\n                  className=\"absolute inset-0 pointer-events-none\"\n                  style={{\n                    background: 'radial-gradient(circle at center, rgba(99,102,241,0.15) 0%, transparent 70%)',\n                  }}\n                />\n              )}\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 25 }}\n                className=\"relative\"\n              >\n                <WatchFace\n                  watchDNA={effectiveWatchDNA}\n                  size={180}\n                  showCase={true}\n                  interactive={false}\n                  timezone={timezone.timezone}\n                />\n                {/* Lume glow for nighttime */}\n                {timeOfDay.isNight && (\n                  <div\n                    className=\"absolute inset-0 rounded-full pointer-events-none\"\n                    style={{\n                      boxShadow: 'inset 0 0 30px rgba(147,197,253,0.2)',\n                    }}\n                  />\n                )}\n              </motion.div>\n            </div>\n\n            {/* Digital Time Display */}\n            <div className=\"text-center px-6 pb-4\">\n              <motion.div\n                className={`text-5xl font-light tabular-nums tracking-tight ${\n                  timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                }`}\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.15 }}\n              >\n                {formattedTime}\n              </motion.div>\n              <motion.p\n                className={`text-sm mt-2 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.2 }}\n              >\n                {formattedDate}\n              </motion.p>\n            </div>\n\n            {/* Info Cards */}\n            <div className=\"grid grid-cols-2 gap-3 px-6 pb-6\">\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: -10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.25 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  Timezone\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezone.timezone.split('/').pop()?.replace('_', ' ')}\n                </p>\n              </motion.div>\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: 10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.3 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  UTC Offset\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezoneOffset}\n                </p>\n              </motion.div>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport default TimezoneDetailModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3950, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/WorldClockView.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { TimezoneDetailModal } from './TimezoneDetailModal';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimeZone {\n  id: string;\n  city: string;\n  timezone: string;\n}\n\nconst TIME_ZONES: TimeZone[] = [\n  { id: 'dublin', city: 'Dublin', timezone: 'Europe/Dublin' },\n  { id: 'paris', city: 'Paris', timezone: 'Europe/Paris' },\n  { id: 'tokyo', city: 'Tokyo', timezone: 'Asia/Tokyo' },\n  { id: 'sanfrancisco', city: 'San Francisco', timezone: 'America/Los_Angeles' },\n  { id: 'salvador', city: 'Salvador', timezone: 'America/Bahia' },\n];\n\ninterface WorldClockViewProps {\n  watchDNA: WatchDNA;\n  onClose?: () => void;\n}\n\nfunction formatTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatFullDate(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }).format(date);\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): string {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return '/icons/weather/sunrise.svg';\n  } else if (hour >= 7 && hour < 12) {\n    return '/icons/weather/clear-day.svg';\n  } else if (hour >= 12 && hour < 17) {\n    return '/icons/weather/partly-cloudy-day.svg';\n  } else if (hour >= 17 && hour < 20) {\n    return '/icons/weather/sunset.svg';\n  } else {\n    return '/icons/weather/clear-night.svg';\n  }\n}\n\nfunction getTimeForTimezone(date: Date, timezone: string): Date {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: timezone,\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n    hour12: false,\n  };\n\n  const formatter = new Intl.DateTimeFormat('en-US', options);\n  const parts = formatter.formatToParts(date);\n\n  const getPart = (type: string) => {\n    const part = parts.find(p => p.type === type);\n    return part ? parseInt(part.value, 10) : 0;\n  };\n\n  const tzDate = new Date(\n    getPart('year'),\n    getPart('month') - 1,\n    getPart('day'),\n    getPart('hour'),\n    getPart('minute'),\n    getPart('second')\n  );\n\n  return tzDate;\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 20%, 12%)',\n    handColor: 'hsl(0, 0%, 90%)',\n    indexColor: 'hsl(0, 0%, 80%)',\n    bezelColor: 'hsl(220, 15%, 18%)',\n  };\n}\n\nexport function WorldClockView({ watchDNA, onClose }: WorldClockViewProps) {\n  const [time, setTime] = useState(new Date());\n  const [selectedTimezone, setSelectedTimezone] = useState<TimeZone | null>(null);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formattedDate = useMemo(() => formatFullDate(time), [time]);\n\n  const handleTimezoneClick = useCallback((tz: TimeZone) => {\n    setSelectedTimezone(tz);\n  }, []);\n\n  const handleCloseDetail = useCallback(() => {\n    setSelectedTimezone(null);\n  }, []);\n\n  return (\n    <>\n      <motion.div\n        className=\"relative flex flex-col items-center gap-6 p-6 rounded-3xl backdrop-blur-xl\"\n        style={{\n          background: 'var(--glass-bg, rgba(255,255,255,0.1))',\n          border: '1px solid var(--glass-border, rgba(255,255,255,0.2))',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.2)',\n          minWidth: '320px',\n        }}\n        initial={{ opacity: 0, scale: 0.9, y: -20 }}\n        animate={{ opacity: 1, scale: 1, y: 0 }}\n        exit={{ opacity: 0, scale: 0.9, y: -20 }}\n        transition={{ type: 'spring', stiffness: 300, damping: 25 }}\n      >\n        {/* Close Button */}\n        {onClose && (\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10\"\n            aria-label=\"Close world clock\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              className=\"text-white/70\"\n            >\n              <path d=\"M18 6L6 18M6 6l12 12\" />\n            </svg>\n          </button>\n        )}\n\n        {/* Date Header */}\n        <div className=\"text-center border-b border-white/10 pb-4 w-full\">\n          <h2\n            className=\"text-lg font-light tracking-wide\"\n            style={{ color: 'var(--text-primary, white)' }}\n          >\n            {formattedDate}\n          </h2>\n        </div>\n\n        {/* Time Zones */}\n        <div className=\"flex flex-col gap-3 w-full\">\n          {TIME_ZONES.map((tz, index) => {\n            const isNight = isNighttime(time, tz.timezone);\n            const weatherIcon = getWeatherIconForTime(time, tz.timezone);\n            const effectiveWatchDNA = isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA;\n\n            return (\n              <motion.button\n                key={tz.id}\n                onClick={() => handleTimezoneClick(tz)}\n                className=\"flex items-center gap-3 p-3 rounded-2xl transition-all cursor-pointer text-left hover:scale-[1.02] active:scale-[0.98]\"\n                style={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(15,23,42,0.9) 0%, rgba(30,41,59,0.8) 100%)'\n                    : 'var(--glass-bg-subtle, rgba(255,255,255,0.05))',\n                  border: isNight ? '1px solid rgba(71,85,105,0.3)' : 'none',\n                }}\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: index * 0.05, duration: 0.3 }}\n                whileHover={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(30,41,59,0.95) 0%, rgba(51,65,85,0.9) 100%)'\n                    : 'rgba(255,255,255,0.1)',\n                }}\n              >\n                {/* Mini Watch Face */}\n                <div className=\"flex-shrink-0 relative\">\n                  <WatchFace\n                    watchDNA={effectiveWatchDNA}\n                    size={48}\n                    showCase={false}\n                    interactive={false}\n                    timezone={tz.timezone}\n                  />\n                  {/* Nighttime overlay glow */}\n                  {isNight && (\n                    <div\n                      className=\"absolute inset-0 rounded-full pointer-events-none\"\n                      style={{\n                        boxShadow: 'inset 0 0 12px rgba(99,102,241,0.3)',\n                      }}\n                    />\n                  )}\n                </div>\n\n                {/* Location & Time */}\n                <div className=\"flex flex-col flex-1 min-w-0\">\n                  <span\n                    className=\"text-sm font-medium truncate\"\n                    style={{ color: isNight ? 'rgba(226,232,240,0.9)' : 'var(--text-primary, white)' }}\n                  >\n                    {tz.city}\n                  </span>\n                  <span\n                    className=\"text-2xl font-light tabular-nums tracking-tight\"\n                    style={{ color: isNight ? 'rgba(248,250,252,0.95)' : 'var(--text-primary, white)' }}\n                  >\n                    {formatTime(time, tz.timezone)}\n                  </span>\n                </div>\n\n                {/* Weather Icon */}\n                <div className=\"flex-shrink-0 w-8 h-8\">\n                  <img\n                    src={weatherIcon}\n                    alt=\"weather\"\n                    width={32}\n                    height={32}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: isNight ? 'drop-shadow(0 0 4px rgba(147,197,253,0.4))' : 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))',\n                    }}\n                  />\n                </div>\n\n                {/* Arrow indicator */}\n                <div className=\"flex-shrink-0\" style={{ color: isNight ? 'rgba(148,163,184,0.5)' : 'rgba(255,255,255,0.3)' }}>\n                  <svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  >\n                    <path d=\"M9 18l6-6-6-6\" />\n                  </svg>\n                </div>\n              </motion.button>\n            );\n          })}\n        </div>\n\n        {/* Hint text */}\n        <p className=\"text-[10px] text-white/30 text-center\">\n          Tap a timezone for details\n        </p>\n      </motion.div>\n\n      {/* Timezone Detail Modal */}\n      {selectedTimezone && (\n        <TimezoneDetailModal\n          isOpen={!!selectedTimezone}\n          onClose={handleCloseDetail}\n          timezone={selectedTimezone}\n          watchDNA={watchDNA}\n        />\n      )}\n    </>\n  );\n}\n\nexport default WorldClockView;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4372, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/watch/theme-to-watch.ts"],"sourcesContent":["/**\n * Theme to Watch DNA Algorithm\n *\n * Analyzes theme tokens and procedurally generates watch characteristics.\n * Each of the 43 themes will produce a unique, aesthetically matched watch face.\n */\n\nimport { themes, type ThemeName } from '@/lib/themes/definitions';\n\n// Watch style types - auto-detected from theme characteristics\nexport type WatchStyle =\n  | 'sporty'    // High contrast, bold - think Explorer II, Speedmaster\n  | 'elegant'   // Low saturation, refined - think Calatrava, Saxonia\n  | 'minimal'   // Clean, no numerals - think Nomos, Max Bill\n  | 'digital'   // Tech themes - LED/LCD segments\n  | 'vintage'   // Warm, aged - think patina, domed crystal\n  | 'field'     // Military, utilitarian - think field watches\n  | 'diver';    // Bold markers, high legibility\n\n// Hand styles\nexport type HandStyle = 'dauphine' | 'baton' | 'sword' | 'leaf' | 'alpha' | 'mercedes' | 'snowflake';\n\n// Index/marker styles\nexport type IndexStyle = 'baton' | 'roman' | 'arabic' | 'dots' | 'mixed' | 'none';\n\n// Watch DNA - the procedurally generated characteristics\nexport interface WatchDNA {\n  theme: ThemeName;\n  style: WatchStyle;\n\n  // Colors (HSL strings)\n  dialColor: string;\n  dialTexture: 'sunburst' | 'guilloche' | 'matte' | 'gradient' | 'brushed';\n  handColor: string;\n  secondsHandColor: string;\n  indexColor: string;\n  lumeColor: string;\n  bezelColor: string;\n\n  // Structure\n  handStyle: HandStyle;\n  indexStyle: IndexStyle;\n  hasDateWindow: boolean;\n  datePosition: 3 | 6;\n  hasSubdials: boolean;\n\n  // Aesthetics\n  hasCrystalDome: boolean;\n  hasChapterRing: boolean;\n  caseFinish: 'polished' | 'brushed' | 'mixed';\n\n  // Font for any text\n  font: string;\n}\n\n// HSL color structure\ninterface HSLColor {\n  h: number;\n  s: number;\n  l: number;\n}\n\n// Parse HSL string \"h s% l%\" to object\nfunction parseHSL(hsl: string): HSLColor {\n  const parts = hsl.split(' ').map(p => parseFloat(p.replace('%', '')));\n  return { h: parts[0] || 0, s: parts[1] || 0, l: parts[2] || 0 };\n}\n\n// Convert HSL object to CSS string\nfunction hslToCSS(color: HSLColor, alpha?: number): string {\n  if (alpha !== undefined) {\n    return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${alpha})`;\n  }\n  return `hsl(${color.h}, ${color.s}%, ${color.l}%)`;\n}\n\n// Adjust HSL values\nfunction adjustHSL(color: HSLColor, adjustments: Partial<HSLColor>): HSLColor {\n  return {\n    h: Math.max(0, Math.min(360, (color.h + (adjustments.h || 0)) % 360)),\n    s: Math.max(0, Math.min(100, color.s + (adjustments.s || 0))),\n    l: Math.max(0, Math.min(100, color.l + (adjustments.l || 0))),\n  };\n}\n\n// Theme color tokens (extracted from CSS variables)\n// This maps to the actual CSS --theme-* variables\ninterface ThemeTokens {\n  background: string;\n  foreground: string;\n  primary: string;\n  secondary: string;\n  accent: string;\n  muted: string;\n  border: string;\n  font: string;\n}\n\n// Manually extracted theme tokens from themes.css\n// In a real implementation, these would be read from CSS or a config\nconst THEME_TOKENS: Record<ThemeName, ThemeTokens> = {\n  'utilitarian': {\n    background: '45 30% 92%',\n    foreground: '0 0% 0%',\n    primary: '15 85% 55%',\n    secondary: '45 20% 85%',\n    accent: '15 85% 55%',\n    muted: '45 15% 88%',\n    border: '0 0% 0%',\n    font: 'SF Mono',\n  },\n  'base': {\n    background: '0 0% 100%',\n    foreground: '222 84% 5%',\n    primary: '222 47% 11%',\n    secondary: '210 40% 96%',\n    accent: '210 40% 96%',\n    muted: '210 40% 96%',\n    border: '214 32% 91%',\n    font: 'Inter',\n  },\n  'claude': {\n    background: '30 20% 98%',\n    foreground: '20 14% 10%',\n    primary: '24 90% 55%',\n    secondary: '30 20% 90%',\n    accent: '24 80% 60%',\n    muted: '30 15% 92%',\n    border: '30 20% 85%',\n    font: 'SÃ¶hne',\n  },\n  'chatgpt': {\n    background: '0 0% 98%',\n    foreground: '0 0% 10%',\n    primary: '161 23% 45%',\n    secondary: '0 0% 94%',\n    accent: '161 23% 45%',\n    muted: '0 0% 92%',\n    border: '0 0% 85%',\n    font: 'OpenAI Sans',\n  },\n  'vercel': {\n    background: '0 0% 100%',\n    foreground: '0 0% 5%',\n    primary: '0 0% 5%',\n    secondary: '0 0% 95%',\n    accent: '0 0% 5%',\n    muted: '0 0% 96%',\n    border: '0 0% 90%',\n    font: 'Geist',\n  },\n  'kodama-grove': {\n    background: '120 20% 97%',\n    foreground: '120 30% 10%',\n    primary: '142 70% 35%',\n    secondary: '120 20% 88%',\n    accent: '142 60% 40%',\n    muted: '120 15% 90%',\n    border: '120 20% 82%',\n    font: 'Nunito',\n  },\n  'vintage-paper': {\n    background: '40 30% 95%',\n    foreground: '30 20% 15%',\n    primary: '30 50% 35%',\n    secondary: '40 25% 85%',\n    accent: '30 60% 45%',\n    muted: '40 20% 88%',\n    border: '40 25% 78%',\n    font: 'Courier Prime',\n  },\n  'claymorphism': {\n    background: '220 20% 97%',\n    foreground: '220 30% 15%',\n    primary: '220 80% 55%',\n    secondary: '220 20% 88%',\n    accent: '260 70% 60%',\n    muted: '220 15% 90%',\n    border: '220 20% 85%',\n    font: 'Poppins',\n  },\n  'nature': {\n    background: '45 25% 96%',\n    foreground: '30 30% 12%',\n    primary: '85 50% 40%',\n    secondary: '45 20% 85%',\n    accent: '30 60% 50%',\n    muted: '45 15% 88%',\n    border: '45 20% 78%',\n    font: 'Lora',\n  },\n  'neo-brutalism': {\n    background: '60 100% 97%',\n    foreground: '0 0% 0%',\n    primary: '0 0% 0%',\n    secondary: '60 100% 85%',\n    accent: '350 100% 60%',\n    muted: '60 50% 90%',\n    border: '0 0% 0%',\n    font: 'Space Grotesk',\n  },\n  'elegant-luxury': {\n    background: '45 20% 96%',\n    foreground: '40 15% 12%',\n    primary: '45 70% 45%',\n    secondary: '45 15% 88%',\n    accent: '45 80% 50%',\n    muted: '45 10% 90%',\n    border: '45 20% 80%',\n    font: 'Playfair Display',\n  },\n  'pastel-dreams': {\n    background: '300 30% 97%',\n    foreground: '280 20% 20%',\n    primary: '280 60% 65%',\n    secondary: '300 25% 90%',\n    accent: '330 70% 70%',\n    muted: '300 20% 92%',\n    border: '300 25% 85%',\n    font: 'Quicksand',\n  },\n  'cosmic-night': {\n    background: '240 30% 8%',\n    foreground: '240 10% 95%',\n    primary: '270 80% 60%',\n    secondary: '240 25% 15%',\n    accent: '200 100% 65%',\n    muted: '240 20% 12%',\n    border: '240 25% 20%',\n    font: 'Orbitron',\n  },\n  'clean-slate': {\n    background: '210 20% 98%',\n    foreground: '210 25% 10%',\n    primary: '210 100% 50%',\n    secondary: '210 15% 92%',\n    accent: '210 90% 55%',\n    muted: '210 12% 94%',\n    border: '210 15% 88%',\n    font: 'Inter',\n  },\n  'caffeine': {\n    background: '30 25% 95%',\n    foreground: '25 40% 12%',\n    primary: '25 70% 35%',\n    secondary: '30 20% 88%',\n    accent: '25 80% 45%',\n    muted: '30 15% 90%',\n    border: '30 20% 80%',\n    font: 'Merriweather',\n  },\n  'ocean-breeze': {\n    background: '195 30% 97%',\n    foreground: '200 30% 12%',\n    primary: '195 80% 45%',\n    secondary: '195 25% 90%',\n    accent: '175 70% 50%',\n    muted: '195 20% 92%',\n    border: '195 25% 85%',\n    font: 'Nunito Sans',\n  },\n  'perpetuity': {\n    background: '0 0% 4%',\n    foreground: '0 0% 95%',\n    primary: '0 0% 85%',\n    secondary: '0 0% 10%',\n    accent: '0 0% 70%',\n    muted: '0 0% 8%',\n    border: '0 0% 15%',\n    font: 'Inter',\n  },\n  'midnight-bloom': {\n    background: '270 30% 8%',\n    foreground: '300 20% 95%',\n    primary: '300 70% 55%',\n    secondary: '270 25% 15%',\n    accent: '330 80% 60%',\n    muted: '270 20% 12%',\n    border: '270 25% 20%',\n    font: 'Cormorant Garamond',\n  },\n  'northern-lights': {\n    background: '220 25% 10%',\n    foreground: '180 30% 95%',\n    primary: '160 80% 50%',\n    secondary: '220 20% 18%',\n    accent: '280 70% 60%',\n    muted: '220 15% 15%',\n    border: '220 20% 22%',\n    font: 'Raleway',\n  },\n  'sunset-horizon': {\n    background: '25 30% 96%',\n    foreground: '15 30% 12%',\n    primary: '15 85% 55%',\n    secondary: '25 25% 88%',\n    accent: '35 90% 55%',\n    muted: '25 20% 90%',\n    border: '25 25% 82%',\n    font: 'Josefin Sans',\n  },\n  'modern-minimal': {\n    background: '0 0% 100%',\n    foreground: '0 0% 8%',\n    primary: '0 0% 15%',\n    secondary: '0 0% 96%',\n    accent: '0 0% 25%',\n    muted: '0 0% 94%',\n    border: '0 0% 90%',\n    font: 'Inter',\n  },\n  'candyland': {\n    background: '330 40% 97%',\n    foreground: '340 30% 15%',\n    primary: '340 85% 60%',\n    secondary: '330 35% 90%',\n    accent: '180 70% 50%',\n    muted: '330 30% 92%',\n    border: '330 35% 85%',\n    font: 'Baloo 2',\n  },\n  'cyberpunk': {\n    background: '260 30% 8%',\n    foreground: '180 100% 60%',\n    primary: '320 100% 55%',\n    secondary: '260 25% 15%',\n    accent: '60 100% 50%',\n    muted: '260 20% 12%',\n    border: '320 80% 40%',\n    font: 'Share Tech Mono',\n  },\n  'retro-arcade': {\n    background: '240 40% 8%',\n    foreground: '120 100% 60%',\n    primary: '350 100% 55%',\n    secondary: '240 35% 15%',\n    accent: '60 100% 55%',\n    muted: '240 30% 12%',\n    border: '240 40% 20%',\n    font: 'Press Start 2P',\n  },\n  'quantum-rose': {\n    background: '340 25% 96%',\n    foreground: '340 20% 12%',\n    primary: '340 75% 55%',\n    secondary: '340 20% 90%',\n    accent: '20 80% 55%',\n    muted: '340 15% 92%',\n    border: '340 20% 85%',\n    font: 'DM Sans',\n  },\n  'bold-tech': {\n    background: '220 25% 10%',\n    foreground: '0 0% 98%',\n    primary: '210 100% 55%',\n    secondary: '220 20% 18%',\n    accent: '150 80% 50%',\n    muted: '220 15% 15%',\n    border: '220 20% 22%',\n    font: 'Space Grotesk',\n  },\n  'violet-bloom': {\n    background: '270 25% 97%',\n    foreground: '270 25% 12%',\n    primary: '270 70% 55%',\n    secondary: '270 20% 90%',\n    accent: '300 65% 60%',\n    muted: '270 15% 92%',\n    border: '270 20% 85%',\n    font: 'Outfit',\n  },\n  't3-chat': {\n    background: '250 30% 6%',\n    foreground: '0 0% 98%',\n    primary: '270 80% 60%',\n    secondary: '250 25% 12%',\n    accent: '200 100% 55%',\n    muted: '250 20% 10%',\n    border: '250 25% 18%',\n    font: 'Cal Sans',\n  },\n  'mocha-mousse': {\n    background: '25 30% 94%',\n    foreground: '20 35% 15%',\n    primary: '20 55% 40%',\n    secondary: '25 25% 85%',\n    accent: '20 65% 50%',\n    muted: '25 20% 88%',\n    border: '25 25% 78%',\n    font: 'Libre Baskerville',\n  },\n  'amethyst-haze': {\n    background: '280 20% 96%',\n    foreground: '280 25% 15%',\n    primary: '280 60% 55%',\n    secondary: '280 15% 90%',\n    accent: '320 55% 60%',\n    muted: '280 12% 92%',\n    border: '280 18% 85%',\n    font: 'Spectral',\n  },\n  'doom-64': {\n    background: '0 0% 5%',\n    foreground: '0 100% 50%',\n    primary: '0 100% 45%',\n    secondary: '0 80% 10%',\n    accent: '30 100% 50%',\n    muted: '0 60% 8%',\n    border: '0 100% 30%',\n    font: 'Permanent Marker',\n  },\n  'amber-minimal': {\n    background: '45 35% 97%',\n    foreground: '40 30% 12%',\n    primary: '40 85% 50%',\n    secondary: '45 30% 92%',\n    accent: '35 90% 55%',\n    muted: '45 25% 94%',\n    border: '45 30% 88%',\n    font: 'Inter',\n  },\n  'solar-dusk': {\n    background: '25 35% 12%',\n    foreground: '35 30% 92%',\n    primary: '25 90% 55%',\n    secondary: '25 30% 18%',\n    accent: '45 95% 55%',\n    muted: '25 25% 15%',\n    border: '25 30% 22%',\n    font: 'Rubik',\n  },\n  'starry-night': {\n    background: '230 40% 10%',\n    foreground: '60 50% 90%',\n    primary: '220 70% 55%',\n    secondary: '230 35% 18%',\n    accent: '60 80% 60%',\n    muted: '230 30% 15%',\n    border: '230 35% 22%',\n    font: 'Crimson Pro',\n  },\n  'soft-pop': {\n    background: '15 40% 97%',\n    foreground: '10 35% 15%',\n    primary: '10 75% 60%',\n    secondary: '15 35% 92%',\n    accent: '340 70% 65%',\n    muted: '15 30% 94%',\n    border: '15 35% 88%',\n    font: 'Nunito',\n  },\n  'sage-garden': {\n    background: '120 15% 96%',\n    foreground: '130 25% 15%',\n    primary: '130 40% 45%',\n    secondary: '120 12% 90%',\n    accent: '90 50% 50%',\n    muted: '120 10% 92%',\n    border: '120 15% 85%',\n    font: 'Source Serif Pro',\n  },\n  'notebook': {\n    background: '45 40% 96%',\n    foreground: '220 80% 20%',\n    primary: '220 85% 45%',\n    secondary: '45 35% 90%',\n    accent: '0 75% 55%',\n    muted: '45 30% 92%',\n    border: '200 60% 75%',\n    font: 'Patrick Hand',\n  },\n  'research': {\n    background: '0 0% 100%',\n    foreground: '220 15% 15%',\n    primary: '220 75% 50%',\n    secondary: '0 0% 96%',\n    accent: '160 70% 45%',\n    muted: '0 0% 94%',\n    border: '220 20% 88%',\n    font: 'IBM Plex Sans',\n  },\n  'field-guide': {\n    background: '45 30% 94%',\n    foreground: '90 25% 18%',\n    primary: '90 45% 35%',\n    secondary: '45 25% 88%',\n    accent: '25 70% 50%',\n    muted: '45 20% 90%',\n    border: '90 30% 75%',\n    font: 'Vollkorn',\n  },\n  'denim': {\n    background: '215 35% 95%',\n    foreground: '220 40% 15%',\n    primary: '215 60% 45%',\n    secondary: '215 30% 88%',\n    accent: '200 70% 50%',\n    muted: '215 25% 90%',\n    border: '215 35% 78%',\n    font: 'Inter',\n  },\n  'google': {\n    background: '0 0% 100%',\n    foreground: '0 0% 15%',\n    primary: '217 89% 61%',\n    secondary: '214 12% 95%',\n    accent: '4 90% 58%',\n    muted: '220 14% 96%',\n    border: '214 32% 91%',\n    font: 'Google Sans',\n  },\n  'apple': {\n    background: '0 0% 100%',\n    foreground: '0 0% 0%',\n    primary: '211 100% 50%',\n    secondary: '220 10% 96%',\n    accent: '211 100% 50%',\n    muted: '220 10% 94%',\n    border: '220 13% 91%',\n    font: 'SF Pro',\n  },\n  'microsoft': {\n    background: '0 0% 100%',\n    foreground: '0 0% 11%',\n    primary: '206 100% 42%',\n    secondary: '210 14% 93%',\n    accent: '206 100% 42%',\n    muted: '210 11% 96%',\n    border: '210 14% 89%',\n    font: 'Segoe UI',\n  },\n  'notion': {\n    background: '0 0% 100%',\n    foreground: '0 0% 9%',\n    primary: '0 0% 9%',\n    secondary: '45 6% 97%',\n    accent: '0 0% 9%',\n    muted: '45 4% 95%',\n    border: '45 6% 90%',\n    font: 'Inter',\n  },\n  'cursor': {\n    background: '0 0% 0%',\n    foreground: '0 0% 100%',\n    primary: '191 100% 50%',\n    secondary: '240 2% 12%',\n    accent: '191 100% 50%',\n    muted: '240 2% 16%',\n    border: '240 2% 20%',\n    font: 'Inter',\n  },\n  'miro': {\n    background: '47 100% 98%',\n    foreground: '222 47% 11%',\n    primary: '39 100% 50%',\n    secondary: '47 20% 92%',\n    accent: '39 100% 50%',\n    muted: '47 15% 95%',\n    border: '47 10% 88%',\n    font: 'Inter',\n  },\n  'nike': {\n    background: '40 30% 95%',\n    foreground: '0 0% 8%',\n    primary: '0 0% 8%',\n    secondary: '40 20% 90%',\n    accent: '28 100% 55%',\n    muted: '40 15% 88%',\n    border: '40 20% 85%',\n    font: 'Helvetica Neue',\n  },\n  'adidas': {\n    background: '0 0% 98%',\n    foreground: '0 0% 8%',\n    primary: '210 100% 45%',\n    secondary: '0 0% 94%',\n    accent: '0 0% 8%',\n    muted: '0 0% 92%',\n    border: '0 0% 88%',\n    font: 'Helvetica Neue',\n  },\n  'tao': {\n    background: '220 30% 8%',\n    foreground: '210 20% 78%',\n    primary: '200 40% 55%',\n    secondary: '220 25% 15%',\n    accent: '200 45% 50%',\n    muted: '220 20% 12%',\n    border: '220 25% 20%',\n    font: 'Crimson Text',\n  },\n  'kinetic-editorial': {\n    background: '0 0% 4%',\n    foreground: '0 0% 96%',\n    primary: '0 0% 96%',\n    secondary: '0 0% 12%',\n    accent: '0 0% 80%',\n    muted: '0 0% 8%',\n    border: '0 0% 20%',\n    font: 'Space Grotesk',\n  },\n};\n\n// Detect watch style from theme characteristics\nfunction detectWatchStyle(tokens: ThemeTokens): WatchStyle {\n  const bg = parseHSL(tokens.background);\n  const fg = parseHSL(tokens.foreground);\n  const primary = parseHSL(tokens.primary);\n  const accent = parseHSL(tokens.accent);\n\n  // Calculate contrast and saturation metrics\n  const contrast = Math.abs(bg.l - fg.l);\n  const primarySat = primary.s;\n  const accentSat = accent.s;\n  const avgSat = (primarySat + accentSat) / 2;\n  const isDark = bg.l < 30;\n  const isMonochrome = primary.s < 15 && accent.s < 15;\n\n  // Font-based detection\n  const fontLower = tokens.font.toLowerCase();\n  const isMonospace = fontLower.includes('mono') || fontLower.includes('code');\n  const isSerif = fontLower.includes('serif') || fontLower.includes('times') || fontLower.includes('georgia');\n  const isPlayful = fontLower.includes('press start') || fontLower.includes('permanent') || fontLower.includes('hand');\n\n  // Digital/tech themes\n  if (isMonospace || fontLower.includes('orbitron') || fontLower.includes('share tech')) {\n    return 'digital';\n  }\n\n  // High contrast + bold = sporty or diver\n  if (contrast > 80 && avgSat > 60) {\n    return isDark ? 'diver' : 'sporty';\n  }\n\n  // Very high saturation accent = sporty\n  if (accentSat > 85) {\n    return 'sporty';\n  }\n\n  // Warm sepia/vintage tones\n  if (primary.h >= 20 && primary.h <= 45 && primary.s < 60 && bg.l > 85) {\n    return 'vintage';\n  }\n\n  // Military/field - utilitarian fonts or earthy tones\n  if (fontLower.includes('mono') && !isDark || (primary.h >= 80 && primary.h <= 130)) {\n    return 'field';\n  }\n\n  // Very low saturation + clean = minimal\n  if (isMonochrome || (avgSat < 30 && contrast > 60)) {\n    return 'minimal';\n  }\n\n  // Serif fonts or low saturation = elegant\n  if (isSerif || (avgSat < 50 && !isDark && primary.s < 40)) {\n    return 'elegant';\n  }\n\n  // Default based on darkness\n  return isDark ? 'diver' : 'elegant';\n}\n\n// Detect hand style based on watch style and theme\nfunction detectHandStyle(style: WatchStyle, tokens: ThemeTokens): HandStyle {\n  const fontLower = tokens.font.toLowerCase();\n\n  switch (style) {\n    case 'sporty':\n      return 'mercedes'; // Like Rolex sport watches\n    case 'diver':\n      return 'snowflake'; // Like Tudor Black Bay\n    case 'elegant':\n      return 'dauphine'; // Classic dress watch\n    case 'minimal':\n      return 'baton'; // Simple, modern\n    case 'vintage':\n      return 'leaf'; // Classic vintage look\n    case 'field':\n      return 'sword'; // Military heritage\n    case 'digital':\n      return 'baton'; // Digital style\n    default:\n      return 'dauphine';\n  }\n}\n\n// Detect index style based on watch style\nfunction detectIndexStyle(style: WatchStyle, tokens: ThemeTokens): IndexStyle {\n  const fontLower = tokens.font.toLowerCase();\n  const isSerif = fontLower.includes('serif') || fontLower.includes('playfair') || fontLower.includes('times');\n\n  switch (style) {\n    case 'sporty':\n      return 'baton'; // Applied indices\n    case 'diver':\n      return 'dots'; // Luminous dots\n    case 'elegant':\n      return isSerif ? 'roman' : 'baton';\n    case 'minimal':\n      return 'none'; // Very clean\n    case 'vintage':\n      return 'arabic'; // Classic numerals\n    case 'field':\n      return 'arabic'; // Legible military style\n    case 'digital':\n      return 'none'; // Digital display\n    default:\n      return 'baton';\n  }\n}\n\n// Detect dial texture based on theme\nfunction detectDialTexture(style: WatchStyle, tokens: ThemeTokens): WatchDNA['dialTexture'] {\n  const bg = parseHSL(tokens.background);\n\n  switch (style) {\n    case 'elegant':\n      return bg.l > 50 ? 'sunburst' : 'guilloche';\n    case 'sporty':\n      return 'matte';\n    case 'diver':\n      return 'matte';\n    case 'vintage':\n      return 'matte';\n    case 'minimal':\n      return 'matte';\n    case 'digital':\n      return 'matte';\n    case 'field':\n      return 'brushed';\n    default:\n      return 'matte';\n  }\n}\n\n/**\n * Main function: Convert theme tokens to Watch DNA\n */\nexport function themeToWatch(themeName: ThemeName): WatchDNA {\n  const tokens = THEME_TOKENS[themeName];\n  if (!tokens) {\n    throw new Error(`Unknown theme: ${themeName}`);\n  }\n\n  const style = detectWatchStyle(tokens);\n  const bg = parseHSL(tokens.background);\n  const fg = parseHSL(tokens.foreground);\n  const primary = parseHSL(tokens.primary);\n  const accent = parseHSL(tokens.accent);\n  const secondary = parseHSL(tokens.secondary);\n\n  // Determine dial color (usually darker for legibility)\n  const isDark = bg.l < 30;\n  let dialColor: HSLColor;\n\n  if (isDark) {\n    // Dark themes: use background or slightly adjusted\n    dialColor = adjustHSL(bg, { l: 5 });\n  } else {\n    // Light themes: create a darker dial or use background\n    dialColor = style === 'minimal' || style === 'elegant'\n      ? adjustHSL(bg, { l: -3 })\n      : adjustHSL(bg, { l: -10, s: 5 });\n  }\n\n  // Hand colors - high contrast against dial\n  const handColor = isDark ? fg : adjustHSL(fg, { l: -10 });\n\n  // Seconds hand - use accent color for pop\n  const secondsHandColor = accent;\n\n  // Index color - slightly muted from hand color\n  const indexColor = adjustHSL(handColor, { s: -10, l: isDark ? -5 : 5 });\n\n  // Lume color - greenish glow for most, blue for some\n  const lumeColor: HSLColor = style === 'diver'\n    ? { h: 180, s: 100, l: 70 } // Blue lume\n    : { h: 120, s: 80, l: 75 }; // Green lume\n\n  // Bezel color\n  const bezelColor = style === 'diver'\n    ? adjustHSL(primary, { l: -20 })\n    : adjustHSL(secondary, { l: -5 });\n\n  return {\n    theme: themeName,\n    style,\n\n    dialColor: hslToCSS(dialColor),\n    dialTexture: detectDialTexture(style, tokens),\n    handColor: hslToCSS(handColor),\n    secondsHandColor: hslToCSS(secondsHandColor),\n    indexColor: hslToCSS(indexColor),\n    lumeColor: hslToCSS(lumeColor),\n    bezelColor: hslToCSS(bezelColor),\n\n    handStyle: detectHandStyle(style, tokens),\n    indexStyle: detectIndexStyle(style, tokens),\n    hasDateWindow: style !== 'minimal' && style !== 'digital',\n    datePosition: style === 'diver' ? 3 : 6,\n    hasSubdials: style === 'sporty',\n\n    hasCrystalDome: style === 'vintage' || style === 'elegant',\n    hasChapterRing: style === 'field' || style === 'vintage',\n    caseFinish: style === 'sporty' || style === 'diver' ? 'brushed' : 'polished',\n\n    font: tokens.font,\n  };\n}\n\n/**\n * Get all theme watches - for gallery view\n */\nexport function getAllThemeWatches(): WatchDNA[] {\n  return themes.map(t => themeToWatch(t.name));\n}\n\n/**\n * Get watch style description\n */\nexport function getWatchStyleDescription(style: WatchStyle): string {\n  const descriptions: Record<WatchStyle, string> = {\n    sporty: 'Bold sport chronograph with high legibility',\n    elegant: 'Refined dress watch with classic proportions',\n    minimal: 'Ultra-clean design with essential elements only',\n    digital: 'Tech-inspired with modern digital aesthetic',\n    vintage: 'Heritage-inspired with warm, aged character',\n    field: 'Military-inspired with utilitarian precision',\n    diver: 'Professional tool watch built for depth',\n  };\n  return descriptions[style];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5130, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/StatusBarWatch.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from '@/components/watch/WatchFace';\nimport { WorldClockView } from '@/components/watch/WorldClockView';\nimport { themeToWatch } from '@/lib/watch/theme-to-watch';\nimport { useDesignTheme } from '@/context/DesignThemeContext';\n\nexport function StatusBarWatch() {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const { theme } = useDesignTheme();\n\n  const watchDNA = useMemo(() => themeToWatch(theme), [theme]);\n\n  const toggleExpanded = useCallback(() => {\n    setIsExpanded((prev) => !prev);\n  }, []);\n\n  const handleBackdropClick = useCallback((e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      setIsExpanded(false);\n    }\n  }, []);\n\n  return (\n    <>\n      {/* Mini watch in status bar */}\n      <motion.button\n        onClick={toggleExpanded}\n        className=\"relative w-8 h-8 flex items-center justify-center cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-full\"\n        aria-label=\"Expand watch\"\n        aria-expanded={isExpanded}\n        whileHover={{ scale: 1.1 }}\n        whileTap={{ scale: 0.95 }}\n      >\n        <WatchFace\n          watchDNA={watchDNA}\n          size={28}\n          showCase={false}\n          interactive={false}\n          className=\"pointer-events-none\"\n        />\n      </motion.button>\n\n      {/* Expanded watch overlay */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            className=\"fixed inset-0 z-[100] flex items-start justify-center pt-20\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            onClick={handleBackdropClick}\n          >\n            {/* Backdrop */}\n            <motion.div\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            />\n\n            {/* World Clock View */}\n            <motion.div\n              className=\"relative z-10\"\n              initial={{ scale: 0.9, opacity: 0, y: -30 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.9, opacity: 0, y: -30 }}\n              transition={{\n                type: 'spring',\n                stiffness: 400,\n                damping: 30,\n              }}\n            >\n              <WorldClockView\n                watchDNA={watchDNA}\n                onClose={toggleExpanded}\n              />\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASO,SAAS;;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,kXAAQ,EAAC;IAC7C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,0JAAc;IAEhC,MAAM,WAAW,IAAA,iXAAO;4CAAC,IAAM,IAAA,8JAAY,EAAC;2CAAQ;QAAC;KAAM;IAE3D,MAAM,iBAAiB,IAAA,qXAAW;sDAAC;YACjC;8DAAc,CAAC,OAAS,CAAC;;QAC3B;qDAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,qXAAW;2DAAC,CAAC;YACvC,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;gBAChC,cAAc;YAChB;QACF;0DAAG,EAAE;IAEL,qBACE;;0BAEE,sYAAC,mVAAM,CAAC,MAAM;gBACZ,SAAS;gBACT,WAAU;gBACV,cAAW;gBACX,iBAAe;gBACf,YAAY;oBAAE,OAAO;gBAAI;gBACzB,UAAU;oBAAE,OAAO;gBAAK;0BAExB,cAAA,sYAAC,wJAAS;oBACR,UAAU;oBACV,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,WAAU;;;;;;;;;;;0BAKd,sYAAC,2VAAe;0BACb,4BACC,sYAAC,mVAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,SAAS;;sCAGT,sYAAC,mVAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,SAAS;4BAAE;4BACtB,SAAS;gCAAE,SAAS;4BAAE;4BACtB,MAAM;gCAAE,SAAS;4BAAE;;;;;;sCAIrB,sYAAC,mVAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,OAAO;gCAAK,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BAC1C,SAAS;gCAAE,OAAO;gCAAG,SAAS;gCAAG,GAAG;4BAAE;4BACtC,MAAM;gCAAE,OAAO;gCAAK,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BACvC,YAAY;gCACV,MAAM;gCACN,WAAW;gCACX,SAAS;4BACX;sCAEA,cAAA,sYAAC,kKAAc;gCACb,UAAU;gCACV,SAAS;;;;;;;;;;;;;;;;;;;;;;;;AAQzB;GA7EgB;;QAEI,0JAAc;;;KAFlB"}},
    {"offset": {"line": 5300, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/DynamicIsland.tsx"],"sourcesContent":["'use client';\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  ReactNode,\n} from 'react';\nimport { motion, AnimatePresence, useReducedMotion, Variants } from 'framer-motion';\nimport { useMusic } from '@/context/MusicContext';\nimport { useProviderStatus, type ProviderType, type ConnectionStatus } from '@/hooks/useProviderStatus';\nimport { Play, Pause, SkipForward, SkipBack, Timer, Bell, Phone, Mic, Check, X, ChevronDown, Cloud, Cpu, Wifi } from 'lucide-react';\n\n// ============================================================================\n// Types and Configuration\n// ============================================================================\n\nexport type DynamicIslandSize =\n  | 'default'\n  | 'compact'\n  | 'large'\n  | 'tall'\n  | 'long'\n  | 'medium'\n  | 'ultra';\n\nexport type IslandContentType =\n  | 'idle'\n  | 'music'\n  | 'timer'\n  | 'notification'\n  | 'call'\n  | 'recording'\n  | 'success'\n  | 'loading'\n  | 'ralph'\n  | 'provider';\n\ninterface IslandState {\n  size: DynamicIslandSize;\n  previousSize: DynamicIslandSize;\n  contentType: IslandContentType;\n  notification?: {\n    title: string;\n    message: string;\n    icon?: ReactNode;\n  };\n  ralph?: {\n    iteration: number;\n    maxIterations: number;\n    description: string;\n  };\n}\n\ninterface DynamicIslandContextType {\n  state: IslandState;\n  setSize: (size: DynamicIslandSize) => void;\n  setContentType: (type: IslandContentType) => void;\n  showNotification: (title: string, message: string, icon?: ReactNode, duration?: number) => void;\n  showRalphMode: (iteration: number, maxIterations: number, description: string) => void;\n  hideRalphMode: () => void;\n  expand: () => void;\n  collapse: () => void;\n  scheduleAnimation: (size: DynamicIslandSize, delay?: number) => void;\n}\n\n// Size dimensions - based on cult-ui reference and iPhone proportions\nconst SIZE_PRESETS: Record<DynamicIslandSize, { width: number; height: number; aspectRatio: string }> = {\n  default: { width: 126, height: 37, aspectRatio: '126/37' },\n  compact: { width: 100, height: 32, aspectRatio: '100/32' },\n  large: { width: 350, height: 100, aspectRatio: '350/100' }, // Taller for music player with progress\n  tall: { width: 350, height: 200, aspectRatio: '350/200' },\n  long: { width: 350, height: 56, aspectRatio: '350/56' },\n  medium: { width: 350, height: 130, aspectRatio: '350/130' },\n  ultra: { width: 350, height: 300, aspectRatio: '350/300' },\n};\n\n// ============================================================================\n// Context Provider\n// ============================================================================\n\nconst DynamicIslandContext = createContext<DynamicIslandContextType | null>(null);\n\nexport function useDynamicIsland() {\n  const context = useContext(DynamicIslandContext);\n  if (!context) {\n    throw new Error('useDynamicIsland must be used within DynamicIslandProvider');\n  }\n  return context;\n}\n\ninterface DynamicIslandProviderProps {\n  children: ReactNode;\n  initialSize?: DynamicIslandSize;\n}\n\nexport function DynamicIslandProvider({\n  children,\n  initialSize = 'default',\n}: DynamicIslandProviderProps) {\n  const [state, setState] = useState<IslandState>({\n    size: initialSize,\n    previousSize: initialSize,\n    contentType: 'idle',\n  });\n\n  const setSize = useCallback((size: DynamicIslandSize) => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size,\n    }));\n  }, []);\n\n  const setContentType = useCallback((contentType: IslandContentType) => {\n    setState((prev) => ({ ...prev, contentType }));\n  }, []);\n\n  const showNotification = useCallback(\n    (title: string, message: string, icon?: ReactNode, duration = 4000) => {\n      setState((prev) => ({\n        ...prev,\n        previousSize: prev.size,\n        size: 'long',\n        contentType: 'notification',\n        notification: { title, message, icon },\n      }));\n\n      if (duration > 0) {\n        setTimeout(() => {\n          setState((prev) => ({\n            ...prev,\n            previousSize: prev.size,\n            size: 'default',\n            contentType: 'idle',\n            notification: undefined,\n          }));\n        }, duration);\n      }\n    },\n    []\n  );\n\n  const showRalphMode = useCallback(\n    (iteration: number, maxIterations: number, description: string) => {\n      setState((prev) => ({\n        ...prev,\n        previousSize: prev.size,\n        size: 'long',\n        contentType: 'ralph',\n        ralph: { iteration, maxIterations, description },\n      }));\n    },\n    []\n  );\n\n  const hideRalphMode = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'default',\n      contentType: 'idle',\n      ralph: undefined,\n    }));\n  }, []);\n\n  const expand = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'large',\n    }));\n  }, []);\n\n  const collapse = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'default',\n    }));\n  }, []);\n\n  const scheduleAnimation = useCallback((size: DynamicIslandSize, delay = 1000) => {\n    setTimeout(() => setSize(size), delay);\n  }, [setSize]);\n\n  return (\n    <DynamicIslandContext.Provider\n      value={{\n        state,\n        setSize,\n        setContentType,\n        showNotification,\n        showRalphMode,\n        hideRalphMode,\n        expand,\n        collapse,\n        scheduleAnimation,\n      }}\n    >\n      {children}\n    </DynamicIslandContext.Provider>\n  );\n}\n\n// ============================================================================\n// Styled Sub-components\n// ============================================================================\n\ninterface DynamicContainerProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function DynamicContainer({ children, className = '' }: DynamicContainerProps) {\n  return (\n    <div className={`absolute inset-0 flex items-center justify-center ${className}`}>\n      {children}\n    </div>\n  );\n}\n\ninterface DynamicTitleProps {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function DynamicTitle({ children, className = '', style }: DynamicTitleProps) {\n  return (\n    <motion.h3\n      initial={{ opacity: 0, y: 5 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -5 }}\n      className={`font-bold tracking-tight ${className}`}\n      style={style}\n    >\n      {children}\n    </motion.h3>\n  );\n}\n\ninterface DynamicDescriptionProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function DynamicDescription({ children, className = '' }: DynamicDescriptionProps) {\n  return (\n    <motion.p\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className={`text-sm ${className}`}\n    >\n      {children}\n    </motion.p>\n  );\n}\n\n// ============================================================================\n// Content Renderers\n// ============================================================================\n\nfunction MusicContent({ expanded }: { expanded: boolean }) {\n  const { currentTrack, isPlaying, togglePlay, skipToNext, skipToPrevious, currentTime, duration } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n  const [imageError, setImageError] = useState(false);\n\n  const progressPercent = duration ? (currentTime / duration) * 100 : 0;\n\n  const formatTime = (time: number) => {\n    if (isNaN(time)) return '0:00';\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  if (!expanded) {\n    // Compact music view - like iPhone\n    return (\n      <DynamicContainer className=\"px-2\">\n        <div className=\"flex items-center justify-between w-full\">\n          {/* Album art or profile */}\n          <motion.div\n            className=\"w-7 h-7 rounded-lg overflow-hidden flex-shrink-0\"\n            animate={\n              isPlaying && !prefersReducedMotion\n                ? { scale: [1, 1.03, 1] }\n                : {}\n            }\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            {currentTrack.albumArt && !imageError ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={currentTrack.albumArt}\n                alt={currentTrack.album}\n                className=\"w-full h-full object-cover\"\n                onError={() => setImageError(true)}\n              />\n            ) : (\n              <div\n                className=\"w-full h-full flex items-center justify-center\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                }}\n              >\n                <span className=\"text-xs\">ðŸŽµ</span>\n              </div>\n            )}\n          </motion.div>\n\n          {/* Visualizer bars */}\n          {isPlaying && (\n            <motion.div\n              className=\"flex gap-0.5 items-end h-4\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n            >\n              {[...Array(3)].map((_, i) => (\n                <motion.div\n                  key={i}\n                  className=\"w-0.5 rounded-full\"\n                  style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                  animate={\n                    prefersReducedMotion\n                      ? { height: '8px' }\n                      : { height: ['4px', '14px', '6px'] }\n                  }\n                  transition={{\n                    duration: 0.5,\n                    repeat: Infinity,\n                    delay: i * 0.12,\n                  }}\n                />\n              ))}\n            </motion.div>\n          )}\n\n          {/* Track title */}\n          <span className=\"text-white/80 text-[11px] font-medium truncate max-w-[50px]\">\n            {currentTrack.title}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  // Expanded music view with full controls\n  return (\n    <DynamicContainer className=\"px-4 py-2\">\n      <div className=\"flex flex-col w-full gap-2\">\n        {/* Top row: Album art, track info, controls */}\n        <div className=\"flex items-center justify-between w-full gap-3\">\n          {/* Album art */}\n          <motion.div\n            className=\"w-14 h-14 rounded-xl overflow-hidden flex-shrink-0\"\n            style={{\n              boxShadow: '0 4px 20px hsl(var(--theme-primary) / 0.4)',\n            }}\n            animate={\n              isPlaying && !prefersReducedMotion\n                ? { scale: [1, 1.02, 1] }\n                : {}\n            }\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            {currentTrack.albumArt && !imageError ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={currentTrack.albumArt}\n                alt={currentTrack.album}\n                className=\"w-full h-full object-cover\"\n                onError={() => setImageError(true)}\n              />\n            ) : (\n              <div\n                className=\"w-full h-full flex items-end justify-center gap-1 p-2\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                }}\n              >\n                {/* Visualizer bars when no album art */}\n                {isPlaying && [...Array(5)].map((_, i) => (\n                  <motion.div\n                    key={i}\n                    className=\"w-1.5 bg-white/80 rounded-full\"\n                    animate={\n                      prefersReducedMotion\n                        ? { height: '40%' }\n                        : { height: ['20%', '80%', '40%', '100%', '30%'] }\n                    }\n                    transition={{\n                      duration: 0.8,\n                      repeat: Infinity,\n                      delay: i * 0.1,\n                      ease: 'easeInOut',\n                    }}\n                  />\n                ))}\n              </div>\n            )}\n          </motion.div>\n\n          {/* Track info */}\n          <div className=\"flex-1 min-w-0\">\n            <DynamicTitle className=\"text-white text-sm truncate\">\n              {currentTrack.title}\n            </DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs truncate\">\n              {currentTrack.artist}\n            </DynamicDescription>\n          </div>\n\n          {/* Controls */}\n          <div className=\"flex items-center gap-1\" role=\"group\" aria-label=\"Music playback controls\">\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); skipToPrevious(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              aria-label=\"Previous track\"\n            >\n              <SkipBack className=\"w-4 h-4 text-white/70\" fill=\"currentColor\" aria-hidden=\"true\" />\n            </motion.button>\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-10 h-10 rounded-full flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              style={{\n                background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n              }}\n              aria-label={isPlaying ? 'Pause' : 'Play'}\n              aria-pressed={isPlaying}\n            >\n              {isPlaying ? (\n                <Pause className=\"w-5 h-5 text-white\" fill=\"currentColor\" aria-hidden=\"true\" />\n              ) : (\n                <Play className=\"w-5 h-5 text-white ml-0.5\" fill=\"currentColor\" aria-hidden=\"true\" />\n              )}\n            </motion.button>\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); skipToNext(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              aria-label=\"Next track\"\n            >\n              <SkipForward className=\"w-4 h-4 text-white/70\" fill=\"currentColor\" aria-hidden=\"true\" />\n            </motion.button>\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"flex items-center gap-2 w-full\">\n          <span className=\"text-[10px] text-white/40 tabular-nums w-8 text-right\" aria-hidden=\"true\">\n            {formatTime(currentTime)}\n          </span>\n          <div\n            className=\"flex-1 h-1 bg-white/10 rounded-full overflow-hidden\"\n            role=\"progressbar\"\n            aria-label=\"Track progress\"\n            aria-valuenow={Math.round(progressPercent)}\n            aria-valuemin={0}\n            aria-valuemax={100}\n            aria-valuetext={`${formatTime(currentTime)} of ${formatTime(duration)}`}\n          >\n            <motion.div\n              className=\"h-full rounded-full\"\n              style={{\n                background: 'linear-gradient(90deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                width: `${progressPercent}%`,\n              }}\n              transition={{ duration: 0.1 }}\n            />\n          </div>\n          <span className=\"text-[10px] text-white/40 tabular-nums w-8\" aria-hidden=\"true\">\n            {formatTime(duration)}\n          </span>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction NotificationContent({ notification }: { notification?: { title: string; message: string; icon?: ReactNode } }) {\n  if (!notification) return null;\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center gap-3 w-full\">\n        <div\n          className=\"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0\"\n          style={{\n            background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n          }}\n        >\n          {notification.icon || <Bell className=\"w-5 h-5 text-white\" />}\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <DynamicTitle className=\"text-white text-sm truncate\">\n            {notification.title}\n          </DynamicTitle>\n          <DynamicDescription className=\"text-white/60 text-xs truncate\">\n            {notification.message}\n          </DynamicDescription>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction IdleContent() {\n  const { status, getStatusColor } = useProviderStatus();\n  const prefersReducedMotion = useReducedMotion();\n\n  return (\n    <DynamicContainer className=\"px-2\">\n      <div className=\"flex items-center justify-between w-full\">\n        {/* Profile image on left like iPhone */}\n        <div className=\"w-7 h-7 rounded-full overflow-hidden flex-shrink-0 border border-white/20\">\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img\n            src=\"/openclaw-logo.png\"\n            alt=\"James\"\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n        {/* Provider status indicator on right */}\n        <motion.div\n          className=\"w-3 h-3 rounded-full flex items-center justify-center\"\n          style={{ backgroundColor: getStatusColor() }}\n          animate={\n            status === 'connecting' && !prefersReducedMotion\n              ? { scale: [1, 1.2, 1], opacity: [1, 0.6, 1] }\n              : {}\n          }\n          transition={{ duration: 1.5, repeat: Infinity }}\n          title={`AI: ${status}`}\n        >\n          <div className=\"w-1.5 h-1.5 rounded-full bg-white/80\" />\n        </motion.div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction ProviderContent({ expanded }: { expanded: boolean }) {\n  const { providerType, status, latencyMs, getStatusColor, getProviderDisplayName } = useProviderStatus();\n  const prefersReducedMotion = useReducedMotion();\n\n  const getProviderIcon = () => {\n    switch (providerType) {\n      case 'lynkr':\n        return <Wifi className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n      case 'local':\n        return <Cpu className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n      case 'cloud':\n      default:\n        return <Cloud className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n    }\n  };\n\n  if (!expanded) {\n    // Compact provider view\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <motion.div\n              className=\"w-2 h-2 rounded-full\"\n              style={{ backgroundColor: getStatusColor() }}\n              animate={\n                status === 'connecting' && !prefersReducedMotion\n                  ? { scale: [1, 1.3, 1], opacity: [1, 0.5, 1] }\n                  : {}\n              }\n              transition={{ duration: 1, repeat: Infinity }}\n            />\n            {getProviderIcon()}\n          </div>\n          <span className=\"text-white/70 text-xs font-medium\">\n            {getProviderDisplayName()}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  // Expanded provider view with full status\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div className=\"flex items-center gap-3\">\n          {/* Provider icon with status glow */}\n          <div\n            className=\"w-12 h-12 rounded-full flex items-center justify-center relative\"\n            style={{\n              background: `linear-gradient(135deg, ${getStatusColor()}20 0%, ${getStatusColor()}10 100%)`,\n            }}\n          >\n            {providerType === 'lynkr' && <Wifi className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {providerType === 'local' && <Cpu className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {providerType === 'cloud' && <Cloud className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {/* Pulse ring for connecting state */}\n            {status === 'connecting' && !prefersReducedMotion && (\n              <motion.div\n                className=\"absolute inset-0 rounded-full\"\n                style={{ border: `2px solid ${getStatusColor()}` }}\n                animate={{ scale: [1, 1.3], opacity: [0.8, 0] }}\n                transition={{ duration: 1.5, repeat: Infinity }}\n              />\n            )}\n          </div>\n          <div>\n            <DynamicTitle\n              className=\"text-sm\"\n              style={{ color: getStatusColor() }}\n            >\n              {getProviderDisplayName()}\n            </DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs capitalize\">\n              {status}\n              {latencyMs !== undefined && status === 'connected' && (\n                <span className=\"ml-2 text-white/30\">{latencyMs}ms</span>\n              )}\n            </DynamicDescription>\n          </div>\n        </div>\n        {/* Status indicator */}\n        <motion.div\n          className=\"w-3 h-3 rounded-full\"\n          style={{ backgroundColor: getStatusColor() }}\n          animate={\n            status === 'connecting' && !prefersReducedMotion\n              ? { scale: [1, 1.2, 1], opacity: [1, 0.6, 1] }\n              : {}\n          }\n          transition={{ duration: 1, repeat: Infinity }}\n        />\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction TimerContent({ expanded }: { expanded: boolean }) {\n  const [time, setTime] = useState(125); // 2:05 in seconds\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime((t) => Math.max(0, t - 1));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const minutes = Math.floor(time / 60);\n  const seconds = time % 60;\n  const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n\n  if (!expanded) {\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <Timer className=\"w-4 h-4\" style={{ color: 'hsl(var(--theme-primary))' }} />\n          <span\n            className=\"text-sm font-bold tabular-nums\"\n            style={{ color: 'hsl(var(--theme-primary))' }}\n          >\n            {display}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div\n          className=\"w-12 h-12 rounded-full flex items-center justify-center\"\n          style={{\n            background: 'linear-gradient(135deg, hsl(var(--theme-primary) / 0.2) 0%, hsl(var(--theme-accent) / 0.2) 100%)',\n          }}\n        >\n          <Timer className=\"w-6 h-6\" style={{ color: 'hsl(var(--theme-primary))' }} />\n        </div>\n        <div className=\"flex-1\">\n          <span\n            className=\"text-3xl font-bold tabular-nums\"\n            style={{ color: 'hsl(var(--theme-primary))' }}\n          >\n            {display}\n          </span>\n        </div>\n        <motion.button\n          whileTap={{ scale: 0.9 }}\n          className=\"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center\"\n        >\n          <X className=\"w-5 h-5 text-white/70\" />\n        </motion.button>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction CallContent({ expanded }: { expanded: boolean }) {\n  if (!expanded) {\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <motion.div\n              className=\"w-2 h-2 rounded-full bg-green-400\"\n              animate={{ scale: [1, 1.2, 1], opacity: [1, 0.7, 1] }}\n              transition={{ duration: 1, repeat: Infinity }}\n            />\n            <Phone className=\"w-4 h-4 text-green-400\" />\n          </div>\n          <span className=\"text-white/70 text-xs font-medium\">12:34</span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center\">\n            <Phone className=\"w-6 h-6 text-white\" />\n          </div>\n          <div>\n            <DynamicTitle className=\"text-white text-sm\">Incoming Call</DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs\">Mobile â€¢ 12:34</DynamicDescription>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <motion.button\n            whileTap={{ scale: 0.9 }}\n            className=\"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5 text-white\" />\n          </motion.button>\n          <motion.button\n            whileTap={{ scale: 0.9 }}\n            className=\"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center\"\n          >\n            <Phone className=\"w-5 h-5 text-white\" />\n          </motion.button>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction RecordingContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center justify-between w-full\">\n        <div className=\"flex items-center gap-2\">\n          <motion.div\n            className=\"w-2 h-2 rounded-full bg-red-500\"\n            animate={{ opacity: [1, 0.3, 1] }}\n            transition={{ duration: 1, repeat: Infinity }}\n          />\n          <Mic className=\"w-4 h-4 text-red-400\" />\n        </div>\n        <span className=\"text-white/70 text-xs font-medium\">Recording...</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction SuccessContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center gap-2\">\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\"\n        >\n          <Check className=\"w-3 h-3 text-white\" />\n        </motion.div>\n        <span className=\"text-green-400 text-xs font-medium\">Success</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction LoadingContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center gap-2\">\n        <motion.div\n          className=\"w-4 h-4 border-2 border-white/20 rounded-full\"\n          style={{ borderTopColor: 'hsl(var(--theme-primary))' }}\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n        />\n        <span className=\"text-white/50 text-xs font-medium\">Loading...</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction RalphModeContent({ ralph }: { ralph?: { iteration: number; maxIterations: number; description: string } }) {\n  const prefersReducedMotion = useReducedMotion();\n\n  if (!ralph) return null;\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center gap-3 w-full\">\n        {/* Animated icon */}\n        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0\">\n          <motion.div\n            animate={prefersReducedMotion ? {} : { rotate: 360 }}\n            transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\n          >\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\">\n              <path d=\"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83\" />\n            </svg>\n          </motion.div>\n        </div>\n\n        {/* Status text */}\n        <div className=\"flex-1 min-w-0\">\n          <DynamicTitle className=\"text-white text-sm\">\n            Refining {ralph.iteration}/{ralph.maxIterations}\n          </DynamicTitle>\n          <DynamicDescription className=\"text-white/50 text-xs truncate\">\n            {ralph.description}\n          </DynamicDescription>\n        </div>\n\n        {/* Progress indicator */}\n        <div className=\"w-8 h-8 relative flex-shrink-0\">\n          <svg className=\"w-8 h-8 -rotate-90\" viewBox=\"0 0 32 32\">\n            <circle\n              cx=\"16\"\n              cy=\"16\"\n              r=\"12\"\n              stroke=\"rgba(255,255,255,0.1)\"\n              strokeWidth=\"3\"\n              fill=\"none\"\n            />\n            <motion.circle\n              cx=\"16\"\n              cy=\"16\"\n              r=\"12\"\n              stroke=\"url(#ralph-gradient)\"\n              strokeWidth=\"3\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              strokeDasharray={75.4}\n              initial={{ strokeDashoffset: 75.4 }}\n              animate={{ strokeDashoffset: 75.4 * (1 - ralph.iteration / ralph.maxIterations) }}\n              transition={{ duration: 0.5 }}\n            />\n            <defs>\n              <linearGradient id=\"ralph-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                <stop offset=\"0%\" stopColor=\"#818cf8\" />\n                <stop offset=\"100%\" stopColor=\"#a855f7\" />\n              </linearGradient>\n            </defs>\n          </svg>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\n// ============================================================================\n// Main DynamicIsland Component\n// ============================================================================\n\ninterface DynamicIslandProps {\n  id?: string;\n  className?: string;\n  children?: ReactNode;\n}\n\nexport function DynamicIsland({ id, className = '', children }: DynamicIslandProps) {\n  const { state, expand, collapse } = useDynamicIsland();\n  const { isPlaying } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n  const [isHovered, setIsHovered] = useState(false);\n\n  const { size, contentType, notification } = state;\n  const isExpanded = ['large', 'tall', 'long', 'medium', 'ultra'].includes(size);\n  const preset = SIZE_PRESETS[size];\n\n  // Auto-expand for music when playing\n  useEffect(() => {\n    if (isPlaying && contentType === 'idle') {\n      // Don't auto-expand, just show music indicator\n    }\n  }, [isPlaying, contentType]);\n\n  // Handle hover to expand music\n  useEffect(() => {\n    if (isHovered && isPlaying && size === 'default') {\n      expand();\n    } else if (!isHovered && size === 'large' && contentType !== 'notification') {\n      collapse();\n    }\n  }, [isHovered, isPlaying, size, contentType, expand, collapse]);\n\n  const handleClick = () => {\n    if (size === 'default' || size === 'compact') {\n      expand();\n    } else {\n      collapse();\n    }\n  };\n\n  // Animation variants\n  const containerVariants: Variants = {\n    initial: {\n      width: SIZE_PRESETS.default.width,\n      height: SIZE_PRESETS.default.height,\n    },\n    animate: {\n      width: preset.width,\n      height: preset.height,\n      transition: prefersReducedMotion\n        ? { duration: 0.2 }\n        : {\n            type: 'spring',\n            stiffness: 400,\n            damping: 30,\n          },\n    },\n  };\n\n  // Render appropriate content\n  const renderContent = () => {\n    if (children) return children;\n\n    switch (contentType) {\n      case 'music':\n        return <MusicContent expanded={isExpanded} />;\n      case 'notification':\n        return <NotificationContent notification={notification} />;\n      case 'timer':\n        return <TimerContent expanded={isExpanded} />;\n      case 'call':\n        return <CallContent expanded={isExpanded} />;\n      case 'recording':\n        return <RecordingContent />;\n      case 'success':\n        return <SuccessContent />;\n      case 'loading':\n        return <LoadingContent />;\n      case 'ralph':\n        return <RalphModeContent ralph={state.ralph} />;\n      case 'provider':\n        return <ProviderContent expanded={isExpanded} />;\n      default:\n        // If music is playing, show music content\n        if (isPlaying) {\n          return <MusicContent expanded={isExpanded} />;\n        }\n        return <IdleContent />;\n    }\n  };\n\n  return (\n    <motion.div\n      id={id}\n      className={`dynamic-island relative cursor-pointer select-none ${className}`}\n      variants={containerVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n      onClick={handleClick}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      role=\"status\"\n      aria-label=\"Dynamic Island\"\n      style={{\n        transformOrigin: 'top center',\n      }}\n    >\n      {/* Background with glass effect */}\n      <motion.div\n        className=\"absolute inset-0 overflow-hidden\"\n        style={{\n          borderRadius: isExpanded ? 32 : 20,\n          background: 'linear-gradient(180deg, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.95) 100%)',\n          boxShadow: `\n            0 4px 30px rgba(0, 0, 0, 0.3),\n            inset 0 1px 0 rgba(255, 255, 255, 0.1),\n            0 0 0 1px rgba(255, 255, 255, 0.05)\n          `,\n        }}\n        layout\n      />\n\n      {/* Subtle glow effect when active */}\n      {(isPlaying || contentType !== 'idle') && !prefersReducedMotion && (\n        <motion.div\n          className=\"absolute inset-0 pointer-events-none\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 0.6 }}\n          style={{\n            borderRadius: isExpanded ? 32 : 20,\n            background: `radial-gradient(ellipse at center, hsl(var(--theme-primary) / 0.15) 0%, transparent 70%)`,\n            filter: 'blur(15px)',\n          }}\n        />\n      )}\n\n      {/* Content */}\n      <AnimatePresence mode=\"wait\">\n        <motion.div\n          key={`${size}-${contentType}`}\n          className=\"relative h-full w-full\"\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.9 }}\n          transition={{ duration: 0.15 }}\n        >\n          {renderContent()}\n        </motion.div>\n      </AnimatePresence>\n\n      {/* Expand indicator */}\n      {isExpanded && (\n        <motion.div\n          className=\"absolute -bottom-6 left-1/2 -translate-x-1/2\"\n          initial={{ opacity: 0, y: -5 }}\n          animate={{ opacity: 0.5, y: 0 }}\n          exit={{ opacity: 0 }}\n        >\n          <ChevronDown className=\"w-4 h-4 text-white/30\" />\n        </motion.div>\n      )}\n\n      {/* Breathing animation for idle state */}\n      {contentType === 'idle' && !isPlaying && !prefersReducedMotion && (\n        <motion.div\n          className=\"absolute inset-0 pointer-events-none\"\n          style={{\n            borderRadius: 20,\n            border: '1px solid rgba(255, 255, 255, 0.1)',\n          }}\n          animate={{\n            scale: [1, 1.02, 1],\n            opacity: [0.3, 0.6, 0.3],\n          }}\n          transition={{\n            duration: 3,\n            repeat: Infinity,\n            ease: 'easeInOut',\n          }}\n        />\n      )}\n    </motion.div>\n  );\n}\n\n// ============================================================================\n// Compact Version (for status bar)\n// ============================================================================\n\nexport function DynamicIslandCompact({ className = '' }: { className?: string }) {\n  const { isPlaying, currentTrack } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n\n  return (\n    <motion.div\n      className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full cursor-pointer ${className}`}\n      style={{\n        background: 'linear-gradient(180deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%)',\n        boxShadow: 'inset 0 1px 0 rgba(255, 255, 255, 0.1)',\n      }}\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n    >\n      {isPlaying ? (\n        <>\n          <motion.div\n            className=\"flex gap-0.5\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            {[...Array(3)].map((_, i) => (\n              <motion.div\n                key={i}\n                className=\"w-0.5 rounded-full\"\n                style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                animate={\n                  prefersReducedMotion\n                    ? { height: '8px' }\n                    : { height: ['4px', '10px', '4px'] }\n                }\n                transition={{\n                  duration: 0.5,\n                  repeat: Infinity,\n                  delay: i * 0.15,\n                }}\n              />\n            ))}\n          </motion.div>\n          <span className=\"text-white/70 text-xs font-medium truncate max-w-[100px]\">\n            {currentTrack.title}\n          </span>\n        </>\n      ) : (\n        <>\n          <div\n            className=\"w-1.5 h-1.5 rounded-full\"\n            style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n          />\n          <span className=\"text-white/50 text-xs font-medium\">James OS</span>\n        </>\n      )}\n    </motion.div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7479, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/gallery-images.ts"],"sourcesContent":["// Shared gallery images used across OpenClaw-OS\n// Used by: Photos app, Desktop screensaver\n\nexport const GALLERY_IMAGES = [\n  { src: 'https://2oczblkb3byymav8.public.blob.vercel-storage.com/FB394334-6F13-446C-8B43-57C993D05E01.png', alt: 'OpenClaw-OS Vision' },\n  { src: 'https://2oczblkb3byymav8.public.blob.vercel-storage.com/0505D0AD-9EBF-4675-B3AC-ABF92501F024.png', alt: 'OpenClaw-OS Workspace' },\n  { src: '/photos/aurora.jpeg', alt: 'Aurora' },\n  { src: '/photos/Corballis.jpeg', alt: 'Corballis' },\n  { src: '/photos/Donabatebeach.jpeg', alt: 'Donabate Beach' },\n  { src: '/photos/Donabatebeach2.jpeg', alt: 'Donabate Beach' },\n  { src: '/photos/Glenofthedowns.jpeg', alt: 'Glen of the Downs' },\n  { src: '/photos/Mistysunrise.jpeg', alt: 'Misty Sunrise' },\n  { src: '/photos/Nightsky.jpeg', alt: 'Night Sky' },\n  { src: '/photos/Nightskytree.jpeg', alt: 'Night Sky Tree' },\n  { src: '/photos/Portranedemense.jpeg', alt: 'Portrane Demesne' },\n  { src: '/photos/Robin.jpeg', alt: 'Robin' },\n  { src: '/photos/Skygrange.jpeg', alt: 'Sky Grange' },\n  { src: '/photos/Sunriseoverhowth.jpeg', alt: 'Sunrise over Howth' },\n  { src: '/photos/Sunriseportrane.jpeg', alt: 'Sunrise Portrane' },\n  { src: '/photos/sunsetachill.jpeg', alt: 'Sunset Achill' },\n  { src: '/photos/SunsetPortrane.jpeg', alt: 'Sunset Portrane' },\n  { src: '/photos/SunsetSalvador.jpeg', alt: 'Sunset Salvador' },\n] as const;\n\nexport type GalleryImage = typeof GALLERY_IMAGES[number];\n"],"names":[],"mappings":"AAAA,gDAAgD;AAChD,2CAA2C;;;;;AAEpC,MAAM,iBAAiB;IAC5B;QAAE,KAAK;QAAoG,KAAK;IAAqB;IACrI;QAAE,KAAK;QAAoG,KAAK;IAAwB;IACxI;QAAE,KAAK;QAAuB,KAAK;IAAS;IAC5C;QAAE,KAAK;QAA0B,KAAK;IAAY;IAClD;QAAE,KAAK;QAA8B,KAAK;IAAiB;IAC3D;QAAE,KAAK;QAA+B,KAAK;IAAiB;IAC5D;QAAE,KAAK;QAA+B,KAAK;IAAoB;IAC/D;QAAE,KAAK;QAA6B,KAAK;IAAgB;IACzD;QAAE,KAAK;QAAyB,KAAK;IAAY;IACjD;QAAE,KAAK;QAA6B,KAAK;IAAiB;IAC1D;QAAE,KAAK;QAAgC,KAAK;IAAmB;IAC/D;QAAE,KAAK;QAAsB,KAAK;IAAQ;IAC1C;QAAE,KAAK;QAA0B,KAAK;IAAa;IACnD;QAAE,KAAK;QAAiC,KAAK;IAAqB;IAClE;QAAE,KAAK;QAAgC,KAAK;IAAmB;IAC/D;QAAE,KAAK;QAA6B,KAAK;IAAgB;IACzD;QAAE,KAAK;QAA+B,KAAK;IAAkB;IAC7D;QAAE,KAAK;QAA+B,KAAK;IAAkB;CAC9D"}},
    {"offset": {"line": 7566, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/Desktop.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { useHomeScreen, defaultApps, GridItem, AppItem } from '@/context/HomeScreenContext';\nimport { useControlCenter } from '@/context/ControlCenterContext';\nimport { DraggableAppIcon } from './DraggableAppIcon';\nimport { AppFolder } from './AppFolder';\nimport { StatusBarWatch } from './StatusBarWatch';\nimport { DynamicIsland, DynamicIslandProvider } from './DynamicIsland';\nimport {\n  BookOpen,\n  Palette,\n  FileText,\n  Music,\n  Lock,\n  NotebookText,\n  Camera,\n  FolderKanban,\n  Box,\n  Layers,\n  RotateCcw,\n  Settings,\n  Waves,\n  Users,\n  Navigation,\n  Calendar,\n  Contact,\n  StickyNote,\n  CloudSun,\n  Gamepad2,\n  Terminal,\n  Sparkles,\n  Briefcase,\n  Search,\n  PenTool,\n  Smartphone,\n  Wrench,\n  NotebookPen,\n  CircleDot,\n  GraduationCap,\n  Map,\n  Clapperboard,\n  HeartPulse,\n  BookHeart,\n  UtensilsCrossed,\n  Compass,\n  Target,\n  Globe,\n  MessageSquare,\n  Infinity,\n  Shield,\n  BookOpenCheck,\n  Clock,\n  Bell,\n  Timer,\n  Rotate3d,\n  CircleUser,\n} from 'lucide-react';\nimport { Icons } from '@/components/icons';\nimport { motionConfig } from '@/components/motion/config';\nimport { useRouter } from 'next/navigation';\nimport { GALLERY_IMAGES } from '@/lib/gallery-images';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\n\n// Screensaver rotation interval (60 seconds)\nconst SCREENSAVER_INTERVAL = 60000;\n\ninterface DesktopProps {\n  isVisible: boolean;\n}\n\n// App icons using lucide-react (same style as dock)\nconst AppIconComponents: Record<string, React.ReactNode> = {\n  // Entry/Core apps\n  story: <BookOpen className=\"w-7 h-7\" />,\n  blog: <NotebookText className=\"w-7 h-7\" />,\n  design: <Palette className=\"w-7 h-7\" />,\n  resume: <FileText className=\"w-7 h-7\" />,\n\n  // Create apps\n  music: <Music className=\"w-7 h-7\" />,\n  jamz: <Waves className=\"w-7 h-7\" />,\n  prototyping: <Layers className=\"w-7 h-7\" />,\n  notes: <StickyNote className=\"w-7 h-7\" />,\n  cowrite: <PenTool className=\"w-7 h-7\" />,\n  product: <Box className=\"w-7 h-7\" />,\n  projects: <FolderKanban className=\"w-7 h-7\" />,\n  mockit: <Smartphone className=\"w-7 h-7\" />,\n\n  // Work/Hire apps\n  humans: <Users className=\"w-7 h-7\" />,\n  activity: <Briefcase className=\"w-7 h-7\" />,\n  calendar: <Calendar className=\"w-7 h-7\" />,\n  contacts: <Contact className=\"w-7 h-7\" />,\n\n  // Explore apps\n  photos: <Camera className=\"w-7 h-7\" />,\n  inspirations: <Sparkles className=\"w-7 h-7\" />,\n  way: <Navigation className=\"w-7 h-7\" />,\n\n  // Theme showcases\n  claude: null, // uses imageUrl\n  chatgpt: null, // uses imageUrl\n  utilitarian: <Wrench className=\"w-7 h-7\" />,\n  notebook: <NotebookPen className=\"w-7 h-7\" />,\n  tao: <CircleDot className=\"w-7 h-7\" />,\n  research: <GraduationCap className=\"w-7 h-7\" />,\n  'field-guide': <Map className=\"w-7 h-7\" />,\n\n  // Social/Connect apps\n  github: <Icons.github className=\"w-7 h-7\" />,\n  linkedin: <Icons.linkedin className=\"w-7 h-7\" />,\n  x: <Icons.x className=\"w-7 h-7\" />,\n\n  // Vibes/Fun apps\n  weather: <CloudSun className=\"w-7 h-7\" />,\n  games: <Gamepad2 className=\"w-7 h-7\" />,\n  terminal: <Terminal className=\"w-7 h-7\" />,\n  reels: <Clapperboard className=\"w-7 h-7\" />,\n\n  // System apps\n  skills: <Sparkles className=\"w-7 h-7\" />,\n  vault: <Lock className=\"w-7 h-7\" />,\n  settings: <Settings className=\"w-7 h-7\" />,\n  search: <Search className=\"w-7 h-7\" />,\n\n  // Neurodiversity apps\n  regulation: <HeartPulse className=\"w-7 h-7\" />,\n  journal: <BookHeart className=\"w-7 h-7\" />,\n  food: <UtensilsCrossed className=\"w-7 h-7\" />,\n  sidequests: <Compass className=\"w-7 h-7\" />,\n  hyperfocus: <Target className=\"w-7 h-7\" />,\n\n  // Research & Knowledge apps\n  'research-app': <Globe className=\"w-7 h-7\" />,\n\n  // Missing icons - added for completeness\n  agent: <Infinity className=\"w-7 h-7\" />,\n  canvas: <Layers className=\"w-7 h-7\" />,\n  messages: <MessageSquare className=\"w-7 h-7\" />,\n  '3d-gallery': <Rotate3d className=\"w-7 h-7\" />,\n  avatar: <CircleUser className=\"w-7 h-7\" />,\n  'bubble-timer': <Timer className=\"w-7 h-7\" />,\n  security: <Shield className=\"w-7 h-7\" />,\n  wiki: <BookOpenCheck className=\"w-7 h-7\" />,\n  watch: <Clock className=\"w-7 h-7\" />,\n  updates: <Bell className=\"w-7 h-7\" />,\n  browser: <Globe className=\"w-7 h-7\" />,\n  threads: null, // uses imageUrl\n};\n\n// Helper to get icon for an app\nfunction getAppIcon(appId: string): React.ReactNode {\n  return AppIconComponents[appId] || null;\n}\n\n// Enrich app with icon\nfunction enrichAppWithIcon(app: AppItem): AppItem {\n  return {\n    ...app,\n    icon: getAppIcon(app.id),\n  };\n}\n\nexport function Desktop({ isVisible }: DesktopProps) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const prefersReducedMotion = useReducedMotion();\n  const [focusedAppIndex, setFocusedAppIndex] = useState(0);\n  const { open: openControlCenter } = useControlCenter();\n  const [backgroundIndex, setBackgroundIndex] = useState(0);\n  const gridRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const {\n    gridItems,\n    isEditMode,\n    exitEditMode,\n    resetToDefault,\n  } = useHomeScreen();\n\n  const { getUnreadCountForApp, markAppNotificationsRead } = useSessionBrain();\n\n  // Handle app open - mark notifications as read\n  const handleAppOpen = useCallback((appId: string) => {\n    markAppNotificationsRead(appId);\n  }, [markAppNotificationsRead]);\n\n  // Time update\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Screensaver: rotate background every 60 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBackgroundIndex((prev) => (prev + 1) % GALLERY_IMAGES.length);\n    }, SCREENSAVER_INTERVAL);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle keyboard navigation for app grid\n  const handleGridKeyDown = useCallback((e: React.KeyboardEvent) => {\n    const columns = 4;\n    const itemCount = gridItems.length;\n    let newIndex = focusedAppIndex;\n    let handled = false;\n\n    switch (e.key) {\n      case 'ArrowRight':\n        newIndex = (focusedAppIndex + 1) % itemCount;\n        handled = true;\n        break;\n      case 'ArrowLeft':\n        newIndex = (focusedAppIndex - 1 + itemCount) % itemCount;\n        handled = true;\n        break;\n      case 'ArrowDown':\n        newIndex = Math.min(focusedAppIndex + columns, itemCount - 1);\n        handled = true;\n        break;\n      case 'ArrowUp':\n        newIndex = Math.max(focusedAppIndex - columns, 0);\n        handled = true;\n        break;\n      case 'Home':\n        newIndex = 0;\n        handled = true;\n        break;\n      case 'End':\n        newIndex = itemCount - 1;\n        handled = true;\n        break;\n      case 'Enter':\n      case ' ':\n        // Activate the focused app\n        const item = gridItems[focusedAppIndex];\n        if (item && item.type === 'app' && item.item.href) {\n          e.preventDefault();\n          router.push(item.item.href);\n        }\n        return;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      setFocusedAppIndex(newIndex);\n      // Focus the app icon\n      const icons = gridRef.current?.querySelectorAll<HTMLElement>('[data-app-icon]');\n      icons?.[newIndex]?.focus();\n    }\n  }, [focusedAppIndex, gridItems, router]);\n\n  // Close edit mode when clicking outside or pressing escape\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        if (isEditMode) {\n          exitEditMode();\n        } else {\n          // Global escape to go back\n          router.back();\n        }\n      }\n    };\n\n    const handleClickOutside = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      // Check if click is on the background area, not on icons\n      if (isEditMode && target.closest('.app-grid-container') === null && !target.closest('.edit-mode-toolbar')) {\n        exitEditMode();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('mousedown', handleClickOutside);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isEditMode, exitEditMode, router]);\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    });\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 z-20 flex flex-col\"\n      initial={prefersReducedMotion ? { opacity: 0 } : { opacity: 0, scale: 0.95, filter: 'blur(20px)' }}\n      animate={prefersReducedMotion ? { opacity: 1 } : { opacity: 1, scale: 1, filter: 'blur(0px)' }}\n      transition={prefersReducedMotion ? { duration: 0.15 } : { duration: 0.5, ease: motionConfig.ease.smooth }}\n    >\n      {/* Screensaver background with crossfade */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <AnimatePresence mode=\"sync\">\n          <motion.div\n            key={backgroundIndex}\n            className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n            style={{\n              backgroundImage: `url(${GALLERY_IMAGES[backgroundIndex].src})`,\n            }}\n            initial={{ opacity: 0, scale: 1.05 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 1.5, ease: 'easeInOut' }}\n          />\n        </AnimatePresence>\n      </div>\n\n      {/* Dark overlay for readability */}\n      <div className=\"absolute inset-0 bg-black/30\" />\n\n      {/* Edit Mode Indicator */}\n      <AnimatePresence>\n        {isEditMode && (\n          <motion.div\n            className=\"edit-mode-toolbar absolute top-20 left-1/2 z-50\"\n            initial={{ opacity: 0, y: -20, x: '-50%' }}\n            animate={{ opacity: 1, y: 0, x: '-50%' }}\n            exit={{ opacity: 0, y: -20, x: '-50%' }}\n            role=\"toolbar\"\n            aria-label=\"Edit mode controls\"\n          >\n            <LiquidGlass\n              variant=\"floating\"\n              intensity=\"medium\"\n              className=\"!px-4 !py-2 !rounded-full flex items-center gap-3\"\n              rippleEffect={false}\n            >\n              <span className=\"text-white/80 text-sm font-medium\" aria-live=\"polite\">Edit Mode</span>\n              <div className=\"w-px h-4 bg-white/20\" aria-hidden=\"true\" />\n              <button\n                onClick={resetToDefault}\n                className=\"text-white/60 hover:text-white transition-colors flex items-center gap-1.5 text-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-md px-2 py-1\"\n                aria-label=\"Reset to default layout\"\n              >\n                <RotateCcw className=\"w-3.5 h-3.5\" aria-hidden=\"true\" />\n                Reset\n              </button>\n              <button\n                onClick={exitEditMode}\n                className=\"text-white/90 hover:text-white transition-colors text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-md px-2 py-1\"\n                aria-label=\"Exit edit mode\"\n              >\n                Done\n              </button>\n            </LiquidGlass>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Status Bar - iPhone style with Dynamic Island */}\n      <DynamicIslandProvider>\n        <motion.header\n          className=\"relative z-30 flex items-start justify-between px-6 pt-3 pb-2 text-white/80\"\n          initial={prefersReducedMotion ? false : { opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={prefersReducedMotion ? { duration: 0.15 } : { delay: 0.2 }}\n          role=\"banner\"\n          aria-label=\"System status bar\"\n        >\n          {/* Left - Watch */}\n          <StatusBarWatch />\n\n          {/* Center - Dynamic Island (prominent, like iPhone) */}\n          <div className=\"flex-1 flex justify-center -mt-1\">\n            <DynamicIsland className=\"z-50\" />\n          </div>\n\n          {/* Right - Tap area to open Control Center (icons are inside the shelf) */}\n          <button\n            onClick={openControlCenter}\n            className=\"w-16 h-8 flex items-center justify-end pt-2\"\n            aria-label=\"Open Control Center\"\n          >\n            {/* Subtle grip indicator */}\n            <div className=\"w-1 h-4 rounded-full bg-white/20\" />\n          </button>\n        </motion.header>\n      </DynamicIslandProvider>\n\n      {/* Main Content Area */}\n      <div className=\"relative z-10 flex-1 flex flex-col items-center justify-center px-6 pb-24\">\n        {/* Welcome Message */}\n        <motion.div\n          className=\"text-center mb-12\"\n          initial={prefersReducedMotion ? false : { opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={prefersReducedMotion ? { duration: 0.15 } : { delay: 0.15 }}\n        >\n          <h1 className=\"text-white text-3xl sm:text-4xl font-bold mb-2\">\n            Welcome to OpenClaw-OS\n          </h1>\n          <p className=\"text-white/50 text-sm sm:text-base\">\n            {isEditMode ? 'Long press and drag to rearrange â€¢ Drag icon onto another to create folder' : 'Explore my world'}\n          </p>\n        </motion.div>\n\n        {/* App Grid - 4 columns, 3 rows with folders */}\n        <div\n          ref={gridRef}\n          className=\"app-grid-container grid grid-cols-4 gap-4 sm:gap-6 max-w-md sm:max-w-lg\"\n          role=\"grid\"\n          aria-label=\"Application grid\"\n          onKeyDown={handleGridKeyDown}\n        >\n          {gridItems.map((gridItem, index) => {\n            if (gridItem.type === 'folder') {\n              return (\n                <AppFolder\n                  key={gridItem.item.id}\n                  folder={{\n                    ...gridItem.item,\n                    apps: gridItem.item.apps.map(enrichAppWithIcon),\n                  }}\n                  index={index}\n                  delay={0.1}\n                />\n              );\n            } else {\n              const app = enrichAppWithIcon(gridItem.item);\n              return (\n                <DraggableAppIcon\n                  key={app.id}\n                  app={app}\n                  index={index}\n                  delay={0.1}\n                  tabIndex={index === focusedAppIndex ? 0 : -1}\n                  onFocus={() => setFocusedAppIndex(index)}\n                  notificationCount={getUnreadCountForApp(app.id)}\n                  onAppOpen={handleAppOpen}\n                />\n              );\n            }\n          })}\n        </div>\n      </div>\n\n      {/* Bottom Safe Area for Dock */}\n      <div className=\"h-24\" />\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8539, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/IOSHome.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { LockScreen } from './LockScreen';\nimport { Desktop } from './Desktop';\nimport { HomeScreenProvider } from '@/context/HomeScreenContext';\nimport { GALLERY_IMAGES } from '@/lib/gallery-images';\n\nconst UNLOCK_KEY = 'openclaw_unlocked';\n\n// Preload images in the background\nfunction preloadImages(urls: string[]): Promise<void[]> {\n  return Promise.all(\n    urls.map(\n      (url) =>\n        new Promise<void>((resolve) => {\n          const img = new Image();\n          img.onload = () => resolve();\n          img.onerror = () => resolve(); // Don't block on errors\n          img.src = url;\n        })\n    )\n  );\n}\n\nfunction IOSHomeContent() {\n  const [isLocked, setIsLocked] = useState(true);\n  const [showDesktop, setShowDesktop] = useState(false);\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [backgroundReady, setBackgroundReady] = useState(false);\n\n  // Check sessionStorage on mount to restore unlock state\n  useEffect(() => {\n    const wasUnlocked = sessionStorage.getItem(UNLOCK_KEY) === 'true';\n    if (wasUnlocked) {\n      setIsLocked(false);\n      setShowDesktop(true);\n    }\n    setIsHydrated(true);\n\n    // Preload home screen backgrounds in parallel\n    const imagesToPreload = [\n      '/openclaw-logo.png',\n      ...GALLERY_IMAGES.slice(0, 3).map((img) => img.src),\n    ];\n    preloadImages(imagesToPreload);\n  }, []);\n\n  // Callback when 3D background is ready\n  const handleBackgroundReady = useCallback(() => {\n    setBackgroundReady(true);\n  }, []);\n\n  const handleUnlock = () => {\n    setIsLocked(false);\n    sessionStorage.setItem(UNLOCK_KEY, 'true');\n    // Small delay before showing desktop for smooth transition\n    setTimeout(() => {\n      setShowDesktop(true);\n    }, 100);\n  };\n\n  // Allow re-locking with Escape key (for demo purposes)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && !isLocked) {\n        setShowDesktop(false);\n        sessionStorage.removeItem(UNLOCK_KEY);\n        setTimeout(() => {\n          setIsLocked(true);\n          setBackgroundReady(false);\n        }, 300);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [isLocked]);\n\n  // Don't render until hydrated to avoid flash\n  if (!isHydrated) {\n    return (\n      <div className=\"min-h-screen bg-slate-950\">\n        {/* Show a dark background while hydrating - matches tunnel start */}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 overflow-hidden\">\n      <AnimatePresence mode=\"wait\">\n        {isLocked && (\n          <motion.div\n            key=\"lockscreen\"\n            exit={{\n              opacity: 0,\n              scale: 1.02,\n              filter: 'blur(20px)',\n              y: -30,\n            }}\n            transition={{\n              duration: 0.4,\n              ease: [0.23, 1, 0.32, 1],\n            }}\n          >\n            <LockScreen\n              onUnlock={handleUnlock}\n              onBackgroundReady={handleBackgroundReady}\n              backgroundReady={backgroundReady}\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <Desktop isVisible={showDesktop} />\n    </div>\n  );\n}\n\nexport function IOSHome() {\n  return (\n    <HomeScreenProvider>\n      <IOSHomeContent />\n    </HomeScreenProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,aAAa;AAEnB,mCAAmC;AACnC,SAAS,cAAc,IAAc;IACnC,OAAO,QAAQ,GAAG,CAChB,KAAK,GAAG,CACN,CAAC,MACC,IAAI,QAAc,CAAC;YACjB,MAAM,MAAM,IAAI;YAChB,IAAI,MAAM,GAAG,IAAM;YACnB,IAAI,OAAO,GAAG,IAAM,WAAW,wBAAwB;YACvD,IAAI,GAAG,GAAG;QACZ;AAGR;AAEA,SAAS;;IACP,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kXAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,kXAAQ,EAAC;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,kXAAQ,EAAC;IAEvD,wDAAwD;IACxD,IAAA,mXAAS;oCAAC;YACR,MAAM,cAAc,eAAe,OAAO,CAAC,gBAAgB;YAC3D,IAAI,aAAa;gBACf,YAAY;gBACZ,eAAe;YACjB;YACA,cAAc;YAEd,8CAA8C;YAC9C,MAAM,kBAAkB;gBACtB;mBACG,oJAAc,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG;gDAAC,CAAC,MAAQ,IAAI,GAAG;;aACnD;YACD,cAAc;QAChB;mCAAG,EAAE;IAEL,uCAAuC;IACvC,MAAM,wBAAwB,IAAA,qXAAW;6DAAC;YACxC,mBAAmB;QACrB;4DAAG,EAAE;IAEL,MAAM,eAAe;QACnB,YAAY;QACZ,eAAe,OAAO,CAAC,YAAY;QACnC,2DAA2D;QAC3D,WAAW;YACT,eAAe;QACjB,GAAG;IACL;IAEA,uDAAuD;IACvD,IAAA,mXAAS;oCAAC;YACR,MAAM;0DAAgB,CAAC;oBACrB,IAAI,EAAE,GAAG,KAAK,YAAY,CAAC,UAAU;wBACnC,eAAe;wBACf,eAAe,UAAU,CAAC;wBAC1B;sEAAW;gCACT,YAAY;gCACZ,mBAAmB;4BACrB;qEAAG;oBACL;gBACF;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;4CAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;mCAAG;QAAC;KAAS;IAEb,6CAA6C;IAC7C,IAAI,CAAC,YAAY;QACf,qBACE,sYAAC;YAAI,WAAU;;;;;;IAInB;IAEA,qBACE,sYAAC;QAAI,WAAU;;0BACb,sYAAC,2VAAe;gBAAC,MAAK;0BACnB,0BACC,sYAAC,mVAAM,CAAC,GAAG;oBAET,MAAM;wBACJ,SAAS;wBACT,OAAO;wBACP,QAAQ;wBACR,GAAG,CAAC;oBACN;oBACA,YAAY;wBACV,UAAU;wBACV,MAAM;4BAAC;4BAAM;4BAAG;4BAAM;yBAAE;oBAC1B;8BAEA,cAAA,sYAAC,wJAAU;wBACT,UAAU;wBACV,mBAAmB;wBACnB,iBAAiB;;;;;;mBAff;;;;;;;;;;0BAqBV,sYAAC,kJAAO;gBAAC,WAAW;;;;;;;;;;;;AAG1B;GA5FS;KAAA;AA8FF,SAAS;IACd,qBACE,sYAAC,6JAAkB;kBACjB,cAAA,sYAAC;;;;;;;;;;AAGP;MANgB"}},
    {"offset": {"line": 8724, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/AppIcon.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\ninterface AppIconProps {\n  name: string;\n  href?: string;\n  icon?: React.ReactNode;\n  imageUrl?: string;\n  gradient: string;\n  delay?: number;\n  external?: boolean;\n  onClick?: () => void;\n}\n\n// Store transition origin for page animations\nexport const APP_TRANSITION_KEY = 'openclaw_appTransition';\n\nexport function AppIcon({ name, href, icon, imageUrl, gradient, delay = 0, external, onClick }: AppIconProps) {\n  const iconRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.preventDefault();\n\n    // Custom onClick handler (e.g., for Claw AI chat)\n    if (onClick) {\n      onClick();\n      return;\n    }\n\n    // External links open in new tab\n    if (external && href) {\n      window.open(href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Internal navigation with transition\n    if (href) {\n      if (iconRef.current) {\n        const rect = iconRef.current.getBoundingClientRect();\n        const transitionData = {\n          x: rect.left + rect.width / 2,\n          y: rect.top + rect.height / 2,\n          width: rect.width,\n          height: rect.height,\n          gradient,\n          timestamp: Date.now(),\n        };\n        sessionStorage.setItem(APP_TRANSITION_KEY, JSON.stringify(transitionData));\n      }\n      router.push(href);\n    }\n  }, [href, gradient, router, external, onClick]);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.5, y: 20 }}\n      animate={{ opacity: 1, scale: 1, y: 0 }}\n      transition={{\n        delay,\n        type: 'spring',\n        stiffness: 300,\n        damping: 20,\n      }}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      className=\"flex flex-col items-center gap-2\"\n    >\n      <div\n        ref={iconRef}\n        onClick={handleClick}\n        className=\"block cursor-pointer\"\n      >\n        <div\n          className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: imageUrl ? 'transparent' : gradient }}\n        >\n          {imageUrl ? (\n            /* Custom image icon */\n            <img\n              src={imageUrl}\n              alt={name}\n              className=\"w-full h-full object-cover\"\n            />\n          ) : (\n            <>\n              {/* Glass overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n\n              {/* Icon */}\n              <div className=\"relative z-10 text-white\">\n                {icon}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <span className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate\">\n        {name}\n      </span>\n    </motion.div>\n  );\n}\n\n// Custom SVG Icons with iOS-style aesthetics\nexport const AppIcons = {\n  // Story icon - open book\n  Story: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M6 8C6 6.89543 6.89543 6 8 6H14C15.1046 6 16 6.89543 16 8V26C16 26 14 24 10 24C6 24 6 26 6 26V8Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <path\n        d=\"M26 8C26 6.89543 25.1046 6 24 6H18C16.8954 6 16 6.89543 16 8V26C16 26 18 24 22 24C26 24 26 26 26 26V8Z\"\n        fill=\"white\"\n        fillOpacity=\"0.7\"\n      />\n      <path d=\"M9 11H13M9 15H13M9 19H11\" stroke=\"currentColor\" strokeOpacity=\"0.3\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n      <path d=\"M19 11H23M19 15H23M21 19H23\" stroke=\"currentColor\" strokeOpacity=\"0.3\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Design icon - palette/brush\n  Design: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"16\" cy=\"16\" r=\"11\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"12\" cy=\"11\" r=\"2.5\" fill=\"#FF6B6B\" />\n      <circle cx=\"20\" cy=\"11\" r=\"2.5\" fill=\"#4ECDC4\" />\n      <circle cx=\"11\" cy=\"18\" r=\"2.5\" fill=\"#45B7D1\" />\n      <circle cx=\"19\" cy=\"19\" r=\"2.5\" fill=\"#96CEB4\" />\n      <circle cx=\"16\" cy=\"16\" r=\"3\" fill=\"white\" />\n    </svg>\n  ),\n\n  // Resume icon - document with person\n  Resume: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"7\" y=\"4\" width=\"18\" height=\"24\" rx=\"2\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"16\" cy=\"12\" r=\"4\" fill=\"currentColor\" fillOpacity=\"0.2\" />\n      <path\n        d=\"M10 24C10 20.6863 12.6863 18 16 18C19.3137 18 22 20.6863 22 24\"\n        stroke=\"currentColor\"\n        strokeOpacity=\"0.2\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  ),\n\n  // Music icon - note with waves\n  Music: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"11\" cy=\"22\" r=\"4\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"23\" cy=\"19\" r=\"4\" fill=\"white\" fillOpacity=\"0.7\" />\n      <path d=\"M15 22V8L27 5V19\" stroke=\"white\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path d=\"M5 12C7 10 9 10 11 12\" stroke=\"white\" strokeOpacity=\"0.5\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n      <path d=\"M3 16C6 13 8 13 11 16\" stroke=\"white\" strokeOpacity=\"0.3\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Jamz Studio icon - DAW waveform with mixing board aesthetic\n  Jamz: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* Main waveform bars */}\n      <rect x=\"4\" y=\"14\" width=\"3\" height=\"8\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.9\" />\n      <rect x=\"9\" y=\"10\" width=\"3\" height=\"16\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.85\" />\n      <rect x=\"14\" y=\"6\" width=\"3\" height=\"24\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.95\" />\n      <rect x=\"19\" y=\"11\" width=\"3\" height=\"14\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.8\" />\n      <rect x=\"24\" y=\"13\" width=\"3\" height=\"10\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.9\" />\n      {/* Mixing knob accents */}\n      <circle cx=\"7\" cy=\"26\" r=\"2\" fill=\"white\" fillOpacity=\"0.6\" />\n      <circle cx=\"16\" cy=\"26\" r=\"2\" fill=\"white\" fillOpacity=\"0.6\" />\n      <circle cx=\"25\" cy=\"26\" r=\"2\" fill=\"white\" fillOpacity=\"0.6\" />\n      {/* Top accent line */}\n      <path d=\"M4 4H28\" stroke=\"white\" strokeOpacity=\"0.4\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Vault icon - lock with shield\n  Vault: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M16 4L6 8V14C6 21.732 10.268 27.268 16 28C21.732 27.268 26 21.732 26 14V8L16 4Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <rect x=\"12\" y=\"14\" width=\"8\" height=\"8\" rx=\"1\" fill=\"currentColor\" fillOpacity=\"0.25\" />\n      <path d=\"M14 14V12C14 10.8954 14.8954 10 16 10C17.1046 10 18 10.8954 18 12V14\" stroke=\"currentColor\" strokeOpacity=\"0.3\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <circle cx=\"16\" cy=\"18\" r=\"1\" fill=\"currentColor\" fillOpacity=\"0.4\" />\n    </svg>\n  ),\n\n  // Blog icon - pencil with lines\n  Blog: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"6\" y=\"6\" width=\"20\" height=\"20\" rx=\"3\" fill=\"white\" fillOpacity=\"0.9\" />\n      <path d=\"M10 12H22\" stroke=\"currentColor\" strokeOpacity=\"0.2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path d=\"M10 16H22\" stroke=\"currentColor\" strokeOpacity=\"0.2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path d=\"M10 20H17\" stroke=\"currentColor\" strokeOpacity=\"0.2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path\n        d=\"M20 17L24 13L27 16L23 20L20 21L20 17Z\"\n        fill=\"#FFB347\"\n        stroke=\"#FFB347\"\n        strokeWidth=\"0.5\"\n      />\n    </svg>\n  ),\n\n  // Lab icon - beaker with bubbles\n  Lab: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M12 6H20V12L26 26H6L12 12V6Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <path d=\"M12 6H20\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path\n        d=\"M9 20H23L26 26H6L9 20Z\"\n        fill=\"#A78BFA\"\n        fillOpacity=\"0.5\"\n      />\n      <circle cx=\"12\" cy=\"22\" r=\"1.5\" fill=\"white\" fillOpacity=\"0.8\" />\n      <circle cx=\"16\" cy=\"23\" r=\"1\" fill=\"white\" fillOpacity=\"0.6\" />\n      <circle cx=\"19\" cy=\"21\" r=\"1.5\" fill=\"white\" fillOpacity=\"0.7\" />\n    </svg>\n  ),\n\n  // Settings icon - gear\n  Settings: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M16 6L18.5 8.5L22 8L24 12L22 14.5V17.5L24 20L22 24L18.5 23.5L16 26L13.5 23.5L10 24L8 20L10 17.5V14.5L8 12L10 8L13.5 8.5L16 6Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <circle cx=\"16\" cy=\"16\" r=\"4\" fill=\"currentColor\" fillOpacity=\"0.2\" />\n    </svg>\n  ),\n\n  // Humans icon - people silhouettes for people search\n  Humans: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* Main person in center */}\n      <circle cx=\"16\" cy=\"10\" r=\"4\" fill=\"white\" fillOpacity=\"0.95\" />\n      <path\n        d=\"M10 24C10 20.134 12.686 17 16 17C19.314 17 22 20.134 22 24\"\n        stroke=\"white\"\n        strokeOpacity=\"0.95\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n      />\n      {/* Person on left */}\n      <circle cx=\"7\" cy=\"12\" r=\"2.5\" fill=\"white\" fillOpacity=\"0.6\" />\n      <path\n        d=\"M3 22C3 19.5 4.8 17.5 7 17.5C9.2 17.5 11 19.5 11 22\"\n        stroke=\"white\"\n        strokeOpacity=\"0.5\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      {/* Person on right */}\n      <circle cx=\"25\" cy=\"12\" r=\"2.5\" fill=\"white\" fillOpacity=\"0.6\" />\n      <path\n        d=\"M21 22C21 19.5 22.8 17.5 25 17.5C27.2 17.5 29 19.5 29 22\"\n        stroke=\"white\"\n        strokeOpacity=\"0.5\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      {/* Search magnifier accent */}\n      <circle cx=\"24\" cy=\"8\" r=\"3\" stroke=\"white\" strokeOpacity=\"0.8\" strokeWidth=\"1.5\" fill=\"none\" />\n      <path d=\"M26.5 10.5L28.5 12.5\" stroke=\"white\" strokeOpacity=\"0.8\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Canvas icon - infinite canvas with shapes and grid\n  Canvas: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* Grid background suggesting infinite canvas */}\n      <rect x=\"4\" y=\"4\" width=\"24\" height=\"24\" rx=\"3\" fill=\"white\" fillOpacity=\"0.15\" />\n      {/* Grid lines */}\n      <path d=\"M10 4V28M16 4V28M22 4V28\" stroke=\"white\" strokeOpacity=\"0.2\" strokeWidth=\"0.5\" />\n      <path d=\"M4 10H28M4 16H28M4 22H28\" stroke=\"white\" strokeOpacity=\"0.2\" strokeWidth=\"0.5\" />\n      {/* Creative shapes on canvas */}\n      <rect x=\"7\" y=\"7\" width=\"6\" height=\"6\" rx=\"1\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"22\" cy=\"10\" r=\"4\" fill=\"white\" fillOpacity=\"0.8\" />\n      <path d=\"M8 19L12 25H4L8 19Z\" fill=\"white\" fillOpacity=\"0.85\" />\n      {/* Connection line suggesting flow */}\n      <path d=\"M13 10H18\" stroke=\"white\" strokeOpacity=\"0.6\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeDasharray=\"2 2\" />\n      <path d=\"M12 22L18 15\" stroke=\"white\" strokeOpacity=\"0.6\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeDasharray=\"2 2\" />\n      {/* Sticky note / text block */}\n      <rect x=\"17\" y=\"17\" width=\"9\" height=\"7\" rx=\"1\" fill=\"white\" fillOpacity=\"0.9\" />\n      <path d=\"M19 20H24M19 23H22\" stroke=\"currentColor\" strokeOpacity=\"0.25\" strokeWidth=\"1\" strokeLinecap=\"round\" />\n      {/* Pencil cursor accent */}\n      <path d=\"M25 5L27 7L24 10L22 8L25 5Z\" fill=\"#FFB347\" />\n    </svg>\n  ),\n};\n\n// Gradient presets for icons - uses theme variables where appropriate\nexport const AppGradients = {\n  story: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n  design: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n  resume: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n  music: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n  // Jamz uses theme gradient for consistency\n  jamz: 'linear-gradient(135deg, hsl(var(--theme-primary, 262 83% 58%)) 0%, hsl(var(--theme-accent, 187 94% 43%)) 100%)',\n  vault: 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)',\n  blog: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',\n  lab: 'linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)',\n  // Settings uses theme gradient\n  settings: 'linear-gradient(135deg, hsl(var(--theme-primary, 262 83% 58%)) 0%, hsl(var(--theme-accent, 187 94% 43%)) 100%)',\n  claude: 'linear-gradient(135deg, #D97757 0%, #B8523A 100%)',\n  chatgpt: 'linear-gradient(135deg, #74AA9C 0%, #5A9086 100%)',\n  humans: 'linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)',\n  // Canvas - purple to cyan for creative/infinite feel\n  canvas: 'linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%)',\n};\n\n// Custom image URLs for app icons\nexport const AppImages = {\n  story: '/storyapp.svg',\n  design: '/designapp.svg',\n  resume: '/resumeapp.svg',\n  music: '/musicapp.svg',\n  vault: '/vaultapp.svg',\n  blog: '/blogapp.svg',\n  claude: '/claudeapp.svg',\n  chatgpt: '/chatgptapp.svg',\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9775, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/PageTransition.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, ReactNode, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { APP_TRANSITION_KEY } from './AppIcon';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface PageTransitionProps {\n  children: ReactNode;\n}\n\ninterface TransitionData {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  gradient: string;\n  timestamp: number;\n}\n\nexport function PageTransition({ children }: PageTransitionProps) {\n  const [transitionData, setTransitionData] = useState<TransitionData | null>(null);\n  const [showContent, setShowContent] = useState(false);\n  const [isHydrated, setIsHydrated] = useState(false);\n  // Store window dimensions safely in state to avoid SSR issues\n  const [windowDimensions, setWindowDimensions] = useState({ width: 1920, height: 1080 });\n\n  useEffect(() => {\n    // Safely capture window dimensions on client\n    setWindowDimensions({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n\n    // Check for stored transition data\n    const stored = sessionStorage.getItem(APP_TRANSITION_KEY);\n    if (stored) {\n      try {\n        const data = JSON.parse(stored) as TransitionData;\n        // Only use if recent (within last 2 seconds)\n        if (Date.now() - data.timestamp < 2000) {\n          setTransitionData(data);\n          // Clear it so it doesn't replay on refresh\n          sessionStorage.removeItem(APP_TRANSITION_KEY);\n        }\n      } catch (e) {\n        // Invalid data, ignore\n      }\n    }\n    setIsHydrated(true);\n\n    // Show content after a brief delay for animation\n    const timer = setTimeout(() => {\n      setShowContent(true);\n    }, 50);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Compute animation scale safely using state values\n  const animationScale = useMemo(() => {\n    if (!transitionData || transitionData.width === 0) return 50;\n    return Math.max(windowDimensions.width, windowDimensions.height) / transitionData.width * 2.5;\n  }, [transitionData, windowDimensions]);\n\n  if (!isHydrated) {\n    return null;\n  }\n\n  // If we have transition data, animate from the icon position\n  if (transitionData) {\n    return (\n      <>\n        {/* Expanding circle animation */}\n        <motion.div\n          className=\"fixed inset-0 z-50 pointer-events-none\"\n          initial={{ opacity: 1 }}\n          animate={{ opacity: 0 }}\n          transition={{ duration: motionConfig.duration.normal, delay: 0.3 }}\n        >\n          <motion.div\n            className=\"absolute rounded-[20px]\"\n            style={{\n              background: transitionData.gradient,\n              left: transitionData.x - transitionData.width / 2,\n              top: transitionData.y - transitionData.height / 2,\n              width: transitionData.width,\n              height: transitionData.height,\n            }}\n            initial={{\n              scale: 1,\n              borderRadius: '20px',\n            }}\n            animate={{\n              scale: animationScale,\n              borderRadius: '0px',\n            }}\n            transition={{\n              duration: motionConfig.duration.slow,\n              ease: motionConfig.ease.smooth,\n            }}\n          />\n        </motion.div>\n\n        {/* Page content */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{\n            ...springs.smooth,\n            delay: 0.15,\n          }}\n        >\n          {children}\n        </motion.div>\n      </>\n    );\n  }\n\n  // No transition data, just fade in\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={springs.smooth}\n    >\n      {children}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAoBO,SAAS,eAAe,EAAE,QAAQ,EAAuB;;IAC9D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,kXAAQ,EAAwB;IAC5E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,kXAAQ,EAAC;IAC7C,8DAA8D;IAC9D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,kXAAQ,EAAC;QAAE,OAAO;QAAM,QAAQ;IAAK;IAErF,IAAA,mXAAS;oCAAC;YACR,6CAA6C;YAC7C,oBAAoB;gBAClB,OAAO,OAAO,UAAU;gBACxB,QAAQ,OAAO,WAAW;YAC5B;YAEA,mCAAmC;YACnC,MAAM,SAAS,eAAe,OAAO,CAAC,6JAAkB;YACxD,IAAI,QAAQ;gBACV,IAAI;oBACF,MAAM,OAAO,KAAK,KAAK,CAAC;oBACxB,6CAA6C;oBAC7C,IAAI,KAAK,GAAG,KAAK,KAAK,SAAS,GAAG,MAAM;wBACtC,kBAAkB;wBAClB,2CAA2C;wBAC3C,eAAe,UAAU,CAAC,6JAAkB;oBAC9C;gBACF,EAAE,OAAO,GAAG;gBACV,uBAAuB;gBACzB;YACF;YACA,cAAc;YAEd,iDAAiD;YACjD,MAAM,QAAQ;kDAAW;oBACvB,eAAe;gBACjB;iDAAG;YAEH;4CAAO,IAAM,aAAa;;QAC5B;mCAAG,EAAE;IAEL,oDAAoD;IACpD,MAAM,iBAAiB,IAAA,iXAAO;kDAAC;YAC7B,IAAI,CAAC,kBAAkB,eAAe,KAAK,KAAK,GAAG,OAAO;YAC1D,OAAO,KAAK,GAAG,CAAC,iBAAiB,KAAK,EAAE,iBAAiB,MAAM,IAAI,eAAe,KAAK,GAAG;QAC5F;iDAAG;QAAC;QAAgB;KAAiB;IAErC,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,6DAA6D;IAC7D,IAAI,gBAAgB;QAClB,qBACE;;8BAEE,sYAAC,mVAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,YAAY;wBAAE,UAAU,wJAAY,CAAC,QAAQ,CAAC,MAAM;wBAAE,OAAO;oBAAI;8BAEjE,cAAA,sYAAC,mVAAM,CAAC,GAAG;wBACT,WAAU;wBACV,OAAO;4BACL,YAAY,eAAe,QAAQ;4BACnC,MAAM,eAAe,CAAC,GAAG,eAAe,KAAK,GAAG;4BAChD,KAAK,eAAe,CAAC,GAAG,eAAe,MAAM,GAAG;4BAChD,OAAO,eAAe,KAAK;4BAC3B,QAAQ,eAAe,MAAM;wBAC/B;wBACA,SAAS;4BACP,OAAO;4BACP,cAAc;wBAChB;wBACA,SAAS;4BACP,OAAO;4BACP,cAAc;wBAChB;wBACA,YAAY;4BACV,UAAU,wJAAY,CAAC,QAAQ,CAAC,IAAI;4BACpC,MAAM,wJAAY,CAAC,IAAI,CAAC,MAAM;wBAChC;;;;;;;;;;;8BAKJ,sYAAC,mVAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAK;oBACnC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBACV,GAAG,mJAAO,CAAC,MAAM;wBACjB,OAAO;oBACT;8BAEC;;;;;;;;IAIT;IAEA,mCAAmC;IACnC,qBACE,sYAAC,mVAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY,mJAAO,CAAC,MAAM;kBAEzB;;;;;;AAGP;GA7GgB;KAAA"}},
    {"offset": {"line": 9946, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/PageTransitionWrapper.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { PageTransition } from './PageTransition';\n\ninterface PageTransitionWrapperProps {\n  children: ReactNode;\n}\n\nexport function PageTransitionWrapper({ children }: PageTransitionWrapperProps) {\n  return <PageTransition>{children}</PageTransition>;\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,SAAS,sBAAsB,EAAE,QAAQ,EAA8B;IAC5E,qBAAO,sYAAC,gKAAc;kBAAE;;;;;;AAC1B;KAFgB"}},
    {"offset": {"line": 9974, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/index.ts"],"sourcesContent":["export { IOSHome } from './IOSHome';\nexport { LockScreen } from './LockScreen';\nexport { Desktop } from './Desktop';\nexport { AppIcon, AppIcons, AppGradients, AppImages, APP_TRANSITION_KEY } from './AppIcon';\nexport { PageTransition } from './PageTransition';\nexport { PageTransitionWrapper } from './PageTransitionWrapper';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 9994, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/app/story/page.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useState } from 'react';\nimport { motion, useScroll, useTransform, useReducedMotion } from 'framer-motion';\nimport Link from 'next/link';\nimport { ArrowLeft, ChevronDown } from 'lucide-react';\nimport {\n  InView,\n  TextEffect,\n  FadeIn,\n  FadeInUp,\n  FadeInBlur,\n  AnimatedGroup\n} from '@/components/motion';\nimport { PageTransition } from '@/components/ios';\n\nconst BLUR_FADE_DELAY = 0.04;\n\ninterface Chapter {\n  id: string;\n  title: string;\n  subtitle: string;\n  content: string[];\n  emoji: string;\n  highlight?: string;\n}\n\nconst chapters: Chapter[] = [\n  {\n    id: 'origin',\n    title: 'The Origin',\n    subtitle: 'Dreams of changing the world through music',\n    emoji: 'ðŸŽ¸',\n    highlight: 'Musician â†’ Entrepreneur',\n    content: [\n      \"I started out as a musician, full of dreams about changing the world through music. My band, ReLOVEution, and I spent several years working together and ultimately released an album ðŸ’¿. I lived in Brazil for two years, from December 2009 to December 2011, fully immersed in that chapter of my life.\",\n      \"After that, I spent the first half of 2012 back home in Ireland before returning to Brazil later that year to get married. It was during this period that I began working in teaching, with entrepreneurship always close at hand and a growing interest in technology from day one.\",\n      \"Being self-employed in Brazil is a harsh education. Survival depends on constantly evolving your skills, sharpening your output, and finding ways to create real momentum. I did exactly that.\",\n    ],\n  },\n  {\n    id: 'pivot',\n    title: 'The Pivot',\n    subtitle: 'Studies, trade, and building foundations',\n    emoji: 'ðŸ‡®ðŸ‡ª',\n    highlight: '2015-2018',\n    content: [\n      \"I started studying Systems Analysis & Development while still in Brazil, and picked up international trade work with Financial Way Group, a Polish company. In December 2015, I moved back to Ireland for good,continuing my studies remotely and later adding Software Entrepreneurship & Startup Creation.\",\n      \"Then came TOMRA, an R&D engineering company where I worked in business development for the Latin American market and technical documentation alongside the engineers. Great fun, and I learned how to bridge the gap between technical teams and business strategy.\",\n      \"After that, I joined Dublin City University's NICB as Facilities Engineer,keeping cutting-edge laboratory equipment running. High-stakes, detail-oriented work that taught me precision matters. Each role was building toward something bigger, though I didn't fully see it yet.\",\n    ],\n  },\n  {\n    id: 'nicholas',\n    title: 'The Catalyst',\n    subtitle: 'When everything changed',\n    emoji: 'ðŸ‘¶',\n    highlight: 'January 2018',\n    content: [\n      \"My son Nicholas was born in January 2018. He is autistic, and becoming his father forced a deeper level of honesty with myself. I never wanted to reach a point where he might ask me what I do for a living and I'd have to justify doing something I didn't truly love.\",\n      \"So I took the plunge. A brief stint at Amazon, then joining a startup where I met two future cofounders. We left to build something of our own.\",\n      \"From that moment on, I dedicated myself to evolving fast and deeply enough to be genuinely competent in both the creative arts and in building software startups, spanning product design and AI. Creativity didn't disappear. It leveled up.\",\n    ],\n  },\n  {\n    id: 'voala',\n    title: 'The Startup Years',\n    subtitle: 'Building through the storm',\n    emoji: 'ðŸ¥½',\n    highlight: 'Founder & CPO',\n    content: [\n      \"We started as a team of three cofounders. Eventually they moved on, and I rebranded to VoalÃ¡ Immersive Technology,my startup journey for a good long stretch.\",\n      \"Then the pandemic hit. Trying to sell virtual try-ons to retailers while simultaneously building the product was brutal. But it was also an amazing experience and crash course in every aspect of startups. I wore every hat,product vision, software development, fundraising, go-to-market strategy.\",\n      \"The startup didn't become a unicorn, but it made me who I am. I emerged knowing how to take a vision from napkin sketch to working product. That skill has defined every role since.\",\n    ],\n  },\n  {\n    id: 'evolution',\n    title: 'The Evolution',\n    subtitle: 'Product leadership across industries',\n    emoji: 'ðŸ¦‹',\n    highlight: 'ESW â†’ Emergegen â†’ MarketSizer â†’ MiAI Law',\n    content: [\n      \"After VoalÃ¡, I brought startup intensity to established companies. At Vstage, I revitalized their product capabilities by building an entirely new AR product line. At ESW, I designed AI workshops that shaped strategic decisions for the organization.\",\n      \"As CPO at Emergegen AI, I directed AI roadmaps across financial and music sectors. Then at MarketSizer, I accelerated product strategy and growth initiatives, using real user data to drive continuous improvement. At MiAI Law, I built AI-powered legal research tools for top-tier Australian law firms, seeing firsthand how AI can transform entire industries.\",\n      \"Each role added new perspective: enterprise scale at ESW, cross-industry AI at Emergegen, growth strategy at MarketSizer, legal tech complexity at MiAI Law. The through-line? Always translating complex ideas into products that actually work for real people.\",\n    ],\n  },\n  {\n    id: 'neurodiversity',\n    title: 'The Perspective',\n    subtitle: 'Neurodiversity as superpower',\n    emoji: 'ðŸ§ ',\n    highlight: 'Autism Innovation Advisory',\n    content: [\n      \"I'm autistic. For years I didn't know it. Now I understand that my different way of processing the world, the pattern recognition, the deep focus, the systems thinking, isn't a limitation. It's a lens.\",\n      \"Since 2022, I've served on Ireland's national Autism Innovation Strategy Oversight and Advisory Group, helping shape policy that creates a more inclusive environment for neurodivergent communities.\",\n      \"With fellow parents and advocates, I co-founded the Infinity School Dublin initiative, working to establish a special school for autistic children in North Dublin. Because every child deserves education designed for how they actually learn.\",\n    ],\n  },\n  {\n    id: 'now',\n    title: 'The Now',\n    subtitle: 'Single dad, still delivering',\n    emoji: 'ðŸš€',\n    highlight: '2026: Living It',\n    content: [\n      \"Fast forward to today: I'm a single dad to an autistic 8-year-old. And I still manage to deliver, show up, and enjoy what I do with a smile,because I live it.\",\n      \"I'm consulting with multiple stealth AI startups across AI memory, medicine, law, and finance,working with both founders and investors. I lead end-to-end product initiatives, translating visions into MVPs and guiding teams from concept through production.\",\n      \"I work with tools like Cursor IDE and v0.dev to prototype at unprecedented speed. I facilitate workshops to define real jobs-to-be-done. I operate as a self-contained unit that multiplies the productivity of everyone around me.\",\n    ],\n  },\n  {\n    id: 'philosophy',\n    title: 'The Philosophy',\n    subtitle: 'How I think about building',\n    emoji: 'ðŸŽ¯',\n    highlight: 'Real problems, real people',\n    content: [\n      \"I'm not interested in solutions looking for problems. I start with real people facing real challenges, then work backwards to the simplest thing that actually helps.\",\n      \"My process is hands-on and iterative: facilitate workshops, define jobs-to-be-done, prototype rapidly, learn from users, repeat. No elaborate plans that never survive contact with reality.\",\n      \"The best products emerge from a blend of technical excellence, deep listening, and collaborative problem-solving. Every feature should answer: 'Does this solve a real problem for a real person?'\",\n    ],\n  },\n  {\n    id: 'mission',\n    title: 'The Mission',\n    subtitle: 'Why I do this',\n    emoji: 'âœ¨',\n    highlight: 'Learning & building in public',\n    content: [\n      \"I'm at my best when helping turn vision into reality. Whether it's a founder's first MVP, an investor's portfolio company, or a team's next big feature,I love the moment when an idea becomes something people can actually use.\",\n      \"My 15+ year journey, from band manager to AR founder to AI product leader, has given me a unique toolkit. Right now I'm evolving my own orchestration layer of AI agents, learning and building in public. This site is part of that,a design area now, with dev and product areas coming soon. A living showcase of how I leverage my strengths to help founders, investors, and teams.\",\n      \"I'm passionate about teaching people to properly leverage AI in their work and life. I'm driven to create technology solutions for autistic kids like my son. And I'm still making music,working on an album about the last two years, with more vibe coding tracks on the way. The mission? Keep building, keep sharing, keep evolving.\",\n    ],\n  },\n];\n\nexport default function StoryPage() {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [activeChapter, setActiveChapter] = useState(0);\n  const prefersReducedMotion = useReducedMotion();\n  const { scrollYProgress } = useScroll({\n    target: containerRef,\n    offset: ['start start', 'end end'],\n  });\n\n  // Disable parallax for reduced motion users\n  const backgroundY = useTransform(\n    scrollYProgress,\n    [0, 1],\n    prefersReducedMotion ? ['0%', '0%'] : ['0%', '50%']\n  );\n\n  return (\n    <PageTransition>\n    <div ref={containerRef} className=\"min-h-screen bg-background relative overflow-hidden\">\n      {/* Paper texture background - GPU accelerated parallax */}\n      <motion.div\n        className=\"fixed inset-0 pointer-events-none z-0\"\n        style={{ y: backgroundY, willChange: 'transform' }}\n      >\n        <div className=\"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuOCIgbnVtT2N0YXZlcz0iNCIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNub2lzZSkiIG9wYWNpdHk9IjAuMDUiLz48L3N2Zz4=')] opacity-50 dark:opacity-30\" />\n        {/* Notebook lines */}\n        <div\n          className=\"absolute inset-0 opacity-[0.15] dark:opacity-[0.08]\"\n          style={{\n            backgroundImage: `repeating-linear-gradient(\n              transparent,\n              transparent 31px,\n              #94a3b8 31px,\n              #94a3b8 32px\n            )`,\n            backgroundSize: '100% 32px',\n          }}\n        />\n        {/* Red margin line */}\n        <div className=\"absolute top-0 bottom-0 left-[80px] md:left-[120px] w-[2px] bg-red-300/30 dark:bg-red-400/20\" />\n      </motion.div>\n\n      {/* Back button */}\n      <FadeIn delay={0.1}>\n        <Link\n          href=\"/\"\n          className=\"fixed top-6 left-6 z-50 flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors bg-card/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-sm\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          <span className=\"text-sm font-medium\">Back</span>\n        </Link>\n      </FadeIn>\n\n      {/* Progress indicator */}\n      <motion.div\n        className=\"fixed top-0 left-0 right-0 h-1 bg-amber-500/80 z-50 origin-left\"\n        style={{ scaleX: scrollYProgress }}\n      />\n\n      {/* Chapter navigation */}\n      <nav className=\"fixed right-6 top-1/2 -translate-y-1/2 z-50 hidden lg:flex flex-col gap-3\">\n        {chapters.map((chapter, index) => (\n          <button\n            key={chapter.id}\n            onClick={() => {\n              document.getElementById(chapter.id)?.scrollIntoView({ behavior: 'smooth' });\n            }}\n            className={`w-3 h-3 rounded-full transition-all ${\n              activeChapter === index\n                ? 'bg-amber-500 dark:bg-amber-400 scale-125'\n                : 'bg-gray-400/50 hover:bg-gray-400 dark:bg-gray-600/50 dark:hover:bg-gray-500'\n            }`}\n            title={chapter.title}\n          />\n        ))}\n      </nav>\n\n      {/* Hero Section */}\n      <section className=\"min-h-screen flex flex-col items-center justify-center relative px-6\">\n        <div className=\"text-center max-w-3xl\">\n          <motion.div\n            initial={{ scale: 0, rotate: -180 }}\n            animate={{ scale: 1, rotate: 0 }}\n            transition={{ type: 'spring', duration: 1.5, delay: 0.2 }}\n            className=\"text-8xl mb-8\"\n          >\n            ðŸ“–\n          </motion.div>\n          <TextEffect\n            per=\"word\"\n            preset=\"blur\"\n            as=\"h1\"\n            className=\"text-5xl md:text-7xl font-bold text-foreground mb-6 tracking-tight\"\n          >\n            OpenClaw-OS\n          </TextEffect>\n          <TextEffect\n            per=\"word\"\n            preset=\"fade-in-blur\"\n            delay={0.3}\n            className=\"text-xl md:text-2xl text-muted-foreground mb-8\"\n          >\n            From musician in Brazil to AI product leader and single dad in Dublin\n          </TextEffect>\n          <FadeInBlur delay={0.5}>\n            <p className=\"text-muted-foreground italic text-lg\">\n              &ldquo;I&apos;m at my best when helping turn vision into reality,\n              building what&apos;s next, and making sure every step solves a real problem for real people.&rdquo;\n            </p>\n          </FadeInBlur>\n        </div>\n\n        {/* Scroll indicator */}\n        <motion.div\n          className=\"absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-muted-foreground\"\n          animate={prefersReducedMotion ? {} : { y: [0, 10, 0] }}\n          transition={{ repeat: Infinity, duration: 2 }}\n        >\n          <span className=\"text-sm\">Scroll to explore</span>\n          <ChevronDown className=\"w-5 h-5\" />\n        </motion.div>\n      </section>\n\n      {/* Chapter Sections */}\n      {chapters.map((chapter, index) => (\n        <ChapterSection\n          key={chapter.id}\n          chapter={chapter}\n          index={index}\n          onInView={() => setActiveChapter(index)}\n        />\n      ))}\n\n      {/* Closing Section */}\n      <section className=\"min-h-[60vh] flex flex-col items-center justify-center px-6 pt-24 pb-40 relative\">\n        <InView preset=\"blurSlide\">\n          <div className=\"text-center max-w-2xl\">\n            <motion.div\n              initial={{ scale: 0 }}\n              whileInView={{ scale: 1 }}\n              transition={{ type: 'spring', duration: 0.8 }}\n              className=\"text-6xl mb-6\"\n            >\n              ðŸ¤\n            </motion.div>\n            <TextEffect\n              per=\"word\"\n              preset=\"blur\"\n              as=\"h2\"\n              className=\"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100 mb-4\"\n            >\n              {\"Let's Build Something Together\"}\n            </TextEffect>\n            <p className=\"text-gray-600 dark:text-gray-300 mb-8\">\n              Got an idea? A problem to solve? A vision to bring to life?\n              I&apos;d love to hear about it.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <FadeInUp delay={0.1}>\n                <Link\n                  href=\"/design\"\n                  className=\"block px-8 py-3 bg-gray-800 dark:bg-gray-100 text-white dark:text-gray-900 rounded-full font-medium hover:bg-gray-700 dark:hover:bg-gray-200 transition-colors text-center\"\n                >\n                  View My Work\n                </Link>\n              </FadeInUp>\n              <FadeInUp delay={0.2}>\n                <a\n                  href=\"https://x.com/James__Spalding\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"block px-8 py-3 border-2 border-gray-800 dark:border-gray-300 text-gray-800 dark:text-gray-200 rounded-full font-medium hover:bg-gray-800 dark:hover:bg-gray-700 hover:text-white transition-colors text-center\"\n                >\n                  Get in Touch\n                </a>\n              </FadeInUp>\n            </div>\n          </div>\n        </InView>\n\n        {/* Decorative elements */}\n        <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2 text-gray-400 dark:text-gray-500 text-sm\">\n          Made with curiosity and coffee â˜•\n        </div>\n      </section>\n    </div>\n    </PageTransition>\n  );\n}\n\nfunction ChapterSection({\n  chapter,\n  index,\n  onInView,\n}: {\n  chapter: Chapter;\n  index: number;\n  onInView: () => void;\n}) {\n  const sectionRef = useRef<HTMLElement>(null);\n  const { scrollYProgress } = useScroll({\n    target: sectionRef,\n    offset: ['start end', 'end start'],\n  });\n\n  const opacity = useTransform(scrollYProgress, [0, 0.2, 0.8, 1], [0, 1, 1, 0]);\n  const y = useTransform(scrollYProgress, [0, 0.2, 0.8, 1], [100, 0, 0, -100]);\n\n  return (\n    <motion.section\n      ref={sectionRef}\n      id={chapter.id}\n      className=\"min-h-screen py-24 px-6 flex items-center justify-center relative\"\n      onViewportEnter={onInView}\n      viewport={{ amount: 0.5 }}\n    >\n      <motion.div\n        style={{ opacity, y }}\n        className=\"max-w-3xl w-full\"\n      >\n        {/* Chapter card */}\n        <div className=\"bg-card/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 md:p-12 relative overflow-hidden\">\n          {/* Decorative corner fold */}\n          <div className=\"absolute top-0 right-0 w-16 h-16\">\n            <div\n              className=\"absolute top-0 right-0 w-full h-full bg-gradient-to-bl from-amber-200 to-amber-100 dark:from-amber-600 dark:to-amber-700\"\n              style={{\n                clipPath: 'polygon(100% 0, 0 0, 100% 100%)',\n              }}\n            />\n          </div>\n\n          {/* Chapter number */}\n          <div className=\"flex items-center gap-4 mb-6\">\n            <span className=\"text-5xl\">{chapter.emoji}</span>\n            <div>\n              <span className=\"text-sm text-primary font-medium\">\n                Chapter {index + 1}\n              </span>\n              <h2 className=\"text-3xl md:text-4xl font-bold text-foreground\">\n                {chapter.title}\n              </h2>\n            </div>\n          </div>\n\n          {/* Subtitle */}\n          <p className=\"text-lg text-muted-foreground italic mb-6 pl-4 border-l-4 border-primary\">\n            {chapter.subtitle}\n          </p>\n\n          {/* Highlight badge */}\n          {chapter.highlight && (\n            <div className=\"inline-block px-4 py-2 bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200 rounded-full text-sm font-medium mb-6\">\n              {chapter.highlight}\n            </div>\n          )}\n\n          {/* Content paragraphs */}\n          <AnimatedGroup preset=\"fadeUp\" stagger={0.12} className=\"space-y-4\">\n            {chapter.content.map((paragraph, pIndex) => (\n              <p key={pIndex} className=\"text-foreground/80 leading-relaxed text-lg\">\n                {paragraph}\n              </p>\n            ))}\n          </AnimatedGroup>\n\n          {/* Decorative tape */}\n          <div\n            className=\"absolute -top-2 left-8 w-24 h-8 bg-amber-200/60 dark:bg-amber-600/40 rotate-[-2deg]\"\n            style={{ filter: 'blur(0.5px)' }}\n          />\n        </div>\n      </motion.div>\n    </motion.section>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}