{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/app/canvas/CanvasClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback, useEffect, Suspense, useRef } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useUser } from \"@clerk/nextjs\";\nimport { useQuery, useMutation } from \"@/lib/openclaw/hooks\";\nimport { api } from '@/lib/convex-shim';\nimport { Id } from \"../../../convex/_generated/dataModel\";\nimport { PageTransition } from \"@/components/ios/PageTransition\";\nimport { InfiniteCanvas, type CanvasData, type CanvasNode, type CanvasEdge } from \"@/components/design-canvas/InfiniteCanvas\";\nimport { FloatingToolDock } from \"@/components/design-canvas/FloatingToolDock\";\nimport { PromptLibrary } from \"@/components/design-canvas/PromptLibrary\";\nimport { CanvasList } from \"@/components/design-canvas/CanvasList\";\nimport { ImageBrowser } from \"@/components/design-canvas/ImageBrowser\";\nimport { MermaidDialog } from \"@/components/design-canvas/MermaidDialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { useVoiceChat } from \"@/hooks/useVoiceChat\";\nimport { useCanvasContext } from \"@/context/CanvasContext\";\nimport {\n  ArrowLeft,\n  Plus,\n  Sparkles,\n  ZoomIn,\n  ZoomOut,\n  Maximize,\n  X,\n  Loader2,\n  FolderOpen,\n} from \"lucide-react\";\n\ntype CanvasType = \"freeform\" | \"wireframe\" | \"moodboard\" | \"storyboard\" | \"mindmap\" | \"flowchart\";\n\nfunction CanvasPageContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { user, isLoaded } = useUser();\n\n  // Canvas context for Claw AI control\n  const { registerCanvas, unregisterCanvas, setCanvasState } = useCanvasContext();\n\n  // URL params\n  const canvasIdParam = searchParams.get(\"id\");\n  const modeParam = searchParams.get(\"mode\");\n\n  // View state\n  const [view, setView] = useState<\"list\" | \"editor\">(canvasIdParam || modeParam === \"import\" ? \"editor\" : \"list\");\n  const [showPromptLibrary, setShowPromptLibrary] = useState(false);\n  const [showImageBrowser, setShowImageBrowser] = useState(false);\n  const [showNewCanvasDialog, setShowNewCanvasDialog] = useState(false);\n  const [showMermaidDialog, setShowMermaidDialog] = useState(false);\n\n  // New canvas form\n  const [newCanvasName, setNewCanvasName] = useState(\"\");\n  const [newCanvasType, setNewCanvasType] = useState<CanvasType>(\"freeform\");\n\n  // Selected canvas ID (Convex ID)\n  const [selectedCanvasId, setSelectedCanvasId] = useState<Id<\"designCanvases\"> | null>(\n    canvasIdParam ? (canvasIdParam as Id<\"designCanvases\">) : null\n  );\n\n  // Canvas state\n  const [canvasData, setCanvasDataLocal] = useState<CanvasData>({\n    nodes: [],\n    edges: [],\n    viewport: { x: 0, y: 0, zoom: 1 },\n  });\n  const [selectedTool, setSelectedTool] = useState<string>(\"select\");\n  const [isDirty, setIsDirty] = useState(false);\n  const [voiceResponse, setVoiceResponse] = useState<string | null>(null);\n  const isProcessingVoice = useRef(false);\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Convex queries\n  const canvases = useQuery(\n    api.designCanvas.getUserCanvases,\n    user?.id ? { ownerId: user.id } : \"skip\"\n  );\n\n  const selectedCanvas = useQuery(\n    api.designCanvas.getCanvas,\n    selectedCanvasId ? { canvasId: selectedCanvasId } : \"skip\"\n  );\n\n  // Convex mutations\n  const createCanvasMutation = useMutation(api.designCanvas.createCanvas);\n  const updateCanvasDataMutation = useMutation(api.designCanvas.updateCanvasData);\n\n  // Voice chat for Claw AI to speak responses\n  const voiceChat = useVoiceChat({\n    voice: 'nova',\n    autoSpeak: true,\n  });\n\n  // Register canvas with CanvasContext when canvas loads (for Claw AI control)\n  useEffect(() => {\n    if (selectedCanvasId && canvasData.nodes.length >= 0) {\n      registerCanvas(selectedCanvasId, {\n        nodes: canvasData.nodes,\n        edges: canvasData.edges,\n        viewport: canvasData.viewport,\n      });\n    }\n\n    return () => {\n      unregisterCanvas();\n    };\n  }, [selectedCanvasId, registerCanvas, unregisterCanvas]);\n\n  // Sync canvas state to CanvasContext when it changes (for Claw AI real-time control)\n  useEffect(() => {\n    if (selectedCanvasId) {\n      setCanvasState({\n        nodes: canvasData.nodes,\n        edges: canvasData.edges,\n        viewport: canvasData.viewport,\n      });\n    }\n  }, [canvasData, selectedCanvasId, setCanvasState]);\n\n  // Load canvas data when selectedCanvas changes\n  useEffect(() => {\n    if (selectedCanvas?.canvasData) {\n      try {\n        const data = JSON.parse(selectedCanvas.canvasData);\n        setCanvasDataLocal(data);\n        setIsDirty(false);\n      } catch (e) {\n        console.error(\"[Canvas] Failed to parse canvas data:\", e);\n      }\n    }\n  }, [selectedCanvas]);\n\n  // Handle voice prompts - send to Claw AI and speak the response\n  const handleVoicePrompt = useCallback(async (transcript: string) => {\n    if (!transcript.trim() || isProcessingVoice.current) return;\n    isProcessingVoice.current = true;\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          messages: [\n            {\n              role: 'system',\n              content: 'You are Claw AI on the design canvas. Keep responses brief (1-2 sentences). The user is speaking to you while designing. Help them with canvas actions, design suggestions, or answer questions quickly. You can use canvas tools to manipulate the canvas directly.'\n            },\n            { role: 'user', content: transcript }\n          ],\n          model: 'qualification',\n        }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const aiResponse = data.message || data.content || \"I heard you, but I'm not sure how to help with that.\";\n        setVoiceResponse(aiResponse);\n\n        if (voiceChat.isVoiceEnabled || true) {\n          voiceChat.enableVoice();\n          voiceChat.speakResponse(aiResponse);\n        }\n      }\n    } catch (error) {\n      console.error('[Canvas Voice] Error:', error);\n      voiceChat.speakResponse(\"Sorry, I had trouble processing that. Can you try again?\");\n    } finally {\n      isProcessingVoice.current = false;\n    }\n  }, [voiceChat]);\n\n  // Auto-dismiss voice response after speaking ends\n  useEffect(() => {\n    if (voiceChat.mode === 'idle' && voiceResponse) {\n      const timer = setTimeout(() => setVoiceResponse(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [voiceChat.mode, voiceResponse]);\n\n  // Handle import mode from PRD Studio\n  useEffect(() => {\n    if (modeParam === \"import\" && user?.id) {\n      try {\n        const importDataStr = sessionStorage.getItem(\"canvas_import_data\");\n        if (importDataStr) {\n          const importData = JSON.parse(importDataStr);\n          sessionStorage.removeItem(\"canvas_import_data\");\n\n          // Convert PRD Studio elements to canvas nodes\n          const nodes: CanvasNode[] = (importData.elements || []).map((el: {\n            id: string;\n            type: string;\n            label: string;\n            description?: string;\n            position: { x: number; y: number };\n            color?: string;\n          }) => ({\n            id: el.id,\n            type: el.type,\n            x: el.position.x,\n            y: el.position.y,\n            width: 150,\n            height: 60,\n            content: el.label,\n            style: el.color ? { backgroundColor: el.color } : undefined,\n          }));\n\n          // Create a new canvas with imported data via Convex\n          createCanvasMutation({\n            name: importData.prdTitle || \"Imported from PRD\",\n            ownerId: user.id,\n            canvasType: \"flowchart\",\n          }).then((newCanvasId) => {\n            setSelectedCanvasId(newCanvasId);\n            setCanvasDataLocal({\n              nodes,\n              edges: [],\n              viewport: { x: 0, y: 0, zoom: 1 },\n            });\n            setIsDirty(true);\n            router.replace(`/canvas?id=${newCanvasId}`);\n          });\n        }\n      } catch (e) {\n        console.error(\"[Canvas] Failed to import canvas data:\", e);\n      }\n    }\n  }, [modeParam, user?.id, createCanvasMutation, router]);\n\n  // Current canvas\n  const currentCanvas = selectedCanvas;\n\n  // Handle canvas selection\n  const handleSelectCanvas = useCallback((canvasId: string) => {\n    setSelectedCanvasId(canvasId as Id<\"designCanvases\">);\n    setView(\"editor\");\n    router.push(`/canvas?id=${canvasId}`);\n  }, [router]);\n\n  // Handle create canvas\n  const handleCreateCanvas = useCallback(async () => {\n    if (!newCanvasName.trim() || !user?.id) return;\n\n    try {\n      const newCanvasId = await createCanvasMutation({\n        name: newCanvasName.trim(),\n        ownerId: user.id,\n        canvasType: newCanvasType,\n      });\n\n      setShowNewCanvasDialog(false);\n      setNewCanvasName(\"\");\n      handleSelectCanvas(newCanvasId);\n    } catch (error) {\n      console.error(\"[Canvas] Failed to create canvas:\", error);\n    }\n  }, [newCanvasName, newCanvasType, user?.id, createCanvasMutation, handleSelectCanvas]);\n\n  // Handle canvas data change\n  const handleCanvasChange = useCallback((data: CanvasData) => {\n    setCanvasDataLocal(data);\n    setIsDirty(true);\n  }, []);\n\n  // Save canvas (debounced auto-save)\n  const saveCanvas = useCallback(async () => {\n    if (!selectedCanvasId || !isDirty) return;\n\n    try {\n      await updateCanvasDataMutation({\n        canvasId: selectedCanvasId,\n        canvasData: JSON.stringify(canvasData),\n      });\n      setIsDirty(false);\n      console.log(\"[Canvas] Saved to Convex\");\n    } catch (error) {\n      console.error(\"[Canvas] Failed to save:\", error);\n    }\n  }, [selectedCanvasId, canvasData, isDirty, updateCanvasDataMutation]);\n\n  // Manual save\n  const handleSave = useCallback(() => {\n    saveCanvas();\n  }, [saveCanvas]);\n\n  // Auto-save on canvas change (debounced)\n  useEffect(() => {\n    if (!isDirty || !selectedCanvasId) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    saveTimeoutRef.current = setTimeout(() => {\n      saveCanvas();\n    }, 2000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [isDirty, canvasData, selectedCanvasId, saveCanvas]);\n\n  // Back to list\n  const handleBack = useCallback(() => {\n    setSelectedCanvasId(null);\n    setView(\"list\");\n    router.push(\"/canvas\");\n  }, [router]);\n\n  // Zoom controls - more gradual (10% per click, min 25%)\n  const handleZoomIn = useCallback(() => {\n    setCanvasDataLocal((prev) => ({\n      ...prev,\n      viewport: { ...prev.viewport, zoom: Math.min(prev.viewport.zoom * 1.1, 4) },\n    }));\n  }, []);\n\n  const handleZoomOut = useCallback(() => {\n    setCanvasDataLocal((prev) => ({\n      ...prev,\n      viewport: { ...prev.viewport, zoom: Math.max(prev.viewport.zoom / 1.1, 0.25) },\n    }));\n  }, []);\n\n  const handleResetView = useCallback(() => {\n    setCanvasDataLocal((prev) => ({\n      ...prev,\n      viewport: { x: 0, y: 0, zoom: 1 },\n    }));\n  }, []);\n\n  // Handle tool change - open dialogs for special tools\n  const handleToolChange = useCallback((tool: string) => {\n    if (tool === \"diagram\") {\n      setShowMermaidDialog(true);\n      // Don't change the tool, just open the dialog\n      return;\n    }\n    setSelectedTool(tool);\n  }, []);\n\n  // Handle diagram insert from MermaidDialog\n  const handleInsertDiagram = useCallback((\n    nodes: Array<{\n      id: string;\n      type: string;\n      x: number;\n      y: number;\n      width: number;\n      height: number;\n      content: string;\n      style?: Record<string, unknown>;\n    }>,\n    edges: Array<{\n      id: string;\n      source: string;\n      target: string;\n      type: string;\n      label?: string;\n    }>\n  ) => {\n    // Offset nodes based on current viewport\n    const offsetNodes = nodes.map((node) => ({\n      ...node,\n      x: node.x + canvasData.viewport.x + 100,\n      y: node.y + canvasData.viewport.y + 100,\n    })) as CanvasNode[];\n\n    const typedEdges = edges as CanvasEdge[];\n\n    setCanvasDataLocal((prev) => ({\n      ...prev,\n      nodes: [...prev.nodes, ...offsetNodes],\n      edges: [...prev.edges, ...typedEdges],\n    }));\n    setIsDirty(true);\n    console.log(\"[Canvas] Inserted diagram:\", nodes.length, \"nodes,\", edges.length, \"edges\");\n  }, [canvasData.viewport]);\n\n  // Add content image to canvas\n  const handleAddContentImage = useCallback((imageUrl: string, filename: string) => {\n    const newNode: CanvasNode = {\n      id: `img-${Date.now()}`,\n      type: \"image\",\n      x: canvasData.viewport.x + 100 + Math.random() * 200,\n      y: canvasData.viewport.y + 100 + Math.random() * 200,\n      width: 300,\n      height: 300,\n      content: imageUrl,\n      style: {\n        objectFit: \"contain\",\n      },\n    };\n\n    setCanvasDataLocal((prev) => ({\n      ...prev,\n      nodes: [...prev.nodes, newNode],\n    }));\n    setIsDirty(true);\n    console.log(\"[Canvas] Added content image:\", filename);\n  }, [canvasData.viewport]);\n\n  if (!isLoaded) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <div className=\"animate-pulse text-muted-foreground\">Loading...</div>\n      </div>\n    );\n  }\n\n  // Show loading state while fetching canvases\n  const isLoadingCanvases = canvases === undefined && user?.id;\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-background flex flex-col\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-40 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n          <div className=\"flex h-14 items-center px-4 gap-4\">\n            {view === \"editor\" && (\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={handleBack}\n                className=\"shrink-0\"\n              >\n                <ArrowLeft className=\"h-4 w-4\" />\n              </Button>\n            )}\n\n            <div className=\"flex-1 min-w-0\">\n              {view === \"list\" ? (\n                <h1 className=\"text-lg font-semibold truncate\">Design Canvas</h1>\n              ) : (\n                <div className=\"flex items-center gap-2\">\n                  <h1 className=\"text-lg font-semibold truncate\">\n                    {currentCanvas?.name || \"Untitled Canvas\"}\n                  </h1>\n                  {isDirty && (\n                    <span className=\"text-xs text-muted-foreground\">(unsaved)</span>\n                  )}\n                </div>\n              )}\n            </div>\n\n            {view === \"list\" ? (\n              <Button onClick={() => setShowNewCanvasDialog(true)} size=\"sm\">\n                <Plus className=\"h-4 w-4 mr-2\" />\n                New Canvas\n              </Button>\n            ) : (\n              <div className=\"flex items-center gap-2\">\n                {/* Zoom controls */}\n                <div className=\"hidden sm:flex items-center gap-1 border rounded-lg p-1\">\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={handleZoomOut}>\n                    <ZoomOut className=\"h-3.5 w-3.5\" />\n                  </Button>\n                  <span className=\"text-xs w-12 text-center\">\n                    {Math.round(canvasData.viewport.zoom * 100)}%\n                  </span>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={handleZoomIn}>\n                    <ZoomIn className=\"h-3.5 w-3.5\" />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={handleResetView}>\n                    <Maximize className=\"h-3.5 w-3.5\" />\n                  </Button>\n                </div>\n\n                {/* Content Images Browser toggle */}\n                <Button\n                  variant={showImageBrowser ? \"secondary\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => setShowImageBrowser(!showImageBrowser)}\n                >\n                  <FolderOpen className=\"h-4 w-4 mr-2\" />\n                  Content\n                </Button>\n\n                {/* AI Prompt Library toggle */}\n                <Button\n                  variant={showPromptLibrary ? \"secondary\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => setShowPromptLibrary(!showPromptLibrary)}\n                >\n                  <Sparkles className=\"h-4 w-4 mr-2\" />\n                  AI Prompts\n                </Button>\n\n                {/* Save button */}\n                <Button\n                  variant=\"default\"\n                  size=\"sm\"\n                  onClick={handleSave}\n                  disabled={!isDirty}\n                >\n                  Save\n                </Button>\n              </div>\n            )}\n          </div>\n        </header>\n\n        {/* Claw AI Voice Response Indicator */}\n        <AnimatePresence>\n          {(voiceChat.mode === 'speaking' || voiceResponse) && view === 'editor' && (\n            <motion.div\n              initial={{ opacity: 0, y: -20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className=\"absolute top-16 left-1/2 -translate-x-1/2 z-50 max-w-md\"\n            >\n              <div className=\"bg-background/95 backdrop-blur-sm border rounded-2xl px-4 py-3 shadow-lg\">\n                <div className=\"flex items-center gap-3\">\n                  {voiceChat.mode === 'speaking' && (\n                    <div className=\"flex items-center gap-1\">\n                      {[0, 0.1, 0.2].map((delay, i) => (\n                        <motion.div\n                          key={i}\n                          className=\"w-1.5 h-3 rounded-full bg-primary\"\n                          animate={{ scaleY: [1, 1.5, 1] }}\n                          transition={{ duration: 0.4, repeat: Infinity, delay }}\n                        />\n                      ))}\n                    </div>\n                  )}\n                  <p className=\"text-sm\">{voiceResponse}</p>\n                  {voiceChat.mode !== 'speaking' && (\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6 shrink-0\"\n                      onClick={() => setVoiceResponse(null)}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Main Content */}\n        <main className=\"flex-1 relative overflow-hidden\">\n          <AnimatePresence mode=\"wait\">\n            {view === \"list\" ? (\n              <motion.div\n                key=\"list\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                className=\"p-4 md:p-6\"\n              >\n                {isLoadingCanvases ? (\n                  <div className=\"flex items-center justify-center py-20\">\n                    <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n                  </div>\n                ) : (\n                  <CanvasList\n                    canvases={(canvases || []).map((c) => ({\n                      _id: c._id,\n                      name: c.name,\n                      description: c.description,\n                      canvasType: c.canvasType,\n                      status: c.status,\n                      createdAt: c.createdAt,\n                      updatedAt: c.updatedAt,\n                    }))}\n                    onSelect={(id) => handleSelectCanvas(id as string)}\n                    onCreateNew={() => setShowNewCanvasDialog(true)}\n                  />\n                )}\n              </motion.div>\n            ) : (\n              <motion.div\n                key=\"editor\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                className=\"h-full flex\"\n              >\n                {/* Canvas */}\n                <div className=\"flex-1 relative\" style={{ height: \"calc(100vh - 56px)\" }}>\n                  <InfiniteCanvas\n                    data={canvasData}\n                    onChange={handleCanvasChange}\n                    selectedTool={selectedTool}\n                    onToolChange={handleToolChange}\n                    gridEnabled={true}\n                    gridSize={20}\n                    backgroundColor={undefined}\n                  />\n\n                  {/* Floating Tool Dock */}\n                  <FloatingToolDock\n                    selectedTool={selectedTool}\n                    onToolChange={handleToolChange}\n                  />\n                </div>\n\n                {/* Prompt Library Sidebar */}\n                <AnimatePresence>\n                  {showPromptLibrary && (\n                    <motion.div\n                      initial={{ width: 0, opacity: 0 }}\n                      animate={{ width: 320, opacity: 1 }}\n                      exit={{ width: 0, opacity: 0 }}\n                      className=\"border-l bg-background overflow-hidden\"\n                    >\n                      <PromptLibrary\n                        onSelectPrompt={(prompt) => {\n                          console.log(\"Selected prompt:\", prompt);\n                        }}\n                        onClose={() => setShowPromptLibrary(false)}\n                      />\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n\n                {/* Content Images Browser */}\n                <ImageBrowser\n                  isOpen={showImageBrowser}\n                  onClose={() => setShowImageBrowser(false)}\n                  onSelectImage={handleAddContentImage}\n                />\n\n                {/* Mermaid/Diagram Dialog */}\n                <MermaidDialog\n                  open={showMermaidDialog}\n                  onClose={() => setShowMermaidDialog(false)}\n                  onInsert={handleInsertDiagram}\n                  existingNodes={canvasData.nodes}\n                  existingEdges={canvasData.edges}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </main>\n\n        {/* New Canvas Dialog */}\n        {showNewCanvasDialog && (\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              className=\"bg-background border rounded-xl shadow-2xl w-full max-w-md mx-4 p-6\"\n            >\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-lg font-semibold\">Create New Canvas</h2>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-8 w-8\"\n                  onClick={() => setShowNewCanvasDialog(false)}\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                Start with a blank canvas for infinite exploration\n              </p>\n\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <label htmlFor=\"name\" className=\"text-sm font-medium\">\n                    Canvas Name\n                  </label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    value={newCanvasName}\n                    onChange={(e) => setNewCanvasName(e.target.value)}\n                    placeholder=\"My awesome design...\"\n                    className=\"w-full px-3 py-2 rounded-lg border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <label htmlFor=\"type\" className=\"text-sm font-medium\">\n                    Canvas Type\n                  </label>\n                  <select\n                    id=\"type\"\n                    value={newCanvasType}\n                    onChange={(e) => setNewCanvasType(e.target.value as CanvasType)}\n                    className=\"w-full px-3 py-2 rounded-lg border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary\"\n                  >\n                    <option value=\"freeform\">Freeform - Open exploration</option>\n                    <option value=\"wireframe\">Wireframe - UI/UX design</option>\n                    <option value=\"moodboard\">Moodboard - Visual inspiration</option>\n                    <option value=\"storyboard\">Storyboard - Narrative planning</option>\n                    <option value=\"mindmap\">Mindmap - Concept mapping</option>\n                    <option value=\"flowchart\">Flowchart - Process diagrams</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-2 mt-6\">\n                <Button variant=\"outline\" onClick={() => setShowNewCanvasDialog(false)}>\n                  Cancel\n                </Button>\n                <Button onClick={handleCreateCanvas} disabled={!newCanvasName.trim()}>\n                  Create Canvas\n                </Button>\n              </div>\n            </motion.div>\n          </div>\n        )}\n      </div>\n    </PageTransition>\n  );\n}\n\nexport function CanvasClient() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"min-h-screen flex items-center justify-center bg-background\">\n          <div className=\"animate-pulse text-muted-foreground\">Loading...</div>\n        </div>\n      }\n    >\n      <CanvasPageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}