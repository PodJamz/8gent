{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/WatchFace.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { type WatchDNA, type HandStyle, type IndexStyle } from '@/lib/watch/theme-to-watch';\nimport {\n  getTimeAngles,\n  toRoman,\n  getPositionOnCircle,\n  formatDateWindow,\n  WATCH_SIZES,\n  type WatchSize,\n  getHandDimensions,\n} from '@/lib/watch/watch-utils';\n\ninterface WatchFaceProps {\n  watchDNA: WatchDNA;\n  size?: WatchSize | number;\n  showCase?: boolean;\n  interactive?: boolean;\n  className?: string;\n  timezone?: string;\n}\n\nexport function WatchFace({\n  watchDNA,\n  size = 'md',\n  showCase = true,\n  interactive = true,\n  className = '',\n  timezone,\n}: WatchFaceProps) {\n  const [time, setTime] = useState(new Date());\n  const [isHovered, setIsHovered] = useState(false);\n\n  // Update time every 50ms for smooth seconds hand\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 50);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Get time for specific timezone if provided\n  const displayTime = useMemo(() => {\n    if (!timezone) return time;\n\n    const options: Intl.DateTimeFormatOptions = {\n      timeZone: timezone,\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n      fractionalSecondDigits: 3,\n      hour12: false,\n    };\n\n    try {\n      const formatter = new Intl.DateTimeFormat('en-US', options);\n      const parts = formatter.formatToParts(time);\n\n      const getPart = (type: string) => {\n        const part = parts.find(p => p.type === type);\n        return part ? parseInt(part.value, 10) : 0;\n      };\n\n      const tzDate = new Date(\n        getPart('year'),\n        getPart('month') - 1,\n        getPart('day'),\n        getPart('hour'),\n        getPart('minute'),\n        getPart('second'),\n        time.getMilliseconds()\n      );\n\n      return tzDate;\n    } catch {\n      return time;\n    }\n  }, [time, timezone]);\n\n  const angles = useMemo(() => getTimeAngles(displayTime), [displayTime]);\n  const pixelSize = typeof size === 'number' ? size : WATCH_SIZES[size];\n\n  // Determine if this is an iOS-style minimal watch or a tool watch\n  const isMinimalStyle = watchDNA.style === 'minimal' || watchDNA.style === 'elegant';\n  const isToolWatch = watchDNA.style === 'diver' || watchDNA.style === 'sporty';\n\n  return (\n    <motion.div\n      className={`relative ${className}`}\n      style={{ width: pixelSize, height: pixelSize }}\n      onMouseEnter={() => interactive && setIsHovered(true)}\n      onMouseLeave={() => interactive && setIsHovered(false)}\n      whileHover={interactive ? { scale: 1.02 } : undefined}\n      transition={{ type: 'spring', stiffness: 400, damping: 25 }}\n    >\n      <svg\n        viewBox=\"0 0 100 100\"\n        className=\"w-full h-full\"\n        style={{ filter: isHovered ? 'drop-shadow(0 8px 24px rgba(0,0,0,0.2))' : 'drop-shadow(0 4px 12px rgba(0,0,0,0.15))' }}\n      >\n        <defs>\n          {/* Gradients and filters */}\n          <radialGradient id={`dial-gradient-${watchDNA.theme}`} cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"rgba(255,255,255,0.15)\" />\n            <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0.05)\" />\n          </radialGradient>\n\n          <filter id={`crystal-${watchDNA.theme}`} x=\"-10%\" y=\"-10%\" width=\"120%\" height=\"120%\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"0.5\" result=\"blur\" />\n            <feOffset in=\"blur\" dx=\"0\" dy=\"1\" result=\"shadow\" />\n            <feComposite in=\"SourceGraphic\" in2=\"shadow\" operator=\"over\" />\n          </filter>\n\n          {/* Lume glow effect */}\n          <filter id={`lume-glow-${watchDNA.theme}`}>\n            <feGaussianBlur stdDeviation=\"1\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n        </defs>\n\n        {/* Case - iOS squircle style for minimal, round for others */}\n        {showCase && (\n          <WatchCase\n            watchDNA={watchDNA}\n            isMinimal={isMinimalStyle}\n            isHovered={isHovered}\n          />\n        )}\n\n        {/* Main dial */}\n        <Dial watchDNA={watchDNA} isMinimal={isMinimalStyle} />\n\n        {/* Chapter ring / minute track */}\n        {(watchDNA.hasChapterRing || isToolWatch) && (\n          <ChapterRing watchDNA={watchDNA} />\n        )}\n\n        {/* Hour indices */}\n        <Indices watchDNA={watchDNA} isMinimal={isMinimalStyle} />\n\n        {/* Date window */}\n        {watchDNA.hasDateWindow && (\n          <DateWindow\n            watchDNA={watchDNA}\n            date={formatDateWindow(displayTime)}\n          />\n        )}\n\n        {/* Hands */}\n        <Hands\n          watchDNA={watchDNA}\n          angles={angles}\n          isMinimal={isMinimalStyle}\n        />\n\n        {/* Center cap */}\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={isMinimalStyle ? 2.5 : 3}\n          fill={watchDNA.handColor}\n        />\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={isMinimalStyle ? 1.5 : 2}\n          fill={watchDNA.secondsHandColor}\n        />\n\n        {/* Crystal reflection overlay */}\n        {watchDNA.hasCrystalDome && (\n          <ellipse\n            cx=\"35\"\n            cy=\"35\"\n            rx=\"25\"\n            ry=\"20\"\n            fill={`url(#dial-gradient-${watchDNA.theme})`}\n            opacity=\"0.3\"\n          />\n        )}\n      </svg>\n    </motion.div>\n  );\n}\n\n// Watch Case Component\nfunction WatchCase({\n  watchDNA,\n  isMinimal,\n  isHovered,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n  isHovered: boolean;\n}) {\n  if (isMinimal) {\n    // iOS-style squircle case\n    return (\n      <>\n        {/* Outer case shadow */}\n        <rect\n          x=\"4\"\n          y=\"5\"\n          width=\"92\"\n          height=\"92\"\n          rx=\"22\"\n          fill=\"rgba(0,0,0,0.1)\"\n        />\n        {/* Case body */}\n        <rect\n          x=\"4\"\n          y=\"4\"\n          width=\"92\"\n          height=\"92\"\n          rx=\"22\"\n          fill={watchDNA.bezelColor}\n          stroke=\"rgba(255,255,255,0.2)\"\n          strokeWidth=\"0.5\"\n        />\n        {/* Inner bezel */}\n        <rect\n          x=\"6\"\n          y=\"6\"\n          width=\"88\"\n          height=\"88\"\n          rx=\"20\"\n          fill=\"none\"\n          stroke=\"rgba(0,0,0,0.1)\"\n          strokeWidth=\"0.5\"\n        />\n      </>\n    );\n  }\n\n  // Round case for tool watches\n  return (\n    <>\n      {/* Case shadow */}\n      <circle\n        cx=\"50\"\n        cy=\"51\"\n        r=\"48\"\n        fill=\"rgba(0,0,0,0.15)\"\n      />\n      {/* Outer case */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"48\"\n        fill={watchDNA.bezelColor}\n        stroke=\"rgba(255,255,255,0.1)\"\n        strokeWidth=\"0.5\"\n      />\n      {/* Bezel */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"46\"\n        fill=\"none\"\n        stroke={watchDNA.caseFinish === 'brushed' ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.1)'}\n        strokeWidth=\"3\"\n      />\n      {/* Inner bezel ring */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"44\"\n        fill=\"none\"\n        stroke=\"rgba(0,0,0,0.15)\"\n        strokeWidth=\"0.5\"\n      />\n    </>\n  );\n}\n\n// Dial Component\nfunction Dial({\n  watchDNA,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n}) {\n  const dialRadius = isMinimal ? 42 : 43;\n  const dialRx = isMinimal ? 18 : 43;\n\n  if (isMinimal) {\n    return (\n      <rect\n        x={50 - dialRadius}\n        y={50 - dialRadius}\n        width={dialRadius * 2}\n        height={dialRadius * 2}\n        rx={dialRx}\n        fill={watchDNA.dialColor}\n      />\n    );\n  }\n\n  return (\n    <>\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r={dialRadius}\n        fill={watchDNA.dialColor}\n      />\n      {/* Sunburst effect for elegant dials */}\n      {watchDNA.dialTexture === 'sunburst' && (\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={dialRadius}\n          fill={`url(#dial-gradient-${watchDNA.theme})`}\n          opacity=\"0.5\"\n        />\n      )}\n    </>\n  );\n}\n\n// Chapter Ring / Minute Track\nfunction ChapterRing({ watchDNA }: { watchDNA: WatchDNA }) {\n  const ticks = [];\n  for (let i = 0; i < 60; i++) {\n    const isMajor = i % 5 === 0;\n    const angle = i * 6;\n    const outerR = 42;\n    const innerR = isMajor ? 39 : 40.5;\n\n    const outer = getPositionOnCircle(angle, outerR);\n    const inner = getPositionOnCircle(angle, innerR);\n\n    ticks.push(\n      <line\n        key={`tick-${i}`}\n        x1={outer.x}\n        y1={outer.y}\n        x2={inner.x}\n        y2={inner.y}\n        stroke={watchDNA.indexColor}\n        strokeWidth={isMajor ? 0.8 : 0.4}\n        opacity={isMajor ? 0.8 : 0.5}\n      />\n    );\n  }\n\n  return <g>{ticks}</g>;\n}\n\n// Indices Component\nfunction Indices({\n  watchDNA,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n}) {\n  const { indexStyle, indexColor, font } = watchDNA;\n  const indices = [];\n\n  // Radius for index placement\n  const radius = isMinimal ? 34 : 36;\n  const textRadius = isMinimal ? 32 : 33;\n\n  for (let hour = 1; hour <= 12; hour++) {\n    const angle = hour * 30;\n    const pos = getPositionOnCircle(angle, radius);\n    const textPos = getPositionOnCircle(angle, textRadius);\n\n    // Determine what to show at this position\n    const isQuarter = hour === 12 || hour === 3 || hour === 6 || hour === 9;\n\n    if (indexStyle === 'none') {\n      // Minimal - just small dots at quarters\n      if (isQuarter) {\n        indices.push(\n          <circle\n            key={`index-${hour}`}\n            cx={pos.x}\n            cy={pos.y}\n            r={1}\n            fill={indexColor}\n            opacity={0.6}\n          />\n        );\n      }\n    } else if (indexStyle === 'arabic' || (indexStyle === 'mixed' && isQuarter)) {\n      // Arabic numerals\n      indices.push(\n        <text\n          key={`index-${hour}`}\n          x={textPos.x}\n          y={textPos.y}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill={indexColor}\n          fontSize={isMinimal ? 7 : 6}\n          fontFamily={font}\n          fontWeight={isMinimal ? 500 : 600}\n        >\n          {hour}\n        </text>\n      );\n    } else if (indexStyle === 'roman') {\n      // Roman numerals\n      indices.push(\n        <text\n          key={`index-${hour}`}\n          x={textPos.x}\n          y={textPos.y}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill={indexColor}\n          fontSize={5}\n          fontFamily=\"serif\"\n          fontWeight={400}\n        >\n          {toRoman(hour)}\n        </text>\n      );\n    } else if (indexStyle === 'dots') {\n      // Luminous dots (Explorer II style)\n      const dotSize = isQuarter ? 2.5 : 1.8;\n      indices.push(\n        <g key={`index-${hour}`} filter={`url(#lume-glow-${watchDNA.theme})`}>\n          <circle\n            cx={pos.x}\n            cy={pos.y}\n            r={dotSize}\n            fill={watchDNA.lumeColor}\n          />\n          <circle\n            cx={pos.x}\n            cy={pos.y}\n            r={dotSize * 0.6}\n            fill=\"rgba(255,255,255,0.8)\"\n          />\n        </g>\n      );\n      // Triangle at 12 for diver style\n      if (hour === 12) {\n        const triPos = getPositionOnCircle(0, radius + 2);\n        indices.push(\n          <polygon\n            key=\"triangle-12\"\n            points={`${triPos.x},${triPos.y - 4} ${triPos.x - 3},${triPos.y + 2} ${triPos.x + 3},${triPos.y + 2}`}\n            fill={watchDNA.lumeColor}\n            filter={`url(#lume-glow-${watchDNA.theme})`}\n          />\n        );\n      }\n    } else {\n      // Baton indices\n      const batonLength = isQuarter ? 5 : 3;\n      const outerPos = getPositionOnCircle(angle, radius + 2);\n      const innerPos = getPositionOnCircle(angle, radius + 2 - batonLength);\n\n      indices.push(\n        <line\n          key={`index-${hour}`}\n          x1={outerPos.x}\n          y1={outerPos.y}\n          x2={innerPos.x}\n          y2={innerPos.y}\n          stroke={indexColor}\n          strokeWidth={isQuarter ? 2 : 1.2}\n          strokeLinecap=\"round\"\n        />\n      );\n    }\n  }\n\n  return <g>{indices}</g>;\n}\n\n// Date Window Component\nfunction DateWindow({\n  watchDNA,\n  date,\n}: {\n  watchDNA: WatchDNA;\n  date: string;\n}) {\n  const position = watchDNA.datePosition === 3\n    ? { x: 68, y: 50 }\n    : { x: 50, y: 68 };\n\n  return (\n    <g>\n      {/* Date window frame */}\n      <rect\n        x={position.x - 6}\n        y={position.y - 4}\n        width={12}\n        height={8}\n        rx={1}\n        fill=\"rgba(255,255,255,0.95)\"\n        stroke={watchDNA.indexColor}\n        strokeWidth={0.5}\n      />\n      {/* Date text */}\n      <text\n        x={position.x}\n        y={position.y}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#1a1a1a\"\n        fontSize={5}\n        fontFamily=\"system-ui, sans-serif\"\n        fontWeight={600}\n      >\n        {date}\n      </text>\n    </g>\n  );\n}\n\n// Hands Component\nfunction Hands({\n  watchDNA,\n  angles,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  angles: { hours: number; minutes: number; seconds: number };\n  isMinimal: boolean;\n}) {\n  const { handStyle, handColor, secondsHandColor } = watchDNA;\n  const hourDims = getHandDimensions(handStyle, 'hour');\n  const minuteDims = getHandDimensions(handStyle, 'minute');\n  const secondDims = getHandDimensions(handStyle, 'second');\n\n  return (\n    <g>\n      {/* Hour hand */}\n      <g transform={`rotate(${angles.hours}, 50, 50)`}>\n        <Hand\n          length={hourDims.length}\n          width={hourDims.width}\n          tailLength={hourDims.tailLength}\n          color={handColor}\n          style={handStyle}\n          type=\"hour\"\n          isMinimal={isMinimal}\n        />\n      </g>\n\n      {/* Minute hand */}\n      <g transform={`rotate(${angles.minutes}, 50, 50)`}>\n        <Hand\n          length={minuteDims.length}\n          width={minuteDims.width}\n          tailLength={minuteDims.tailLength}\n          color={handColor}\n          style={handStyle}\n          type=\"minute\"\n          isMinimal={isMinimal}\n        />\n      </g>\n\n      {/* Seconds hand - always uses accent color */}\n      <g transform={`rotate(${angles.seconds}, 50, 50)`}>\n        <SecondsHand\n          length={secondDims.length}\n          tailLength={secondDims.tailLength}\n          color={secondsHandColor}\n          isMinimal={isMinimal}\n        />\n      </g>\n    </g>\n  );\n}\n\n// Individual Hand Component\nfunction Hand({\n  length,\n  width,\n  tailLength,\n  color,\n  style,\n  type,\n  isMinimal,\n}: {\n  length: number;\n  width: number;\n  tailLength: number;\n  color: string;\n  style: string;\n  type: 'hour' | 'minute';\n  isMinimal: boolean;\n}) {\n  // Different hand shapes based on style\n  if (style === 'mercedes' && type === 'hour') {\n    // Mercedes/Rolex style hour hand with circle\n    return (\n      <g>\n        <rect\n          x={50 - width / 2}\n          y={50 - length + 8}\n          width={width}\n          height={length - 12}\n          fill={color}\n        />\n        <circle\n          cx={50}\n          cy={50 - length + 5}\n          r={4}\n          fill=\"none\"\n          stroke={color}\n          strokeWidth={width * 0.8}\n        />\n        <rect\n          x={50 - width / 2}\n          y={50}\n          width={width}\n          height={tailLength}\n          fill={color}\n        />\n      </g>\n    );\n  }\n\n  if (style === 'dauphine' || isMinimal) {\n    // Tapered dauphine hands (iOS Clock style)\n    const tipWidth = width * 0.3;\n    return (\n      <polygon\n        points={`\n          ${50 - width / 2},${50 + tailLength}\n          ${50 - width / 2},${50}\n          ${50 - tipWidth},${50 - length + 4}\n          ${50},${50 - length}\n          ${50 + tipWidth},${50 - length + 4}\n          ${50 + width / 2},${50}\n          ${50 + width / 2},${50 + tailLength}\n        `}\n        fill={color}\n      />\n    );\n  }\n\n  // Default baton style\n  return (\n    <g>\n      <rect\n        x={50 - width / 2}\n        y={50 - length}\n        width={width}\n        height={length + tailLength}\n        rx={width / 2}\n        fill={color}\n      />\n    </g>\n  );\n}\n\n// Seconds Hand Component - always thin with counterbalance\nfunction SecondsHand({\n  length,\n  tailLength,\n  color,\n  isMinimal,\n}: {\n  length: number;\n  tailLength: number;\n  color: string;\n  isMinimal: boolean;\n}) {\n  const width = isMinimal ? 1 : 1.2;\n\n  return (\n    <g>\n      {/* Main hand */}\n      <line\n        x1={50}\n        y1={50 + tailLength}\n        x2={50}\n        y2={50 - length}\n        stroke={color}\n        strokeWidth={width}\n        strokeLinecap=\"round\"\n      />\n      {/* Counterbalance circle */}\n      <circle\n        cx={50}\n        cy={50 + tailLength - 3}\n        r={isMinimal ? 2 : 2.5}\n        fill={color}\n      />\n      {/* Tip arrow for tool watches */}\n      {!isMinimal && (\n        <polygon\n          points={`${50},${50 - length - 2} ${50 - 2},${50 - length + 3} ${50 + 2},${50 - length + 3}`}\n          fill={color}\n        />\n      )}\n    </g>\n  );\n}\n\nexport default WatchFace;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 903, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/TimezoneDetailModal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimezoneDetailModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  timezone: {\n    id: string;\n    city: string;\n    timezone: string;\n  };\n  watchDNA: WatchDNA;\n}\n\nfunction formatDetailedTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatDetailedDate(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    timeZone: timezone,\n  }).format(date);\n}\n\nfunction getTimezoneOffset(timezone: string): string {\n  const now = new Date();\n  const formatter = new Intl.DateTimeFormat('en-US', {\n    timeZone: timezone,\n    timeZoneName: 'shortOffset',\n  });\n  const parts = formatter.formatToParts(now);\n  const offsetPart = parts.find(p => p.type === 'timeZoneName');\n  return offsetPart?.value || '';\n}\n\nfunction getTimeDifference(timezone: string): string {\n  const now = new Date();\n\n  // Get the offset for the target timezone\n  const targetDate = new Date(now.toLocaleString('en-US', { timeZone: timezone }));\n  const localDate = new Date(now.toLocaleString('en-US'));\n\n  const diffMs = targetDate.getTime() - localDate.getTime();\n  const diffHours = Math.round(diffMs / (1000 * 60 * 60));\n\n  if (diffHours === 0) return 'Same as local time';\n  if (diffHours > 0) return `${diffHours}h ahead`;\n  return `${Math.abs(diffHours)}h behind`;\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): { icon: string; label: string } {\n  const hour = getHourInTimezone(date, timezone);\n\n  if (hour >= 5 && hour < 7) {\n    return { icon: '/icons/weather/sunrise.svg', label: 'Dawn' };\n  } else if (hour >= 7 && hour < 12) {\n    return { icon: '/icons/weather/clear-day.svg', label: 'Morning' };\n  } else if (hour >= 12 && hour < 17) {\n    return { icon: '/icons/weather/partly-cloudy-day.svg', label: 'Afternoon' };\n  } else if (hour >= 17 && hour < 20) {\n    return { icon: '/icons/weather/sunset.svg', label: 'Evening' };\n  } else if (hour >= 20 && hour < 22) {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Dusk' };\n  } else {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Night' };\n  }\n}\n\nfunction getTimeOfDay(date: Date, timezone: string): { period: string; weatherIcon: string; gradient: string; isNight: boolean } {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return { period: 'Dawn', weatherIcon: '/icons/weather/sunrise.svg', gradient: 'from-orange-500/30 to-pink-500/30', isNight: false };\n  } else if (hour >= 7 && hour < 12) {\n    return { period: 'Morning', weatherIcon: '/icons/weather/clear-day.svg', gradient: 'from-yellow-500/25 to-orange-500/25', isNight: false };\n  } else if (hour >= 12 && hour < 17) {\n    return { period: 'Afternoon', weatherIcon: '/icons/weather/partly-cloudy-day.svg', gradient: 'from-blue-500/25 to-cyan-500/25', isNight: false };\n  } else if (hour >= 17 && hour < 20) {\n    return { period: 'Evening', weatherIcon: '/icons/weather/sunset.svg', gradient: 'from-orange-500/30 to-red-500/30', isNight: false };\n  } else if (hour >= 20 && hour < 22) {\n    return { period: 'Dusk', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-purple-500/30 to-indigo-500/30', isNight: true };\n  } else {\n    return { period: 'Night', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-indigo-600/40 to-slate-800/40', isNight: true };\n  }\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 25%, 10%)',\n    handColor: 'hsl(210, 20%, 85%)',\n    indexColor: 'hsl(210, 15%, 70%)',\n    bezelColor: 'hsl(220, 20%, 15%)',\n    lumeColor: 'hsl(200, 100%, 70%)',\n  };\n}\n\nexport function TimezoneDetailModal({\n  isOpen,\n  onClose,\n  timezone,\n  watchDNA,\n}: TimezoneDetailModalProps) {\n  const [time, setTime] = useState(new Date());\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isOpen]);\n\n  const formattedTime = useMemo(() => formatDetailedTime(time, timezone.timezone), [time, timezone.timezone]);\n  const formattedDate = useMemo(() => formatDetailedDate(time, timezone.timezone), [time, timezone.timezone]);\n  const timezoneOffset = useMemo(() => getTimezoneOffset(timezone.timezone), [timezone.timezone]);\n  const timeDifference = useMemo(() => getTimeDifference(timezone.timezone), [timezone.timezone]);\n  const timeOfDay = useMemo(() => getTimeOfDay(time, timezone.timezone), [time, timezone.timezone]);\n\n  // Get dark mode watch DNA for nighttime\n  const effectiveWatchDNA = useMemo(\n    () => (timeOfDay.isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA),\n    [watchDNA, timeOfDay.isNight]\n  );\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          className=\"fixed inset-0 z-[200] flex items-center justify-center p-4\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n        >\n          {/* Backdrop */}\n          <motion.div\n            className={`absolute inset-0 backdrop-blur-md ${timeOfDay.isNight ? 'bg-black/70' : 'bg-black/60'}`}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n          />\n\n          {/* Modal Content */}\n          <motion.div\n            className=\"relative z-10 w-full max-w-sm rounded-3xl overflow-hidden\"\n            style={{\n              background: timeOfDay.isNight\n                ? 'linear-gradient(180deg, rgba(15,23,42,0.98) 0%, rgba(2,6,23,0.98) 100%)'\n                : 'linear-gradient(180deg, rgba(30,30,30,0.98) 0%, rgba(15,15,15,0.98) 100%)',\n              border: timeOfDay.isNight\n                ? '1px solid rgba(71,85,105,0.3)'\n                : '1px solid rgba(255,255,255,0.1)',\n              boxShadow: timeOfDay.isNight\n                ? '0 25px 50px -12px rgba(0,0,0,0.8), inset 0 1px 0 rgba(148,163,184,0.1)'\n                : '0 25px 50px -12px rgba(0,0,0,0.6)',\n            }}\n            initial={{ scale: 0.9, opacity: 0, y: 20 }}\n            animate={{ scale: 1, opacity: 1, y: 0 }}\n            exit={{ scale: 0.9, opacity: 0, y: 20 }}\n            transition={{\n              type: 'spring',\n              stiffness: 400,\n              damping: 30,\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Close Button */}\n            <button\n              onClick={onClose}\n              className={`absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full transition-colors z-20 ${\n                timeOfDay.isNight\n                  ? 'bg-slate-700/50 hover:bg-slate-600/60'\n                  : 'bg-white/10 hover:bg-white/20'\n              }`}\n              aria-label=\"Close timezone detail\"\n            >\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                className={timeOfDay.isNight ? 'text-slate-400' : 'text-white/70'}\n              >\n                <path d=\"M18 6L6 18M6 6l12 12\" />\n              </svg>\n            </button>\n\n            {/* Header with gradient accent and weather icon */}\n            <div className={`px-6 pt-6 pb-4 bg-gradient-to-r ${timeOfDay.gradient}`}>\n              <div className=\"flex items-center gap-3 mb-2\">\n                {/* Weather Icon */}\n                <motion.div\n                  initial={{ scale: 0, rotate: -180 }}\n                  animate={{ scale: 1, rotate: 0 }}\n                  transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 20 }}\n                  className=\"w-12 h-12\"\n                >\n                  <img\n                    src={timeOfDay.weatherIcon}\n                    alt={timeOfDay.period}\n                    width={48}\n                    height={48}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: timeOfDay.isNight\n                        ? 'drop-shadow(0 0 8px rgba(147,197,253,0.5))'\n                        : 'drop-shadow(0 4px 8px rgba(0,0,0,0.3))',\n                    }}\n                  />\n                </motion.div>\n                <div>\n                  <span\n                    className={`text-sm font-medium ${\n                      timeOfDay.isNight ? 'text-slate-400' : 'text-white/60'\n                    }`}\n                  >\n                    {timeOfDay.period}\n                  </span>\n                  <h2\n                    className={`text-2xl font-semibold tracking-tight ${\n                      timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                    }`}\n                  >\n                    {timezone.city}\n                  </h2>\n                </div>\n              </div>\n              <p\n                className={`text-sm mt-1 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n              >\n                {timezoneOffset} â€¢ {timeDifference}\n              </p>\n            </div>\n\n            {/* Watch Face - Centered and larger */}\n            <div className=\"flex justify-center py-8 relative\">\n              {/* Nighttime glow effect */}\n              {timeOfDay.isNight && (\n                <div\n                  className=\"absolute inset-0 pointer-events-none\"\n                  style={{\n                    background: 'radial-gradient(circle at center, rgba(99,102,241,0.15) 0%, transparent 70%)',\n                  }}\n                />\n              )}\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 25 }}\n                className=\"relative\"\n              >\n                <WatchFace\n                  watchDNA={effectiveWatchDNA}\n                  size={180}\n                  showCase={true}\n                  interactive={false}\n                  timezone={timezone.timezone}\n                />\n                {/* Lume glow for nighttime */}\n                {timeOfDay.isNight && (\n                  <div\n                    className=\"absolute inset-0 rounded-full pointer-events-none\"\n                    style={{\n                      boxShadow: 'inset 0 0 30px rgba(147,197,253,0.2)',\n                    }}\n                  />\n                )}\n              </motion.div>\n            </div>\n\n            {/* Digital Time Display */}\n            <div className=\"text-center px-6 pb-4\">\n              <motion.div\n                className={`text-5xl font-light tabular-nums tracking-tight ${\n                  timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                }`}\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.15 }}\n              >\n                {formattedTime}\n              </motion.div>\n              <motion.p\n                className={`text-sm mt-2 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.2 }}\n              >\n                {formattedDate}\n              </motion.p>\n            </div>\n\n            {/* Info Cards */}\n            <div className=\"grid grid-cols-2 gap-3 px-6 pb-6\">\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: -10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.25 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  Timezone\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezone.timezone.split('/').pop()?.replace('_', ' ')}\n                </p>\n              </motion.div>\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: 10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.3 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  UTC Offset\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezoneOffset}\n                </p>\n              </motion.div>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport default TimezoneDetailModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1537, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/WorldClockView.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { TimezoneDetailModal } from './TimezoneDetailModal';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimeZone {\n  id: string;\n  city: string;\n  timezone: string;\n}\n\nconst TIME_ZONES: TimeZone[] = [\n  { id: 'dublin', city: 'Dublin', timezone: 'Europe/Dublin' },\n  { id: 'paris', city: 'Paris', timezone: 'Europe/Paris' },\n  { id: 'tokyo', city: 'Tokyo', timezone: 'Asia/Tokyo' },\n  { id: 'sanfrancisco', city: 'San Francisco', timezone: 'America/Los_Angeles' },\n  { id: 'salvador', city: 'Salvador', timezone: 'America/Bahia' },\n];\n\ninterface WorldClockViewProps {\n  watchDNA: WatchDNA;\n  onClose?: () => void;\n}\n\nfunction formatTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatFullDate(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }).format(date);\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): string {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return '/icons/weather/sunrise.svg';\n  } else if (hour >= 7 && hour < 12) {\n    return '/icons/weather/clear-day.svg';\n  } else if (hour >= 12 && hour < 17) {\n    return '/icons/weather/partly-cloudy-day.svg';\n  } else if (hour >= 17 && hour < 20) {\n    return '/icons/weather/sunset.svg';\n  } else {\n    return '/icons/weather/clear-night.svg';\n  }\n}\n\nfunction getTimeForTimezone(date: Date, timezone: string): Date {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: timezone,\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n    hour12: false,\n  };\n\n  const formatter = new Intl.DateTimeFormat('en-US', options);\n  const parts = formatter.formatToParts(date);\n\n  const getPart = (type: string) => {\n    const part = parts.find(p => p.type === type);\n    return part ? parseInt(part.value, 10) : 0;\n  };\n\n  const tzDate = new Date(\n    getPart('year'),\n    getPart('month') - 1,\n    getPart('day'),\n    getPart('hour'),\n    getPart('minute'),\n    getPart('second')\n  );\n\n  return tzDate;\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 20%, 12%)',\n    handColor: 'hsl(0, 0%, 90%)',\n    indexColor: 'hsl(0, 0%, 80%)',\n    bezelColor: 'hsl(220, 15%, 18%)',\n  };\n}\n\nexport function WorldClockView({ watchDNA, onClose }: WorldClockViewProps) {\n  const [time, setTime] = useState(new Date());\n  const [selectedTimezone, setSelectedTimezone] = useState<TimeZone | null>(null);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formattedDate = useMemo(() => formatFullDate(time), [time]);\n\n  const handleTimezoneClick = useCallback((tz: TimeZone) => {\n    setSelectedTimezone(tz);\n  }, []);\n\n  const handleCloseDetail = useCallback(() => {\n    setSelectedTimezone(null);\n  }, []);\n\n  return (\n    <>\n      <motion.div\n        className=\"relative flex flex-col items-center gap-6 p-6 rounded-3xl backdrop-blur-xl\"\n        style={{\n          background: 'var(--glass-bg, rgba(255,255,255,0.1))',\n          border: '1px solid var(--glass-border, rgba(255,255,255,0.2))',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.2)',\n          minWidth: '320px',\n        }}\n        initial={{ opacity: 0, scale: 0.9, y: -20 }}\n        animate={{ opacity: 1, scale: 1, y: 0 }}\n        exit={{ opacity: 0, scale: 0.9, y: -20 }}\n        transition={{ type: 'spring', stiffness: 300, damping: 25 }}\n      >\n        {/* Close Button */}\n        {onClose && (\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10\"\n            aria-label=\"Close world clock\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              className=\"text-white/70\"\n            >\n              <path d=\"M18 6L6 18M6 6l12 12\" />\n            </svg>\n          </button>\n        )}\n\n        {/* Date Header */}\n        <div className=\"text-center border-b border-white/10 pb-4 w-full\">\n          <h2\n            className=\"text-lg font-light tracking-wide\"\n            style={{ color: 'var(--text-primary, white)' }}\n          >\n            {formattedDate}\n          </h2>\n        </div>\n\n        {/* Time Zones */}\n        <div className=\"flex flex-col gap-3 w-full\">\n          {TIME_ZONES.map((tz, index) => {\n            const isNight = isNighttime(time, tz.timezone);\n            const weatherIcon = getWeatherIconForTime(time, tz.timezone);\n            const effectiveWatchDNA = isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA;\n\n            return (\n              <motion.button\n                key={tz.id}\n                onClick={() => handleTimezoneClick(tz)}\n                className=\"flex items-center gap-3 p-3 rounded-2xl transition-all cursor-pointer text-left hover:scale-[1.02] active:scale-[0.98]\"\n                style={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(15,23,42,0.9) 0%, rgba(30,41,59,0.8) 100%)'\n                    : 'var(--glass-bg-subtle, rgba(255,255,255,0.05))',\n                  border: isNight ? '1px solid rgba(71,85,105,0.3)' : 'none',\n                }}\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: index * 0.05, duration: 0.3 }}\n                whileHover={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(30,41,59,0.95) 0%, rgba(51,65,85,0.9) 100%)'\n                    : 'rgba(255,255,255,0.1)',\n                }}\n              >\n                {/* Mini Watch Face */}\n                <div className=\"flex-shrink-0 relative\">\n                  <WatchFace\n                    watchDNA={effectiveWatchDNA}\n                    size={48}\n                    showCase={false}\n                    interactive={false}\n                    timezone={tz.timezone}\n                  />\n                  {/* Nighttime overlay glow */}\n                  {isNight && (\n                    <div\n                      className=\"absolute inset-0 rounded-full pointer-events-none\"\n                      style={{\n                        boxShadow: 'inset 0 0 12px rgba(99,102,241,0.3)',\n                      }}\n                    />\n                  )}\n                </div>\n\n                {/* Location & Time */}\n                <div className=\"flex flex-col flex-1 min-w-0\">\n                  <span\n                    className=\"text-sm font-medium truncate\"\n                    style={{ color: isNight ? 'rgba(226,232,240,0.9)' : 'var(--text-primary, white)' }}\n                  >\n                    {tz.city}\n                  </span>\n                  <span\n                    className=\"text-2xl font-light tabular-nums tracking-tight\"\n                    style={{ color: isNight ? 'rgba(248,250,252,0.95)' : 'var(--text-primary, white)' }}\n                  >\n                    {formatTime(time, tz.timezone)}\n                  </span>\n                </div>\n\n                {/* Weather Icon */}\n                <div className=\"flex-shrink-0 w-8 h-8\">\n                  <img\n                    src={weatherIcon}\n                    alt=\"weather\"\n                    width={32}\n                    height={32}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: isNight ? 'drop-shadow(0 0 4px rgba(147,197,253,0.4))' : 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))',\n                    }}\n                  />\n                </div>\n\n                {/* Arrow indicator */}\n                <div className=\"flex-shrink-0\" style={{ color: isNight ? 'rgba(148,163,184,0.5)' : 'rgba(255,255,255,0.3)' }}>\n                  <svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  >\n                    <path d=\"M9 18l6-6-6-6\" />\n                  </svg>\n                </div>\n              </motion.button>\n            );\n          })}\n        </div>\n\n        {/* Hint text */}\n        <p className=\"text-[10px] text-white/30 text-center\">\n          Tap a timezone for details\n        </p>\n      </motion.div>\n\n      {/* Timezone Detail Modal */}\n      {selectedTimezone && (\n        <TimezoneDetailModal\n          isOpen={!!selectedTimezone}\n          onClose={handleCloseDetail}\n          timezone={selectedTimezone}\n          watchDNA={watchDNA}\n        />\n      )}\n    </>\n  );\n}\n\nexport default WorldClockView;\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAcA,MAAM,aAAyB;IAC7B;QAAE,IAAI;QAAU,MAAM;QAAU,UAAU;IAAgB;IAC1D;QAAE,IAAI;QAAS,MAAM;QAAS,UAAU;IAAe;IACvD;QAAE,IAAI;QAAS,MAAM;QAAS,UAAU;IAAa;IACrD;QAAE,IAAI;QAAgB,MAAM;QAAiB,UAAU;IAAsB;IAC7E;QAAE,IAAI;QAAY,MAAM;QAAY,UAAU;IAAgB;CAC/D;AAOD,SAAS,WAAW,IAAU,EAAE,QAAgB;IAC9C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,QAAQ;IACV,GAAG,MAAM,CAAC;AACZ;AAEA,SAAS,eAAe,IAAU;IAChC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,SAAS;QACT,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;AACZ;AAEA,SAAS,kBAAkB,IAAU,EAAE,QAAgB;IACrD,OAAO,SACL,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,QAAQ;QACR,UAAU;IACZ,GAAG,MAAM,CAAC;AAEd;AAEA,SAAS,YAAY,IAAU,EAAE,QAAgB;IAC/C,MAAM,OAAO,kBAAkB,MAAM;IACrC,OAAO,QAAQ,MAAM,OAAO;AAC9B;AAEA,6CAA6C;AAC7C,SAAS,sBAAsB,IAAU,EAAE,QAAgB;IACzD,MAAM,OAAO,kBAAkB,MAAM;IACrC,MAAM,UAAU,QAAQ,MAAM,OAAO;IAErC,IAAI,QAAQ,KAAK,OAAO,GAAG;QACzB,OAAO;IACT,OAAO,IAAI,QAAQ,KAAK,OAAO,IAAI;QACjC,OAAO;IACT,OAAO,IAAI,QAAQ,MAAM,OAAO,IAAI;QAClC,OAAO;IACT,OAAO,IAAI,QAAQ,MAAM,OAAO,IAAI;QAClC,OAAO;IACT,OAAO;QACL,OAAO;IACT;AACF;AAEA,SAAS,mBAAmB,IAAU,EAAE,QAAgB;IACtD,MAAM,UAAsC;QAC1C,UAAU;QACV,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,QAAQ;IACV;IAEA,MAAM,YAAY,IAAI,KAAK,cAAc,CAAC,SAAS;IACnD,MAAM,QAAQ,UAAU,aAAa,CAAC;IAEtC,MAAM,UAAU,CAAC;QACf,MAAM,OAAO,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QACxC,OAAO,OAAO,SAAS,KAAK,KAAK,EAAE,MAAM;IAC3C;IAEA,MAAM,SAAS,IAAI,KACjB,QAAQ,SACR,QAAQ,WAAW,GACnB,QAAQ,QACR,QAAQ,SACR,QAAQ,WACR,QAAQ;IAGV,OAAO;AACT;AAEA,uDAAuD;AACvD,SAAS,oBAAoB,QAAkB;IAC7C,OAAO;QACL,GAAG,QAAQ;QACX,WAAW;QACX,WAAW;QACX,YAAY;QACZ,YAAY;IACd;AACF;AAEO,SAAS,eAAe,EAAE,QAAQ,EAAE,OAAO,EAAuB;;IACvE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kXAAQ,EAAC,IAAI;IACrC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,kXAAQ,EAAkB;IAE1E,IAAA,mXAAS;oCAAC;YACR,MAAM,WAAW;qDAAY;oBAC3B,QAAQ,IAAI;gBACd;oDAAG;YACH;4CAAO,IAAM,cAAc;;QAC7B;mCAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,iXAAO;iDAAC,IAAM,eAAe;gDAAO;QAAC;KAAK;IAEhE,MAAM,sBAAsB,IAAA,qXAAW;2DAAC,CAAC;YACvC,oBAAoB;QACtB;0DAAG,EAAE;IAEL,MAAM,oBAAoB,IAAA,qXAAW;yDAAC;YACpC,oBAAoB;QACtB;wDAAG,EAAE;IAEL,qBACE;;0BACE,sYAAC,mVAAM,CAAC,GAAG;gBACT,WAAU;gBACV,OAAO;oBACL,YAAY;oBACZ,QAAQ;oBACR,WAAW;oBACX,UAAU;gBACZ;gBACA,SAAS;oBAAE,SAAS;oBAAG,OAAO;oBAAK,GAAG,CAAC;gBAAG;gBAC1C,SAAS;oBAAE,SAAS;oBAAG,OAAO;oBAAG,GAAG;gBAAE;gBACtC,MAAM;oBAAE,SAAS;oBAAG,OAAO;oBAAK,GAAG,CAAC;gBAAG;gBACvC,YAAY;oBAAE,MAAM;oBAAU,WAAW;oBAAK,SAAS;gBAAG;;oBAGzD,yBACC,sYAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,sYAAC;4BACC,OAAM;4BACN,QAAO;4BACP,SAAQ;4BACR,MAAK;4BACL,QAAO;4BACP,aAAY;4BACZ,eAAc;4BACd,WAAU;sCAEV,cAAA,sYAAC;gCAAK,GAAE;;;;;;;;;;;;;;;;kCAMd,sYAAC;wBAAI,WAAU;kCACb,cAAA,sYAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,OAAO;4BAA6B;sCAE5C;;;;;;;;;;;kCAKL,sYAAC;wBAAI,WAAU;kCACZ,WAAW,GAAG,CAAC,CAAC,IAAI;4BACnB,MAAM,UAAU,YAAY,MAAM,GAAG,QAAQ;4BAC7C,MAAM,cAAc,sBAAsB,MAAM,GAAG,QAAQ;4BAC3D,MAAM,oBAAoB,UAAU,oBAAoB,YAAY;4BAEpE,qBACE,sYAAC,mVAAM,CAAC,MAAM;gCAEZ,SAAS,IAAM,oBAAoB;gCACnC,WAAU;gCACV,OAAO;oCACL,YAAY,UACR,4EACA;oCACJ,QAAQ,UAAU,kCAAkC;gCACtD;gCACA,SAAS;oCAAE,SAAS;oCAAG,GAAG,CAAC;gCAAG;gCAC9B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,YAAY;oCAAE,OAAO,QAAQ;oCAAM,UAAU;gCAAI;gCACjD,YAAY;oCACV,YAAY,UACR,6EACA;gCACN;;kDAGA,sYAAC;wCAAI,WAAU;;0DACb,sYAAC,wJAAS;gDACR,UAAU;gDACV,MAAM;gDACN,UAAU;gDACV,aAAa;gDACb,UAAU,GAAG,QAAQ;;;;;;4CAGtB,yBACC,sYAAC;gDACC,WAAU;gDACV,OAAO;oDACL,WAAW;gDACb;;;;;;;;;;;;kDAMN,sYAAC;wCAAI,WAAU;;0DACb,sYAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,OAAO,UAAU,0BAA0B;gDAA6B;0DAEhF,GAAG,IAAI;;;;;;0DAEV,sYAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,OAAO,UAAU,2BAA2B;gDAA6B;0DAEjF,WAAW,MAAM,GAAG,QAAQ;;;;;;;;;;;;kDAKjC,sYAAC;wCAAI,WAAU;kDACb,cAAA,sYAAC;4CACC,KAAK;4CACL,KAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,WAAU;4CACV,OAAO;gDACL,QAAQ,UAAU,+CAA+C;4CACnE;;;;;;;;;;;kDAKJ,sYAAC;wCAAI,WAAU;wCAAgB,OAAO;4CAAE,OAAO,UAAU,0BAA0B;wCAAwB;kDACzG,cAAA,sYAAC;4CACC,OAAM;4CACN,QAAO;4CACP,SAAQ;4CACR,MAAK;4CACL,QAAO;4CACP,aAAY;4CACZ,eAAc;4CACd,gBAAe;sDAEf,cAAA,sYAAC;gDAAK,GAAE;;;;;;;;;;;;;;;;;+BAhFP,GAAG,EAAE;;;;;wBAqFhB;;;;;;kCAIF,sYAAC;wBAAE,WAAU;kCAAwC;;;;;;;;;;;;YAMtD,kCACC,sYAAC,4KAAmB;gBAClB,QAAQ,CAAC,CAAC;gBACV,SAAS;gBACT,UAAU;gBACV,UAAU;;;;;;;;AAKpB;GAtLgB;KAAA;uCAwLD"}}]
}