{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/scheduling/types.ts"],"sourcesContent":["/**\n * Scheduling Types - TypeScript definitions for the Calendly clone\n */\n\nexport type LocationType = \"google_meet\" | \"zoom\" | \"phone\" | \"in_person\" | \"custom\";\n\nexport type BookingStatus =\n  | \"pending\"\n  | \"confirmed\"\n  | \"cancelled\"\n  | \"rescheduled\"\n  | \"completed\"\n  | \"no_show\";\n\nexport interface TimeSlot {\n  start: string; // \"HH:mm\" format\n  end: string;\n}\n\nexport interface DaySchedule {\n  dayOfWeek: number; // 0-6 (Sunday-Saturday)\n  isAvailable: boolean;\n  slots: TimeSlot[];\n}\n\nexport interface Question {\n  id: string;\n  label: string;\n  type: \"text\" | \"textarea\" | \"select\";\n  required: boolean;\n  options?: string[];\n}\n\nexport interface QuestionResponse {\n  questionId: string;\n  questionLabel: string;\n  answer: string;\n}\n\nexport interface EventType {\n  _id: string;\n  ownerId: string;\n  title: string;\n  slug: string;\n  description?: string;\n  duration: number;\n  color: string;\n  isActive: boolean;\n  bufferBefore: number;\n  bufferAfter: number;\n  maxBookingsPerDay?: number;\n  minNotice: number;\n  maxAdvance: number;\n  locationType: LocationType;\n  locationValue?: string;\n  questions: Question[];\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface Availability {\n  _id: string;\n  ownerId: string;\n  name: string;\n  isDefault: boolean;\n  timezone: string;\n  schedule: DaySchedule[];\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface AvailabilityOverride {\n  _id: string;\n  ownerId: string;\n  date: string;\n  isBlocked: boolean;\n  slots?: TimeSlot[];\n  reason?: string;\n}\n\nexport interface Booking {\n  _id: string;\n  eventTypeId: string;\n  hostId: string;\n  guestEmail: string;\n  guestName: string;\n  guestTimezone: string;\n  startTime: number;\n  endTime: number;\n  status: BookingStatus;\n  title: string;\n  location?: string;\n  locationType: string;\n  notes?: string;\n  responses?: QuestionResponse[];\n  googleEventId?: string;\n  cancelledAt?: number;\n  cancelReason?: string;\n  cancelledBy?: \"host\" | \"guest\";\n  rescheduledFrom?: string;\n  rescheduledTo?: string;\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface CalendarIntegration {\n  _id: string;\n  ownerId: string;\n  provider: \"google\";\n  accessToken: string;\n  refreshToken: string;\n  tokenExpiry: number;\n  calendarId: string;\n  calendarEmail: string;\n  syncEnabled: boolean;\n  blockExternalEvents: boolean;\n  lastSyncAt?: number;\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport interface AvailableSlot {\n  time: string; // \"HH:mm\" format\n  timestamp: number;\n}\n\nexport interface GoogleCalendarEvent {\n  id?: string;\n  summary: string;\n  description?: string;\n  start: {\n    dateTime: string;\n    timeZone: string;\n  };\n  end: {\n    dateTime: string;\n    timeZone: string;\n  };\n  attendees?: Array<{\n    email: string;\n    displayName?: string;\n    responseStatus?: string;\n  }>;\n  conferenceData?: {\n    createRequest?: {\n      requestId: string;\n      conferenceSolutionKey: {\n        type: string;\n      };\n    };\n    entryPoints?: Array<{\n      entryPointType: string;\n      uri: string;\n      label?: string;\n    }>;\n  };\n  reminders?: {\n    useDefault: boolean;\n    overrides?: Array<{\n      method: string;\n      minutes: number;\n    }>;\n  };\n}\n\nexport interface GoogleTokenResponse {\n  access_token: string;\n  refresh_token?: string;\n  expires_in: number;\n  token_type: string;\n  scope: string;\n}\n\nexport interface GoogleCalendarListResponse {\n  items: Array<{\n    id: string;\n    summary: string;\n    primary?: boolean;\n    accessRole: string;\n  }>;\n}\n\nexport interface GoogleFreeBusyResponse {\n  calendars: {\n    [calendarId: string]: {\n      busy: Array<{\n        start: string;\n        end: string;\n      }>;\n    };\n  };\n}\n\n// Form types for UI\nexport interface BookingFormData {\n  guestName: string;\n  guestEmail: string;\n  guestTimezone: string;\n  notes?: string;\n  responses?: QuestionResponse[];\n}\n\nexport interface EventTypeFormData {\n  title: string;\n  description?: string;\n  duration: number;\n  color: string;\n  locationType: LocationType;\n  locationValue?: string;\n  bufferBefore?: number;\n  bufferAfter?: number;\n  minNotice?: number;\n  maxAdvance?: number;\n  questions?: Question[];\n}\n\n// Calendar view types\nexport type CalendarView = \"month\" | \"week\" | \"day\" | \"list\";\n\nexport interface CalendarDay {\n  date: Date;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  bookings: Booking[];\n}\n\n// Duration options\nexport const DURATION_OPTIONS = [\n  { value: 15, label: \"15 minutes\" },\n  { value: 30, label: \"30 minutes\" },\n  { value: 45, label: \"45 minutes\" },\n  { value: 60, label: \"1 hour\" },\n  { value: 90, label: \"1.5 hours\" },\n  { value: 120, label: \"2 hours\" },\n] as const;\n\n// Color options for event types\nexport const EVENT_COLORS = [\n  { value: \"#3b82f6\", label: \"Blue\" },\n  { value: \"#10b981\", label: \"Green\" },\n  { value: \"#f59e0b\", label: \"Yellow\" },\n  { value: \"#ef4444\", label: \"Red\" },\n  { value: \"#8b5cf6\", label: \"Purple\" },\n  { value: \"#ec4899\", label: \"Pink\" },\n  { value: \"#06b6d4\", label: \"Cyan\" },\n  { value: \"#f97316\", label: \"Orange\" },\n] as const;\n\n// Day names\nexport const DAY_NAMES = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n] as const;\n\nexport const DAY_NAMES_SHORT = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"] as const;\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;AAiOM,MAAM,mBAAmB;IAC9B;QAAE,OAAO;QAAI,OAAO;IAAa;IACjC;QAAE,OAAO;QAAI,OAAO;IAAa;IACjC;QAAE,OAAO;QAAI,OAAO;IAAa;IACjC;QAAE,OAAO;QAAI,OAAO;IAAS;IAC7B;QAAE,OAAO;QAAI,OAAO;IAAY;IAChC;QAAE,OAAO;QAAK,OAAO;IAAU;CAChC;AAGM,MAAM,eAAe;IAC1B;QAAE,OAAO;QAAW,OAAO;IAAO;IAClC;QAAE,OAAO;QAAW,OAAO;IAAQ;IACnC;QAAE,OAAO;QAAW,OAAO;IAAS;IACpC;QAAE,OAAO;QAAW,OAAO;IAAM;IACjC;QAAE,OAAO;QAAW,OAAO;IAAS;IACpC;QAAE,OAAO;QAAW,OAAO;IAAO;IAClC;QAAE,OAAO;QAAW,OAAO;IAAO;IAClC;QAAE,OAAO;QAAW,OAAO;IAAS;CACrC;AAGM,MAAM,YAAY;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,kBAAkB;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/scheduling/utils.ts"],"sourcesContent":["/**\n * Scheduling Utilities\n *\n * Helper functions for date/time handling and formatting.\n */\n\nimport { DAY_NAMES, DAY_NAMES_SHORT, type DaySchedule, type TimeSlot } from \"./types\";\n\n// Re-export constants for convenience\nexport { DAY_NAMES, DAY_NAMES_SHORT };\n\n/**\n * Format a date to \"YYYY-MM-DD\" string\n */\nexport function formatDateString(date: Date): string {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Parse \"YYYY-MM-DD\" string to Date\n */\nexport function parseDateString(dateString: string): Date {\n  const [year, month, day] = dateString.split(\"-\").map(Number);\n  return new Date(year, month - 1, day);\n}\n\n/**\n * Format time string from minutes\n */\nexport function formatTimeFromMinutes(minutes: number): string {\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  return `${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}`;\n}\n\n/**\n * Parse \"HH:mm\" string to minutes from midnight\n */\nexport function parseTimeToMinutes(time: string): number {\n  const [hours, minutes] = time.split(\":\").map(Number);\n  return hours * 60 + minutes;\n}\n\n/**\n * Format timestamp to human-readable date\n */\nexport function formatDate(timestamp: number, options?: Intl.DateTimeFormatOptions): string {\n  return new Date(timestamp).toLocaleDateString(\"en-US\", {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    ...options,\n  });\n}\n\n/**\n * Format timestamp to human-readable time\n */\nexport function formatTime(timestamp: number, timezone?: string): string {\n  return new Date(timestamp).toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hour12: true,\n    ...(timezone && { timeZone: timezone }),\n  });\n}\n\n/**\n * Format timestamp to human-readable date and time\n */\nexport function formatDateTime(timestamp: number, timezone?: string): string {\n  return new Date(timestamp).toLocaleString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hour12: true,\n    ...(timezone && { timeZone: timezone }),\n  });\n}\n\n/**\n * Format duration in minutes to human-readable string\n */\nexport function formatDuration(minutes: number): string {\n  if (minutes < 60) {\n    return `${minutes} min`;\n  }\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  if (mins === 0) {\n    return hours === 1 ? \"1 hour\" : `${hours} hours`;\n  }\n  return `${hours}h ${mins}m`;\n}\n\n/**\n * Get relative time string (e.g., \"in 2 hours\", \"tomorrow\")\n */\nexport function getRelativeTime(timestamp: number): string {\n  const now = Date.now();\n  const diff = timestamp - now;\n\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  const days = Math.floor(diff / 86400000);\n\n  if (diff < 0) {\n    return \"Past\";\n  }\n\n  if (minutes < 60) {\n    return `in ${minutes} min`;\n  }\n\n  if (hours < 24) {\n    return `in ${hours} hour${hours === 1 ? \"\" : \"s\"}`;\n  }\n\n  if (days === 1) {\n    return \"Tomorrow\";\n  }\n\n  if (days < 7) {\n    return `in ${days} days`;\n  }\n\n  return formatDate(timestamp, { weekday: undefined, year: undefined });\n}\n\n/**\n * Get user's timezone\n */\nexport function getUserTimezone(): string {\n  return Intl.DateTimeFormat().resolvedOptions().timeZone;\n}\n\n/**\n * Format timezone for display\n */\nexport function formatTimezone(timezone: string): string {\n  try {\n    const now = new Date();\n    const formatter = new Intl.DateTimeFormat(\"en-US\", {\n      timeZone: timezone,\n      timeZoneName: \"short\",\n    });\n    const parts = formatter.formatToParts(now);\n    const tzPart = parts.find((p) => p.type === \"timeZoneName\");\n    return tzPart ? `${timezone} (${tzPart.value})` : timezone;\n  } catch {\n    return timezone;\n  }\n}\n\n/**\n * Get day name from day of week number\n */\nexport function getDayName(dayOfWeek: number, short = false): string {\n  return short ? DAY_NAMES_SHORT[dayOfWeek] : DAY_NAMES[dayOfWeek];\n}\n\n/**\n * Generate dates for a calendar month view\n */\nexport function getCalendarDates(year: number, month: number): Date[] {\n  const firstDay = new Date(year, month, 1);\n  const lastDay = new Date(year, month + 1, 0);\n\n  // Start from the Sunday of the first week\n  const startDate = new Date(firstDay);\n  startDate.setDate(startDate.getDate() - firstDay.getDay());\n\n  // End at the Saturday of the last week\n  const endDate = new Date(lastDay);\n  endDate.setDate(endDate.getDate() + (6 - lastDay.getDay()));\n\n  const dates: Date[] = [];\n  const current = new Date(startDate);\n\n  while (current <= endDate) {\n    dates.push(new Date(current));\n    current.setDate(current.getDate() + 1);\n  }\n\n  return dates;\n}\n\n/**\n * Generate dates for a week view\n */\nexport function getWeekDates(date: Date): Date[] {\n  const startOfWeek = new Date(date);\n  startOfWeek.setDate(date.getDate() - date.getDay());\n\n  const dates: Date[] = [];\n  for (let i = 0; i < 7; i++) {\n    const d = new Date(startOfWeek);\n    d.setDate(startOfWeek.getDate() + i);\n    dates.push(d);\n  }\n\n  return dates;\n}\n\n/**\n * Check if two dates are the same day\n */\nexport function isSameDay(date1: Date, date2: Date): boolean {\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  );\n}\n\n/**\n * Check if a date is today\n */\nexport function isToday(date: Date): boolean {\n  return isSameDay(date, new Date());\n}\n\n/**\n * Check if a date is in the past\n */\nexport function isPast(date: Date): boolean {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  return date < today;\n}\n\n/**\n * Get start and end of day timestamps\n */\nexport function getDayBounds(date: Date): { start: number; end: number } {\n  const start = new Date(date);\n  start.setHours(0, 0, 0, 0);\n\n  const end = new Date(date);\n  end.setHours(23, 59, 59, 999);\n\n  return { start: start.getTime(), end: end.getTime() };\n}\n\n/**\n * Create default availability schedule (9-5 weekdays)\n */\nexport function createDefaultSchedule(): DaySchedule[] {\n  return [\n    { dayOfWeek: 0, isAvailable: false, slots: [] },\n    { dayOfWeek: 1, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 2, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 3, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 4, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 5, isAvailable: true, slots: [{ start: \"09:00\", end: \"17:00\" }] },\n    { dayOfWeek: 6, isAvailable: false, slots: [] },\n  ];\n}\n\n/**\n * Merge overlapping time slots\n */\nexport function mergeTimeSlots(slots: TimeSlot[]): TimeSlot[] {\n  if (slots.length === 0) return [];\n\n  // Sort by start time\n  const sorted = [...slots].sort((a, b) =>\n    parseTimeToMinutes(a.start) - parseTimeToMinutes(b.start)\n  );\n\n  const merged: TimeSlot[] = [sorted[0]];\n\n  for (let i = 1; i < sorted.length; i++) {\n    const current = sorted[i];\n    const last = merged[merged.length - 1];\n\n    const lastEnd = parseTimeToMinutes(last.end);\n    const currentStart = parseTimeToMinutes(current.start);\n\n    if (currentStart <= lastEnd) {\n      // Overlapping, merge\n      const currentEnd = parseTimeToMinutes(current.end);\n      if (currentEnd > lastEnd) {\n        last.end = current.end;\n      }\n    } else {\n      // No overlap, add new slot\n      merged.push(current);\n    }\n  }\n\n  return merged;\n}\n\n/**\n * Generate time slot options for select inputs\n */\nexport function generateTimeOptions(\n  startHour = 0,\n  endHour = 24,\n  intervalMinutes = 30\n): Array<{ value: string; label: string }> {\n  const options: Array<{ value: string; label: string }> = [];\n\n  for (let minutes = startHour * 60; minutes < endHour * 60; minutes += intervalMinutes) {\n    const time = formatTimeFromMinutes(minutes);\n    const label = formatTime(new Date().setHours(0, minutes, 0, 0));\n    options.push({ value: time, label });\n  }\n\n  return options;\n}\n\n/**\n * Convert timestamp to timezone-aware Date\n */\nexport function toTimezone(timestamp: number, timezone: string): Date {\n  const date = new Date(timestamp);\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: timezone,\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: false,\n  };\n\n  const parts = new Intl.DateTimeFormat(\"en-CA\", options).formatToParts(date);\n  const get = (type: string) => parts.find((p) => p.type === type)?.value || \"0\";\n\n  return new Date(\n    parseInt(get(\"year\")),\n    parseInt(get(\"month\")) - 1,\n    parseInt(get(\"day\")),\n    parseInt(get(\"hour\")),\n    parseInt(get(\"minute\")),\n    parseInt(get(\"second\"))\n  );\n}\n\n/**\n * Get booking link URL\n */\nexport function getBookingLink(username: string, eventSlug: string): string {\n  if (typeof window !== \"undefined\") {\n    return `${window.location.origin}/book/${username}/${eventSlug}`;\n  }\n  return `/book/${username}/${eventSlug}`;\n}\n\n/**\n * Copy text to clipboard\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  try {\n    await navigator.clipboard.writeText(text);\n    return true;\n  } catch {\n    // Fallback for older browsers\n    const textarea = document.createElement(\"textarea\");\n    textarea.value = text;\n    textarea.style.position = \"fixed\";\n    textarea.style.opacity = \"0\";\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      document.execCommand(\"copy\");\n      return true;\n    } catch {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n}\n\n/**\n * Validate email format\n */\nexport function isValidEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Generate a unique ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 11) + Date.now().toString(36);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/EventTypeCard.tsx"],"sourcesContent":["'use client';\n\n/**\n * EventTypeCard - Display card for an event type\n */\n\nimport { useState } from 'react';\nimport { Clock, Copy, ExternalLink, MoreVertical, Pencil, Trash2, ToggleLeft, ToggleRight } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { EventType } from '@/lib/scheduling/types';\nimport { formatDuration, copyToClipboard, getBookingLink } from '@/lib/scheduling/utils';\n\ninterface EventTypeCardProps {\n  eventType: EventType;\n  username: string;\n  onEdit: (eventType: EventType) => void;\n  onDelete: (id: string) => void;\n  onToggleActive: (id: string, isActive: boolean) => void;\n}\n\nexport function EventTypeCard({\n  eventType,\n  username,\n  onEdit,\n  onDelete,\n  onToggleActive,\n}: EventTypeCardProps) {\n  const [showMenu, setShowMenu] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  const bookingLink = getBookingLink(username, eventType.slug);\n\n  const handleCopyLink = async () => {\n    const success = await copyToClipboard(bookingLink);\n    if (success) {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  const locationLabels: Record<string, string> = {\n    google_meet: 'Google Meet',\n    zoom: 'Zoom',\n    phone: 'Phone Call',\n    in_person: 'In Person',\n    custom: 'Custom Location',\n  };\n\n  return (\n    <LiquidGlass className=\"relative p-4 rounded-xl\">\n      <div className=\"flex items-start gap-4\">\n        {/* Color indicator */}\n        <div\n          className=\"w-3 h-full min-h-[80px] rounded-full flex-shrink-0\"\n          style={{ backgroundColor: eventType.color }}\n        />\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-start justify-between gap-2\">\n            <div>\n              <h3 className=\"font-semibold text-lg\" style={{ color: 'hsl(var(--foreground))' }}>\n                {eventType.title}\n              </h3>\n              {eventType.description && (\n                <p className=\"text-sm mt-1 line-clamp-2\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                  {eventType.description}\n                </p>\n              )}\n            </div>\n\n            {/* Menu */}\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowMenu(!showMenu)}\n                className=\"p-2 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors\"\n              >\n                <MoreVertical className=\"w-4 h-4\" style={{ color: 'hsl(var(--muted-foreground))' }} />\n              </button>\n\n              {showMenu && (\n                <>\n                  <div\n                    className=\"fixed inset-0 z-10\"\n                    onClick={() => setShowMenu(false)}\n                  />\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.95 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    className=\"absolute right-0 top-full mt-1 z-20 min-w-[160px] rounded-lg shadow-lg overflow-hidden\"\n                    style={{ backgroundColor: 'hsl(var(--popover))', border: '1px solid hsl(var(--border))' }}\n                  >\n                    <button\n                      onClick={() => {\n                        onEdit(eventType);\n                        setShowMenu(false);\n                      }}\n                      className=\"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5\"\n                    >\n                      <Pencil className=\"w-4 h-4\" />\n                      Edit\n                    </button>\n                    <button\n                      onClick={() => {\n                        onToggleActive(eventType._id, !eventType.isActive);\n                        setShowMenu(false);\n                      }}\n                      className=\"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5\"\n                    >\n                      {eventType.isActive ? (\n                        <>\n                          <ToggleRight className=\"w-4 h-4\" />\n                          Disable\n                        </>\n                      ) : (\n                        <>\n                          <ToggleLeft className=\"w-4 h-4\" />\n                          Enable\n                        </>\n                      )}\n                    </button>\n                    <button\n                      onClick={() => {\n                        onDelete(eventType._id);\n                        setShowMenu(false);\n                      }}\n                      className=\"w-full px-4 py-2 text-left text-sm flex items-center gap-2 text-red-500 hover:bg-red-500/10\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                      Delete\n                    </button>\n                  </motion.div>\n                </>\n              )}\n            </div>\n          </div>\n\n          {/* Meta info */}\n          <div className=\"flex flex-wrap items-center gap-3 mt-3 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            <span className=\"flex items-center gap-1\">\n              <Clock className=\"w-4 h-4\" />\n              {formatDuration(eventType.duration)}\n            </span>\n            <span className=\"px-2 py-0.5 rounded-full text-xs\" style={{ backgroundColor: 'hsl(var(--muted))' }}>\n              {locationLabels[eventType.locationType]}\n            </span>\n            {!eventType.isActive && (\n              <span className=\"px-2 py-0.5 rounded-full text-xs bg-yellow-500/20 text-yellow-600 dark:text-yellow-400\">\n                Disabled\n              </span>\n            )}\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-2 mt-4\">\n            <button\n              onClick={handleCopyLink}\n              className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors\"\n              style={{\n                backgroundColor: 'hsl(var(--primary))',\n                color: 'hsl(var(--primary-foreground))',\n              }}\n            >\n              <Copy className=\"w-4 h-4\" />\n              {copied ? 'Copied!' : 'Copy Link'}\n            </button>\n            <a\n              href={bookingLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors hover:bg-black/5 dark:hover:bg-white/5\"\n              style={{ border: '1px solid hsl(var(--border))' }}\n            >\n              <ExternalLink className=\"w-4 h-4\" />\n              Preview\n            </a>\n          </div>\n        </div>\n      </div>\n    </LiquidGlass>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/EventTypeForm.tsx"],"sourcesContent":["'use client';\n\n/**\n * EventTypeForm - Create/Edit form for event types\n */\n\nimport { useState } from 'react';\nimport { X, Plus, Trash2 } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { EventType, Question, LocationType } from '@/lib/scheduling/types';\nimport { DURATION_OPTIONS, EVENT_COLORS } from '@/lib/scheduling/types';\nimport { generateId } from '@/lib/scheduling/utils';\n\ninterface EventTypeFormProps {\n  eventType?: EventType | null;\n  onSave: (data: EventTypeFormData) => Promise<void>;\n  onClose: () => void;\n}\n\ninterface EventTypeFormData {\n  title: string;\n  description?: string;\n  duration: number;\n  color: string;\n  locationType: LocationType;\n  locationValue?: string;\n  bufferBefore?: number;\n  bufferAfter?: number;\n  minNotice?: number;\n  maxAdvance?: number;\n  questions?: Question[];\n}\n\nexport function EventTypeForm({ eventType, onSave, onClose }: EventTypeFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formData, setFormData] = useState<EventTypeFormData>({\n    title: eventType?.title || '',\n    description: eventType?.description || '',\n    duration: eventType?.duration || 30,\n    color: eventType?.color || EVENT_COLORS[0].value,\n    locationType: eventType?.locationType || 'google_meet',\n    locationValue: eventType?.locationValue || '',\n    bufferBefore: eventType?.bufferBefore || 0,\n    bufferAfter: eventType?.bufferAfter || 0,\n    minNotice: eventType?.minNotice || 24,\n    maxAdvance: eventType?.maxAdvance || 60,\n    questions: eventType?.questions || [],\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!formData.title.trim()) return;\n\n    setIsSubmitting(true);\n    try {\n      await onSave(formData);\n      onClose();\n    } catch (error) {\n      console.error('Failed to save event type:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const addQuestion = () => {\n    setFormData({\n      ...formData,\n      questions: [\n        ...(formData.questions || []),\n        {\n          id: generateId(),\n          label: '',\n          type: 'text',\n          required: false,\n        },\n      ],\n    });\n  };\n\n  const updateQuestion = (index: number, updates: Partial<Question>) => {\n    const newQuestions = [...(formData.questions || [])];\n    newQuestions[index] = { ...newQuestions[index], ...updates };\n    setFormData({ ...formData, questions: newQuestions });\n  };\n\n  const removeQuestion = (index: number) => {\n    const newQuestions = [...(formData.questions || [])];\n    newQuestions.splice(index, 1);\n    setFormData({ ...formData, questions: newQuestions });\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\"\n      onClick={(e) => e.target === e.currentTarget && onClose()}\n    >\n      <motion.div\n        initial={{ scale: 0.95, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        exit={{ scale: 0.95, opacity: 0 }}\n        className=\"w-full max-w-lg max-h-[90vh] overflow-y-auto\"\n      >\n        <LiquidGlass className=\"p-6 rounded-2xl\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-semibold\" style={{ color: 'hsl(var(--foreground))' }}>\n              {eventType ? 'Edit Event Type' : 'New Event Type'}\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            {/* Title */}\n            <div>\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                Title *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                placeholder=\"30 Minute Meeting\"\n                className=\"w-full px-4 py-2 rounded-lg outline-none transition-all\"\n                style={{\n                  backgroundColor: 'hsl(var(--muted))',\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n                required\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                Description\n              </label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                placeholder=\"A quick chat to discuss your project\"\n                rows={3}\n                className=\"w-full px-4 py-2 rounded-lg outline-none transition-all resize-none\"\n                style={{\n                  backgroundColor: 'hsl(var(--muted))',\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n              />\n            </div>\n\n            {/* Duration & Color */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Duration\n                </label>\n                <select\n                  value={formData.duration}\n                  onChange={(e) => setFormData({ ...formData, duration: Number(e.target.value) })}\n                  className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                  style={{\n                    backgroundColor: 'hsl(var(--muted))',\n                    border: '1px solid hsl(var(--border))',\n                    color: 'hsl(var(--foreground))',\n                  }}\n                >\n                  {DURATION_OPTIONS.map((opt) => (\n                    <option key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Color\n                </label>\n                <div className=\"flex gap-2 flex-wrap\">\n                  {EVENT_COLORS.map((color) => (\n                    <button\n                      key={color.value}\n                      type=\"button\"\n                      onClick={() => setFormData({ ...formData, color: color.value })}\n                      className=\"w-8 h-8 rounded-full transition-transform hover:scale-110\"\n                      style={{\n                        backgroundColor: color.value,\n                        boxShadow: formData.color === color.value ? `0 0 0 2px hsl(var(--background)), 0 0 0 4px ${color.value}` : 'none',\n                      }}\n                      title={color.label}\n                    />\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Location Type */}\n            <div>\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                Location\n              </label>\n              <select\n                value={formData.locationType}\n                onChange={(e) => setFormData({ ...formData, locationType: e.target.value as LocationType })}\n                className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                style={{\n                  backgroundColor: 'hsl(var(--muted))',\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n              >\n                <option value=\"google_meet\">Google Meet</option>\n                <option value=\"zoom\">Zoom</option>\n                <option value=\"phone\">Phone Call</option>\n                <option value=\"in_person\">In Person</option>\n                <option value=\"custom\">Custom Link</option>\n              </select>\n\n              {(formData.locationType === 'phone' || formData.locationType === 'in_person' || formData.locationType === 'custom') && (\n                <input\n                  type=\"text\"\n                  value={formData.locationValue}\n                  onChange={(e) => setFormData({ ...formData, locationValue: e.target.value })}\n                  placeholder={\n                    formData.locationType === 'phone'\n                      ? 'Phone number'\n                      : formData.locationType === 'in_person'\n                        ? 'Address'\n                        : 'Meeting link'\n                  }\n                  className=\"w-full px-4 py-2 rounded-lg outline-none mt-2\"\n                  style={{\n                    backgroundColor: 'hsl(var(--muted))',\n                    border: '1px solid hsl(var(--border))',\n                    color: 'hsl(var(--foreground))',\n                  }}\n                />\n              )}\n            </div>\n\n            {/* Buffer Times */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Buffer Before (min)\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"60\"\n                  value={formData.bufferBefore}\n                  onChange={(e) => setFormData({ ...formData, bufferBefore: Number(e.target.value) })}\n                  className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                  style={{\n                    backgroundColor: 'hsl(var(--muted))',\n                    border: '1px solid hsl(var(--border))',\n                    color: 'hsl(var(--foreground))',\n                  }}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Buffer After (min)\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"60\"\n                  value={formData.bufferAfter}\n                  onChange={(e) => setFormData({ ...formData, bufferAfter: Number(e.target.value) })}\n                  className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                  style={{\n                    backgroundColor: 'hsl(var(--muted))',\n                    border: '1px solid hsl(var(--border))',\n                    color: 'hsl(var(--foreground))',\n                  }}\n                />\n              </div>\n            </div>\n\n            {/* Scheduling Window */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Min Notice (hours)\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  value={formData.minNotice}\n                  onChange={(e) => setFormData({ ...formData, minNotice: Number(e.target.value) })}\n                  className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                  style={{\n                    backgroundColor: 'hsl(var(--muted))',\n                    border: '1px solid hsl(var(--border))',\n                    color: 'hsl(var(--foreground))',\n                  }}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Max Advance (days)\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={formData.maxAdvance}\n                  onChange={(e) => setFormData({ ...formData, maxAdvance: Number(e.target.value) })}\n                  className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                  style={{\n                    backgroundColor: 'hsl(var(--muted))',\n                    border: '1px solid hsl(var(--border))',\n                    color: 'hsl(var(--foreground))',\n                  }}\n                />\n              </div>\n            </div>\n\n            {/* Custom Questions */}\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <label className=\"text-sm font-medium\" style={{ color: 'hsl(var(--foreground))' }}>\n                  Booking Questions\n                </label>\n                <button\n                  type=\"button\"\n                  onClick={addQuestion}\n                  className=\"flex items-center gap-1 px-2 py-1 text-sm rounded-lg hover:bg-black/5 dark:hover:bg-white/5\"\n                  style={{ color: 'hsl(var(--primary))' }}\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  Add\n                </button>\n              </div>\n\n              <AnimatePresence>\n                {formData.questions?.map((question, index) => (\n                  <motion.div\n                    key={question.id}\n                    initial={{ opacity: 0, height: 0 }}\n                    animate={{ opacity: 1, height: 'auto' }}\n                    exit={{ opacity: 0, height: 0 }}\n                    className=\"flex gap-2 mb-2\"\n                  >\n                    <input\n                      type=\"text\"\n                      value={question.label}\n                      onChange={(e) => updateQuestion(index, { label: e.target.value })}\n                      placeholder=\"Question\"\n                      className=\"flex-1 px-3 py-2 rounded-lg text-sm outline-none\"\n                      style={{\n                        backgroundColor: 'hsl(var(--muted))',\n                        border: '1px solid hsl(var(--border))',\n                        color: 'hsl(var(--foreground))',\n                      }}\n                    />\n                    <select\n                      value={question.type}\n                      onChange={(e) => updateQuestion(index, { type: e.target.value as Question['type'] })}\n                      className=\"px-2 py-2 rounded-lg text-sm outline-none\"\n                      style={{\n                        backgroundColor: 'hsl(var(--muted))',\n                        border: '1px solid hsl(var(--border))',\n                        color: 'hsl(var(--foreground))',\n                      }}\n                    >\n                      <option value=\"text\">Text</option>\n                      <option value=\"textarea\">Long Text</option>\n                      <option value=\"select\">Select</option>\n                    </select>\n                    <label className=\"flex items-center gap-1 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                      <input\n                        type=\"checkbox\"\n                        checked={question.required}\n                        onChange={(e) => updateQuestion(index, { required: e.target.checked })}\n                      />\n                      Req\n                    </label>\n                    <button\n                      type=\"button\"\n                      onClick={() => removeQuestion(index)}\n                      className=\"p-2 text-red-500 hover:bg-red-500/10 rounded-lg\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"flex-1 px-4 py-2 rounded-lg transition-colors\"\n                style={{\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={isSubmitting || !formData.title.trim()}\n                className=\"flex-1 px-4 py-2 rounded-lg transition-colors disabled:opacity-50\"\n                style={{\n                  backgroundColor: 'hsl(var(--primary))',\n                  color: 'hsl(var(--primary-foreground))',\n                }}\n              >\n                {isSubmitting ? 'Saving...' : eventType ? 'Update' : 'Create'}\n              </button>\n            </div>\n          </form>\n        </LiquidGlass>\n      </motion.div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1700, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/AvailabilityEditor.tsx"],"sourcesContent":["'use client';\n\n/**\n * AvailabilityEditor - Edit weekly availability schedule\n */\n\nimport { useState, useCallback } from 'react';\nimport { Plus, Trash2, Clock } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { Availability, DaySchedule, TimeSlot } from '@/lib/scheduling/types';\nimport { DAY_NAMES, generateTimeOptions } from '@/lib/scheduling/utils';\n\ninterface AvailabilityEditorProps {\n  availability: Availability | null;\n  onSave: (schedule: DaySchedule[]) => Promise<void>;\n  timezone: string;\n}\n\nconst TIME_OPTIONS = generateTimeOptions(0, 24, 30);\n\nexport function AvailabilityEditor({\n  availability,\n  onSave,\n  timezone,\n}: AvailabilityEditorProps) {\n  const [schedule, setSchedule] = useState<DaySchedule[]>(\n    availability?.schedule || [\n      { dayOfWeek: 0, isAvailable: false, slots: [] },\n      { dayOfWeek: 1, isAvailable: true, slots: [{ start: '09:00', end: '17:00' }] },\n      { dayOfWeek: 2, isAvailable: true, slots: [{ start: '09:00', end: '17:00' }] },\n      { dayOfWeek: 3, isAvailable: true, slots: [{ start: '09:00', end: '17:00' }] },\n      { dayOfWeek: 4, isAvailable: true, slots: [{ start: '09:00', end: '17:00' }] },\n      { dayOfWeek: 5, isAvailable: true, slots: [{ start: '09:00', end: '17:00' }] },\n      { dayOfWeek: 6, isAvailable: false, slots: [] },\n    ]\n  );\n  const [isSaving, setIsSaving] = useState(false);\n  const [hasChanges, setHasChanges] = useState(false);\n\n  const updateSchedule = useCallback((dayOfWeek: number, updates: Partial<DaySchedule>) => {\n    setSchedule((prev) =>\n      prev.map((day) =>\n        day.dayOfWeek === dayOfWeek ? { ...day, ...updates } : day\n      )\n    );\n    setHasChanges(true);\n  }, []);\n\n  const toggleDay = useCallback((dayOfWeek: number) => {\n    setSchedule((prev) =>\n      prev.map((day) => {\n        if (day.dayOfWeek !== dayOfWeek) return day;\n        return {\n          ...day,\n          isAvailable: !day.isAvailable,\n          slots: !day.isAvailable && day.slots.length === 0\n            ? [{ start: '09:00', end: '17:00' }]\n            : day.slots,\n        };\n      })\n    );\n    setHasChanges(true);\n  }, []);\n\n  const addSlot = useCallback((dayOfWeek: number) => {\n    setSchedule((prev) =>\n      prev.map((day) => {\n        if (day.dayOfWeek !== dayOfWeek) return day;\n        const lastSlot = day.slots[day.slots.length - 1];\n        const newStart = lastSlot ? lastSlot.end : '09:00';\n        const newStartMinutes = parseInt(newStart.split(':')[0]) * 60 + parseInt(newStart.split(':')[1]);\n        const newEndMinutes = Math.min(newStartMinutes + 60, 24 * 60);\n        const newEnd = `${String(Math.floor(newEndMinutes / 60)).padStart(2, '0')}:${String(newEndMinutes % 60).padStart(2, '0')}`;\n\n        return {\n          ...day,\n          slots: [...day.slots, { start: newStart, end: newEnd }],\n        };\n      })\n    );\n    setHasChanges(true);\n  }, []);\n\n  const updateSlot = useCallback((dayOfWeek: number, slotIndex: number, updates: Partial<TimeSlot>) => {\n    setSchedule((prev) =>\n      prev.map((day) => {\n        if (day.dayOfWeek !== dayOfWeek) return day;\n        return {\n          ...day,\n          slots: day.slots.map((slot, idx) =>\n            idx === slotIndex ? { ...slot, ...updates } : slot\n          ),\n        };\n      })\n    );\n    setHasChanges(true);\n  }, []);\n\n  const removeSlot = useCallback((dayOfWeek: number, slotIndex: number) => {\n    setSchedule((prev) =>\n      prev.map((day) => {\n        if (day.dayOfWeek !== dayOfWeek) return day;\n        return {\n          ...day,\n          slots: day.slots.filter((_, idx) => idx !== slotIndex),\n        };\n      })\n    );\n    setHasChanges(true);\n  }, []);\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      await onSave(schedule);\n      setHasChanges(false);\n    } catch (error) {\n      console.error('Failed to save availability:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <LiquidGlass className=\"p-6 rounded-2xl\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"text-xl font-semibold\" style={{ color: 'hsl(var(--foreground))' }}>\n            Weekly Availability\n          </h2>\n          <p className=\"text-sm mt-1\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            Set your available hours for each day\n          </p>\n        </div>\n\n        <div className=\"flex items-center gap-2 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n          <Clock className=\"w-4 h-4\" />\n          {timezone}\n        </div>\n      </div>\n\n      <div className=\"space-y-4\">\n        {schedule.map((day) => (\n          <div\n            key={day.dayOfWeek}\n            className=\"flex items-start gap-4 py-3\"\n            style={{ borderBottom: '1px solid hsl(var(--border))' }}\n          >\n            {/* Day toggle */}\n            <div className=\"w-28 flex-shrink-0\">\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={day.isAvailable}\n                  onChange={() => toggleDay(day.dayOfWeek)}\n                  className=\"w-4 h-4 rounded\"\n                />\n                <span\n                  className=\"font-medium\"\n                  style={{\n                    color: day.isAvailable\n                      ? 'hsl(var(--foreground))'\n                      : 'hsl(var(--muted-foreground))',\n                  }}\n                >\n                  {DAY_NAMES[day.dayOfWeek]}\n                </span>\n              </label>\n            </div>\n\n            {/* Time slots */}\n            <div className=\"flex-1\">\n              <AnimatePresence mode=\"sync\">\n                {day.isAvailable ? (\n                  <motion.div\n                    initial={{ opacity: 0, height: 0 }}\n                    animate={{ opacity: 1, height: 'auto' }}\n                    exit={{ opacity: 0, height: 0 }}\n                    className=\"space-y-2\"\n                  >\n                    {day.slots.map((slot, slotIndex) => (\n                      <motion.div\n                        key={slotIndex}\n                        initial={{ opacity: 0, x: -10 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        exit={{ opacity: 0, x: -10 }}\n                        className=\"flex items-center gap-2\"\n                      >\n                        <select\n                          value={slot.start}\n                          onChange={(e) => updateSlot(day.dayOfWeek, slotIndex, { start: e.target.value })}\n                          className=\"px-3 py-1.5 rounded-lg text-sm outline-none\"\n                          style={{\n                            backgroundColor: 'hsl(var(--muted))',\n                            border: '1px solid hsl(var(--border))',\n                            color: 'hsl(var(--foreground))',\n                          }}\n                        >\n                          {TIME_OPTIONS.map((opt) => (\n                            <option key={opt.value} value={opt.value}>\n                              {opt.label}\n                            </option>\n                          ))}\n                        </select>\n\n                        <span style={{ color: 'hsl(var(--muted-foreground))' }}>to</span>\n\n                        <select\n                          value={slot.end}\n                          onChange={(e) => updateSlot(day.dayOfWeek, slotIndex, { end: e.target.value })}\n                          className=\"px-3 py-1.5 rounded-lg text-sm outline-none\"\n                          style={{\n                            backgroundColor: 'hsl(var(--muted))',\n                            border: '1px solid hsl(var(--border))',\n                            color: 'hsl(var(--foreground))',\n                          }}\n                        >\n                          {TIME_OPTIONS.map((opt) => (\n                            <option key={opt.value} value={opt.value}>\n                              {opt.label}\n                            </option>\n                          ))}\n                        </select>\n\n                        <button\n                          onClick={() => removeSlot(day.dayOfWeek, slotIndex)}\n                          className=\"p-1.5 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </motion.div>\n                    ))}\n\n                    <button\n                      onClick={() => addSlot(day.dayOfWeek)}\n                      className=\"flex items-center gap-1 px-3 py-1.5 text-sm rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors\"\n                      style={{ color: 'hsl(var(--primary))' }}\n                    >\n                      <Plus className=\"w-4 h-4\" />\n                      Add time slot\n                    </button>\n                  </motion.div>\n                ) : (\n                  <motion.p\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"text-sm py-1.5\"\n                    style={{ color: 'hsl(var(--muted-foreground))' }}\n                  >\n                    Unavailable\n                  </motion.p>\n                )}\n              </AnimatePresence>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Save button */}\n      <div className=\"mt-6 flex justify-end\">\n        <button\n          onClick={handleSave}\n          disabled={isSaving || !hasChanges}\n          className=\"px-6 py-2 rounded-lg transition-colors disabled:opacity-50\"\n          style={{\n            backgroundColor: 'hsl(var(--primary))',\n            color: 'hsl(var(--primary-foreground))',\n          }}\n        >\n          {isSaving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n    </LiquidGlass>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2229, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/BookingCalendar.tsx"],"sourcesContent":["'use client';\n\n/**\n * BookingCalendar - Calendar view for selecting a booking date\n */\n\nimport { useMemo } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { getCalendarDates, isSameDay, isToday, isPast, formatDateString } from '@/lib/scheduling/utils';\nimport { DAY_NAMES_SHORT } from '@/lib/scheduling/types';\n\ninterface BookingCalendarProps {\n  selectedDate: Date | null;\n  onSelectDate: (date: Date) => void;\n  currentMonth: Date;\n  onMonthChange: (date: Date) => void;\n  availableDates?: string[]; // Array of \"YYYY-MM-DD\" strings\n  maxAdvanceDays?: number;\n}\n\nexport function BookingCalendar({\n  selectedDate,\n  onSelectDate,\n  currentMonth,\n  onMonthChange,\n  availableDates,\n  maxAdvanceDays = 60,\n}: BookingCalendarProps) {\n  const dates = useMemo(\n    () => getCalendarDates(currentMonth.getFullYear(), currentMonth.getMonth()),\n    [currentMonth]\n  );\n\n  const maxDate = useMemo(() => {\n    const date = new Date();\n    date.setDate(date.getDate() + maxAdvanceDays);\n    return date;\n  }, [maxAdvanceDays]);\n\n  const goToPreviousMonth = () => {\n    const prev = new Date(currentMonth);\n    prev.setMonth(prev.getMonth() - 1);\n    onMonthChange(prev);\n  };\n\n  const goToNextMonth = () => {\n    const next = new Date(currentMonth);\n    next.setMonth(next.getMonth() + 1);\n    onMonthChange(next);\n  };\n\n  const isDateAvailable = (date: Date) => {\n    if (isPast(date)) return false;\n    if (date > maxDate) return false;\n    if (!availableDates) return true;\n    return availableDates.includes(formatDateString(date));\n  };\n\n  const monthLabel = currentMonth.toLocaleDateString('en-US', {\n    month: 'long',\n    year: 'numeric',\n  });\n\n  return (\n    <div>\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <button\n          onClick={goToPreviousMonth}\n          className=\"p-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors\"\n        >\n          <ChevronLeft className=\"w-5 h-5\" />\n        </button>\n\n        <h3 className=\"font-semibold text-lg\" style={{ color: 'hsl(var(--foreground))' }}>\n          {monthLabel}\n        </h3>\n\n        <button\n          onClick={goToNextMonth}\n          className=\"p-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors\"\n        >\n          <ChevronRight className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      {/* Day headers */}\n      <div className=\"grid grid-cols-7 gap-1 mb-2\">\n        {DAY_NAMES_SHORT.map((day) => (\n          <div\n            key={day}\n            className=\"text-center text-sm font-medium py-2\"\n            style={{ color: 'hsl(var(--muted-foreground))' }}\n          >\n            {day}\n          </div>\n        ))}\n      </div>\n\n      {/* Calendar grid */}\n      <div className=\"grid grid-cols-7 gap-1\">\n        {dates.map((date, index) => {\n          const isCurrentMonth = date.getMonth() === currentMonth.getMonth();\n          const isSelected = selectedDate && isSameDay(date, selectedDate);\n          const isTodayDate = isToday(date);\n          const isAvailable = isDateAvailable(date);\n\n          return (\n            <motion.button\n              key={index}\n              onClick={() => isAvailable && onSelectDate(date)}\n              disabled={!isAvailable}\n              whileHover={isAvailable ? { scale: 1.1 } : undefined}\n              whileTap={isAvailable ? { scale: 0.95 } : undefined}\n              className={`\n                relative aspect-square flex items-center justify-center rounded-lg text-sm font-medium\n                transition-colors\n                ${!isCurrentMonth ? 'opacity-30' : ''}\n                ${!isAvailable ? 'opacity-30 cursor-not-allowed' : 'cursor-pointer'}\n              `}\n              style={{\n                backgroundColor: isSelected\n                  ? 'hsl(var(--primary))'\n                  : isTodayDate\n                    ? 'hsl(var(--muted))'\n                    : 'transparent',\n                color: isSelected\n                  ? 'hsl(var(--primary-foreground))'\n                  : 'hsl(var(--foreground))',\n              }}\n            >\n              {date.getDate()}\n              {isTodayDate && !isSelected && (\n                <span\n                  className=\"absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full\"\n                  style={{ backgroundColor: 'hsl(var(--primary))' }}\n                />\n              )}\n            </motion.button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;CAEC,GAED;AACA;AAAA;AACA;AACA;AACA;;;AAVA;;;;;;AAqBO,SAAS,gBAAgB,EAC9B,YAAY,EACZ,YAAY,EACZ,YAAY,EACZ,aAAa,EACb,cAAc,EACd,iBAAiB,EAAE,EACE;;IACrB,MAAM,QAAQ,IAAA,iXAAO;0CACnB,IAAM,IAAA,wKAAgB,EAAC,aAAa,WAAW,IAAI,aAAa,QAAQ;yCACxE;QAAC;KAAa;IAGhB,MAAM,UAAU,IAAA,iXAAO;4CAAC;YACtB,MAAM,OAAO,IAAI;YACjB,KAAK,OAAO,CAAC,KAAK,OAAO,KAAK;YAC9B,OAAO;QACT;2CAAG;QAAC;KAAe;IAEnB,MAAM,oBAAoB;QACxB,MAAM,OAAO,IAAI,KAAK;QACtB,KAAK,QAAQ,CAAC,KAAK,QAAQ,KAAK;QAChC,cAAc;IAChB;IAEA,MAAM,gBAAgB;QACpB,MAAM,OAAO,IAAI,KAAK;QACtB,KAAK,QAAQ,CAAC,KAAK,QAAQ,KAAK;QAChC,cAAc;IAChB;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,IAAA,8JAAM,EAAC,OAAO,OAAO;QACzB,IAAI,OAAO,SAAS,OAAO;QAC3B,IAAI,CAAC,gBAAgB,OAAO;QAC5B,OAAO,eAAe,QAAQ,CAAC,IAAA,wKAAgB,EAAC;IAClD;IAEA,MAAM,aAAa,aAAa,kBAAkB,CAAC,SAAS;QAC1D,OAAO;QACP,MAAM;IACR;IAEA,qBACE,sYAAC;;0BAEC,sYAAC;gBAAI,WAAU;;kCACb,sYAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,sYAAC,0TAAW;4BAAC,WAAU;;;;;;;;;;;kCAGzB,sYAAC;wBAAG,WAAU;wBAAwB,OAAO;4BAAE,OAAO;wBAAyB;kCAC5E;;;;;;kCAGH,sYAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,sYAAC,6TAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK5B,sYAAC;gBAAI,WAAU;0BACZ,uJAAe,CAAC,GAAG,CAAC,CAAC,oBACpB,sYAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,OAAO;wBAA+B;kCAE9C;uBAJI;;;;;;;;;;0BAUX,sYAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM;oBAChB,MAAM,iBAAiB,KAAK,QAAQ,OAAO,aAAa,QAAQ;oBAChE,MAAM,aAAa,gBAAgB,IAAA,iKAAS,EAAC,MAAM;oBACnD,MAAM,cAAc,IAAA,+JAAO,EAAC;oBAC5B,MAAM,cAAc,gBAAgB;oBAEpC,qBACE,sYAAC,mVAAM,CAAC,MAAM;wBAEZ,SAAS,IAAM,eAAe,aAAa;wBAC3C,UAAU,CAAC;wBACX,YAAY,cAAc;4BAAE,OAAO;wBAAI,IAAI;wBAC3C,UAAU,cAAc;4BAAE,OAAO;wBAAK,IAAI;wBAC1C,WAAW,CAAC;;;gBAGV,EAAE,CAAC,iBAAiB,eAAe,GAAG;gBACtC,EAAE,CAAC,cAAc,kCAAkC,iBAAiB;cACtE,CAAC;wBACD,OAAO;4BACL,iBAAiB,aACb,wBACA,cACE,sBACA;4BACN,OAAO,aACH,mCACA;wBACN;;4BAEC,KAAK,OAAO;4BACZ,eAAe,CAAC,4BACf,sYAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,iBAAiB;gCAAsB;;;;;;;uBA1B/C;;;;;gBA+BX;;;;;;;;;;;;AAIR;GA5HgB;KAAA"}},
    {"offset": {"line": 2424, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/BookingForm.tsx"],"sourcesContent":["'use client';\n\n/**\n * BookingForm - Form for guests to book a meeting\n */\n\nimport { useState } from 'react';\nimport { Calendar, Clock, Globe, User, Mail, MessageSquare } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { EventType, AvailableSlot, Question, QuestionResponse } from '@/lib/scheduling/types';\nimport { formatDate, formatTime, formatDuration, getUserTimezone, isValidEmail } from '@/lib/scheduling/utils';\n\ninterface BookingFormProps {\n  eventType: EventType;\n  selectedDate: Date;\n  selectedSlot: AvailableSlot;\n  onSubmit: (data: BookingFormData) => Promise<void>;\n  onBack: () => void;\n}\n\ninterface BookingFormData {\n  guestName: string;\n  guestEmail: string;\n  guestTimezone: string;\n  notes?: string;\n  responses?: QuestionResponse[];\n}\n\nexport function BookingForm({\n  eventType,\n  selectedDate,\n  selectedSlot,\n  onSubmit,\n  onBack,\n}: BookingFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [formData, setFormData] = useState<BookingFormData>({\n    guestName: '',\n    guestEmail: '',\n    guestTimezone: getUserTimezone(),\n    notes: '',\n    responses: eventType.questions?.map((q) => ({\n      questionId: q.id,\n      questionLabel: q.label,\n      answer: '',\n    })) || [],\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    // Validation\n    if (!formData.guestName.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n\n    if (!formData.guestEmail.trim() || !isValidEmail(formData.guestEmail)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    // Check required questions\n    const missingRequired = eventType.questions?.find((q) => {\n      if (!q.required) return false;\n      const response = formData.responses?.find((r) => r.questionId === q.id);\n      return !response?.answer.trim();\n    });\n\n    if (missingRequired) {\n      setError(`Please answer: ${missingRequired.label}`);\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit(formData);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to book meeting');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const updateResponse = (questionId: string, answer: string) => {\n    setFormData({\n      ...formData,\n      responses: formData.responses?.map((r) =>\n        r.questionId === questionId ? { ...r, answer } : r\n      ),\n    });\n  };\n\n  const locationLabels: Record<string, string> = {\n    google_meet: 'Google Meet video call',\n    zoom: 'Zoom video call',\n    phone: 'Phone call',\n    in_person: 'In person',\n    custom: 'Custom location',\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Meeting summary */}\n      <LiquidGlass className=\"p-4 rounded-xl\">\n        <h3 className=\"font-semibold text-lg mb-3\" style={{ color: 'hsl(var(--foreground))' }}>\n          {eventType.title}\n        </h3>\n\n        <div className=\"space-y-2 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n          <div className=\"flex items-center gap-2\">\n            <Clock className=\"w-4 h-4\" />\n            {formatDuration(eventType.duration)}\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <Calendar className=\"w-4 h-4\" />\n            {formatDate(selectedDate.getTime())}\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <Clock className=\"w-4 h-4\" />\n            {formatTime(selectedSlot.timestamp, formData.guestTimezone)}\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <Globe className=\"w-4 h-4\" />\n            {formData.guestTimezone}\n          </div>\n        </div>\n\n        <p className=\"mt-3 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n          {locationLabels[eventType.locationType]}\n          {eventType.locationValue && `: ${eventType.locationValue}`}\n        </p>\n      </LiquidGlass>\n\n      {/* Booking form */}\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Name */}\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            <User className=\"w-4 h-4\" />\n            Your Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.guestName}\n            onChange={(e) => setFormData({ ...formData, guestName: e.target.value })}\n            placeholder=\"John Doe\"\n            className=\"w-full px-4 py-2 rounded-lg outline-none transition-all\"\n            style={{\n              backgroundColor: 'hsl(var(--muted))',\n              border: '1px solid hsl(var(--border))',\n              color: 'hsl(var(--foreground))',\n            }}\n            required\n          />\n        </div>\n\n        {/* Email */}\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            <Mail className=\"w-4 h-4\" />\n            Email Address *\n          </label>\n          <input\n            type=\"email\"\n            value={formData.guestEmail}\n            onChange={(e) => setFormData({ ...formData, guestEmail: e.target.value })}\n            placeholder=\"john@example.com\"\n            className=\"w-full px-4 py-2 rounded-lg outline-none transition-all\"\n            style={{\n              backgroundColor: 'hsl(var(--muted))',\n              border: '1px solid hsl(var(--border))',\n              color: 'hsl(var(--foreground))',\n            }}\n            required\n          />\n        </div>\n\n        {/* Custom questions */}\n        {eventType.questions?.map((question) => (\n          <div key={question.id}>\n            <label className=\"text-sm font-medium mb-2 block\" style={{ color: 'hsl(var(--foreground))' }}>\n              {question.label} {question.required && '*'}\n            </label>\n\n            {question.type === 'text' && (\n              <input\n                type=\"text\"\n                value={formData.responses?.find((r) => r.questionId === question.id)?.answer || ''}\n                onChange={(e) => updateResponse(question.id, e.target.value)}\n                className=\"w-full px-4 py-2 rounded-lg outline-none transition-all\"\n                style={{\n                  backgroundColor: 'hsl(var(--muted))',\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n                required={question.required}\n              />\n            )}\n\n            {question.type === 'textarea' && (\n              <textarea\n                value={formData.responses?.find((r) => r.questionId === question.id)?.answer || ''}\n                onChange={(e) => updateResponse(question.id, e.target.value)}\n                rows={3}\n                className=\"w-full px-4 py-2 rounded-lg outline-none transition-all resize-none\"\n                style={{\n                  backgroundColor: 'hsl(var(--muted))',\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n                required={question.required}\n              />\n            )}\n\n            {question.type === 'select' && (\n              <select\n                value={formData.responses?.find((r) => r.questionId === question.id)?.answer || ''}\n                onChange={(e) => updateResponse(question.id, e.target.value)}\n                className=\"w-full px-4 py-2 rounded-lg outline-none\"\n                style={{\n                  backgroundColor: 'hsl(var(--muted))',\n                  border: '1px solid hsl(var(--border))',\n                  color: 'hsl(var(--foreground))',\n                }}\n                required={question.required}\n              >\n                <option value=\"\">Select an option</option>\n                {question.options?.map((opt) => (\n                  <option key={opt} value={opt}>\n                    {opt}\n                  </option>\n                ))}\n              </select>\n            )}\n          </div>\n        ))}\n\n        {/* Notes */}\n        <div>\n          <label className=\"flex items-center gap-2 text-sm font-medium mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            <MessageSquare className=\"w-4 h-4\" />\n            Additional Notes\n          </label>\n          <textarea\n            value={formData.notes}\n            onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n            placeholder=\"Anything you'd like to share before the meeting...\"\n            rows={3}\n            className=\"w-full px-4 py-2 rounded-lg outline-none transition-all resize-none\"\n            style={{\n              backgroundColor: 'hsl(var(--muted))',\n              border: '1px solid hsl(var(--border))',\n              color: 'hsl(var(--foreground))',\n            }}\n          />\n        </div>\n\n        {/* Error message */}\n        {error && (\n          <motion.p\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"text-sm text-red-500\"\n          >\n            {error}\n          </motion.p>\n        )}\n\n        {/* Actions */}\n        <div className=\"flex gap-3 pt-2\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"flex-1 px-4 py-2.5 rounded-lg transition-colors\"\n            style={{\n              border: '1px solid hsl(var(--border))',\n              color: 'hsl(var(--foreground))',\n            }}\n          >\n            Back\n          </button>\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"flex-1 px-4 py-2.5 rounded-lg transition-colors disabled:opacity-50\"\n            style={{\n              backgroundColor: 'hsl(var(--primary))',\n              color: 'hsl(var(--primary-foreground))',\n            }}\n          >\n            {isSubmitting ? 'Booking...' : 'Confirm Booking'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2942, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/BookingConfirmation.tsx"],"sourcesContent":["'use client';\n\n/**\n * BookingConfirmation - Success screen after booking\n */\n\nimport { Check, Calendar, Clock, Globe, Video, ExternalLink } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { Booking, EventType } from '@/lib/scheduling/types';\nimport { formatDate, formatTime, formatDuration } from '@/lib/scheduling/utils';\n\ninterface BookingConfirmationProps {\n  booking: Booking;\n  eventType: EventType;\n  onClose?: () => void;\n}\n\nexport function BookingConfirmation({\n  booking,\n  eventType,\n  onClose,\n}: BookingConfirmationProps) {\n  const locationLabels: Record<string, string> = {\n    google_meet: 'Google Meet',\n    zoom: 'Zoom',\n    phone: 'Phone Call',\n    in_person: 'In Person',\n    custom: 'Custom',\n  };\n\n  // Generate calendar links\n  const startDate = new Date(booking.startTime);\n  const endDate = new Date(booking.endTime);\n\n  const formatICSDate = (date: Date) =>\n    date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';\n\n  const googleCalendarUrl = new URL('https://calendar.google.com/calendar/render');\n  googleCalendarUrl.searchParams.set('action', 'TEMPLATE');\n  googleCalendarUrl.searchParams.set('text', booking.title);\n  googleCalendarUrl.searchParams.set(\n    'dates',\n    `${formatICSDate(startDate)}/${formatICSDate(endDate)}`\n  );\n  if (booking.location) {\n    googleCalendarUrl.searchParams.set('location', booking.location);\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      className=\"max-w-md mx-auto\"\n    >\n      <LiquidGlass className=\"p-6 rounded-2xl text-center\">\n        {/* Success icon */}\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ type: 'spring', stiffness: 300, damping: 20, delay: 0.1 }}\n          className=\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center\"\n          style={{ backgroundColor: 'hsl(var(--primary))' }}\n        >\n          <Check className=\"w-8 h-8\" style={{ color: 'hsl(var(--primary-foreground))' }} />\n        </motion.div>\n\n        <h2 className=\"text-2xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n          Booking Confirmed!\n        </h2>\n\n        <p className=\"text-sm mb-6\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n          A confirmation email has been sent to {booking.guestEmail}\n        </p>\n\n        {/* Booking details */}\n        <div\n          className=\"text-left p-4 rounded-xl mb-6\"\n          style={{ backgroundColor: 'hsl(var(--muted))' }}\n        >\n          <h3\n            className=\"font-semibold mb-3\"\n            style={{ color: 'hsl(var(--foreground))' }}\n          >\n            {eventType.title}\n          </h3>\n\n          <div className=\"space-y-2 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            <div className=\"flex items-center gap-2\">\n              <Calendar className=\"w-4 h-4\" />\n              {formatDate(booking.startTime)}\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4\" />\n              {formatTime(booking.startTime, booking.guestTimezone)} -{' '}\n              {formatTime(booking.endTime, booking.guestTimezone)}\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <Globe className=\"w-4 h-4\" />\n              {booking.guestTimezone}\n            </div>\n\n            {booking.location && (\n              <div className=\"flex items-center gap-2\">\n                <Video className=\"w-4 h-4\" />\n                <a\n                  href={booking.location}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"underline hover:no-underline\"\n                  style={{ color: 'hsl(var(--primary))' }}\n                >\n                  Join Meeting\n                </a>\n              </div>\n            )}\n\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4\" />\n              {formatDuration(eventType.duration)}\n            </div>\n          </div>\n        </div>\n\n        {/* Calendar links */}\n        <div className=\"flex flex-col gap-2\">\n          <a\n            href={googleCalendarUrl.toString()}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-colors\"\n            style={{\n              backgroundColor: 'hsl(var(--primary))',\n              color: 'hsl(var(--primary-foreground))',\n            }}\n          >\n            <Calendar className=\"w-4 h-4\" />\n            Add to Google Calendar\n            <ExternalLink className=\"w-3 h-3\" />\n          </a>\n\n          {onClose && (\n            <button\n              onClick={onClose}\n              className=\"px-4 py-2.5 rounded-lg transition-colors\"\n              style={{\n                border: '1px solid hsl(var(--border))',\n                color: 'hsl(var(--foreground))',\n              }}\n            >\n              Done\n            </button>\n          )}\n        </div>\n      </LiquidGlass>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3264, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/TimeSlotPicker.tsx"],"sourcesContent":["'use client';\n\n/**\n * TimeSlotPicker - Select available time slots for a date\n */\n\nimport { motion } from 'framer-motion';\nimport type { AvailableSlot } from '@/lib/scheduling/types';\nimport { formatTime } from '@/lib/scheduling/utils';\n\ninterface TimeSlotPickerProps {\n  slots: AvailableSlot[];\n  selectedSlot: AvailableSlot | null;\n  onSelectSlot: (slot: AvailableSlot) => void;\n  timezone: string;\n  isLoading?: boolean;\n}\n\nexport function TimeSlotPicker({\n  slots,\n  selectedSlot,\n  onSelectSlot,\n  timezone,\n  isLoading,\n}: TimeSlotPickerProps) {\n  if (isLoading) {\n    return (\n      <div className=\"space-y-2\">\n        {[1, 2, 3, 4, 5].map((i) => (\n          <div\n            key={i}\n            className=\"h-12 rounded-lg animate-pulse\"\n            style={{ backgroundColor: 'hsl(var(--muted))' }}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  if (slots.length === 0) {\n    return (\n      <div\n        className=\"text-center py-8 rounded-lg\"\n        style={{\n          backgroundColor: 'hsl(var(--muted))',\n          color: 'hsl(var(--muted-foreground))',\n        }}\n      >\n        <p className=\"font-medium\">No available times</p>\n        <p className=\"text-sm mt-1\">Please select another date</p>\n      </div>\n    );\n  }\n\n  // Group slots by morning, afternoon, evening\n  const morning = slots.filter((s) => {\n    const hour = new Date(s.timestamp).getHours();\n    return hour >= 0 && hour < 12;\n  });\n\n  const afternoon = slots.filter((s) => {\n    const hour = new Date(s.timestamp).getHours();\n    return hour >= 12 && hour < 17;\n  });\n\n  const evening = slots.filter((s) => {\n    const hour = new Date(s.timestamp).getHours();\n    return hour >= 17 && hour < 24;\n  });\n\n  const renderSlots = (slotsToRender: AvailableSlot[], label: string) => {\n    if (slotsToRender.length === 0) return null;\n\n    return (\n      <div className=\"mb-4\">\n        <p\n          className=\"text-xs uppercase font-medium mb-2\"\n          style={{ color: 'hsl(var(--muted-foreground))' }}\n        >\n          {label}\n        </p>\n        <div className=\"grid grid-cols-2 gap-2\">\n          {slotsToRender.map((slot) => {\n            const isSelected = selectedSlot?.timestamp === slot.timestamp;\n\n            return (\n              <motion.button\n                key={slot.timestamp}\n                onClick={() => onSelectSlot(slot)}\n                whileHover={{ scale: 1.02 }}\n                whileTap={{ scale: 0.98 }}\n                className=\"px-4 py-3 rounded-lg text-sm font-medium transition-colors\"\n                style={{\n                  backgroundColor: isSelected\n                    ? 'hsl(var(--primary))'\n                    : 'transparent',\n                  color: isSelected\n                    ? 'hsl(var(--primary-foreground))'\n                    : 'hsl(var(--foreground))',\n                  border: `1px solid ${isSelected ? 'hsl(var(--primary))' : 'hsl(var(--border))'}`,\n                }}\n              >\n                {formatTime(slot.timestamp, timezone)}\n              </motion.button>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      {renderSlots(morning, 'Morning')}\n      {renderSlots(afternoon, 'Afternoon')}\n      {renderSlots(evening, 'Evening')}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;CAEC,GAED;AAEA;AARA;;;;AAkBO,SAAS,eAAe,EAC7B,KAAK,EACL,YAAY,EACZ,YAAY,EACZ,QAAQ,EACR,SAAS,EACW;IACpB,IAAI,WAAW;QACb,qBACE,sYAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACpB,sYAAC;oBAEC,WAAU;oBACV,OAAO;wBAAE,iBAAiB;oBAAoB;mBAFzC;;;;;;;;;;IAOf;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,sYAAC;YACC,WAAU;YACV,OAAO;gBACL,iBAAiB;gBACjB,OAAO;YACT;;8BAEA,sYAAC;oBAAE,WAAU;8BAAc;;;;;;8BAC3B,sYAAC;oBAAE,WAAU;8BAAe;;;;;;;;;;;;IAGlC;IAEA,6CAA6C;IAC7C,MAAM,UAAU,MAAM,MAAM,CAAC,CAAC;QAC5B,MAAM,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,QAAQ;QAC3C,OAAO,QAAQ,KAAK,OAAO;IAC7B;IAEA,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC;QAC9B,MAAM,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,QAAQ;QAC3C,OAAO,QAAQ,MAAM,OAAO;IAC9B;IAEA,MAAM,UAAU,MAAM,MAAM,CAAC,CAAC;QAC5B,MAAM,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,QAAQ;QAC3C,OAAO,QAAQ,MAAM,OAAO;IAC9B;IAEA,MAAM,cAAc,CAAC,eAAgC;QACnD,IAAI,cAAc,MAAM,KAAK,GAAG,OAAO;QAEvC,qBACE,sYAAC;YAAI,WAAU;;8BACb,sYAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,OAAO;oBAA+B;8BAE9C;;;;;;8BAEH,sYAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAC;wBAClB,MAAM,aAAa,cAAc,cAAc,KAAK,SAAS;wBAE7D,qBACE,sYAAC,mVAAM,CAAC,MAAM;4BAEZ,SAAS,IAAM,aAAa;4BAC5B,YAAY;gCAAE,OAAO;4BAAK;4BAC1B,UAAU;gCAAE,OAAO;4BAAK;4BACxB,WAAU;4BACV,OAAO;gCACL,iBAAiB,aACb,wBACA;gCACJ,OAAO,aACH,mCACA;gCACJ,QAAQ,CAAC,UAAU,EAAE,aAAa,wBAAwB,sBAAsB;4BAClF;sCAEC,IAAA,kKAAU,EAAC,KAAK,SAAS,EAAE;2BAfvB,KAAK,SAAS;;;;;oBAkBzB;;;;;;;;;;;;IAIR;IAEA,qBACE,sYAAC;;YACE,YAAY,SAAS;YACrB,YAAY,WAAW;YACvB,YAAY,SAAS;;;;;;;AAG5B;KApGgB"}},
    {"offset": {"line": 3422, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/UpcomingBookings.tsx"],"sourcesContent":["'use client';\n\n/**\n * UpcomingBookings - List of upcoming bookings\n */\n\nimport { Calendar, Clock, User, Video, MoreVertical, X, Check, AlertCircle } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useState } from 'react';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { Booking } from '@/lib/scheduling/types';\nimport { formatDate, formatTime, formatDuration, getRelativeTime } from '@/lib/scheduling/utils';\n\ninterface UpcomingBookingsProps {\n  bookings: Booking[];\n  onCancel: (id: string, reason?: string) => Promise<void>;\n  onMarkComplete: (id: string) => Promise<void>;\n  onMarkNoShow: (id: string) => Promise<void>;\n}\n\nexport function UpcomingBookings({\n  bookings,\n  onCancel,\n  onMarkComplete,\n  onMarkNoShow,\n}: UpcomingBookingsProps) {\n  const [menuOpen, setMenuOpen] = useState<string | null>(null);\n  const [cancellingId, setCancellingId] = useState<string | null>(null);\n\n  const handleCancel = async (id: string) => {\n    setCancellingId(id);\n    try {\n      await onCancel(id, 'Cancelled by host');\n    } finally {\n      setCancellingId(null);\n      setMenuOpen(null);\n    }\n  };\n\n  if (bookings.length === 0) {\n    return (\n      <LiquidGlass className=\"p-8 rounded-2xl text-center\">\n        <Calendar\n          className=\"w-12 h-12 mx-auto mb-4 opacity-50\"\n          style={{ color: 'hsl(var(--muted-foreground))' }}\n        />\n        <h3 className=\"font-semibold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n          No upcoming bookings\n        </h3>\n        <p className=\"text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n          Share your booking link to start getting meetings\n        </p>\n      </LiquidGlass>\n    );\n  }\n\n  const locationIcons: Record<string, React.ReactNode> = {\n    google_meet: <Video className=\"w-4 h-4\" />,\n    zoom: <Video className=\"w-4 h-4\" />,\n  };\n\n  const statusColors: Record<string, string> = {\n    pending: 'bg-yellow-500/20 text-yellow-600 dark:text-yellow-400',\n    confirmed: 'bg-green-500/20 text-green-600 dark:text-green-400',\n    cancelled: 'bg-red-500/20 text-red-600 dark:text-red-400',\n    completed: 'bg-blue-500/20 text-blue-600 dark:text-blue-400',\n    no_show: 'bg-gray-500/20 text-gray-600 dark:text-gray-400',\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <AnimatePresence mode=\"popLayout\">\n        {bookings.map((booking) => (\n          <motion.div\n            key={booking._id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, x: -100 }}\n            layout\n          >\n            <LiquidGlass className=\"p-4 rounded-xl\">\n              <div className=\"flex items-start gap-4\">\n                {/* Time indicator */}\n                <div className=\"text-center min-w-[60px]\">\n                  <div className=\"text-2xl font-bold\" style={{ color: 'hsl(var(--foreground))' }}>\n                    {new Date(booking.startTime).getDate()}\n                  </div>\n                  <div className=\"text-xs uppercase\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                    {new Date(booking.startTime).toLocaleDateString('en-US', { month: 'short' })}\n                  </div>\n                </div>\n\n                {/* Details */}\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-start justify-between\">\n                    <div>\n                      <h4 className=\"font-semibold\" style={{ color: 'hsl(var(--foreground))' }}>\n                        {booking.title}\n                      </h4>\n                      <div className=\"flex items-center gap-2 mt-1 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                        <User className=\"w-3 h-3\" />\n                        {booking.guestName}\n                      </div>\n                    </div>\n\n                    {/* Status & Menu */}\n                    <div className=\"flex items-center gap-2\">\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${statusColors[booking.status]}`}>\n                        {booking.status}\n                      </span>\n\n                      <div className=\"relative\">\n                        <button\n                          onClick={() => setMenuOpen(menuOpen === booking._id ? null : booking._id)}\n                          className=\"p-1.5 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors\"\n                        >\n                          <MoreVertical className=\"w-4 h-4\" style={{ color: 'hsl(var(--muted-foreground))' }} />\n                        </button>\n\n                        {menuOpen === booking._id && (\n                          <>\n                            <div\n                              className=\"fixed inset-0 z-10\"\n                              onClick={() => setMenuOpen(null)}\n                            />\n                            <motion.div\n                              initial={{ opacity: 0, scale: 0.95 }}\n                              animate={{ opacity: 1, scale: 1 }}\n                              className=\"absolute right-0 top-full mt-1 z-20 min-w-[160px] rounded-lg shadow-lg overflow-hidden\"\n                              style={{ backgroundColor: 'hsl(var(--popover))', border: '1px solid hsl(var(--border))' }}\n                            >\n                              {booking.status === 'confirmed' && (\n                                <>\n                                  <button\n                                    onClick={() => {\n                                      onMarkComplete(booking._id);\n                                      setMenuOpen(null);\n                                    }}\n                                    className=\"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5\"\n                                  >\n                                    <Check className=\"w-4 h-4 text-green-500\" />\n                                    Mark Complete\n                                  </button>\n                                  <button\n                                    onClick={() => {\n                                      onMarkNoShow(booking._id);\n                                      setMenuOpen(null);\n                                    }}\n                                    className=\"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5\"\n                                  >\n                                    <AlertCircle className=\"w-4 h-4 text-yellow-500\" />\n                                    No Show\n                                  </button>\n                                </>\n                              )}\n                              <button\n                                onClick={() => handleCancel(booking._id)}\n                                disabled={cancellingId === booking._id}\n                                className=\"w-full px-4 py-2 text-left text-sm flex items-center gap-2 text-red-500 hover:bg-red-500/10\"\n                              >\n                                <X className=\"w-4 h-4\" />\n                                {cancellingId === booking._id ? 'Cancelling...' : 'Cancel'}\n                              </button>\n                            </motion.div>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Time & Location */}\n                  <div className=\"flex flex-wrap items-center gap-3 mt-2 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                    <span className=\"flex items-center gap-1\">\n                      <Clock className=\"w-3 h-3\" />\n                      {formatTime(booking.startTime)} - {formatTime(booking.endTime)}\n                    </span>\n\n                    <span className=\"px-2 py-0.5 rounded-full text-xs\" style={{ backgroundColor: 'hsl(var(--muted))' }}>\n                      {getRelativeTime(booking.startTime)}\n                    </span>\n\n                    {booking.location && (\n                      <a\n                        href={booking.location}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"flex items-center gap-1 hover:underline\"\n                        style={{ color: 'hsl(var(--primary))' }}\n                      >\n                        {locationIcons[booking.locationType] || <Video className=\"w-3 h-3\" />}\n                        Join\n                      </a>\n                    )}\n                  </div>\n\n                  {/* Notes */}\n                  {booking.notes && (\n                    <p\n                      className=\"mt-2 text-sm italic line-clamp-2\"\n                      style={{ color: 'hsl(var(--muted-foreground))' }}\n                    >\n                      \"{booking.notes}\"\n                    </p>\n                  )}\n                </div>\n              </div>\n            </LiquidGlass>\n          </motion.div>\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3902, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/GoogleCalendarConnect.tsx"],"sourcesContent":["'use client';\n\n/**\n * GoogleCalendarConnect - Connect/disconnect Google Calendar integration\n */\n\nimport { useState } from 'react';\nimport { Calendar, Check, ExternalLink, Loader2, Unlink } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport type { CalendarIntegration } from '@/lib/scheduling/types';\n\ninterface GoogleCalendarConnectProps {\n  integration: CalendarIntegration | null;\n  onConnect: () => Promise<void>;\n  onDisconnect: () => Promise<void>;\n  isConnecting?: boolean;\n}\n\nexport function GoogleCalendarConnect({\n  integration,\n  onConnect,\n  onDisconnect,\n  isConnecting,\n}: GoogleCalendarConnectProps) {\n  const [isDisconnecting, setIsDisconnecting] = useState(false);\n\n  const handleDisconnect = async () => {\n    setIsDisconnecting(true);\n    try {\n      await onDisconnect();\n    } finally {\n      setIsDisconnecting(false);\n    }\n  };\n\n  return (\n    <LiquidGlass className=\"p-6 rounded-2xl\">\n      <div className=\"flex items-start gap-4\">\n        {/* Google Calendar icon */}\n        <div\n          className=\"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0\"\n          style={{\n            backgroundColor: integration ? 'hsl(142 76% 36%)' : 'hsl(var(--muted))',\n          }}\n        >\n          {integration ? (\n            <Check className=\"w-6 h-6 text-white\" />\n          ) : (\n            <Calendar className=\"w-6 h-6\" style={{ color: 'hsl(var(--muted-foreground))' }} />\n          )}\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-semibold\" style={{ color: 'hsl(var(--foreground))' }}>\n            Google Calendar\n          </h3>\n\n          {integration ? (\n            <>\n              <p className=\"text-sm mt-1\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                Connected as {integration.calendarEmail}\n              </p>\n              <div className=\"flex items-center gap-2 mt-3\">\n                <span\n                  className=\"flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium\"\n                  style={{\n                    backgroundColor: integration.syncEnabled\n                      ? 'hsl(142 76% 36% / 0.2)'\n                      : 'hsl(var(--muted))',\n                    color: integration.syncEnabled\n                      ? 'hsl(142 76% 36%)'\n                      : 'hsl(var(--muted-foreground))',\n                  }}\n                >\n                  {integration.syncEnabled ? 'Sync enabled' : 'Sync disabled'}\n                </span>\n              </div>\n            </>\n          ) : (\n            <p className=\"text-sm mt-1\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n              Connect your Google Calendar to sync bookings and check availability\n            </p>\n          )}\n        </div>\n\n        {/* Action button */}\n        {integration ? (\n          <button\n            onClick={handleDisconnect}\n            disabled={isDisconnecting}\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors text-red-500 hover:bg-red-500/10\"\n            style={{ border: '1px solid hsl(var(--border))' }}\n          >\n            {isDisconnecting ? (\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\n            ) : (\n              <Unlink className=\"w-4 h-4\" />\n            )}\n            Disconnect\n          </button>\n        ) : (\n          <button\n            onClick={onConnect}\n            disabled={isConnecting}\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors\"\n            style={{\n              backgroundColor: 'hsl(var(--primary))',\n              color: 'hsl(var(--primary-foreground))',\n            }}\n          >\n            {isConnecting ? (\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\n            ) : (\n              <ExternalLink className=\"w-4 h-4\" />\n            )}\n            Connect\n          </button>\n        )}\n      </div>\n\n      {/* Features list */}\n      {!integration && (\n        <motion.div\n          initial={{ opacity: 0, height: 0 }}\n          animate={{ opacity: 1, height: 'auto' }}\n          className=\"mt-4 pt-4\"\n          style={{ borderTop: '1px solid hsl(var(--border))' }}\n        >\n          <p\n            className=\"text-xs uppercase font-medium mb-2\"\n            style={{ color: 'hsl(var(--muted-foreground))' }}\n          >\n            Features\n          </p>\n          <ul className=\"space-y-1.5 text-sm\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            <li className=\"flex items-center gap-2\">\n              <Check className=\"w-3 h-3 text-green-500\" />\n              Auto-create Google Meet links for meetings\n            </li>\n            <li className=\"flex items-center gap-2\">\n              <Check className=\"w-3 h-3 text-green-500\" />\n              Sync bookings to your calendar\n            </li>\n            <li className=\"flex items-center gap-2\">\n              <Check className=\"w-3 h-3 text-green-500\" />\n              Block times from existing events\n            </li>\n            <li className=\"flex items-center gap-2\">\n              <Check className=\"w-3 h-3 text-green-500\" />\n              Send calendar invites to guests\n            </li>\n          </ul>\n        </motion.div>\n      )}\n    </LiquidGlass>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;CAEC,GAED;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AATA;;;;;AAmBO,SAAS,sBAAsB,EACpC,WAAW,EACX,SAAS,EACT,YAAY,EACZ,YAAY,EACe;;IAC3B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,kXAAQ,EAAC;IAEvD,MAAM,mBAAmB;QACvB,mBAAmB;QACnB,IAAI;YACF,MAAM;QACR,SAAU;YACR,mBAAmB;QACrB;IACF;IAEA,qBACE,sYAAC,6JAAW;QAAC,WAAU;;0BACrB,sYAAC;gBAAI,WAAU;;kCAEb,sYAAC;wBACC,WAAU;wBACV,OAAO;4BACL,iBAAiB,cAAc,qBAAqB;wBACtD;kCAEC,4BACC,sYAAC,oSAAK;4BAAC,WAAU;;;;;iDAEjB,sYAAC,6SAAQ;4BAAC,WAAU;4BAAU,OAAO;gCAAE,OAAO;4BAA+B;;;;;;;;;;;kCAKjF,sYAAC;wBAAI,WAAU;;0CACb,sYAAC;gCAAG,WAAU;gCAAgB,OAAO;oCAAE,OAAO;gCAAyB;0CAAG;;;;;;4BAIzE,4BACC;;kDACE,sYAAC;wCAAE,WAAU;wCAAe,OAAO;4CAAE,OAAO;wCAA+B;;4CAAG;4CAC9D,YAAY,aAAa;;;;;;;kDAEzC,sYAAC;wCAAI,WAAU;kDACb,cAAA,sYAAC;4CACC,WAAU;4CACV,OAAO;gDACL,iBAAiB,YAAY,WAAW,GACpC,2BACA;gDACJ,OAAO,YAAY,WAAW,GAC1B,qBACA;4CACN;sDAEC,YAAY,WAAW,GAAG,iBAAiB;;;;;;;;;;;;6DAKlD,sYAAC;gCAAE,WAAU;gCAAe,OAAO;oCAAE,OAAO;gCAA+B;0CAAG;;;;;;;;;;;;oBAOjF,4BACC,sYAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,OAAO;4BAAE,QAAQ;wBAA+B;;4BAE/C,gCACC,sYAAC,mTAAO;gCAAC,WAAU;;;;;qDAEnB,sYAAC,uSAAM;gCAAC,WAAU;;;;;;4BAClB;;;;;;6CAIJ,sYAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,OAAO;4BACL,iBAAiB;4BACjB,OAAO;wBACT;;4BAEC,6BACC,sYAAC,mTAAO;gCAAC,WAAU;;;;;qDAEnB,sYAAC,6TAAY;gCAAC,WAAU;;;;;;4BACxB;;;;;;;;;;;;;YAOP,CAAC,6BACA,sYAAC,mVAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,QAAQ;gBAAE;gBACjC,SAAS;oBAAE,SAAS;oBAAG,QAAQ;gBAAO;gBACtC,WAAU;gBACV,OAAO;oBAAE,WAAW;gBAA+B;;kCAEnD,sYAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,OAAO;wBAA+B;kCAChD;;;;;;kCAGD,sYAAC;wBAAG,WAAU;wBAAsB,OAAO;4BAAE,OAAO;wBAA+B;;0CACjF,sYAAC;gCAAG,WAAU;;kDACZ,sYAAC,oSAAK;wCAAC,WAAU;;;;;;oCAA2B;;;;;;;0CAG9C,sYAAC;gCAAG,WAAU;;kDACZ,sYAAC,oSAAK;wCAAC,WAAU;;;;;;oCAA2B;;;;;;;0CAG9C,sYAAC;gCAAG,WAAU;;kDACZ,sYAAC,oSAAK;wCAAC,WAAU;;;;;;oCAA2B;;;;;;;0CAG9C,sYAAC;gCAAG,WAAU;;kDACZ,sYAAC,oSAAK;wCAAC,WAAU;;;;;;oCAA2B;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1D;GA3IgB;KAAA"}},
    {"offset": {"line": 4225, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/motion/index.ts"],"sourcesContent":["// Motion Primitives - Global Animation System\n// Inspired by https://motion-primitives.com\n\n// Configuration\nexport {\n  motionConfig,\n  presets,\n  containerVariants,\n  createStaggerContainer,\n  type PresetName,\n} from './config';\n\n// Provider\nexport { MotionProvider, useMotion } from './provider';\n\n// Core Components\nexport { InView, type InViewProps } from './in-view';\nexport { TextEffect, type TextEffectProps, type TextPreset, type PerType } from './text-effect';\nexport { AnimatedGroup, type AnimatedGroupProps } from './animated-group';\nexport { FadeIn, FadeInUp, FadeInDown, FadeInBlur, FadeInScale, type FadeInProps } from './fade-in';\n\n// Re-export motion for convenience\nexport { motion, AnimatePresence } from 'motion/react';\n"],"names":[],"mappings":";AAAA,8CAA8C;AAC9C,4CAA4C;AAE5C,gBAAgB;AAChB;AAQA,WAAW;AACX;AAEA,kBAAkB;AAClB;AACA;AACA;AACA"}},
    {"offset": {"line": 4251, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/ConversationalBooking.tsx"],"sourcesContent":["'use client';\n\n/**\n * Conversational Booking Experience\n *\n * A beautiful, AI-native booking flow that feels like chatting with James.\n * Inspired by onboarding flows with smooth transitions and binary choices.\n */\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Check, ArrowRight, Calendar, Clock, ChevronLeft, ChevronRight, Sparkles } from 'lucide-react';\nimport { TextEffect, FadeIn, FadeInUp } from '@/components/motion';\nimport { springs } from '@/components/motion/config';\nimport type { EventType, AvailableSlot } from '@/lib/scheduling/types';\nimport { cn } from '@/lib/utils';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ntype BookingStep =\n  | 'welcome'\n  | 'duration'\n  | 'date'\n  | 'time'\n  | 'name'\n  | 'email'\n  | 'topic'\n  | 'confirm'\n  | 'success';\n\ninterface BookingData {\n  duration: number;\n  date: Date | null;\n  time: AvailableSlot | null;\n  name: string;\n  email: string;\n  topic: string;\n}\n\ninterface ConversationalBookingProps {\n  eventTypes: EventType[];\n  availableSlots?: AvailableSlot[];\n  onDateSelect: (date: Date) => void;\n  onSubmit: (data: {\n    eventTypeId: string;\n    guestName: string;\n    guestEmail: string;\n    guestTimezone: string;\n    startTime: number;\n    notes?: string;\n  }) => Promise<void>;\n  isLoadingSlots?: boolean;\n  hostName?: string;\n  onSwitchToClassic?: () => void;\n}\n\n// ============================================================================\n// Animation Variants\n// ============================================================================\n\nconst stepVariants = {\n  enter: { opacity: 0, y: 30, filter: 'blur(8px)' },\n  center: { opacity: 1, y: 0, filter: 'blur(0px)' },\n  exit: { opacity: 0, y: -30, filter: 'blur(8px)' },\n};\n\nconst buttonVariants = {\n  initial: { opacity: 0, scale: 0.9 },\n  animate: { opacity: 1, scale: 1 },\n  hover: { scale: 1.02 },\n  tap: { scale: 0.98 },\n};\n\nconst pulseVariants = {\n  animate: {\n    scale: [1, 1.05, 1],\n    opacity: [0.5, 0.8, 0.5],\n    transition: { duration: 2, repeat: Infinity, ease: 'easeInOut' as const },\n  },\n};\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nconst generateCalendarDays = (month: Date) => {\n  const year = month.getFullYear();\n  const monthIndex = month.getMonth();\n  const firstDay = new Date(year, monthIndex, 1);\n  const lastDay = new Date(year, monthIndex + 1, 0);\n  const startPadding = firstDay.getDay();\n\n  const days: (Date | null)[] = [];\n\n  // Add padding for days before the first of the month\n  for (let i = 0; i < startPadding; i++) {\n    days.push(null);\n  }\n\n  // Add all days in the month\n  for (let day = 1; day <= lastDay.getDate(); day++) {\n    days.push(new Date(year, monthIndex, day));\n  }\n\n  return days;\n};\n\nconst formatTime = (timestamp: number) => {\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true\n  });\n};\n\nconst formatDateFull = (date: Date) => {\n  return date.toLocaleDateString('en-US', {\n    weekday: 'long',\n    month: 'long',\n    day: 'numeric',\n  });\n};\n\nconst isToday = (date: Date) => {\n  const today = new Date();\n  return date.toDateString() === today.toDateString();\n};\n\nconst isPastDate = (date: Date) => {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  return date < today;\n};\n\n// ============================================================================\n// Sub-Components\n// ============================================================================\n\ninterface ChoiceButtonProps {\n  children: React.ReactNode;\n  onClick: () => void;\n  selected?: boolean;\n  delay?: number;\n  icon?: React.ReactNode;\n  subtitle?: string;\n}\n\nfunction ChoiceButton({ children, onClick, selected, delay = 0, icon, subtitle }: ChoiceButtonProps) {\n  return (\n    <motion.button\n      variants={buttonVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n      whileHover=\"hover\"\n      whileTap=\"tap\"\n      transition={{ ...springs.snappy, delay }}\n      onClick={onClick}\n      className={cn(\n        'relative px-6 py-4 rounded-2xl font-medium transition-colors',\n        'border-2 text-left w-full',\n        selected\n          ? 'border-primary bg-primary/10 text-primary'\n          : 'border-border/50 hover:border-primary/50 text-foreground hover:bg-primary/5'\n      )}\n    >\n      <div className=\"flex items-center gap-3\">\n        {icon && <span className=\"text-2xl\">{icon}</span>}\n        <div className=\"flex-1\">\n          <span className=\"text-lg\">{children}</span>\n          {subtitle && (\n            <p className=\"text-sm text-muted-foreground mt-0.5\">{subtitle}</p>\n          )}\n        </div>\n        {selected && (\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={springs.bouncy}\n          >\n            <Check className=\"w-5 h-5 text-primary\" />\n          </motion.div>\n        )}\n      </div>\n    </motion.button>\n  );\n}\n\ninterface ContinueButtonProps {\n  onClick: () => void;\n  disabled?: boolean;\n  children?: React.ReactNode;\n}\n\nfunction ContinueButton({ onClick, disabled, children = 'Continue' }: ContinueButtonProps) {\n  return (\n    <motion.button\n      variants={buttonVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n      whileHover={disabled ? undefined : \"hover\"}\n      whileTap={disabled ? undefined : \"tap\"}\n      transition={{ ...springs.snappy, delay: 0.3 }}\n      onClick={onClick}\n      disabled={disabled}\n      className={cn(\n        'flex items-center justify-center gap-2 px-8 py-4 rounded-full font-semibold text-lg',\n        'transition-all duration-200',\n        disabled\n          ? 'bg-muted text-muted-foreground cursor-not-allowed'\n          : 'bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30'\n      )}\n    >\n      {children}\n      <ArrowRight className=\"w-5 h-5\" />\n    </motion.button>\n  );\n}\n\ninterface QuestionTextProps {\n  children: string;\n  emoji?: string;\n}\n\nfunction QuestionText({ children, emoji }: QuestionTextProps) {\n  return (\n    <div className=\"text-center mb-8\">\n      {emoji && (\n        <motion.div\n          initial={{ scale: 0, rotate: -20 }}\n          animate={{ scale: 1, rotate: 0 }}\n          transition={{ ...springs.bouncy, delay: 0.1 }}\n          className=\"text-6xl mb-4\"\n        >\n          {emoji}\n        </motion.div>\n      )}\n      <TextEffect\n        per=\"word\"\n        preset=\"blur\"\n        as=\"h2\"\n        className=\"text-2xl md:text-3xl font-bold text-foreground\"\n      >\n        {children}\n      </TextEffect>\n    </div>\n  );\n}\n\n// ============================================================================\n// Step Components\n// ============================================================================\n\ninterface StepProps {\n  onNext: () => void;\n  data: BookingData;\n  setData: React.Dispatch<React.SetStateAction<BookingData>>;\n}\n\nfunction WelcomeStep({ onNext, hostName = 'James' }: StepProps & { hostName?: string }) {\n  return (\n    <div className=\"flex flex-col items-center text-center\">\n      <motion.div\n        initial={{ scale: 0 }}\n        animate={{ scale: 1 }}\n        transition={{ ...springs.bouncy, delay: 0.2 }}\n        className=\"relative mb-6\"\n      >\n        {/* Pulsing ring */}\n        <motion.div\n          variants={pulseVariants}\n          animate=\"animate\"\n          className=\"absolute inset-0 rounded-full bg-primary/20 scale-150\"\n        />\n        <div className=\"relative w-24 h-24 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-5xl\">\n          \n        </div>\n      </motion.div>\n\n      <TextEffect\n        per=\"word\"\n        preset=\"blur\"\n        as=\"h1\"\n        className=\"text-3xl md:text-4xl font-bold text-foreground mb-3\"\n      >\n        {`Hi! I'm ${hostName}.`}\n      </TextEffect>\n\n      <TextEffect\n        per=\"word\"\n        preset=\"fade-in-blur\"\n        delay={0.3}\n        className=\"text-lg text-muted-foreground mb-8\"\n      >\n        Ready to schedule a chat?\n      </TextEffect>\n\n      <FadeInUp delay={0.5}>\n        <ContinueButton onClick={onNext}>\n          {\"Let's do it\"}\n        </ContinueButton>\n      </FadeInUp>\n    </div>\n  );\n}\n\nfunction DurationStep({ onNext, data, setData, eventTypes }: StepProps & { eventTypes: EventType[] }) {\n  const durations = useMemo(() => {\n    // Get unique durations from event types\n    const uniqueDurations = [...new Set(eventTypes.map(et => et.duration))].sort((a, b) => a - b);\n    return uniqueDurations.length > 0 ? uniqueDurations : [15, 30];\n  }, [eventTypes]);\n\n  const durationLabels: Record<number, { label: string; subtitle: string; icon: string }> = {\n    15: { label: '15 minutes', subtitle: 'Quick sync', icon: '' },\n    30: { label: '30 minutes', subtitle: 'Full conversation', icon: '' },\n    45: { label: '45 minutes', subtitle: 'Deep dive', icon: '' },\n    60: { label: '1 hour', subtitle: 'Extended session', icon: '' },\n  };\n\n  const handleSelect = (duration: number) => {\n    setData(prev => ({ ...prev, duration }));\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">How much time would you like?</QuestionText>\n\n      <div className=\"w-full max-w-md space-y-3 mb-8\">\n        {durations.map((duration, index) => {\n          const config = durationLabels[duration] || {\n            label: `${duration} minutes`,\n            subtitle: 'Meeting',\n            icon: ''\n          };\n          return (\n            <ChoiceButton\n              key={duration}\n              onClick={() => handleSelect(duration)}\n              selected={data.duration === duration}\n              delay={index * 0.1}\n              icon={config.icon}\n              subtitle={config.subtitle}\n            >\n              {config.label}\n            </ChoiceButton>\n          );\n        })}\n      </div>\n\n      <ContinueButton onClick={onNext} disabled={!data.duration} />\n    </div>\n  );\n}\n\nfunction DateStep({ onNext, data, setData, onDateSelect }: StepProps & { onDateSelect: (date: Date) => void }) {\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const days = generateCalendarDays(currentMonth);\n  const weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n  const handleDateSelect = (date: Date) => {\n    setData(prev => ({ ...prev, date, time: null }));\n    onDateSelect(date);\n  };\n\n  const prevMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1));\n  };\n\n  const nextMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1));\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">When works for you?</QuestionText>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={springs.smooth}\n        className=\"w-full max-w-sm bg-card/50 rounded-2xl p-4 border border-border/50 mb-8\"\n      >\n        {/* Month navigation */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <button\n            onClick={prevMonth}\n            className=\"p-2 rounded-full hover:bg-muted transition-colors\"\n          >\n            <ChevronLeft className=\"w-5 h-5\" />\n          </button>\n          <h3 className=\"font-semibold text-lg\">\n            {currentMonth.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}\n          </h3>\n          <button\n            onClick={nextMonth}\n            className=\"p-2 rounded-full hover:bg-muted transition-colors\"\n          >\n            <ChevronRight className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Week day headers */}\n        <div className=\"grid grid-cols-7 gap-1 mb-2\">\n          {weekDays.map(day => (\n            <div key={day} className=\"text-center text-xs text-muted-foreground font-medium py-1\">\n              {day}\n            </div>\n          ))}\n        </div>\n\n        {/* Calendar grid */}\n        <div className=\"grid grid-cols-7 gap-1\">\n          {days.map((date, index) => {\n            if (!date) {\n              return <div key={`empty-${index}`} className=\"aspect-square\" />;\n            }\n\n            const isSelected = data.date?.toDateString() === date.toDateString();\n            const isPast = isPastDate(date);\n            const isTodayDate = isToday(date);\n\n            return (\n              <motion.button\n                key={date.toISOString()}\n                whileHover={!isPast ? { scale: 1.1 } : undefined}\n                whileTap={!isPast ? { scale: 0.95 } : undefined}\n                onClick={() => !isPast && handleDateSelect(date)}\n                disabled={isPast}\n                className={cn(\n                  'aspect-square rounded-xl flex items-center justify-center text-sm font-medium transition-colors relative',\n                  isPast && 'text-muted-foreground/30 cursor-not-allowed',\n                  !isPast && !isSelected && 'hover:bg-primary/10 text-foreground',\n                  isSelected && 'bg-primary text-primary-foreground',\n                  isTodayDate && !isSelected && 'ring-2 ring-primary/30'\n                )}\n              >\n                {date.getDate()}\n                {isTodayDate && !isSelected && (\n                  <span className=\"absolute bottom-1 w-1 h-1 rounded-full bg-primary\" />\n                )}\n              </motion.button>\n            );\n          })}\n        </div>\n      </motion.div>\n\n      <ContinueButton onClick={onNext} disabled={!data.date} />\n    </div>\n  );\n}\n\nfunction TimeStep({ onNext, data, setData, availableSlots, isLoading }: StepProps & { availableSlots?: AvailableSlot[]; isLoading?: boolean }) {\n  const handleTimeSelect = (slot: AvailableSlot) => {\n    setData(prev => ({ ...prev, time: slot }));\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex flex-col items-center\">\n        <QuestionText emoji=\"\">Finding available times...</QuestionText>\n        <motion.div\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n          className=\"w-8 h-8 border-2 border-primary border-t-transparent rounded-full\"\n        />\n      </div>\n    );\n  }\n\n  if (!availableSlots || availableSlots.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center text-center\">\n        <QuestionText emoji=\"\">No times available</QuestionText>\n        <p className=\"text-muted-foreground mb-6\">\n          Try selecting a different date\n        </p>\n        <ContinueButton onClick={() => setData(prev => ({ ...prev, date: null }))}>\n          Pick another date\n        </ContinueButton>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">\n        {data.date ? `What time on ${data.date.toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' })}?` : 'Pick a time'}\n      </QuestionText>\n\n      <div className=\"w-full max-w-md grid grid-cols-3 gap-2 mb-8\">\n        {availableSlots.slice(0, 12).map((slot, index) => (\n          <motion.button\n            key={slot.timestamp}\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ ...springs.snappy, delay: index * 0.05 }}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => handleTimeSelect(slot)}\n            className={cn(\n              'px-4 py-3 rounded-xl font-medium transition-colors border-2',\n              data.time?.timestamp === slot.timestamp\n                ? 'border-primary bg-primary/10 text-primary'\n                : 'border-border/50 hover:border-primary/50 text-foreground'\n            )}\n          >\n            {formatTime(slot.timestamp)}\n          </motion.button>\n        ))}\n      </div>\n\n      {availableSlots.length > 12 && (\n        <p className=\"text-sm text-muted-foreground mb-4\">\n          Showing first 12 times\n        </p>\n      )}\n\n      <ContinueButton onClick={onNext} disabled={!data.time} />\n    </div>\n  );\n}\n\nfunction NameStep({ onNext, data, setData }: StepProps) {\n  const [inputValue, setInputValue] = useState(data.name);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (inputValue.trim()) {\n      setData(prev => ({ ...prev, name: inputValue.trim() }));\n      onNext();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">What&apos;s your name?</QuestionText>\n\n      <form onSubmit={handleSubmit} className=\"w-full max-w-md\">\n        <motion.input\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={springs.smooth}\n          type=\"text\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          placeholder=\"Your name\"\n          autoFocus\n          className={cn(\n            'w-full text-center text-2xl font-medium py-4 px-6 rounded-2xl',\n            'bg-transparent border-2 border-border/50 focus:border-primary',\n            'outline-none transition-colors placeholder:text-muted-foreground/50'\n          )}\n        />\n\n        <div className=\"flex justify-center mt-8\">\n          <ContinueButton onClick={() => handleSubmit({ preventDefault: () => {} } as React.FormEvent)} disabled={!inputValue.trim()} />\n        </div>\n      </form>\n    </div>\n  );\n}\n\nfunction EmailStep({ onNext, data, setData }: StepProps) {\n  const [inputValue, setInputValue] = useState(data.email);\n  const isValidEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(inputValue);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (isValidEmail) {\n      setData(prev => ({ ...prev, email: inputValue.trim() }));\n      onNext();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">And your email?</QuestionText>\n\n      <form onSubmit={handleSubmit} className=\"w-full max-w-md\">\n        <motion.input\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={springs.smooth}\n          type=\"email\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          placeholder=\"you@email.com\"\n          autoFocus\n          className={cn(\n            'w-full text-center text-xl font-medium py-4 px-6 rounded-2xl',\n            'bg-transparent border-2 border-border/50 focus:border-primary',\n            'outline-none transition-colors placeholder:text-muted-foreground/50'\n          )}\n        />\n\n        <p className=\"text-center text-sm text-muted-foreground mt-3\">\n          We&apos;ll send you a calendar invite\n        </p>\n\n        <div className=\"flex justify-center mt-8\">\n          <ContinueButton onClick={() => handleSubmit({ preventDefault: () => {} } as React.FormEvent)} disabled={!isValidEmail} />\n        </div>\n      </form>\n    </div>\n  );\n}\n\nfunction TopicStep({ onNext, data, setData }: StepProps) {\n  const [inputValue, setInputValue] = useState(data.topic);\n\n  const handleContinue = () => {\n    setData(prev => ({ ...prev, topic: inputValue.trim() }));\n    onNext();\n  };\n\n  const handleSkip = () => {\n    setData(prev => ({ ...prev, topic: '' }));\n    onNext();\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">Anything specific you&apos;d like to discuss?</QuestionText>\n\n      <motion.textarea\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={springs.smooth}\n        value={inputValue}\n        onChange={(e) => setInputValue(e.target.value)}\n        placeholder=\"Optional: Tell me what's on your mind...\"\n        rows={3}\n        className={cn(\n          'w-full max-w-md text-lg py-4 px-6 rounded-2xl resize-none',\n          'bg-transparent border-2 border-border/50 focus:border-primary',\n          'outline-none transition-colors placeholder:text-muted-foreground/50'\n        )}\n      />\n\n      <div className=\"flex flex-col sm:flex-row items-center gap-3 mt-8\">\n        <ContinueButton onClick={handleContinue}>\n          {inputValue.trim() ? 'Continue' : 'Skip'}\n        </ContinueButton>\n        {inputValue.trim() && (\n          <motion.button\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            onClick={handleSkip}\n            className=\"text-muted-foreground hover:text-foreground transition-colors\"\n          >\n            Skip this\n          </motion.button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ConfirmStep({ onNext, data, isSubmitting }: StepProps & { isSubmitting?: boolean }) {\n  return (\n    <div className=\"flex flex-col items-center\">\n      <QuestionText emoji=\"\">Ready to book?</QuestionText>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={springs.smooth}\n        className=\"w-full max-w-md bg-card/50 rounded-2xl p-6 border border-border/50 mb-8\"\n      >\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\n              <Calendar className=\"w-5 h-5 text-primary\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">When</p>\n              <p className=\"font-medium\">\n                {data.date && formatDateFull(data.date)}\n                {data.time && ` at ${formatTime(data.time.timestamp)}`}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\n              <Clock className=\"w-5 h-5 text-primary\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Duration</p>\n              <p className=\"font-medium\">{data.duration} minutes</p>\n            </div>\n          </div>\n\n          <div className=\"pt-4 border-t border-border/50\">\n            <p className=\"text-sm text-muted-foreground mb-1\">Your details</p>\n            <p className=\"font-medium\">{data.name}</p>\n            <p className=\"text-muted-foreground\">{data.email}</p>\n            {data.topic && (\n              <p className=\"text-sm mt-2 text-muted-foreground italic\">&ldquo;{data.topic}&rdquo;</p>\n            )}\n          </div>\n        </div>\n      </motion.div>\n\n      <motion.button\n        variants={buttonVariants}\n        initial=\"initial\"\n        animate=\"animate\"\n        whileHover={isSubmitting ? undefined : \"hover\"}\n        whileTap={isSubmitting ? undefined : \"tap\"}\n        onClick={onNext}\n        disabled={isSubmitting}\n        className={cn(\n          'flex items-center justify-center gap-2 px-8 py-4 rounded-full font-semibold text-lg',\n          'bg-primary text-primary-foreground shadow-lg shadow-primary/25',\n          isSubmitting && 'opacity-70 cursor-wait'\n        )}\n      >\n        {isSubmitting ? (\n          <>\n            <motion.div\n              animate={{ rotate: 360 }}\n              transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n              className=\"w-5 h-5 border-2 border-primary-foreground border-t-transparent rounded-full\"\n            />\n            Booking...\n          </>\n        ) : (\n          <>\n            <Sparkles className=\"w-5 h-5\" />\n            Confirm Booking\n          </>\n        )}\n      </motion.button>\n    </div>\n  );\n}\n\nfunction SuccessStep({ data, hostName = 'James' }: { data: BookingData; hostName?: string }) {\n  return (\n    <div className=\"flex flex-col items-center text-center\">\n      <motion.div\n        initial={{ scale: 0 }}\n        animate={{ scale: 1 }}\n        transition={{ ...springs.bouncy, delay: 0.2 }}\n        className=\"text-7xl mb-6\"\n      >\n        \n      </motion.div>\n\n      <TextEffect\n        per=\"word\"\n        preset=\"blur\"\n        as=\"h2\"\n        className=\"text-3xl md:text-4xl font-bold text-foreground mb-3\"\n      >\n        You&apos;re all set!\n      </TextEffect>\n\n      <TextEffect\n        per=\"word\"\n        preset=\"fade-in-blur\"\n        delay={0.3}\n        className=\"text-lg text-muted-foreground mb-8\"\n      >\n        {`See you ${data.date ? formatDateFull(data.date) : 'soon'}${data.time ? ` at ${formatTime(data.time.timestamp)}` : ''}`}\n      </TextEffect>\n\n      <FadeInUp delay={0.5}>\n        <div className=\"bg-card/50 rounded-2xl p-6 border border-border/50 max-w-md\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center\">\n              <Check className=\"w-5 h-5 text-green-500\" />\n            </div>\n            <div className=\"text-left\">\n              <p className=\"font-medium\">Calendar invite sent</p>\n              <p className=\"text-sm text-muted-foreground\">{data.email}</p>\n            </div>\n          </div>\n          <p className=\"text-sm text-muted-foreground\">\n            {hostName} will send you a meeting link before the call.\n          </p>\n        </div>\n      </FadeInUp>\n    </div>\n  );\n}\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nexport function ConversationalBooking({\n  eventTypes,\n  availableSlots,\n  onDateSelect,\n  onSubmit,\n  isLoadingSlots,\n  hostName = 'James',\n  onSwitchToClassic,\n}: ConversationalBookingProps) {\n  const [step, setStep] = useState<BookingStep>('welcome');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [data, setData] = useState<BookingData>({\n    duration: 0,\n    date: null,\n    time: null,\n    name: '',\n    email: '',\n    topic: '',\n  });\n\n  // Get the selected event type based on duration\n  const selectedEventType = useMemo(() => {\n    return eventTypes.find(et => et.duration === data.duration);\n  }, [eventTypes, data.duration]);\n\n  const handleSubmit = useCallback(async () => {\n    if (!selectedEventType || !data.time || !data.name || !data.email) return;\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit({\n        eventTypeId: selectedEventType._id as string,\n        guestName: data.name,\n        guestEmail: data.email,\n        guestTimezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n        startTime: data.time.timestamp,\n        notes: data.topic || undefined,\n      });\n      setStep('success');\n    } catch (error) {\n      console.error('Booking failed:', error);\n      // Could show error state here\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [selectedEventType, data, onSubmit]);\n\n  const goToStep = (nextStep: BookingStep) => setStep(nextStep);\n\n  // Progress indicator\n  const steps: BookingStep[] = ['welcome', 'duration', 'date', 'time', 'name', 'email', 'topic', 'confirm'];\n  const currentStepIndex = steps.indexOf(step);\n  const progress = step === 'success' ? 100 : (currentStepIndex / (steps.length - 1)) * 100;\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      {/* Progress bar */}\n      {step !== 'welcome' && step !== 'success' && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"fixed top-0 left-0 right-0 h-1 bg-muted z-50\"\n        >\n          <motion.div\n            className=\"h-full bg-primary\"\n            initial={{ width: 0 }}\n            animate={{ width: `${progress}%` }}\n            transition={springs.smooth}\n          />\n        </motion.div>\n      )}\n\n      {/* Switch to classic view */}\n      {onSwitchToClassic && step !== 'success' && (\n        <motion.button\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 1 }}\n          onClick={onSwitchToClassic}\n          className=\"fixed top-4 right-4 text-sm text-muted-foreground hover:text-foreground transition-colors z-50\"\n        >\n          Switch to classic view\n        </motion.button>\n      )}\n\n      {/* Main content */}\n      <div className=\"flex-1 flex items-center justify-center p-6\">\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={step}\n            variants={stepVariants}\n            initial=\"enter\"\n            animate=\"center\"\n            exit=\"exit\"\n            transition={springs.smooth}\n            className=\"w-full max-w-lg\"\n          >\n            {step === 'welcome' && (\n              <WelcomeStep\n                onNext={() => goToStep('duration')}\n                data={data}\n                setData={setData}\n                hostName={hostName}\n              />\n            )}\n            {step === 'duration' && (\n              <DurationStep\n                onNext={() => goToStep('date')}\n                data={data}\n                setData={setData}\n                eventTypes={eventTypes}\n              />\n            )}\n            {step === 'date' && (\n              <DateStep\n                onNext={() => goToStep('time')}\n                data={data}\n                setData={setData}\n                onDateSelect={onDateSelect}\n              />\n            )}\n            {step === 'time' && (\n              <TimeStep\n                onNext={() => goToStep('name')}\n                data={data}\n                setData={setData}\n                availableSlots={availableSlots}\n                isLoading={isLoadingSlots}\n              />\n            )}\n            {step === 'name' && (\n              <NameStep\n                onNext={() => goToStep('email')}\n                data={data}\n                setData={setData}\n              />\n            )}\n            {step === 'email' && (\n              <EmailStep\n                onNext={() => goToStep('topic')}\n                data={data}\n                setData={setData}\n              />\n            )}\n            {step === 'topic' && (\n              <TopicStep\n                onNext={() => goToStep('confirm')}\n                data={data}\n                setData={setData}\n              />\n            )}\n            {step === 'confirm' && (\n              <ConfirmStep\n                onNext={handleSubmit}\n                data={data}\n                setData={setData}\n                isSubmitting={isSubmitting}\n              />\n            )}\n            {step === 'success' && (\n              <SuccessStep data={data} hostName={hostName} />\n            )}\n          </motion.div>\n        </AnimatePresence>\n      </div>\n\n      {/* Back button */}\n      {step !== 'welcome' && step !== 'success' && (\n        <motion.button\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          onClick={() => {\n            const prevStep = steps[currentStepIndex - 1];\n            if (prevStep) setStep(prevStep);\n          }}\n          className=\"fixed bottom-6 left-6 flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors\"\n        >\n          <ChevronLeft className=\"w-4 h-4\" />\n          Back\n        </motion.button>\n      )}\n    </div>\n  );\n}\n\nexport default ConversationalBooking;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5970, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/scheduling/index.ts"],"sourcesContent":["/**\n * Scheduling Components - Calendly Clone\n */\n\nexport { EventTypeCard } from './EventTypeCard';\nexport { EventTypeForm } from './EventTypeForm';\nexport { AvailabilityEditor } from './AvailabilityEditor';\nexport { BookingCalendar } from './BookingCalendar';\nexport { BookingForm } from './BookingForm';\nexport { BookingConfirmation } from './BookingConfirmation';\nexport { TimeSlotPicker } from './TimeSlotPicker';\nexport { UpcomingBookings } from './UpcomingBookings';\nexport { GoogleCalendarConnect } from './GoogleCalendarConnect';\nexport { ConversationalBooking } from './ConversationalBooking';\n"],"names":[],"mappings":";AAAA;;CAEC,GAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 6000, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/hooks/useScheduling.ts"],"sourcesContent":["/**\n * useScheduling - Hook for managing scheduling operations\n *\n * Provides access to event types, availability, bookings, and calendar sync.\n */\n\n\"use client\";\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useQuery, useMutation } from \"@/lib/openclaw/hooks\";\nimport { getUserTimezone } from \"@/lib/scheduling/utils\";\nimport type {\n  EventType,\n  Availability,\n  Booking,\n  CalendarIntegration,\n  CalendarView,\n} from \"@/lib/scheduling/types\";\n\n// Dynamically import the API to handle cases where schema isn't deployed\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet api: any = null;\ntry {\n  api = require('@/lib/convex-shim').api;\n} catch {\n  // Schema not deployed yet\n}\n\ninterface UseSchedulingOptions {\n  autoInitializeAvailability?: boolean;\n}\n\nexport function useScheduling(options: UseSchedulingOptions = {}) {\n  const { autoInitializeAvailability = true } = options;\n\n  // Local state\n  const [calendarView, setCalendarView] = useState<CalendarView>(\"month\");\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\n  const [isConnectingGoogle, setIsConnectingGoogle] = useState(false);\n\n  // Schema is ready if api.scheduling exists (always true with static import)\n  const schemaReady = Boolean(api?.scheduling);\n\n  // Convex queries - use skip pattern for conditional queries\n  const userProfileQuery = useQuery(\n    api.scheduling.getUserProfile,\n    schemaReady ? {} : \"skip\"\n  );\n  const eventTypesQuery = useQuery(\n    api.scheduling.getEventTypes,\n    schemaReady ? {} : \"skip\"\n  );\n  const availabilityQuery = useQuery(\n    api.scheduling.getAvailability,\n    schemaReady ? {} : \"skip\"\n  );\n  const defaultAvailabilityQuery = useQuery(\n    api.scheduling.getDefaultAvailability,\n    schemaReady ? {} : \"skip\"\n  );\n  const calendarIntegrationQuery = useQuery(\n    api.scheduling.getCalendarIntegration,\n    schemaReady ? {} : \"skip\"\n  );\n  const upcomingBookingsQuery = useQuery(\n    api.scheduling.getUpcomingBookings,\n    schemaReady ? { limit: 10 } : \"skip\"\n  );\n\n  // Cast results\n  const userProfile = userProfileQuery as { _id: string; username: string; displayName?: string; email?: string } | null | undefined;\n  const eventTypes = eventTypesQuery as EventType[] | undefined;\n  const availability = availabilityQuery as Availability[] | undefined;\n  const defaultAvailability = defaultAvailabilityQuery as Availability | null | undefined;\n  const calendarIntegration = calendarIntegrationQuery as CalendarIntegration | null | undefined;\n  const upcomingBookings = upcomingBookingsQuery as Booking[] | undefined;\n\n  // Convex mutations - use direct API references\n  const createEventTypeMutation = useMutation(api.scheduling.createEventType);\n  const updateEventTypeMutation = useMutation(api.scheduling.updateEventType);\n  const deleteEventTypeMutation = useMutation(api.scheduling.deleteEventType);\n  const createAvailabilityMutation = useMutation(api.scheduling.createAvailability);\n  const updateAvailabilityMutation = useMutation(api.scheduling.updateAvailability);\n  const deleteAvailabilityMutation = useMutation(api.scheduling.deleteAvailability);\n  const initializeDefaultAvailabilityMutation = useMutation(api.scheduling.initializeDefaultAvailability);\n  const setOverrideMutation = useMutation(api.scheduling.setOverride);\n  const deleteOverrideMutation = useMutation(api.scheduling.deleteOverride);\n  const updateBookingStatusMutation = useMutation(api.scheduling.updateBookingStatus);\n  const rescheduleBookingMutation = useMutation(api.scheduling.rescheduleBooking);\n  const saveCalendarIntegrationMutation = useMutation(api.scheduling.saveCalendarIntegration);\n  const updateCalendarIntegrationMutation = useMutation(api.scheduling.updateCalendarIntegration);\n  const deleteCalendarIntegrationMutation = useMutation(api.scheduling.deleteCalendarIntegration);\n  const updateBookingGoogleEventIdMutation = useMutation(api.scheduling.updateBookingGoogleEventId);\n  const createOrUpdateUserProfileMutation = useMutation(api.scheduling.createOrUpdateUserProfile);\n\n  // Auto-initialize default availability\n  useEffect(() => {\n    if (\n      schemaReady &&\n      autoInitializeAvailability &&\n      availability !== undefined &&\n      availability.length === 0 &&\n      defaultAvailability === null\n    ) {\n      const timezone = getUserTimezone();\n      initializeDefaultAvailabilityMutation({ timezone }).catch(console.error);\n    }\n  }, [\n    schemaReady,\n    autoInitializeAvailability,\n    availability,\n    defaultAvailability,\n    initializeDefaultAvailabilityMutation,\n  ]);\n\n  // User Profile actions\n  const createOrUpdateUserProfile = useCallback(\n    async (data: { username: string; displayName?: string }) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      return await createOrUpdateUserProfileMutation(data);\n    },\n    [schemaReady, createOrUpdateUserProfileMutation]\n  );\n\n  // Event Type actions\n  const createEventType = useCallback(\n    async (data: {\n      title: string;\n      description?: string;\n      duration: number;\n      color: string;\n      locationType: \"google_meet\" | \"zoom\" | \"phone\" | \"in_person\" | \"custom\";\n      locationValue?: string;\n      bufferBefore?: number;\n      bufferAfter?: number;\n      minNotice?: number;\n      maxAdvance?: number;\n    }) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      return await createEventTypeMutation(data);\n    },\n    [schemaReady, createEventTypeMutation]\n  );\n\n  const updateEventType = useCallback(\n    async (id: string, data: Partial<EventType>) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      const { _id, ownerId, createdAt, ...updateData } = data as Record<string, unknown>;\n      await updateEventTypeMutation({ id, ...updateData } as any);\n    },\n    [schemaReady, updateEventTypeMutation]\n  );\n\n  const deleteEventType = useCallback(\n    async (id: string) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await deleteEventTypeMutation({ id } as any);\n    },\n    [schemaReady, deleteEventTypeMutation]\n  );\n\n  // Availability actions\n  const createAvailability = useCallback(\n    async (data: {\n      name: string;\n      timezone: string;\n      isDefault?: boolean;\n      schedule: Array<{\n        dayOfWeek: number;\n        isAvailable: boolean;\n        slots: Array<{ start: string; end: string }>;\n      }>;\n    }) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      return await createAvailabilityMutation(data);\n    },\n    [schemaReady, createAvailabilityMutation]\n  );\n\n  const updateAvailability = useCallback(\n    async (id: string, data: Partial<Availability>) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      const { _id, ownerId, createdAt, ...updateData } = data as Record<string, unknown>;\n      await updateAvailabilityMutation({ id, ...updateData } as any);\n    },\n    [schemaReady, updateAvailabilityMutation]\n  );\n\n  const deleteAvailability = useCallback(\n    async (id: string) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await deleteAvailabilityMutation({ id } as any);\n    },\n    [schemaReady, deleteAvailabilityMutation]\n  );\n\n  // Override actions\n  const setOverride = useCallback(\n    async (data: {\n      date: string;\n      isBlocked: boolean;\n      slots?: Array<{ start: string; end: string }>;\n      reason?: string;\n    }) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      return await setOverrideMutation(data);\n    },\n    [schemaReady, setOverrideMutation]\n  );\n\n  const deleteOverride = useCallback(\n    async (date: string) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await deleteOverrideMutation({ date });\n    },\n    [schemaReady, deleteOverrideMutation]\n  );\n\n  // Booking actions\n  const confirmBooking = useCallback(\n    async (id: string) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await updateBookingStatusMutation({ id, status: \"confirmed\" } as any);\n    },\n    [schemaReady, updateBookingStatusMutation]\n  );\n\n  const cancelBooking = useCallback(\n    async (id: string, reason?: string, cancelledBy?: \"host\" | \"guest\") => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await updateBookingStatusMutation({\n        id,\n        status: \"cancelled\",\n        cancelReason: reason,\n        cancelledBy,\n      } as any);\n    },\n    [schemaReady, updateBookingStatusMutation]\n  );\n\n  const markNoShow = useCallback(\n    async (id: string) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await updateBookingStatusMutation({ id, status: \"no_show\" } as any);\n    },\n    [schemaReady, updateBookingStatusMutation]\n  );\n\n  const markCompleted = useCallback(\n    async (id: string) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await updateBookingStatusMutation({ id, status: \"completed\" } as any);\n    },\n    [schemaReady, updateBookingStatusMutation]\n  );\n\n  const rescheduleBooking = useCallback(\n    async (id: string, newStartTime: number) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      return await rescheduleBookingMutation({ id, newStartTime } as any);\n    },\n    [schemaReady, rescheduleBookingMutation]\n  );\n\n  // Google Calendar actions\n  const connectGoogleCalendar = useCallback(async () => {\n    setIsConnectingGoogle(true);\n    try {\n      const response = await fetch(\"/api/calendar/google/auth?returnUrl=/calendar\");\n      const data = await response.json();\n\n      if (data.authUrl) {\n        window.location.href = data.authUrl;\n      } else {\n        throw new Error(data.error || \"Failed to get auth URL\");\n      }\n    } catch (error) {\n      console.error(\"Failed to connect Google Calendar:\", error);\n      setIsConnectingGoogle(false);\n      throw error;\n    }\n  }, []);\n\n  const saveGoogleTokens = useCallback(\n    async (tokenData: {\n      accessToken: string;\n      refreshToken: string;\n      tokenExpiry: number;\n      calendarId: string;\n      calendarEmail: string;\n    }) => {\n      if (!schemaReady) throw new Error(\"Schema not deployed\");\n      await saveCalendarIntegrationMutation(tokenData);\n    },\n    [schemaReady, saveCalendarIntegrationMutation]\n  );\n\n  const disconnectGoogleCalendar = useCallback(async () => {\n    if (!schemaReady) throw new Error(\"Schema not deployed\");\n    await deleteCalendarIntegrationMutation();\n  }, [schemaReady, deleteCalendarIntegrationMutation]);\n\n  const syncBookingToCalendar = useCallback(\n    async (booking: Booking, action: \"create\" | \"update\" | \"delete\" = \"create\") => {\n      if (!calendarIntegration) {\n        throw new Error(\"No calendar integration configured\");\n      }\n\n      const response = await fetch(\"/api/calendar/sync\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          action,\n          booking,\n          integration: calendarIntegration,\n          timezone: defaultAvailability?.timezone || getUserTimezone(),\n        }),\n      });\n\n      const data = await response.json();\n\n      if (data.needsTokenUpdate) {\n        await saveCalendarIntegrationMutation({\n          accessToken: data.newTokens.accessToken,\n          refreshToken: data.newTokens.refreshToken,\n          tokenExpiry: data.newTokens.tokenExpiry,\n          calendarId: calendarIntegration.calendarId,\n          calendarEmail: calendarIntegration.calendarEmail,\n        });\n        return syncBookingToCalendar(booking, action);\n      }\n\n      if (!data.success) {\n        throw new Error(data.error || \"Sync failed\");\n      }\n\n      if (action === \"create\" && data.googleEventId) {\n        await updateBookingGoogleEventIdMutation({\n          bookingId: booking._id,\n          googleEventId: data.googleEventId,\n          location: data.meetLink,\n        } as any);\n      }\n\n      return data;\n    },\n    [\n      calendarIntegration,\n      defaultAvailability?.timezone,\n      saveCalendarIntegrationMutation,\n      updateBookingGoogleEventIdMutation,\n    ]\n  );\n\n  // Loading states\n  const isLoading = !schemaReady ||\n    eventTypes === undefined ||\n    availability === undefined ||\n    calendarIntegration === undefined;\n\n  return {\n    // Schema status\n    schemaReady,\n\n    // Data\n    userProfile: userProfile ?? null,\n    eventTypes: eventTypes || [],\n    availability: availability || [],\n    defaultAvailability: defaultAvailability ?? null,\n    calendarIntegration: calendarIntegration ?? null,\n    upcomingBookings: upcomingBookings || [],\n\n    // Calendar view state\n    calendarView,\n    setCalendarView,\n    selectedDate,\n    setSelectedDate,\n\n    // User Profile actions\n    createOrUpdateUserProfile,\n\n    // Event Type actions\n    createEventType,\n    updateEventType,\n    deleteEventType,\n\n    // Availability actions\n    createAvailability,\n    updateAvailability,\n    deleteAvailability,\n    setOverride,\n    deleteOverride,\n\n    // Booking actions\n    confirmBooking,\n    cancelBooking,\n    markNoShow,\n    markCompleted,\n    rescheduleBooking,\n\n    // Google Calendar actions\n    connectGoogleCalendar,\n    saveGoogleTokens,\n    disconnectGoogleCalendar,\n    syncBookingToCalendar,\n    isConnectingGoogle,\n\n    // Loading state\n    isLoading,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6406, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/app/calendar/CalendarClient.tsx"],"sourcesContent":["'use client';\n\n/**\n * Calendar Page - Scheduling Dashboard\n *\n * Manage event types, availability, and view bookings.\n * Replaces Calendly with native scheduling.\n */\n\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { useUser } from '@clerk/nextjs';\nimport { Calendar, Clock, Plus, Settings, Users, Link2, Loader2 } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport {\n  EventTypeCard,\n  EventTypeForm,\n  AvailabilityEditor,\n  UpcomingBookings,\n  GoogleCalendarConnect,\n} from '@/components/scheduling';\nimport { useScheduling } from '@/hooks/useScheduling';\nimport type { EventType, LocationType, DaySchedule } from '@/lib/scheduling/types';\nimport { getUserTimezone } from '@/lib/scheduling/utils';\nimport type { Id } from '../../../convex/_generated/dataModel';\n\ntype Tab = 'bookings' | 'event-types' | 'availability' | 'integrations';\n\nfunction CalendarPageContent() {\n  const { user, isLoaded: isUserLoaded } = useUser();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const [activeTab, setActiveTab] = useState<Tab>('bookings');\n  const [showEventTypeForm, setShowEventTypeForm] = useState(false);\n  const [editingEventType, setEditingEventType] = useState<EventType | null>(null);\n\n  const {\n    schemaReady,\n    eventTypes,\n    defaultAvailability,\n    calendarIntegration,\n    upcomingBookings,\n    isLoading,\n    createEventType,\n    updateEventType,\n    deleteEventType,\n    updateAvailability,\n    cancelBooking,\n    markCompleted,\n    markNoShow,\n    connectGoogleCalendar,\n    saveGoogleTokens,\n    disconnectGoogleCalendar,\n    isConnectingGoogle,\n  } = useScheduling();\n\n  // Handle Google OAuth callback\n  useEffect(() => {\n    const googleTokens = searchParams.get('google_tokens');\n    if (googleTokens) {\n      try {\n        const tokenData = JSON.parse(Buffer.from(googleTokens, 'base64').toString());\n        saveGoogleTokens(tokenData).then(() => {\n          // Remove the tokens from URL\n          router.replace('/calendar');\n        });\n      } catch (error) {\n        console.error('Failed to parse Google tokens:', error);\n      }\n    }\n\n    const error = searchParams.get('error');\n    if (error) {\n      console.error('Google OAuth error:', error);\n      router.replace('/calendar');\n    }\n  }, [searchParams, saveGoogleTokens, router]);\n\n  // Handle saving event type\n  const handleSaveEventType = async (data: {\n    title: string;\n    description?: string;\n    duration: number;\n    color: string;\n    locationType: LocationType;\n    locationValue?: string;\n    bufferBefore?: number;\n    bufferAfter?: number;\n    minNotice?: number;\n    maxAdvance?: number;\n  }) => {\n    if (editingEventType) {\n      await updateEventType(editingEventType._id as Id<'eventTypes'>, data);\n    } else {\n      await createEventType(data);\n    }\n    setShowEventTypeForm(false);\n    setEditingEventType(null);\n  };\n\n  // Handle toggling event type active status\n  const handleToggleActive = async (id: string, isActive: boolean) => {\n    await updateEventType(id as Id<'eventTypes'>, { isActive });\n  };\n\n  // Handle deleting event type\n  const handleDeleteEventType = async (id: string) => {\n    if (confirm('Are you sure you want to delete this event type?')) {\n      await deleteEventType(id as Id<'eventTypes'>);\n    }\n  };\n\n  // Handle saving availability\n  const handleSaveAvailability = async (schedule: DaySchedule[]) => {\n    if (defaultAvailability) {\n      await updateAvailability(defaultAvailability._id as Id<'availability'>, { schedule });\n    }\n  };\n\n  // Loading state\n  if (!isUserLoaded) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-pulse text-center\">\n          <Calendar className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n          <p style={{ color: 'hsl(var(--muted-foreground))' }}>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Schema not deployed yet\n  if (!schemaReady) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-4\">\n        <LiquidGlass className=\"p-8 rounded-2xl text-center max-w-md\">\n          <Calendar className=\"w-16 h-16 mx-auto mb-4\" style={{ color: 'hsl(var(--primary))' }} />\n          <h1 className=\"text-2xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            Schema Setup Required\n          </h1>\n          <p className=\"mb-4\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            The scheduling schema needs to be deployed to Convex.\n          </p>\n          <div className=\"text-left p-4 rounded-lg font-mono text-sm\" style={{ backgroundColor: 'hsl(var(--muted))' }}>\n            <p style={{ color: 'hsl(var(--foreground))' }}>Run this command:</p>\n            <code style={{ color: 'hsl(var(--primary))' }}>npx convex dev</code>\n          </div>\n        </LiquidGlass>\n      </div>\n    );\n  }\n\n  // Loading data\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-pulse text-center\">\n          <Calendar className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n          <p style={{ color: 'hsl(var(--muted-foreground))' }}>Loading calendar...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Not signed in\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-4\">\n        <LiquidGlass className=\"p-8 rounded-2xl text-center max-w-md\">\n          <Calendar className=\"w-16 h-16 mx-auto mb-4\" style={{ color: 'hsl(var(--primary))' }} />\n          <h1 className=\"text-2xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            Calendar & Scheduling\n          </h1>\n          <p className=\"mb-6\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n            Sign in to manage your event types, availability, and view bookings.\n          </p>\n          <a\n            href=\"/sign-in\"\n            className=\"inline-flex items-center gap-2 px-6 py-3 rounded-xl transition-colors\"\n            style={{\n              backgroundColor: 'hsl(var(--primary))',\n              color: 'hsl(var(--primary-foreground))',\n            }}\n          >\n            Sign In to Continue\n          </a>\n        </LiquidGlass>\n      </div>\n    );\n  }\n\n  const tabs = [\n    { id: 'bookings' as Tab, label: 'Bookings', icon: Users },\n    { id: 'event-types' as Tab, label: 'Event Types', icon: Calendar },\n    { id: 'availability' as Tab, label: 'Availability', icon: Clock },\n    { id: 'integrations' as Tab, label: 'Integrations', icon: Link2 },\n  ];\n\n  const username = user.username || user.id;\n\n  return (\n    <div className=\"min-h-screen p-4 md:p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n            Calendar\n          </h1>\n          <p style={{ color: 'hsl(var(--muted-foreground))' }}>\n            Manage your scheduling and bookings\n          </p>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            const isActive = activeTab === tab.id;\n\n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-xl whitespace-nowrap transition-colors\"\n                style={{\n                  backgroundColor: isActive ? 'hsl(var(--primary))' : 'transparent',\n                  color: isActive ? 'hsl(var(--primary-foreground))' : 'hsl(var(--muted-foreground))',\n                  border: isActive ? 'none' : '1px solid hsl(var(--border))',\n                }}\n              >\n                <Icon className=\"w-4 h-4\" />\n                {tab.label}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Tab content */}\n        <AnimatePresence mode=\"wait\">\n          {activeTab === 'bookings' && (\n            <motion.div\n              key=\"bookings\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <UpcomingBookings\n                bookings={upcomingBookings}\n                onCancel={async (id) => cancelBooking(id as Id<'bookings'>)}\n                onMarkComplete={async (id) => markCompleted(id as Id<'bookings'>)}\n                onMarkNoShow={async (id) => markNoShow(id as Id<'bookings'>)}\n              />\n            </motion.div>\n          )}\n\n          {activeTab === 'event-types' && (\n            <motion.div\n              key=\"event-types\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              {/* Add event type button */}\n              <div className=\"mb-4\">\n                <button\n                  onClick={() => {\n                    setEditingEventType(null);\n                    setShowEventTypeForm(true);\n                  }}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-xl transition-colors\"\n                  style={{\n                    backgroundColor: 'hsl(var(--primary))',\n                    color: 'hsl(var(--primary-foreground))',\n                  }}\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  New Event Type\n                </button>\n              </div>\n\n              {/* Event types list */}\n              {eventTypes.length === 0 ? (\n                <LiquidGlass className=\"p-8 rounded-2xl text-center\">\n                  <Calendar\n                    className=\"w-12 h-12 mx-auto mb-4 opacity-50\"\n                    style={{ color: 'hsl(var(--muted-foreground))' }}\n                  />\n                  <h3 className=\"font-semibold mb-2\" style={{ color: 'hsl(var(--foreground))' }}>\n                    No event types yet\n                  </h3>\n                  <p className=\"text-sm mb-4\" style={{ color: 'hsl(var(--muted-foreground))' }}>\n                    Create your first event type to start accepting bookings\n                  </p>\n                  <button\n                    onClick={() => setShowEventTypeForm(true)}\n                    className=\"inline-flex items-center gap-2 px-4 py-2 rounded-xl transition-colors\"\n                    style={{\n                      backgroundColor: 'hsl(var(--primary))',\n                      color: 'hsl(var(--primary-foreground))',\n                    }}\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                    Create Event Type\n                  </button>\n                </LiquidGlass>\n              ) : (\n                <div className=\"space-y-4\">\n                  {eventTypes.map((eventType) => (\n                    <EventTypeCard\n                      key={eventType._id}\n                      eventType={eventType}\n                      username={username}\n                      onEdit={(et) => {\n                        setEditingEventType(et);\n                        setShowEventTypeForm(true);\n                      }}\n                      onDelete={handleDeleteEventType}\n                      onToggleActive={handleToggleActive}\n                    />\n                  ))}\n                </div>\n              )}\n            </motion.div>\n          )}\n\n          {activeTab === 'availability' && (\n            <motion.div\n              key=\"availability\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <AvailabilityEditor\n                availability={defaultAvailability}\n                onSave={handleSaveAvailability}\n                timezone={defaultAvailability?.timezone || getUserTimezone()}\n              />\n            </motion.div>\n          )}\n\n          {activeTab === 'integrations' && (\n            <motion.div\n              key=\"integrations\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <GoogleCalendarConnect\n                integration={calendarIntegration}\n                onConnect={connectGoogleCalendar}\n                onDisconnect={disconnectGoogleCalendar}\n                isConnecting={isConnectingGoogle}\n              />\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Event type form modal */}\n        <AnimatePresence>\n          {showEventTypeForm && (\n            <EventTypeForm\n              eventType={editingEventType}\n              onSave={handleSaveEventType}\n              onClose={() => {\n                setShowEventTypeForm(false);\n                setEditingEventType(null);\n              }}\n            />\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n\n// Default export with SSR protection\nexport function CalendarClient() {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Show loading during SSR/initial hydration\n  if (!mounted) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            className=\"text-6xl mb-4\"\n          >\n            \n          </motion.div>\n          <Loader2 className=\"w-8 h-8 mx-auto animate-spin opacity-50\" />\n        </div>\n      </div>\n    );\n  }\n\n  return <CalendarPageContent />;\n}\n"],"names":[],"mappings":"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"}}]
}