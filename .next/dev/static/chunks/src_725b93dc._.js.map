{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/hooks/useChatThreads.ts"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useEffect } from 'react';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface ChatThread {\n  id: string;\n  title: string;\n  messages: Array<{\n    id: string;\n    role: 'user' | 'assistant';\n    content: string;\n    timestamp: number;\n  }>;\n  createdAt: number;\n  lastModified: number;\n}\n\n// ============================================================================\n// Storage\n// ============================================================================\n\nconst STORAGE_KEY = 'openclaw_chat_threads';\nconst ACTIVE_THREAD_KEY = 'openclaw_active_thread';\n\nfunction generateId(): string {\n  return `thread_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n}\n\nfunction generateMessageId(): string {\n  return `msg_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n}\n\nfunction generateTitle(messages: ChatThread['messages']): string {\n  // Get first user message for title\n  const firstUserMessage = messages.find(m => m.role === 'user');\n  if (firstUserMessage) {\n    const words = firstUserMessage.content.split(' ').slice(0, 6).join(' ');\n    return words.length < firstUserMessage.content.length ? `${words}...` : words;\n  }\n  return 'New conversation';\n}\n\n// ============================================================================\n// Hook\n// ============================================================================\n\nexport function useChatThreads() {\n  const [threads, setThreads] = useState<ChatThread[]>([]);\n  const [activeThreadId, setActiveThreadId] = useState<string | null>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      const savedThreads = localStorage.getItem(STORAGE_KEY);\n      const savedActiveId = localStorage.getItem(ACTIVE_THREAD_KEY);\n\n      if (savedThreads) {\n        const parsed = JSON.parse(savedThreads) as ChatThread[];\n        setThreads(parsed);\n\n        // Set active thread\n        if (savedActiveId && parsed.some(t => t.id === savedActiveId)) {\n          setActiveThreadId(savedActiveId);\n        } else if (parsed.length > 0) {\n          setActiveThreadId(parsed[0].id);\n        }\n      }\n    } catch (e) {\n      console.error('Failed to load chat threads:', e);\n    }\n    setIsLoaded(true);\n  }, []);\n\n  // Save to localStorage on changes\n  useEffect(() => {\n    if (!isLoaded) return;\n\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(threads));\n      if (activeThreadId) {\n        localStorage.setItem(ACTIVE_THREAD_KEY, activeThreadId);\n      }\n    } catch (e) {\n      console.error('Failed to save chat threads:', e);\n    }\n  }, [threads, activeThreadId, isLoaded]);\n\n  // Get active thread\n  const activeThread = threads.find(t => t.id === activeThreadId) || null;\n\n  // Create new thread\n  const createThread = useCallback((): ChatThread => {\n    const newThread: ChatThread = {\n      id: generateId(),\n      title: 'New conversation',\n      messages: [],\n      createdAt: Date.now(),\n      lastModified: Date.now(),\n    };\n\n    setThreads(prev => [newThread, ...prev]);\n    setActiveThreadId(newThread.id);\n\n    return newThread;\n  }, []);\n\n  // Switch to thread\n  const switchThread = useCallback((threadId: string) => {\n    if (threads.some(t => t.id === threadId)) {\n      setActiveThreadId(threadId);\n    }\n  }, [threads]);\n\n  // Delete thread\n  const deleteThread = useCallback((threadId: string) => {\n    setThreads(prev => {\n      const filtered = prev.filter(t => t.id !== threadId);\n\n      // If we deleted the active thread, switch to another\n      if (activeThreadId === threadId) {\n        if (filtered.length > 0) {\n          setActiveThreadId(filtered[0].id);\n        } else {\n          setActiveThreadId(null);\n        }\n      }\n\n      return filtered;\n    });\n  }, [activeThreadId]);\n\n  // Add message to active thread\n  const addMessage = useCallback((\n    role: 'user' | 'assistant',\n    content: string\n  ) => {\n    if (!activeThreadId) return null;\n\n    const message = {\n      id: generateMessageId(),\n      role,\n      content,\n      timestamp: Date.now(),\n    };\n\n    setThreads(prev => prev.map(thread => {\n      if (thread.id !== activeThreadId) return thread;\n\n      const updatedMessages = [...thread.messages, message];\n      return {\n        ...thread,\n        messages: updatedMessages,\n        title: thread.messages.length === 0 && role === 'user'\n          ? generateTitle([message])\n          : thread.title,\n        lastModified: Date.now(),\n      };\n    }));\n\n    return message;\n  }, [activeThreadId]);\n\n  // Clear active thread messages\n  const clearActiveThread = useCallback(() => {\n    if (!activeThreadId) return;\n\n    setThreads(prev => prev.map(thread => {\n      if (thread.id !== activeThreadId) return thread;\n      return {\n        ...thread,\n        messages: [],\n        title: 'New conversation',\n        lastModified: Date.now(),\n      };\n    }));\n  }, [activeThreadId]);\n\n  // Get messages for active thread\n  const getMessages = useCallback(() => {\n    return activeThread?.messages || [];\n  }, [activeThread]);\n\n  // Ensure a thread exists (create one if none)\n  const ensureThread = useCallback(() => {\n    if (threads.length === 0 || !activeThreadId) {\n      return createThread();\n    }\n    return activeThread;\n  }, [threads.length, activeThreadId, createThread, activeThread]);\n\n  return {\n    threads,\n    activeThread,\n    activeThreadId,\n    isLoaded,\n    createThread,\n    switchThread,\n    deleteThread,\n    addMessage,\n    clearActiveThread,\n    getMessages,\n    ensureThread,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/claw-ai/ChatThreadsSidebar.tsx"],"sourcesContent":["'use client';\n\nimport { motion, AnimatePresence, PanInfo } from 'framer-motion';\nimport { Plus, MessageSquare, Trash2, X } from 'lucide-react';\nimport { ChatThread } from '@/hooks/useChatThreads';\nimport '@/lib/themes/themes.css';\n\ninterface ChatThreadsSidebarProps {\n  isOpen: boolean;\n  onClose: () => void;\n  threads: ChatThread[];\n  activeThreadId: string | null;\n  onNewThread: () => void;\n  onSelectThread: (threadId: string) => void;\n  onDeleteThread: (threadId: string) => void;\n}\n\nfunction formatTimeAgo(timestamp: number): string {\n  const now = Date.now();\n  const diff = now - timestamp;\n\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n  const days = Math.floor(diff / 86400000);\n\n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m ago`;\n  if (hours < 24) return `${hours}h ago`;\n  if (days < 7) return `${days}d ago`;\n\n  return new Date(timestamp).toLocaleDateString();\n}\n\nexport function ChatThreadsSidebar({\n  isOpen,\n  onClose,\n  threads,\n  activeThreadId,\n  onNewThread,\n  onSelectThread,\n  onDeleteThread,\n}: ChatThreadsSidebarProps) {\n  const handleDragEnd = (_: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (info.offset.x < -100 || info.velocity.x < -500) {\n      onClose();\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            onClick={onClose}\n            className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40\"\n          />\n\n          {/* Sidebar */}\n          <motion.div\n            initial={{ x: '-100%' }}\n            animate={{ x: 0 }}\n            exit={{ x: '-100%' }}\n            transition={{ type: 'spring', damping: 30, stiffness: 300 }}\n            drag=\"x\"\n            dragConstraints={{ left: 0, right: 0 }}\n            dragElastic={{ left: 0.2, right: 0 }}\n            onDragEnd={handleDragEnd}\n            className=\"fixed inset-y-0 left-0 w-80 max-w-[85vw] z-50 flex flex-col touch-none\"\n            style={{\n              background: 'hsl(var(--theme-background))',\n              borderRight: '1px solid hsl(var(--theme-border))',\n              paddingTop: 'env(safe-area-inset-top, 0px)',\n              paddingBottom: 'env(safe-area-inset-bottom, 0px)',\n            }}\n          >\n            {/* Header */}\n            <div\n              className=\"flex items-center justify-between px-4 py-4\"\n              style={{ borderBottom: '1px solid hsl(var(--theme-border))' }}\n            >\n              <h2\n                className=\"text-lg font-semibold\"\n                style={{ color: 'hsl(var(--theme-foreground))' }}\n              >\n                Conversations\n              </h2>\n              <button\n                onClick={onClose}\n                className=\"p-2 rounded-full transition-colors\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* New Chat Button */}\n            <div className=\"px-3 py-3\">\n              <button\n                onClick={() => {\n                  onNewThread();\n                  onClose();\n                }}\n                className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)), hsl(var(--theme-accent)))',\n                  color: 'hsl(var(--theme-primary-foreground))',\n                  boxShadow: '0 4px 15px hsl(var(--theme-primary) / 0.3)',\n                }}\n              >\n                <Plus className=\"w-5 h-5\" />\n                <span className=\"font-medium\">New conversation</span>\n              </button>\n            </div>\n\n            {/* Thread List */}\n            <div className=\"flex-1 overflow-y-auto px-3 pb-3\">\n              {threads.length === 0 ? (\n                <div\n                  className=\"text-center py-8 px-4\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  <MessageSquare className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                  <p className=\"text-sm\">No conversations yet</p>\n                  <p className=\"text-xs mt-1 opacity-70\">\n                    Start a new conversation to get going\n                  </p>\n                </div>\n              ) : (\n                <div className=\"space-y-1\">\n                  {threads.map((thread) => (\n                    <motion.div\n                      key={thread.id}\n                      layout\n                      initial={{ opacity: 0, y: 10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      className=\"group relative\"\n                    >\n                      <button\n                        onClick={() => {\n                          onSelectThread(thread.id);\n                          onClose();\n                        }}\n                        className=\"w-full text-left px-4 py-3 rounded-xl transition-all\"\n                        style={{\n                          background: thread.id === activeThreadId\n                            ? 'hsl(var(--theme-primary) / 0.15)'\n                            : 'transparent',\n                          borderLeft: thread.id === activeThreadId\n                            ? '3px solid hsl(var(--theme-primary))'\n                            : '3px solid transparent',\n                        }}\n                      >\n                        <div className=\"flex items-start gap-3\">\n                          <MessageSquare\n                            className=\"w-4 h-4 mt-0.5 flex-shrink-0\"\n                            style={{\n                              color: thread.id === activeThreadId\n                                ? 'hsl(var(--theme-primary))'\n                                : 'hsl(var(--theme-muted-foreground))',\n                            }}\n                          />\n                          <div className=\"flex-1 min-w-0\">\n                            <p\n                              className=\"text-sm font-medium truncate\"\n                              style={{\n                                color: thread.id === activeThreadId\n                                  ? 'hsl(var(--theme-foreground))'\n                                  : 'hsl(var(--theme-card-foreground))',\n                              }}\n                            >\n                              {thread.title}\n                            </p>\n                            <p\n                              className=\"text-xs mt-0.5\"\n                              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                            >\n                              {thread.messages.length} message{thread.messages.length !== 1 ? 's' : ''} Â· {formatTimeAgo(thread.lastModified)}\n                            </p>\n                          </div>\n                        </div>\n                      </button>\n\n                      {/* Delete button (on hover/focus) */}\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          onDeleteThread(thread.id);\n                        }}\n                        className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-lg opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity\"\n                        style={{\n                          background: 'hsl(var(--theme-muted))',\n                          color: 'hsl(var(--theme-muted-foreground))',\n                        }}\n                        aria-label=\"Delete conversation\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            <div\n              className=\"px-4 py-3 text-center\"\n              style={{\n                borderTop: '1px solid hsl(var(--theme-border))',\n                color: 'hsl(var(--theme-muted-foreground))',\n              }}\n            >\n              <p className=\"text-xs\">\n                {threads.length} conversation{threads.length !== 1 ? 's' : ''}\n              </p>\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/claw-ai/slash-command-registry.ts"],"sourcesContent":["/**\n * Slash Command Registry - Comprehensive command system for Claw AI Chat\n *\n * Exposes all tools, skills, dimensions, and context as / commands and @ references\n */\n\nimport {\n  Search,\n  Compass,\n  Calendar,\n  FileText,\n  Brain,\n  Code,\n  Layers,\n  Palette,\n  Music,\n  Terminal,\n  GitBranch,\n  MessageSquare,\n  Video,\n  Zap,\n  Settings,\n  HelpCircle,\n  Sparkles,\n  Target,\n  Clock,\n  LayoutGrid,\n  Table,\n  LineChart,\n  List,\n  Users,\n  BookOpen,\n  Shield,\n  Cpu,\n  Image,\n  Mic,\n  Play,\n  Globe,\n  Folder,\n  Database,\n  Bot,\n  Wand2,\n  PenTool,\n  Eye,\n  Accessibility,\n  Smartphone,\n  Move3D,\n  Boxes,\n  FlaskConical,\n  type LucideIcon,\n} from 'lucide-react';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type CommandCategory =\n  | 'navigation'\n  | 'tools'\n  | 'skills'\n  | 'dimensions'\n  | 'context'\n  | 'media'\n  | 'code'\n  | 'memory'\n  | 'product'\n  | 'quick';\n\nexport interface SlashCommand {\n  /** Command name without the leading slash */\n  name: string;\n  /** Aliases that also trigger this command */\n  aliases?: string[];\n  /** Human-readable label */\n  label: string;\n  /** Description shown in picker */\n  description: string;\n  /** Category for grouping */\n  category: CommandCategory;\n  /** Icon component */\n  icon: LucideIcon;\n  /** Color for the icon */\n  color: string;\n  /** If true, only available to owner */\n  ownerOnly?: boolean;\n  /** If the command takes a parameter, describe it */\n  parameter?: {\n    name: string;\n    description: string;\n    required?: boolean;\n    type: 'text' | 'select' | 'reference';\n    options?: string[];\n  };\n  /** The actual tool name to call (if different from name) */\n  toolName?: string;\n  /** For navigation commands, the destination */\n  destination?: string;\n  /** For context commands, the context type to insert */\n  contextType?: string;\n}\n\n// ============================================================================\n// Navigation Commands\n// ============================================================================\n\nexport const NAVIGATION_COMMANDS: SlashCommand[] = [\n  {\n    name: 'home',\n    aliases: ['start', 'main'],\n    label: 'Home',\n    description: 'Go to the home screen',\n    category: 'navigation',\n    icon: Compass,\n    color: '#f59e0b',\n    destination: '/',\n  },\n  {\n    name: 'chat',\n    label: 'Chat',\n    description: 'Open full chat interface',\n    category: 'navigation',\n    icon: MessageSquare,\n    color: '#3b82f6',\n    destination: '/chat',\n  },\n  {\n    name: 'canvas',\n    aliases: ['design-canvas'],\n    label: 'Design Canvas',\n    description: 'Open the infinite design canvas',\n    category: 'navigation',\n    icon: LayoutGrid,\n    color: '#10b981',\n    destination: '/canvas',\n  },\n  {\n    name: 'projects',\n    aliases: ['kanban', 'tasks'],\n    label: 'Projects',\n    description: 'View projects and kanban board',\n    category: 'navigation',\n    icon: Layers,\n    color: '#8b5cf6',\n    destination: '/projects',\n  },\n  {\n    name: 'design',\n    aliases: ['themes'],\n    label: 'Design Themes',\n    description: 'Explore 50+ design themes',\n    category: 'navigation',\n    icon: Palette,\n    color: '#ec4899',\n    destination: '/design',\n  },\n  {\n    name: 'resume',\n    aliases: ['cv', 'about'],\n    label: 'Resume',\n    description: 'View James\\'s resume',\n    category: 'navigation',\n    icon: FileText,\n    color: '#6366f1',\n    destination: '/resume',\n  },\n  {\n    name: 'music',\n    aliases: ['jamz', 'tracks'],\n    label: 'Music',\n    description: 'Listen to music and tracks',\n    category: 'navigation',\n    icon: Music,\n    color: '#ef4444',\n    destination: '/music',\n  },\n  {\n    name: 'video',\n    aliases: ['studio'],\n    label: 'Video Studio',\n    description: 'Create and edit videos',\n    category: 'navigation',\n    icon: Video,\n    color: '#f97316',\n    destination: '/video',\n  },\n  {\n    name: 'agent',\n    aliases: ['infinity', 'coding'],\n    label: 'Agent',\n    description: 'Open the coding agent',\n    category: 'navigation',\n    icon: Bot,\n    color: '#14b8a6',\n    destination: '/agent',\n    ownerOnly: true,\n  },\n  {\n    name: 'memory',\n    aliases: ['memories'],\n    label: 'Memory Control',\n    description: 'View and manage AI memories',\n    category: 'navigation',\n    icon: Brain,\n    color: '#a855f7',\n    destination: '/memory',\n    ownerOnly: true,\n  },\n  {\n    name: 'settings',\n    label: 'Settings',\n    description: 'Open settings',\n    category: 'navigation',\n    icon: Settings,\n    color: '#6b7280',\n    destination: '/settings',\n    ownerOnly: true,\n  },\n];\n\n// ============================================================================\n// Tool Commands (mapped from CLAW_AI_TOOLS)\n// ============================================================================\n\nexport const TOOL_COMMANDS: SlashCommand[] = [\n  // Search & Discovery\n  {\n    name: 'search',\n    aliases: ['find', 'lookup'],\n    label: 'Search Portfolio',\n    description: 'Search projects, skills, and experience',\n    category: 'tools',\n    icon: Search,\n    color: '#3b82f6',\n    toolName: 'search_portfolio',\n    parameter: {\n      name: 'query',\n      description: 'What to search for',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'weather',\n    label: 'Weather',\n    description: 'Show weather widget',\n    category: 'tools',\n    icon: Globe,\n    color: '#0ea5e9',\n    toolName: 'show_weather',\n    parameter: {\n      name: 'location',\n      description: 'Location (default: San Francisco)',\n      type: 'text',\n    },\n  },\n  {\n    name: 'photos',\n    aliases: ['gallery', 'images'],\n    label: 'Photos',\n    description: 'Show photo gallery',\n    category: 'tools',\n    icon: Image,\n    color: '#f472b6',\n    toolName: 'show_photos',\n  },\n\n  // Scheduling\n  {\n    name: 'schedule',\n    aliases: ['book', 'meeting'],\n    label: 'Schedule Call',\n    description: 'Schedule a call with James',\n    category: 'tools',\n    icon: Calendar,\n    color: '#22c55e',\n    toolName: 'schedule_call',\n    parameter: {\n      name: 'topic',\n      description: 'Topic for the call',\n      type: 'text',\n    },\n  },\n  {\n    name: 'availability',\n    aliases: ['times', 'free'],\n    label: 'Check Availability',\n    description: 'See available meeting times',\n    category: 'tools',\n    icon: Clock,\n    color: '#22c55e',\n    toolName: 'get_available_times',\n    parameter: {\n      name: 'date',\n      description: 'Date to check (YYYY-MM-DD)',\n      type: 'text',\n    },\n  },\n\n  // Memory\n  {\n    name: 'remember',\n    aliases: ['recall'],\n    label: 'Remember',\n    description: 'Search AI memories',\n    category: 'memory',\n    icon: Brain,\n    color: '#a855f7',\n    toolName: 'remember',\n    parameter: {\n      name: 'query',\n      description: 'What to remember',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'memorize',\n    aliases: ['store'],\n    label: 'Memorize',\n    description: 'Store a new memory',\n    category: 'memory',\n    icon: Brain,\n    color: '#a855f7',\n    toolName: 'memorize',\n    ownerOnly: true,\n    parameter: {\n      name: 'content',\n      description: 'Memory content',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'learn',\n    label: 'Learn',\n    description: 'Teach AI a new fact',\n    category: 'memory',\n    icon: BookOpen,\n    color: '#a855f7',\n    toolName: 'learn',\n    ownerOnly: true,\n    parameter: {\n      name: 'knowledge',\n      description: 'What to learn',\n      required: true,\n      type: 'text',\n    },\n  },\n\n  // Product Lifecycle\n  {\n    name: 'project',\n    aliases: ['new-project'],\n    label: 'Create Project',\n    description: 'Create a new product project',\n    category: 'product',\n    icon: Layers,\n    color: '#8b5cf6',\n    toolName: 'create_project',\n    ownerOnly: true,\n    parameter: {\n      name: 'name',\n      description: 'Project name',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'prd',\n    aliases: ['spec', 'requirements'],\n    label: 'Create PRD',\n    description: 'Create Product Requirements Document',\n    category: 'product',\n    icon: FileText,\n    color: '#ec4899',\n    toolName: 'create_prd',\n    ownerOnly: true,\n    parameter: {\n      name: 'title',\n      description: 'PRD title',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'ticket',\n    aliases: ['story', 'task'],\n    label: 'Create Ticket',\n    description: 'Create BMAD user story ticket',\n    category: 'product',\n    icon: Target,\n    color: '#f59e0b',\n    toolName: 'create_ticket',\n    ownerOnly: true,\n    parameter: {\n      name: 'title',\n      description: 'Ticket title',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'kanban',\n    aliases: ['board'],\n    label: 'Show Kanban',\n    description: 'Display kanban board',\n    category: 'product',\n    icon: LayoutGrid,\n    color: '#3b82f6',\n    toolName: 'show_kanban_tasks',\n    parameter: {\n      name: 'filter',\n      description: 'Status filter',\n      type: 'select',\n      options: ['all', 'todo', 'in-progress', 'done', 'backlog'],\n    },\n  },\n\n  // Code & Execution\n  {\n    name: 'clone',\n    aliases: ['repo'],\n    label: 'Clone Repository',\n    description: 'Clone a git repository',\n    category: 'code',\n    icon: GitBranch,\n    color: '#6366f1',\n    toolName: 'clone_repository',\n    ownerOnly: true,\n    parameter: {\n      name: 'url',\n      description: 'Repository URL',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'run',\n    aliases: ['exec', 'cmd'],\n    label: 'Run Command',\n    description: 'Execute a shell command',\n    category: 'code',\n    icon: Terminal,\n    color: '#22c55e',\n    toolName: 'run_command',\n    ownerOnly: true,\n    parameter: {\n      name: 'command',\n      description: 'Command to run',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'read',\n    aliases: ['cat', 'view'],\n    label: 'Read File',\n    description: 'Read a file\\'s contents',\n    category: 'code',\n    icon: FileText,\n    color: '#6366f1',\n    toolName: 'read_file',\n    ownerOnly: true,\n    parameter: {\n      name: 'path',\n      description: 'File path',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'write',\n    aliases: ['save'],\n    label: 'Write File',\n    description: 'Write content to a file',\n    category: 'code',\n    icon: PenTool,\n    color: '#6366f1',\n    toolName: 'write_file',\n    ownerOnly: true,\n    parameter: {\n      name: 'path',\n      description: 'File path',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'search-code',\n    aliases: ['grep'],\n    label: 'Search Codebase',\n    description: 'Search code with regex',\n    category: 'code',\n    icon: Code,\n    color: '#6366f1',\n    toolName: 'search_codebase',\n    ownerOnly: true,\n    parameter: {\n      name: 'pattern',\n      description: 'Search pattern',\n      required: true,\n      type: 'text',\n    },\n  },\n\n  // Media Generation\n  {\n    name: 'generate',\n    aliases: ['create', 'ai'],\n    label: 'Generate',\n    description: 'AI generation on canvas',\n    category: 'media',\n    icon: Sparkles,\n    color: '#f59e0b',\n    toolName: 'generate_on_canvas',\n    parameter: {\n      name: 'prompt',\n      description: 'Generation prompt',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'video-create',\n    aliases: ['render'],\n    label: 'Create Video',\n    description: 'Create a video composition',\n    category: 'media',\n    icon: Video,\n    color: '#f97316',\n    toolName: 'create_video_composition',\n    ownerOnly: true,\n    parameter: {\n      name: 'name',\n      description: 'Video name',\n      required: true,\n      type: 'text',\n    },\n  },\n  {\n    name: 'tts',\n    aliases: ['speak', 'voice'],\n    label: 'Text to Speech',\n    description: 'Generate speech from text',\n    category: 'media',\n    icon: Mic,\n    color: '#22c55e',\n    toolName: 'generate_voice',\n    parameter: {\n      name: 'text',\n      description: 'Text to speak',\n      required: true,\n      type: 'text',\n    },\n  },\n\n  // Channels & Messaging\n  {\n    name: 'message',\n    aliases: ['send'],\n    label: 'Send Message',\n    description: 'Send a channel message',\n    category: 'tools',\n    icon: MessageSquare,\n    color: '#3b82f6',\n    toolName: 'send_channel_message',\n    ownerOnly: true,\n    parameter: {\n      name: 'content',\n      description: 'Message content',\n      required: true,\n      type: 'text',\n    },\n  },\n\n  // Utility\n  {\n    name: 'ui',\n    aliases: ['render'],\n    label: 'Render UI',\n    description: 'Render custom UI components',\n    category: 'tools',\n    icon: Boxes,\n    color: '#8b5cf6',\n    toolName: 'render_ui',\n  },\n  {\n    name: 'cron',\n    aliases: ['schedule-job'],\n    label: 'Create Cron Job',\n    description: 'Create a scheduled job',\n    category: 'tools',\n    icon: Clock,\n    color: '#f59e0b',\n    toolName: 'create_cron_job',\n    ownerOnly: true,\n    parameter: {\n      name: 'expression',\n      description: 'Cron expression',\n      required: true,\n      type: 'text',\n    },\n  },\n];\n\n// ============================================================================\n// Skill Commands (from .claude/skills/)\n// ============================================================================\n\nexport const SKILL_COMMANDS: SlashCommand[] = [\n  // Design Skills\n  {\n    name: 'skill-design',\n    aliases: ['design-excellence'],\n    label: 'Design Excellence',\n    description: 'High-impact interface design principles',\n    category: 'skills',\n    icon: Palette,\n    color: '#ec4899',\n    contextType: 'skill:design-excellence',\n  },\n  {\n    name: 'skill-ui',\n    aliases: ['ui-constraints'],\n    label: 'UI Constraints',\n    description: 'Opinionated UI guidelines (Tailwind, no gradients)',\n    category: 'skills',\n    icon: PenTool,\n    color: '#ec4899',\n    contextType: 'skill:ui',\n  },\n  {\n    name: 'skill-interface',\n    aliases: ['interface-craft'],\n    label: 'Interface Craft',\n    description: 'Intentional design: clarity, structure, beauty',\n    category: 'skills',\n    icon: Wand2,\n    color: '#ec4899',\n    contextType: 'skill:interface-craft',\n  },\n  {\n    name: 'skill-motion',\n    aliases: ['animation'],\n    label: 'Motion Design',\n    description: 'Animation principles: 100-500ms timing, easing',\n    category: 'skills',\n    icon: Play,\n    color: '#f97316',\n    contextType: 'skill:motion-design',\n  },\n  {\n    name: 'skill-ios',\n    aliases: ['ios-hig'],\n    label: 'iOS Excellence',\n    description: 'iOS HIG patterns: SF Pro, 8pt grid, haptics',\n    category: 'skills',\n    icon: Smartphone,\n    color: '#3b82f6',\n    contextType: 'skill:ios-excellence',\n  },\n  {\n    name: 'skill-a11y',\n    aliases: ['accessibility'],\n    label: 'Accessibility Review',\n    description: 'A11y QA: keyboard, screen reader, contrast',\n    category: 'skills',\n    icon: Accessibility,\n    color: '#22c55e',\n    contextType: 'skill:accessibility-review',\n  },\n\n  // Development Skills\n  {\n    name: 'skill-react',\n    aliases: ['vercel-best-practices'],\n    label: 'React Best Practices',\n    description: '45+ performance rules across 8 priority tiers',\n    category: 'skills',\n    icon: Code,\n    color: '#3b82f6',\n    contextType: 'skill:vercel-react-best-practices',\n  },\n  {\n    name: 'skill-threejs',\n    aliases: ['3d'],\n    label: 'Three.js Excellence',\n    description: '3D excellence: 7 gallery types, shaders',\n    category: 'skills',\n    icon: Move3D,\n    color: '#8b5cf6',\n    contextType: 'skill:threejs',\n  },\n  {\n    name: 'skill-browser',\n    aliases: ['automation'],\n    label: 'Browser Automation',\n    description: 'Navigation, clicks, forms, screenshots',\n    category: 'skills',\n    icon: Globe,\n    color: '#6366f1',\n    contextType: 'skill:agent-browser',\n  },\n  {\n    name: 'skill-clone',\n    aliases: ['extract'],\n    label: 'Clone React',\n    description: 'Visual component extraction from websites',\n    category: 'skills',\n    icon: Eye,\n    color: '#6366f1',\n    contextType: 'skill:clone-react',\n  },\n\n  // Security & Research\n  {\n    name: 'skill-security',\n    aliases: ['0din', 'red-team'],\n    label: 'Security Research',\n    description: 'AI safety & red teaming with JEF scoring',\n    category: 'skills',\n    icon: Shield,\n    color: '#ef4444',\n    contextType: 'skill:0din-security-research',\n    ownerOnly: true,\n  },\n  {\n    name: 'skill-science',\n    aliases: ['scientific'],\n    label: 'Scientific Skills',\n    description: 'K-Dense: 139 scientific skills',\n    category: 'skills',\n    icon: FlaskConical,\n    color: '#14b8a6',\n    contextType: 'skill:scientific-skills',\n  },\n\n  // Project Management\n  {\n    name: 'skill-pm',\n    aliases: ['project-management'],\n    label: 'Project Management',\n    description: 'GitHub workflow & Kanban methodology',\n    category: 'skills',\n    icon: Target,\n    color: '#f59e0b',\n    contextType: 'skill:project-management',\n  },\n  {\n    name: 'skill-web-design',\n    aliases: ['web-guidelines'],\n    label: 'Web Design Guidelines',\n    description: 'Web design standards and patterns',\n    category: 'skills',\n    icon: Globe,\n    color: '#ec4899',\n    contextType: 'skill:web-design-guidelines',\n  },\n  {\n    name: 'skill-remotion',\n    aliases: ['video-export'],\n    label: 'Remotion Video',\n    description: 'Video export integration',\n    category: 'skills',\n    icon: Video,\n    color: '#f97316',\n    contextType: 'skill:remotion-video-exports',\n  },\n  {\n    name: 'skill-actionbook',\n    aliases: ['web-automation'],\n    label: 'Actionbook Automation',\n    description: 'Web automation patterns',\n    category: 'skills',\n    icon: Zap,\n    color: '#a855f7',\n    contextType: 'skill:actionbook-web-automation',\n  },\n];\n\n// ============================================================================\n// Dimension Commands (ERV Arrangements)\n// ============================================================================\n\nexport const DIMENSION_COMMANDS: SlashCommand[] = [\n  {\n    name: 'dim-kanban',\n    label: 'Kanban View',\n    description: 'View data as kanban board with status columns',\n    category: 'dimensions',\n    icon: LayoutGrid,\n    color: '#3b82f6',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:kanban',\n  },\n  {\n    name: 'dim-timeline',\n    label: 'Timeline View',\n    description: 'View data chronologically on a timeline',\n    category: 'dimensions',\n    icon: Clock,\n    color: '#22c55e',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:timeline',\n  },\n  {\n    name: 'dim-graph',\n    label: 'Graph View',\n    description: 'View data as connected nodes',\n    category: 'dimensions',\n    icon: Cpu,\n    color: '#8b5cf6',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:graph',\n  },\n  {\n    name: 'dim-table',\n    label: 'Table View',\n    description: 'View data in a sortable table',\n    category: 'dimensions',\n    icon: Table,\n    color: '#6b7280',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:table',\n  },\n  {\n    name: 'dim-feed',\n    label: 'Feed View',\n    description: 'View data as a scrollable feed',\n    category: 'dimensions',\n    icon: List,\n    color: '#f59e0b',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:feed',\n  },\n  {\n    name: 'dim-calendar',\n    label: 'Calendar View',\n    description: 'View data on a calendar',\n    category: 'dimensions',\n    icon: Calendar,\n    color: '#ef4444',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:calendar',\n  },\n  {\n    name: 'dim-cards',\n    label: 'Cards View',\n    description: 'View data as visual cards',\n    category: 'dimensions',\n    icon: Boxes,\n    color: '#ec4899',\n    toolName: 'navigate_dimension',\n    contextType: 'dimension:cards',\n  },\n];\n\n// ============================================================================\n// Quick Action Commands\n// ============================================================================\n\nexport const QUICK_COMMANDS: SlashCommand[] = [\n  {\n    name: 'help',\n    aliases: ['?', 'commands'],\n    label: 'Help',\n    description: 'Show all available commands',\n    category: 'quick',\n    icon: HelpCircle,\n    color: '#6b7280',\n  },\n  {\n    name: 'clear',\n    aliases: ['reset'],\n    label: 'Clear Chat',\n    description: 'Clear the current conversation',\n    category: 'quick',\n    icon: Trash2,\n    color: '#ef4444',\n  },\n  {\n    name: 'voice',\n    aliases: ['tts-toggle'],\n    label: 'Toggle Voice',\n    description: 'Toggle voice responses on/off',\n    category: 'quick',\n    icon: Mic,\n    color: '#22c55e',\n  },\n  {\n    name: 'new',\n    aliases: ['new-chat'],\n    label: 'New Thread',\n    description: 'Start a new conversation',\n    category: 'quick',\n    icon: MessageSquare,\n    color: '#3b82f6',\n  },\n];\n\n// Import Trash2 for clear command\nimport { Trash2 } from 'lucide-react';\n\n// ============================================================================\n// Combined Registry\n// ============================================================================\n\nexport const ALL_SLASH_COMMANDS: SlashCommand[] = [\n  ...QUICK_COMMANDS,\n  ...NAVIGATION_COMMANDS,\n  ...TOOL_COMMANDS,\n  ...SKILL_COMMANDS,\n  ...DIMENSION_COMMANDS,\n];\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\n/**\n * Search commands by query string\n */\nexport function searchCommands(\n  query: string,\n  options?: {\n    categories?: CommandCategory[];\n    includeOwnerOnly?: boolean;\n  }\n): SlashCommand[] {\n  const normalizedQuery = query.toLowerCase().replace(/^\\//, '');\n\n  let commands = ALL_SLASH_COMMANDS;\n\n  // Filter by owner-only\n  if (!options?.includeOwnerOnly) {\n    commands = commands.filter((cmd) => !cmd.ownerOnly);\n  }\n\n  // Filter by categories\n  if (options?.categories?.length) {\n    commands = commands.filter((cmd) => options.categories!.includes(cmd.category));\n  }\n\n  // No query? Return all matching commands\n  if (!normalizedQuery) {\n    return commands.slice(0, 20);\n  }\n\n  // Search by name, aliases, and label\n  return commands.filter((cmd) => {\n    const matchesName = cmd.name.toLowerCase().includes(normalizedQuery);\n    const matchesAlias = cmd.aliases?.some((a) => a.toLowerCase().includes(normalizedQuery));\n    const matchesLabel = cmd.label.toLowerCase().includes(normalizedQuery);\n    const matchesDescription = cmd.description.toLowerCase().includes(normalizedQuery);\n    return matchesName || matchesAlias || matchesLabel || matchesDescription;\n  });\n}\n\n/**\n * Get a command by exact name or alias\n */\nexport function getCommand(name: string): SlashCommand | undefined {\n  const normalizedName = name.toLowerCase().replace(/^\\//, '');\n  return ALL_SLASH_COMMANDS.find(\n    (cmd) =>\n      cmd.name === normalizedName || cmd.aliases?.includes(normalizedName)\n  );\n}\n\n/**\n * Get commands grouped by category\n */\nexport function getCommandsByCategory(\n  includeOwnerOnly = false\n): Record<CommandCategory, SlashCommand[]> {\n  const commands = includeOwnerOnly\n    ? ALL_SLASH_COMMANDS\n    : ALL_SLASH_COMMANDS.filter((cmd) => !cmd.ownerOnly);\n\n  return commands.reduce(\n    (acc, cmd) => {\n      if (!acc[cmd.category]) {\n        acc[cmd.category] = [];\n      }\n      acc[cmd.category].push(cmd);\n      return acc;\n    },\n    {} as Record<CommandCategory, SlashCommand[]>\n  );\n}\n\n/**\n * Category labels for display\n */\nexport const CATEGORY_LABELS: Record<CommandCategory, string> = {\n  quick: 'Quick Actions',\n  navigation: 'Navigation',\n  tools: 'Tools',\n  skills: 'Skills',\n  dimensions: 'Dimensions',\n  context: 'Context',\n  media: 'Media',\n  code: 'Code & Execution',\n  memory: 'Memory',\n  product: 'Product Lifecycle',\n};\n\n/**\n * Category colors for display\n */\nexport const CATEGORY_COLORS: Record<CommandCategory, string> = {\n  quick: '#6b7280',\n  navigation: '#f59e0b',\n  tools: '#3b82f6',\n  skills: '#8b5cf6',\n  dimensions: '#10b981',\n  context: '#ec4899',\n  media: '#f97316',\n  code: '#6366f1',\n  memory: '#a855f7',\n  product: '#22c55e',\n};\n\n/**\n * Format a command for display in the picker\n */\nexport function formatCommandPreview(cmd: SlashCommand): string {\n  let preview = `/${cmd.name}`;\n  if (cmd.parameter) {\n    preview += cmd.parameter.required\n      ? ` <${cmd.parameter.name}>`\n      : ` [${cmd.parameter.name}]`;\n  }\n  return preview;\n}\n\n/**\n * Parse a command string into command + arguments\n */\nexport function parseCommandString(input: string): {\n  command: SlashCommand | undefined;\n  args: string;\n} {\n  const match = input.match(/^\\/(\\S+)(?:\\s+(.*))?$/);\n  if (!match) {\n    return { command: undefined, args: '' };\n  }\n\n  const [, cmdName, args = ''] = match;\n  const command = getCommand(cmdName);\n\n  return { command, args: args.trim() };\n}\n\nexport default ALL_SLASH_COMMANDS;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1675, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/design-canvas/ContextReferencePicker.tsx"],"sourcesContent":["'use client';\n\n/**\n * ContextReferencePicker - Allows users to pull in context from their data layer\n *\n * Triggered by @ in text input, shows searchable list of:\n * - Tickets (@ticket:)\n * - PRDs (@prd:)\n * - Projects (@project:)\n * - Tasks (@task:)\n * - Canvas (@canvas:)\n * - Memories (@memory:)\n * - Tracks/Lyrics (@track:)\n */\n\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useQuery } from '@/lib/openclaw/hooks';\nimport { api } from '@/lib/convex-shim';\nimport {\n  Search,\n  FileText,\n  Layers,\n  CheckSquare,\n  Music,\n  Brain,\n  LayoutGrid,\n  Target,\n  Ticket,\n  Hash,\n  Sparkles,\n  Eye,\n  Wrench,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport type { ReferenceType, ContextReference } from '@/lib/canvas/artifacts';\nimport {\n  SKILL_COMMANDS,\n  DIMENSION_COMMANDS,\n  TOOL_COMMANDS,\n} from '@/lib/claw-ai/slash-command-registry';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface ReferenceCategory {\n  type: ReferenceType;\n  label: string;\n  icon: React.ReactNode;\n  color: string;\n}\n\ninterface ContextReferencePickerProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSelect: (reference: ContextReference) => void;\n  searchQuery?: string;\n  position?: { x: number; y: number };\n  filterType?: ReferenceType;\n}\n\n// ============================================================================\n// Reference Categories\n// ============================================================================\n\nconst REFERENCE_CATEGORIES: ReferenceCategory[] = [\n  { type: 'ticket', label: 'Tickets', icon: <Ticket className=\"w-4 h-4\" />, color: '#f59e0b' },\n  { type: 'prd', label: 'PRDs', icon: <FileText className=\"w-4 h-4\" />, color: '#ec4899' },\n  { type: 'project', label: 'Projects', icon: <Layers className=\"w-4 h-4\" />, color: '#8b5cf6' },\n  { type: 'task', label: 'Tasks', icon: <CheckSquare className=\"w-4 h-4\" />, color: '#3b82f6' },\n  { type: 'canvas', label: 'Canvas', icon: <LayoutGrid className=\"w-4 h-4\" />, color: '#10b981' },\n  { type: 'memory', label: 'Memories', icon: <Brain className=\"w-4 h-4\" />, color: '#6366f1' },\n  { type: 'track', label: 'Tracks', icon: <Music className=\"w-4 h-4\" />, color: '#ef4444' },\n  { type: 'skill', label: 'Skills', icon: <Sparkles className=\"w-4 h-4\" />, color: '#a855f7' },\n  { type: 'dimension', label: 'Dimensions', icon: <Eye className=\"w-4 h-4\" />, color: '#14b8a6' },\n  { type: 'tool', label: 'Tools', icon: <Wrench className=\"w-4 h-4\" />, color: '#0ea5e9' },\n];\n\n// ============================================================================\n// Component\n// ============================================================================\n\nexport function ContextReferencePicker({\n  isOpen,\n  onClose,\n  onSelect,\n  searchQuery: initialQuery = '',\n  position,\n  filterType,\n}: ContextReferencePickerProps) {\n  const [searchQuery, setSearchQuery] = useState(initialQuery);\n  const [selectedCategory, setSelectedCategory] = useState<ReferenceType | null>(filterType || null);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  // Query data from Convex\n  // Note: Using type assertion for designCanvas.listCanvases (types regenerate on convex dev)\n  const tickets = useQuery(api.agentic.listTickets, { limit: 50 });\n  const prds = useQuery(api.agentic.listPRDs, { limit: 20 });\n  const projects = useQuery(api.agentic.listProjects, {});\n  const tasks = useQuery(api.kanban.getTasks, {});\n  const canvases = useQuery((api as any).designCanvas?.listCanvases, { limit: 20 });\n\n  // SECURITY FIX: Pass userId to searchMemories to prevent cross-user data exposure\n  // TODO: Get actual userId from auth context - for now skip memory search\n  const memories = useQuery(api.memories.searchMemories, 'skip');\n\n  const tracks = useQuery(api.jamz.listTracks, { limit: 20 });\n\n  // Build searchable items\n  const allItems = useMemo(() => {\n    const items: ContextReference[] = [];\n\n    // Add tickets\n    if (tickets) {\n      tickets.forEach((t: any) => {\n        items.push({\n          type: 'ticket',\n          id: t._id,\n          displayName: t.ticketId || t.title || 'Untitled Ticket',\n          preview: t.iWant ? `As a ${t.asA}, I want ${t.iWant}` : t.description,\n          data: t,\n        });\n      });\n    }\n\n    // Add PRDs\n    if (prds) {\n      prds.forEach((p: any) => {\n        items.push({\n          type: 'prd',\n          id: p._id,\n          displayName: p.title || 'Untitled PRD',\n          preview: p.executiveSummary || p.problemStatement,\n          data: p,\n        });\n      });\n    }\n\n    // Add projects\n    if (projects) {\n      projects.forEach((p: any) => {\n        items.push({\n          type: 'project',\n          id: p._id,\n          displayName: p.name || 'Untitled Project',\n          preview: p.description,\n          data: p,\n        });\n      });\n    }\n\n    // Add tasks\n    if (tasks) {\n      tasks.forEach((t: any) => {\n        items.push({\n          type: 'task',\n          id: t._id,\n          displayName: t.title || 'Untitled Task',\n          preview: t.description,\n          data: t,\n        });\n      });\n    }\n\n    // Add canvases\n    if (canvases) {\n      canvases.forEach((c: any) => {\n        items.push({\n          type: 'canvas',\n          id: c._id,\n          displayName: c.name || 'Untitled Canvas',\n          preview: c.description || `${c.canvasType} canvas`,\n          data: c,\n        });\n      });\n    }\n\n    // Add memories\n    if (memories) {\n      memories.forEach((m: any) => {\n        items.push({\n          type: 'memory',\n          id: m._id,\n          displayName: m.content?.slice(0, 50) || 'Memory',\n          preview: m.content,\n          data: m,\n        });\n      });\n    }\n\n    // Add tracks\n    if (tracks) {\n      tracks.forEach((t: any) => {\n        items.push({\n          type: 'track',\n          id: t._id,\n          displayName: t.title || 'Untitled Track',\n          preview: t.lyrics?.slice(0, 100) || t.description,\n          data: t,\n        });\n      });\n    }\n\n    // Add skills from slash command registry\n    SKILL_COMMANDS.forEach((skill) => {\n      items.push({\n        type: 'skill',\n        id: skill.name,\n        displayName: skill.label,\n        preview: skill.description,\n        data: { contextType: skill.contextType, color: skill.color },\n      });\n    });\n\n    // Add dimensions from slash command registry\n    DIMENSION_COMMANDS.forEach((dim) => {\n      items.push({\n        type: 'dimension',\n        id: dim.name,\n        displayName: dim.label,\n        preview: dim.description,\n        data: { contextType: dim.contextType, color: dim.color },\n      });\n    });\n\n    // Add tools from slash command registry\n    TOOL_COMMANDS.forEach((tool) => {\n      items.push({\n        type: 'tool',\n        id: tool.name,\n        displayName: tool.label,\n        preview: tool.description,\n        data: { toolName: tool.toolName || tool.name, color: tool.color },\n      });\n    });\n\n    return items;\n  }, [tickets, prds, projects, tasks, canvases, memories, tracks]);\n\n  // Filter items by search and category\n  const filteredItems = useMemo(() => {\n    let items = allItems;\n\n    // Filter by category\n    if (selectedCategory) {\n      items = items.filter(item => item.type === selectedCategory);\n    }\n\n    // Filter by search query\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      items = items.filter(item =>\n        item.displayName.toLowerCase().includes(query) ||\n        (item.preview && item.preview.toLowerCase().includes(query))\n      );\n    }\n\n    return items.slice(0, 20); // Limit results\n  }, [allItems, selectedCategory, searchQuery]);\n\n  // Reset selected index when filtered items change\n  useEffect(() => {\n    setSelectedIndex(0);\n  }, [filteredItems.length]);\n\n  // Keyboard navigation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedIndex(prev => Math.min(prev + 1, filteredItems.length - 1));\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedIndex(prev => Math.max(prev - 1, 0));\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (filteredItems[selectedIndex]) {\n          onSelect(filteredItems[selectedIndex]);\n          onClose();\n        }\n        break;\n      case 'Escape':\n        e.preventDefault();\n        onClose();\n        break;\n      case 'Tab':\n        e.preventDefault();\n        // Cycle through categories\n        const currentIdx = selectedCategory\n          ? REFERENCE_CATEGORIES.findIndex(c => c.type === selectedCategory)\n          : -1;\n        const nextIdx = (currentIdx + 1) % (REFERENCE_CATEGORIES.length + 1);\n        setSelectedCategory(nextIdx === REFERENCE_CATEGORIES.length ? null : REFERENCE_CATEGORIES[nextIdx].type);\n        break;\n    }\n  }, [filteredItems, selectedIndex, selectedCategory, onSelect, onClose]);\n\n  // Get icon for reference type\n  const getIcon = (type: ReferenceType) => {\n    const category = REFERENCE_CATEGORIES.find(c => c.type === type);\n    return category?.icon || <Hash className=\"w-4 h-4\" />;\n  };\n\n  // Get color for reference type\n  const getColor = (type: ReferenceType) => {\n    const category = REFERENCE_CATEGORIES.find(c => c.type === type);\n    return category?.color || '#6b7280';\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -10 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -10 }}\n      className=\"absolute z-50 w-96 max-h-[400px] bg-[#1a1a2e] border border-white/10 rounded-xl shadow-2xl overflow-hidden\"\n      style={position ? { left: position.x, top: position.y } : { left: 0, bottom: '100%', marginBottom: 8 }}\n      onKeyDown={handleKeyDown}\n    >\n      {/* Search Header */}\n      <div className=\"p-3 border-b border-white/10\">\n        <div className=\"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg\">\n          <Search className=\"w-4 h-4 text-white/40\" />\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder=\"Search your data...\"\n            className=\"flex-1 bg-transparent border-none outline-none text-white text-sm placeholder-white/40\"\n            autoFocus\n          />\n          {searchQuery && (\n            <button\n              onClick={() => setSearchQuery('')}\n              className=\"text-white/40 hover:text-white/60\"\n            >\n              Ã\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Category Tabs */}\n      <div className=\"flex items-center gap-1 p-2 border-b border-white/10 overflow-x-auto\">\n        <button\n          onClick={() => setSelectedCategory(null)}\n          className={cn(\n            'px-3 py-1.5 rounded-lg text-xs font-medium transition-colors whitespace-nowrap',\n            !selectedCategory\n              ? 'bg-white/10 text-white'\n              : 'text-white/50 hover:text-white/70 hover:bg-white/5'\n          )}\n        >\n          All\n        </button>\n        {REFERENCE_CATEGORIES.map((category) => (\n          <button\n            key={category.type}\n            onClick={() => setSelectedCategory(category.type)}\n            className={cn(\n              'flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors whitespace-nowrap',\n              selectedCategory === category.type\n                ? 'bg-white/10 text-white'\n                : 'text-white/50 hover:text-white/70 hover:bg-white/5'\n            )}\n            style={selectedCategory === category.type ? { color: category.color } : {}}\n          >\n            {category.icon}\n            {category.label}\n          </button>\n        ))}\n      </div>\n\n      {/* Results List */}\n      <div className=\"max-h-[280px] overflow-y-auto\">\n        {filteredItems.length === 0 ? (\n          <div className=\"p-8 text-center\">\n            <Search className=\"w-8 h-8 mx-auto mb-2 text-white/20\" />\n            <p className=\"text-sm text-white/40\">No results found</p>\n            <p className=\"text-xs text-white/30 mt-1\">Try a different search or category</p>\n          </div>\n        ) : (\n          filteredItems.map((item, index) => (\n            <button\n              key={`${item.type}-${item.id}`}\n              onClick={() => {\n                onSelect(item);\n                onClose();\n              }}\n              className={cn(\n                'w-full flex items-start gap-3 p-3 text-left transition-colors',\n                index === selectedIndex\n                  ? 'bg-white/10'\n                  : 'hover:bg-white/5'\n              )}\n            >\n              {/* Icon */}\n              <div\n                className=\"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\"\n                style={{ backgroundColor: `${getColor(item.type)}20`, color: getColor(item.type) }}\n              >\n                {getIcon(item.type)}\n              </div>\n\n              {/* Content */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-medium text-white truncate\">\n                    {item.displayName}\n                  </span>\n                  <span\n                    className=\"text-[10px] px-1.5 py-0.5 rounded-full font-medium\"\n                    style={{ backgroundColor: `${getColor(item.type)}20`, color: getColor(item.type) }}\n                  >\n                    {item.type}\n                  </span>\n                </div>\n                {item.preview && (\n                  <p className=\"text-xs text-white/50 mt-0.5 line-clamp-2\">\n                    {item.preview}\n                  </p>\n                )}\n              </div>\n            </button>\n          ))\n        )}\n      </div>\n\n      {/* Footer Hint */}\n      <div className=\"p-2 border-t border-white/10 bg-white/5\">\n        <p className=\"text-[10px] text-white/40 text-center\">\n          <kbd className=\"px-1 py-0.5 bg-white/10 rounded text-white/60\">ââ</kbd> navigate\n          {' '}<kbd className=\"px-1 py-0.5 bg-white/10 rounded text-white/60\">Tab</kbd> switch category\n          {' '}<kbd className=\"px-1 py-0.5 bg-white/10 rounded text-white/60\">Enter</kbd> select\n        </p>\n      </div>\n    </motion.div>\n  );\n}\n\nexport default ContextReferencePicker;\n"],"names":[],"mappings":";;;;;;;AAEA;;;;;;;;;;;CAWC,GAED;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAEA;;;AApCA;;;;;;;;AA8DA,+EAA+E;AAC/E,uBAAuB;AACvB,+EAA+E;AAE/E,MAAM,uBAA4C;IAChD;QAAE,MAAM;QAAU,OAAO;QAAW,oBAAM,sYAAC,uSAAM;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC3F;QAAE,MAAM;QAAO,OAAO;QAAQ,oBAAM,sYAAC,iTAAQ;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IACvF;QAAE,MAAM;QAAW,OAAO;QAAY,oBAAM,sYAAC,uSAAM;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC7F;QAAE,MAAM;QAAQ,OAAO;QAAS,oBAAM,sYAAC,iUAAW;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC5F;QAAE,MAAM;QAAU,OAAO;QAAU,oBAAM,sYAAC,uTAAU;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC9F;QAAE,MAAM;QAAU,OAAO;QAAY,oBAAM,sYAAC,oSAAK;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC3F;QAAE,MAAM;QAAS,OAAO;QAAU,oBAAM,sYAAC,oSAAK;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IACxF;QAAE,MAAM;QAAS,OAAO;QAAU,oBAAM,sYAAC,6SAAQ;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC3F;QAAE,MAAM;QAAa,OAAO;QAAc,oBAAM,sYAAC,8RAAG;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;IAC9F;QAAE,MAAM;QAAQ,OAAO;QAAS,oBAAM,sYAAC,uSAAM;YAAC,WAAU;;;;;;QAAc,OAAO;IAAU;CACxF;AAMM,SAAS,uBAAuB,EACrC,MAAM,EACN,OAAO,EACP,QAAQ,EACR,aAAa,eAAe,EAAE,EAC9B,QAAQ,EACR,UAAU,EACkB;;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,kXAAQ,EAAuB,cAAc;IAC7F,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,kXAAQ,EAAC;IAEnD,yBAAyB;IACzB,4FAA4F;IAC5F,MAAM,UAAU,IAAA,8IAAQ,EAAC,sIAAG,CAAC,OAAO,CAAC,WAAW,EAAE;QAAE,OAAO;IAAG;IAC9D,MAAM,OAAO,IAAA,8IAAQ,EAAC,sIAAG,CAAC,OAAO,CAAC,QAAQ,EAAE;QAAE,OAAO;IAAG;IACxD,MAAM,WAAW,IAAA,8IAAQ,EAAC,sIAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IACrD,MAAM,QAAQ,IAAA,8IAAQ,EAAC,sIAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;IAC7C,MAAM,WAAW,IAAA,8IAAQ,EAAC,AAAC,sIAAG,CAAS,YAAY,EAAE,cAAc;QAAE,OAAO;IAAG;IAE/E,kFAAkF;IAClF,yEAAyE;IACzE,MAAM,WAAW,IAAA,8IAAQ,EAAC,sIAAG,CAAC,QAAQ,CAAC,cAAc,EAAE;IAEvD,MAAM,SAAS,IAAA,8IAAQ,EAAC,sIAAG,CAAC,IAAI,CAAC,UAAU,EAAE;QAAE,OAAO;IAAG;IAEzD,yBAAyB;IACzB,MAAM,WAAW,IAAA,iXAAO;oDAAC;YACvB,MAAM,QAA4B,EAAE;YAEpC,cAAc;YACd,IAAI,SAAS;gBACX,QAAQ,OAAO;gEAAC,CAAC;wBACf,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,QAAQ,IAAI,EAAE,KAAK,IAAI;4BACtC,SAAS,EAAE,KAAK,GAAG,CAAC,KAAK,EAAE,EAAE,GAAG,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW;4BACrE,MAAM;wBACR;oBACF;;YACF;YAEA,WAAW;YACX,IAAI,MAAM;gBACR,KAAK,OAAO;gEAAC,CAAC;wBACZ,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,KAAK,IAAI;4BACxB,SAAS,EAAE,gBAAgB,IAAI,EAAE,gBAAgB;4BACjD,MAAM;wBACR;oBACF;;YACF;YAEA,eAAe;YACf,IAAI,UAAU;gBACZ,SAAS,OAAO;gEAAC,CAAC;wBAChB,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,IAAI,IAAI;4BACvB,SAAS,EAAE,WAAW;4BACtB,MAAM;wBACR;oBACF;;YACF;YAEA,YAAY;YACZ,IAAI,OAAO;gBACT,MAAM,OAAO;gEAAC,CAAC;wBACb,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,KAAK,IAAI;4BACxB,SAAS,EAAE,WAAW;4BACtB,MAAM;wBACR;oBACF;;YACF;YAEA,eAAe;YACf,IAAI,UAAU;gBACZ,SAAS,OAAO;gEAAC,CAAC;wBAChB,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,IAAI,IAAI;4BACvB,SAAS,EAAE,WAAW,IAAI,GAAG,EAAE,UAAU,CAAC,OAAO,CAAC;4BAClD,MAAM;wBACR;oBACF;;YACF;YAEA,eAAe;YACf,IAAI,UAAU;gBACZ,SAAS,OAAO;gEAAC,CAAC;wBAChB,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,OAAO,EAAE,MAAM,GAAG,OAAO;4BACxC,SAAS,EAAE,OAAO;4BAClB,MAAM;wBACR;oBACF;;YACF;YAEA,aAAa;YACb,IAAI,QAAQ;gBACV,OAAO,OAAO;gEAAC,CAAC;wBACd,MAAM,IAAI,CAAC;4BACT,MAAM;4BACN,IAAI,EAAE,GAAG;4BACT,aAAa,EAAE,KAAK,IAAI;4BACxB,SAAS,EAAE,MAAM,EAAE,MAAM,GAAG,QAAQ,EAAE,WAAW;4BACjD,MAAM;wBACR;oBACF;;YACF;YAEA,yCAAyC;YACzC,6KAAc,CAAC,OAAO;4DAAC,CAAC;oBACtB,MAAM,IAAI,CAAC;wBACT,MAAM;wBACN,IAAI,MAAM,IAAI;wBACd,aAAa,MAAM,KAAK;wBACxB,SAAS,MAAM,WAAW;wBAC1B,MAAM;4BAAE,aAAa,MAAM,WAAW;4BAAE,OAAO,MAAM,KAAK;wBAAC;oBAC7D;gBACF;;YAEA,6CAA6C;YAC7C,iLAAkB,CAAC,OAAO;4DAAC,CAAC;oBAC1B,MAAM,IAAI,CAAC;wBACT,MAAM;wBACN,IAAI,IAAI,IAAI;wBACZ,aAAa,IAAI,KAAK;wBACtB,SAAS,IAAI,WAAW;wBACxB,MAAM;4BAAE,aAAa,IAAI,WAAW;4BAAE,OAAO,IAAI,KAAK;wBAAC;oBACzD;gBACF;;YAEA,wCAAwC;YACxC,4KAAa,CAAC,OAAO;4DAAC,CAAC;oBACrB,MAAM,IAAI,CAAC;wBACT,MAAM;wBACN,IAAI,KAAK,IAAI;wBACb,aAAa,KAAK,KAAK;wBACvB,SAAS,KAAK,WAAW;wBACzB,MAAM;4BAAE,UAAU,KAAK,QAAQ,IAAI,KAAK,IAAI;4BAAE,OAAO,KAAK,KAAK;wBAAC;oBAClE;gBACF;;YAEA,OAAO;QACT;mDAAG;QAAC;QAAS;QAAM;QAAU;QAAO;QAAU;QAAU;KAAO;IAE/D,sCAAsC;IACtC,MAAM,gBAAgB,IAAA,iXAAO;yDAAC;YAC5B,IAAI,QAAQ;YAEZ,qBAAqB;YACrB,IAAI,kBAAkB;gBACpB,QAAQ,MAAM,MAAM;qEAAC,CAAA,OAAQ,KAAK,IAAI,KAAK;;YAC7C;YAEA,yBAAyB;YACzB,IAAI,aAAa;gBACf,MAAM,QAAQ,YAAY,WAAW;gBACrC,QAAQ,MAAM,MAAM;qEAAC,CAAA,OACnB,KAAK,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,UACvC,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC;;YAEzD;YAEA,OAAO,MAAM,KAAK,CAAC,GAAG,KAAK,gBAAgB;QAC7C;wDAAG;QAAC;QAAU;QAAkB;KAAY;IAE5C,kDAAkD;IAClD,IAAA,mXAAS;4CAAC;YACR,iBAAiB;QACnB;2CAAG;QAAC,cAAc,MAAM;KAAC;IAEzB,sBAAsB;IACtB,MAAM,gBAAgB,IAAA,qXAAW;6DAAC,CAAC;YACjC,OAAQ,EAAE,GAAG;gBACX,KAAK;oBACH,EAAE,cAAc;oBAChB;6EAAiB,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG,cAAc,MAAM,GAAG;;oBACnE;gBACF,KAAK;oBACH,EAAE,cAAc;oBAChB;6EAAiB,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG;;oBAC5C;gBACF,KAAK;oBACH,EAAE,cAAc;oBAChB,IAAI,aAAa,CAAC,cAAc,EAAE;wBAChC,SAAS,aAAa,CAAC,cAAc;wBACrC;oBACF;oBACA;gBACF,KAAK;oBACH,EAAE,cAAc;oBAChB;oBACA;gBACF,KAAK;oBACH,EAAE,cAAc;oBAChB,2BAA2B;oBAC3B,MAAM,aAAa,mBACf,qBAAqB,SAAS;6EAAC,CAAA,IAAK,EAAE,IAAI,KAAK;8EAC/C,CAAC;oBACL,MAAM,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,qBAAqB,MAAM,GAAG,CAAC;oBACnE,oBAAoB,YAAY,qBAAqB,MAAM,GAAG,OAAO,oBAAoB,CAAC,QAAQ,CAAC,IAAI;oBACvG;YACJ;QACF;4DAAG;QAAC;QAAe;QAAe;QAAkB;QAAU;KAAQ;IAEtE,8BAA8B;IAC9B,MAAM,UAAU,CAAC;QACf,MAAM,WAAW,qBAAqB,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QAC3D,OAAO,UAAU,sBAAQ,sYAAC,iSAAI;YAAC,WAAU;;;;;;IAC3C;IAEA,+BAA+B;IAC/B,MAAM,WAAW,CAAC;QAChB,MAAM,WAAW,qBAAqB,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QAC3D,OAAO,UAAU,SAAS;IAC5B;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,sYAAC,mVAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,MAAM;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC3B,WAAU;QACV,OAAO,WAAW;YAAE,MAAM,SAAS,CAAC;YAAE,KAAK,SAAS,CAAC;QAAC,IAAI;YAAE,MAAM;YAAG,QAAQ;YAAQ,cAAc;QAAE;QACrG,WAAW;;0BAGX,sYAAC;gBAAI,WAAU;0BACb,cAAA,sYAAC;oBAAI,WAAU;;sCACb,sYAAC,uSAAM;4BAAC,WAAU;;;;;;sCAClB,sYAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4BAC9C,aAAY;4BACZ,WAAU;4BACV,SAAS;;;;;;wBAEV,6BACC,sYAAC;4BACC,SAAS,IAAM,eAAe;4BAC9B,WAAU;sCACX;;;;;;;;;;;;;;;;;0BAQP,sYAAC;gBAAI,WAAU;;kCACb,sYAAC;wBACC,SAAS,IAAM,oBAAoB;wBACnC,WAAW,IAAA,4HAAE,EACX,kFACA,CAAC,mBACG,2BACA;kCAEP;;;;;;oBAGA,qBAAqB,GAAG,CAAC,CAAC,yBACzB,sYAAC;4BAEC,SAAS,IAAM,oBAAoB,SAAS,IAAI;4BAChD,WAAW,IAAA,4HAAE,EACX,4GACA,qBAAqB,SAAS,IAAI,GAC9B,2BACA;4BAEN,OAAO,qBAAqB,SAAS,IAAI,GAAG;gCAAE,OAAO,SAAS,KAAK;4BAAC,IAAI,CAAC;;gCAExE,SAAS,IAAI;gCACb,SAAS,KAAK;;2BAXV,SAAS,IAAI;;;;;;;;;;;0BAiBxB,sYAAC;gBAAI,WAAU;0BACZ,cAAc,MAAM,KAAK,kBACxB,sYAAC;oBAAI,WAAU;;sCACb,sYAAC,uSAAM;4BAAC,WAAU;;;;;;sCAClB,sYAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,sYAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;2BAG5C,cAAc,GAAG,CAAC,CAAC,MAAM,sBACvB,sYAAC;wBAEC,SAAS;4BACP,SAAS;4BACT;wBACF;wBACA,WAAW,IAAA,4HAAE,EACX,iEACA,UAAU,gBACN,gBACA;;0CAIN,sYAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,iBAAiB,GAAG,SAAS,KAAK,IAAI,EAAE,EAAE,CAAC;oCAAE,OAAO,SAAS,KAAK,IAAI;gCAAE;0CAEhF,QAAQ,KAAK,IAAI;;;;;;0CAIpB,sYAAC;gCAAI,WAAU;;kDACb,sYAAC;wCAAI,WAAU;;0DACb,sYAAC;gDAAK,WAAU;0DACb,KAAK,WAAW;;;;;;0DAEnB,sYAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB,GAAG,SAAS,KAAK,IAAI,EAAE,EAAE,CAAC;oDAAE,OAAO,SAAS,KAAK,IAAI;gDAAE;0DAEhF,KAAK,IAAI;;;;;;;;;;;;oCAGb,KAAK,OAAO,kBACX,sYAAC;wCAAE,WAAU;kDACV,KAAK,OAAO;;;;;;;;;;;;;uBAnCd,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;;;;;;;;;;0BA6CtC,sYAAC;gBAAI,WAAU;0BACb,cAAA,sYAAC;oBAAE,WAAU;;sCACX,sYAAC;4BAAI,WAAU;sCAAgD;;;;;;wBAAQ;wBACtE;sCAAI,sYAAC;4BAAI,WAAU;sCAAgD;;;;;;wBAAS;wBAC5E;sCAAI,sYAAC;4BAAI,WAAU;sCAAgD;;;;;;wBAAW;;;;;;;;;;;;;;;;;;AAKzF;GAvWgB;;QAcE,8IAAQ;QACX,8IAAQ;QACJ,8IAAQ;QACX,8IAAQ;QACL,8IAAQ;QAIR,8IAAQ;QAEV,8IAAQ;;;KAxBT;uCAyWD"}},
    {"offset": {"line": 2406, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ui/ContextReferenceInput.tsx"],"sourcesContent":["'use client';\n\n/**\n * ContextReferenceInput - Input wrapper with @mention context reference support\n *\n * Wrap any text input or textarea with this component to add @mention support\n * for referencing tickets, PRDs, projects, tasks, etc.\n */\n\nimport React, { useState, useRef, useCallback, forwardRef, useImperativeHandle } from 'react';\nimport { AnimatePresence } from 'framer-motion';\nimport { ContextReferencePicker } from '@/components/design-canvas/ContextReferencePicker';\nimport type { ContextReference, ReferenceType } from '@/lib/canvas/artifacts';\n\ninterface ContextReferenceInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  onKeyDown?: (e: React.KeyboardEvent) => void;\n  onReferenceInserted?: (reference: ContextReference) => void;\n  placeholder?: string;\n  disabled?: boolean;\n  className?: string;\n  multiline?: boolean;\n  rows?: number;\n  autoFocus?: boolean;\n  style?: React.CSSProperties;\n  'aria-label'?: string;\n}\n\nexport interface ContextReferenceInputHandle {\n  focus: () => void;\n  blur: () => void;\n  getValue: () => string;\n}\n\nexport const ContextReferenceInput = forwardRef<ContextReferenceInputHandle, ContextReferenceInputProps>(\n  function ContextReferenceInput(\n    {\n      value,\n      onChange,\n      onKeyDown,\n      onReferenceInserted,\n      placeholder,\n      disabled,\n      className,\n      multiline = false,\n      rows = 1,\n      autoFocus,\n      style,\n      'aria-label': ariaLabel,\n    },\n    ref\n  ) {\n    const inputRef = useRef<HTMLInputElement | HTMLTextAreaElement>(null);\n    const [isPickerOpen, setIsPickerOpen] = useState(false);\n    const [pickerPosition, setPickerPosition] = useState<{ x: number; y: number } | undefined>();\n    const [searchQuery, setSearchQuery] = useState('');\n    const [filterType, setFilterType] = useState<ReferenceType | undefined>();\n    const triggerPositionRef = useRef<number>(0);\n    const cursorPositionRef = useRef<number>(0);\n\n    // Expose methods via ref\n    useImperativeHandle(ref, () => ({\n      focus: () => inputRef.current?.focus(),\n      blur: () => inputRef.current?.blur(),\n      getValue: () => value,\n    }));\n\n    // Handle input change - detect @ trigger\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const input = e.target;\n      const newValue = input.value;\n      const cursorPos = input.selectionStart || 0;\n\n      cursorPositionRef.current = cursorPos;\n      onChange(newValue);\n\n      // Check if we just typed @\n      const charBefore = newValue[cursorPos - 1];\n      const charTwoBefore = newValue[cursorPos - 2];\n\n      if (charBefore === '@' && (!charTwoBefore || /\\s/.test(charTwoBefore))) {\n        // Get position for picker\n        const rect = input.getBoundingClientRect();\n        const position = {\n          x: rect.left + 20,\n          y: rect.bottom + 4,\n        };\n\n        triggerPositionRef.current = cursorPos - 1;\n        setIsPickerOpen(true);\n        setPickerPosition(position);\n        setSearchQuery('');\n        setFilterType(undefined);\n      } else if (isPickerOpen) {\n        // Update search query with text after @\n        const textAfterTrigger = newValue.slice(triggerPositionRef.current + 1, cursorPos);\n\n        // Check for type prefix like @ticket: or @prd:\n        const colonIndex = textAfterTrigger.indexOf(':');\n        if (colonIndex > 0) {\n          const typePrefix = textAfterTrigger.slice(0, colonIndex) as ReferenceType;\n          const validTypes: ReferenceType[] = ['ticket', 'prd', 'project', 'task', 'note', 'canvas', 'memory', 'track', 'file', 'skill', 'dimension', 'tool'];\n          if (validTypes.includes(typePrefix)) {\n            setFilterType(typePrefix);\n            setSearchQuery(textAfterTrigger.slice(colonIndex + 1));\n          } else {\n            setFilterType(undefined);\n            setSearchQuery(textAfterTrigger);\n          }\n        } else {\n          setFilterType(undefined);\n          setSearchQuery(textAfterTrigger);\n        }\n\n        // Close picker if we've moved past the trigger context\n        if (cursorPos <= triggerPositionRef.current || textAfterTrigger.includes(' ')) {\n          setIsPickerOpen(false);\n        }\n      }\n    }, [onChange, isPickerOpen]);\n\n    // Handle reference selection\n    const handleSelect = useCallback((reference: ContextReference) => {\n      const triggerPos = triggerPositionRef.current;\n      const cursorPos = cursorPositionRef.current;\n\n      // Build the reference text\n      const refText = `@${reference.type}:${reference.displayName}`;\n\n      // Replace from trigger position to current cursor position\n      const before = value.slice(0, triggerPos);\n      const after = value.slice(cursorPos);\n      const newValue = `${before}${refText} ${after}`;\n\n      onChange(newValue);\n\n      // Set cursor position after the inserted reference\n      const newCursorPos = triggerPos + refText.length + 1;\n      setTimeout(() => {\n        const input = inputRef.current;\n        if (input) {\n          input.setSelectionRange(newCursorPos, newCursorPos);\n          input.focus();\n        }\n      }, 0);\n\n      // Callback\n      if (onReferenceInserted) {\n        onReferenceInserted(reference);\n      }\n\n      setIsPickerOpen(false);\n    }, [value, onChange, onReferenceInserted]);\n\n    // Handle keyboard\n    const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n      if (isPickerOpen && e.key === 'Escape') {\n        e.preventDefault();\n        setIsPickerOpen(false);\n        return;\n      }\n\n      // Pass through to parent handler\n      if (onKeyDown) {\n        onKeyDown(e);\n      }\n    }, [isPickerOpen, onKeyDown]);\n\n    // Close picker handler\n    const handleClosePicker = useCallback(() => {\n      setIsPickerOpen(false);\n    }, []);\n\n    const commonProps = {\n      ref: inputRef as any,\n      value,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      placeholder,\n      disabled,\n      className,\n      autoFocus,\n      style,\n      'aria-label': ariaLabel,\n    };\n\n    return (\n      <div className=\"relative\">\n        {multiline ? (\n          <textarea {...commonProps} rows={rows} />\n        ) : (\n          <input type=\"text\" {...commonProps} />\n        )}\n\n        <AnimatePresence>\n          {isPickerOpen && (\n            <div\n              data-context-picker\n              className=\"fixed z-[100]\"\n              style={{\n                left: pickerPosition?.x || 0,\n                top: pickerPosition?.y || 0,\n              }}\n            >\n              <ContextReferencePicker\n                isOpen={isPickerOpen}\n                onClose={handleClosePicker}\n                onSelect={handleSelect}\n                searchQuery={searchQuery}\n                filterType={filterType}\n              />\n            </div>\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  }\n);\n\nexport default ContextReferenceInput;\n"],"names":[],"mappings":";;;;;;;AAEA;;;;;CAKC,GAED;AACA;AACA;;;AAXA;;;;AAmCO,MAAM,sCAAwB,GAAA,IAAA,oXAAU,UAC7C,SAAS,sBACP,EACE,KAAK,EACL,QAAQ,EACR,SAAS,EACT,mBAAmB,EACnB,WAAW,EACX,QAAQ,EACR,SAAS,EACT,YAAY,KAAK,EACjB,OAAO,CAAC,EACR,SAAS,EACT,KAAK,EACL,cAAc,SAAS,EACxB,EACD,GAAG;;IAEH,MAAM,WAAW,IAAA,gXAAM,EAAyC;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,kXAAQ,EAAC;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,kXAAQ;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,kXAAQ;IAC5C,MAAM,qBAAqB,IAAA,gXAAM,EAAS;IAC1C,MAAM,oBAAoB,IAAA,gXAAM,EAAS;IAEzC,yBAAyB;IACzB,IAAA,6XAAmB,EAAC;2EAAK,IAAM,CAAC;gBAC9B,KAAK;uFAAE,IAAM,SAAS,OAAO,EAAE;;gBAC/B,IAAI;uFAAE,IAAM,SAAS,OAAO,EAAE;;gBAC9B,QAAQ;uFAAE,IAAM;;YAClB,CAAC;;IAED,yCAAyC;IACzC,MAAM,eAAe,IAAA,qXAAW;iFAAC,CAAC;YAChC,MAAM,QAAQ,EAAE,MAAM;YACtB,MAAM,WAAW,MAAM,KAAK;YAC5B,MAAM,YAAY,MAAM,cAAc,IAAI;YAE1C,kBAAkB,OAAO,GAAG;YAC5B,SAAS;YAET,2BAA2B;YAC3B,MAAM,aAAa,QAAQ,CAAC,YAAY,EAAE;YAC1C,MAAM,gBAAgB,QAAQ,CAAC,YAAY,EAAE;YAE7C,IAAI,eAAe,OAAO,CAAC,CAAC,iBAAiB,KAAK,IAAI,CAAC,cAAc,GAAG;gBACtE,0BAA0B;gBAC1B,MAAM,OAAO,MAAM,qBAAqB;gBACxC,MAAM,WAAW;oBACf,GAAG,KAAK,IAAI,GAAG;oBACf,GAAG,KAAK,MAAM,GAAG;gBACnB;gBAEA,mBAAmB,OAAO,GAAG,YAAY;gBACzC,gBAAgB;gBAChB,kBAAkB;gBAClB,eAAe;gBACf,cAAc;YAChB,OAAO,IAAI,cAAc;gBACvB,wCAAwC;gBACxC,MAAM,mBAAmB,SAAS,KAAK,CAAC,mBAAmB,OAAO,GAAG,GAAG;gBAExE,+CAA+C;gBAC/C,MAAM,aAAa,iBAAiB,OAAO,CAAC;gBAC5C,IAAI,aAAa,GAAG;oBAClB,MAAM,aAAa,iBAAiB,KAAK,CAAC,GAAG;oBAC7C,MAAM,aAA8B;wBAAC;wBAAU;wBAAO;wBAAW;wBAAQ;wBAAQ;wBAAU;wBAAU;wBAAS;wBAAQ;wBAAS;wBAAa;qBAAO;oBACnJ,IAAI,WAAW,QAAQ,CAAC,aAAa;wBACnC,cAAc;wBACd,eAAe,iBAAiB,KAAK,CAAC,aAAa;oBACrD,OAAO;wBACL,cAAc;wBACd,eAAe;oBACjB;gBACF,OAAO;oBACL,cAAc;oBACd,eAAe;gBACjB;gBAEA,uDAAuD;gBACvD,IAAI,aAAa,mBAAmB,OAAO,IAAI,iBAAiB,QAAQ,CAAC,MAAM;oBAC7E,gBAAgB;gBAClB;YACF;QACF;gFAAG;QAAC;QAAU;KAAa;IAE3B,6BAA6B;IAC7B,MAAM,eAAe,IAAA,qXAAW;iFAAC,CAAC;YAChC,MAAM,aAAa,mBAAmB,OAAO;YAC7C,MAAM,YAAY,kBAAkB,OAAO;YAE3C,2BAA2B;YAC3B,MAAM,UAAU,CAAC,CAAC,EAAE,UAAU,IAAI,CAAC,CAAC,EAAE,UAAU,WAAW,EAAE;YAE7D,2DAA2D;YAC3D,MAAM,SAAS,MAAM,KAAK,CAAC,GAAG;YAC9B,MAAM,QAAQ,MAAM,KAAK,CAAC;YAC1B,MAAM,WAAW,GAAG,SAAS,QAAQ,CAAC,EAAE,OAAO;YAE/C,SAAS;YAET,mDAAmD;YACnD,MAAM,eAAe,aAAa,QAAQ,MAAM,GAAG;YACnD;yFAAW;oBACT,MAAM,QAAQ,SAAS,OAAO;oBAC9B,IAAI,OAAO;wBACT,MAAM,iBAAiB,CAAC,cAAc;wBACtC,MAAM,KAAK;oBACb;gBACF;wFAAG;YAEH,WAAW;YACX,IAAI,qBAAqB;gBACvB,oBAAoB;YACtB;YAEA,gBAAgB;QAClB;gFAAG;QAAC;QAAO;QAAU;KAAoB;IAEzC,kBAAkB;IAClB,MAAM,gBAAgB,IAAA,qXAAW;kFAAC,CAAC;YACjC,IAAI,gBAAgB,EAAE,GAAG,KAAK,UAAU;gBACtC,EAAE,cAAc;gBAChB,gBAAgB;gBAChB;YACF;YAEA,iCAAiC;YACjC,IAAI,WAAW;gBACb,UAAU;YACZ;QACF;iFAAG;QAAC;QAAc;KAAU;IAE5B,uBAAuB;IACvB,MAAM,oBAAoB,IAAA,qXAAW;sFAAC;YACpC,gBAAgB;QAClB;qFAAG,EAAE;IAEL,MAAM,cAAc;QAClB,KAAK;QACL;QACA,UAAU;QACV,WAAW;QACX;QACA;QACA;QACA;QACA;QACA,cAAc;IAChB;IAEA,qBACE,sYAAC;QAAI,WAAU;;YACZ,0BACC,sYAAC;gBAAU,GAAG,WAAW;gBAAE,MAAM;;;;;qCAEjC,sYAAC;gBAAM,MAAK;gBAAQ,GAAG,WAAW;;;;;;0BAGpC,sYAAC,2VAAe;0BACb,8BACC,sYAAC;oBACC,qBAAmB;oBACnB,WAAU;oBACV,OAAO;wBACL,MAAM,gBAAgB,KAAK;wBAC3B,KAAK,gBAAgB,KAAK;oBAC5B;8BAEA,cAAA,sYAAC,6LAAsB;wBACrB,QAAQ;wBACR,SAAS;wBACT,UAAU;wBACV,aAAa;wBACb,YAAY;;;;;;;;;;;;;;;;;;;;;;AAO1B;;uCAGa"}},
    {"offset": {"line": 2650, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/claw-ai/ArtifactRenderer.tsx"],"sourcesContent":["'use client';\n\n/**\n * ArtifactRenderer - Renders Claude-style artifacts inline in chat\n *\n * Detects and renders:\n * - Code blocks with syntax highlighting\n * - Document artifacts (markdown)\n * - Charts/diagrams\n * - Tables\n * - Referenced data (tickets, PRDs, etc.)\n */\n\nimport React, { useState, useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  Code,\n  FileText,\n  Table as TableIcon,\n  BarChart3,\n  Ticket,\n  Copy,\n  Check,\n  ExternalLink,\n  ChevronDown,\n  ChevronUp,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { detectArtifacts, type ArtifactType } from '@/lib/canvas/artifacts';\n\ninterface ArtifactRendererProps {\n  content: string;\n  className?: string;\n}\n\ninterface ParsedArtifact {\n  type: ArtifactType;\n  title: string;\n  content: string;\n  language?: string;\n  metadata?: Record<string, unknown>;\n}\n\n// Parse artifact blocks from content\nfunction parseArtifacts(content: string): { text: string; artifacts: ParsedArtifact[] } {\n  const artifacts: ParsedArtifact[] = [];\n  let cleanedText = content;\n\n  // Match code blocks with language\n  const codeBlockRegex = /```(\\w+)?\\n([\\s\\S]*?)```/g;\n  let match;\n\n  while ((match = codeBlockRegex.exec(content)) !== null) {\n    const language = match[1] || 'plaintext';\n    const codeContent = match[2].trim();\n\n    // Don't create artifacts for very short code blocks\n    if (codeContent.length > 50 || codeContent.includes('\\n')) {\n      artifacts.push({\n        type: 'code',\n        title: `${language.charAt(0).toUpperCase() + language.slice(1)} Code`,\n        content: codeContent,\n        language,\n      });\n    }\n  }\n\n  // Match @references\n  const referenceRegex = /@(ticket|prd|project|task|memory|track):([^\\s]+)/g;\n  while ((match = referenceRegex.exec(content)) !== null) {\n    artifacts.push({\n      type: match[1] as ArtifactType,\n      title: `${match[1].charAt(0).toUpperCase() + match[1].slice(1)}: ${match[2]}`,\n      content: match[2],\n      metadata: { referenceType: match[1], referenceId: match[2] },\n    });\n  }\n\n  return { text: cleanedText, artifacts };\n}\n\n// Individual artifact card component\nfunction ArtifactCard({ artifact }: { artifact: ParsedArtifact }) {\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [copied, setCopied] = useState(false);\n\n  const iconMap: Record<ArtifactType, React.ReactNode> = {\n    document: <FileText className=\"w-4 h-4\" />,\n    code: <Code className=\"w-4 h-4\" />,\n    chart: <BarChart3 className=\"w-4 h-4\" />,\n    table: <TableIcon className=\"w-4 h-4\" />,\n    diagram: <BarChart3 className=\"w-4 h-4\" />,\n    image: <FileText className=\"w-4 h-4\" />,\n    prd: <FileText className=\"w-4 h-4\" />,\n    ticket: <Ticket className=\"w-4 h-4\" />,\n    'user-story': <FileText className=\"w-4 h-4\" />,\n    embed: <ExternalLink className=\"w-4 h-4\" />,\n  };\n\n  const colorMap: Record<ArtifactType, string> = {\n    document: 'from-blue-500/20 to-blue-600/20 border-blue-500/30',\n    code: 'from-green-500/20 to-emerald-600/20 border-green-500/30',\n    chart: 'from-purple-500/20 to-violet-600/20 border-purple-500/30',\n    table: 'from-orange-500/20 to-amber-600/20 border-orange-500/30',\n    diagram: 'from-pink-500/20 to-rose-600/20 border-pink-500/30',\n    image: 'from-cyan-500/20 to-teal-600/20 border-cyan-500/30',\n    prd: 'from-indigo-500/20 to-blue-600/20 border-indigo-500/30',\n    ticket: 'from-amber-500/20 to-yellow-600/20 border-amber-500/30',\n    'user-story': 'from-violet-500/20 to-purple-600/20 border-violet-500/30',\n    embed: 'from-gray-500/20 to-slate-600/20 border-gray-500/30',\n  };\n\n  const handleCopy = async () => {\n    await navigator.clipboard.writeText(artifact.content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      className={cn(\n        'rounded-xl border overflow-hidden my-3',\n        'bg-gradient-to-br',\n        colorMap[artifact.type]\n      )}\n    >\n      {/* Header */}\n      <div\n        className=\"flex items-center justify-between px-3 py-2 bg-black/20 cursor-pointer\"\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        <div className=\"flex items-center gap-2\">\n          <div className=\"p-1 rounded bg-white/10\">\n            {iconMap[artifact.type]}\n          </div>\n          <span className=\"text-sm font-medium\">{artifact.title}</span>\n          {artifact.language && (\n            <span className=\"px-2 py-0.5 rounded-full text-[10px] bg-white/10\">\n              {artifact.language}\n            </span>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-1\">\n          <button\n            onClick={(e) => { e.stopPropagation(); handleCopy(); }}\n            className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n            title=\"Copy to clipboard\"\n          >\n            {copied ? (\n              <Check className=\"w-3.5 h-3.5 text-green-400\" />\n            ) : (\n              <Copy className=\"w-3.5 h-3.5\" />\n            )}\n          </button>\n\n          {artifact.type === 'code' && (\n            <button\n              onClick={(e) => e.stopPropagation()}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n              title=\"Open in editor\"\n            >\n              <ExternalLink className=\"w-3.5 h-3.5\" />\n            </button>\n          )}\n\n          <button className=\"p-1 rounded hover:bg-white/10 transition-colors\">\n            {isExpanded ? (\n              <ChevronUp className=\"w-4 h-4\" />\n            ) : (\n              <ChevronDown className=\"w-4 h-4\" />\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      {isExpanded && (\n        <motion.div\n          initial={{ height: 0 }}\n          animate={{ height: 'auto' }}\n          exit={{ height: 0 }}\n          className=\"overflow-hidden\"\n        >\n          {artifact.type === 'code' ? (\n            <pre className=\"p-3 text-sm font-mono overflow-x-auto bg-black/30\">\n              <code className=\"text-green-300\">{artifact.content}</code>\n            </pre>\n          ) : (\n            <div className=\"p-3 text-sm\">\n              <p className=\"whitespace-pre-wrap\">{artifact.content}</p>\n            </div>\n          )}\n        </motion.div>\n      )}\n    </motion.div>\n  );\n}\n\n// Reference chip component for inline @mentions\nfunction ReferenceChip({\n  type,\n  name,\n}: {\n  type: string;\n  name: string;\n}) {\n  const colorMap: Record<string, string> = {\n    ticket: 'bg-amber-500/20 text-amber-300 border-amber-500/30',\n    prd: 'bg-pink-500/20 text-pink-300 border-pink-500/30',\n    project: 'bg-purple-500/20 text-purple-300 border-purple-500/30',\n    task: 'bg-blue-500/20 text-blue-300 border-blue-500/30',\n    memory: 'bg-indigo-500/20 text-indigo-300 border-indigo-500/30',\n    track: 'bg-red-500/20 text-red-300 border-red-500/30',\n    canvas: 'bg-green-500/20 text-green-300 border-green-500/30',\n  };\n\n  return (\n    <span\n      className={cn(\n        'inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs border cursor-pointer hover:opacity-80 transition-opacity',\n        colorMap[type] || 'bg-gray-500/20 text-gray-300 border-gray-500/30'\n      )}\n    >\n      <Ticket className=\"w-3 h-3\" />\n      {name}\n    </span>\n  );\n}\n\n// Main artifact renderer\nexport function ArtifactRenderer({ content, className }: ArtifactRendererProps) {\n  const { text, artifacts } = useMemo(() => parseArtifacts(content), [content]);\n\n  // Render text with inline references\n  const renderTextWithReferences = (text: string) => {\n    const referenceRegex = /@(ticket|prd|project|task|memory|track|canvas):([^\\s]+)/g;\n    const parts: (string | React.ReactNode)[] = [];\n    let lastIndex = 0;\n    let match;\n\n    while ((match = referenceRegex.exec(text)) !== null) {\n      // Add text before the match\n      if (match.index > lastIndex) {\n        parts.push(text.slice(lastIndex, match.index));\n      }\n\n      // Add the reference chip\n      parts.push(\n        <ReferenceChip\n          key={`ref-${match.index}`}\n          type={match[1]}\n          name={match[2]}\n        />\n      );\n\n      lastIndex = match.index + match[0].length;\n    }\n\n    // Add remaining text\n    if (lastIndex < text.length) {\n      parts.push(text.slice(lastIndex));\n    }\n\n    return parts.length > 0 ? parts : text;\n  };\n\n  return (\n    <div className={cn('artifact-renderer', className)}>\n      {/* Render artifacts if any */}\n      {artifacts.length > 0 && (\n        <div className=\"space-y-2\">\n          {artifacts.map((artifact, index) => (\n            <ArtifactCard key={`artifact-${index}`} artifact={artifact} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Export for use in chat messages\nexport function ChatMessageWithArtifacts({\n  content,\n  className,\n}: {\n  content: string;\n  className?: string;\n}) {\n  // Check if content has artifacts (code blocks or references)\n  const hasArtifacts = content.includes('```') || /@(ticket|prd|project|task|memory|track):/.test(content);\n\n  if (!hasArtifacts) {\n    return <span className={className}>{content}</span>;\n  }\n\n  return <ArtifactRenderer content={content} className={className} />;\n}\n\nexport default ArtifactRenderer;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3123, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/claw-ai/json-render-registry.tsx"],"sourcesContent":["/**\n * Claw AI Component Registry for json-render\n *\n * Maps catalog component types to actual React components.\n * All components receive props through ComponentRenderProps.\n */\n\n'use client';\n\nimport type { ComponentRegistry, ComponentRenderProps } from '@json-render/react';\nimport { cn } from '@/lib/utils';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { themes as allDesignThemes, getThemeLabel, isValidTheme } from '@/lib/themes/definitions';\nimport {\n  Sun,\n  Cloud,\n  CloudRain,\n  Wind,\n  Snowflake,\n  TrendingUp,\n  TrendingDown,\n  Minus,\n  ExternalLink,\n  X,\n  Check,\n  AlertCircle,\n  AlertTriangle,\n  Info,\n  Lightbulb,\n  ChevronRight,\n  Star,\n} from 'lucide-react';\nimport * as LucideIcons from 'lucide-react';\nimport type { LucideIcon } from 'lucide-react';\n\n// ============================================================================\n// HELPER COMPONENTS\n// ============================================================================\n\n// Get a Lucide icon by name\nfunction getIcon(name: string): LucideIcon | null {\n  const iconName = name\n    .split('-')\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\n    .join('');\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const icons = LucideIcons as unknown as Record<string, LucideIcon>;\n  return icons[iconName] || null;\n}\n\n// Gap class mapping\nconst gapClasses = {\n  none: 'gap-0',\n  xs: 'gap-1',\n  sm: 'gap-2',\n  md: 'gap-4',\n  lg: 'gap-6',\n  xl: 'gap-8',\n};\n\n// Size class mapping for icons\nconst iconSizeClasses = {\n  xs: 'w-3 h-3',\n  sm: 'w-4 h-4',\n  md: 'w-5 h-5',\n  lg: 'w-6 h-6',\n  xl: 'w-8 h-8',\n};\n\n// ============================================================================\n// TEXT COMPONENTS\n// ============================================================================\n\nfunction TextComponent({ element }: ComponentRenderProps) {\n  const { content, variant = 'body', className } = element.props as {\n    content: string;\n    variant?: 'body' | 'heading' | 'subheading' | 'caption' | 'code';\n    className?: string;\n  };\n\n  const variantClasses = {\n    body: 'text-sm text-white/80',\n    heading: 'text-lg font-semibold text-white',\n    subheading: 'text-base font-medium text-white/90',\n    caption: 'text-xs text-white/50',\n    code: 'font-mono text-sm text-amber-400 bg-white/5 px-1 rounded',\n  };\n\n  return <p className={cn(variantClasses[variant], className)}>{content}</p>;\n}\n\nfunction HeadingComponent({ element }: ComponentRenderProps) {\n  const { content, level = 'h2' } = element.props as {\n    content: string;\n    level?: 'h1' | 'h2' | 'h3' | 'h4';\n  };\n\n  const levelClasses = {\n    h1: 'text-2xl font-bold text-white',\n    h2: 'text-xl font-semibold text-white',\n    h3: 'text-lg font-medium text-white',\n    h4: 'text-base font-medium text-white/90',\n  };\n\n  const Tag = level;\n  return <Tag className={levelClasses[level]}>{content}</Tag>;\n}\n\n// ============================================================================\n// LAYOUT COMPONENTS\n// ============================================================================\n\nfunction CardComponent({ element, children }: ComponentRenderProps) {\n  const { title, description, variant = 'default' } = element.props as {\n    title?: string;\n    description?: string;\n    variant?: 'default' | 'elevated' | 'outlined' | 'ghost';\n  };\n\n  const variantClasses = {\n    default: 'bg-white/5 border border-white/10',\n    elevated: 'bg-white/10 border border-white/20 shadow-lg',\n    outlined: 'bg-transparent border-2 border-white/20',\n    ghost: 'bg-transparent',\n  };\n\n  return (\n    <div className={cn('rounded-xl p-4', variantClasses[variant])}>\n      {title && <h3 className=\"text-base font-semibold text-white mb-1\">{title}</h3>}\n      {description && <p className=\"text-sm text-white/60 mb-3\">{description}</p>}\n      {children}\n    </div>\n  );\n}\n\nfunction StackComponent({ element, children }: ComponentRenderProps) {\n  const {\n    direction = 'vertical',\n    gap = 'md',\n    align = 'stretch',\n    justify = 'start',\n  } = element.props as {\n    direction?: 'horizontal' | 'vertical';\n    gap?: keyof typeof gapClasses;\n    align?: 'start' | 'center' | 'end' | 'stretch';\n    justify?: 'start' | 'center' | 'end' | 'between' | 'around';\n  };\n\n  const alignClasses = {\n    start: 'items-start',\n    center: 'items-center',\n    end: 'items-end',\n    stretch: 'items-stretch',\n  };\n\n  const justifyClasses = {\n    start: 'justify-start',\n    center: 'justify-center',\n    end: 'justify-end',\n    between: 'justify-between',\n    around: 'justify-around',\n  };\n\n  return (\n    <div\n      className={cn(\n        'flex',\n        direction === 'horizontal' ? 'flex-row' : 'flex-col',\n        gapClasses[gap],\n        alignClasses[align],\n        justifyClasses[justify]\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n\nfunction GridComponent({ element, children }: ComponentRenderProps) {\n  const { columns = 2, gap = 'md' } = element.props as {\n    columns?: number;\n    gap?: keyof typeof gapClasses;\n  };\n\n  const columnClasses: Record<number, string> = {\n    1: 'grid-cols-1',\n    2: 'grid-cols-2',\n    3: 'grid-cols-3',\n    4: 'grid-cols-4',\n    5: 'grid-cols-5',\n    6: 'grid-cols-6',\n  };\n\n  return <div className={cn('grid', columnClasses[columns] || 'grid-cols-2', gapClasses[gap])}>{children}</div>;\n}\n\nfunction DividerComponent({ element }: ComponentRenderProps) {\n  const { orientation = 'horizontal' } = element.props as {\n    orientation?: 'horizontal' | 'vertical';\n  };\n\n  return (\n    <div\n      className={cn(\n        'bg-white/10',\n        orientation === 'horizontal' ? 'h-px w-full my-2' : 'w-px h-full mx-2'\n      )}\n    />\n  );\n}\n\n// ============================================================================\n// INTERACTIVE COMPONENTS\n// ============================================================================\n\nfunction ButtonComponent({ element }: ComponentRenderProps) {\n  const { label, variant = 'primary', size = 'md', disabled, icon, href } = element.props as {\n    label: string;\n    variant?: 'primary' | 'secondary' | 'ghost' | 'destructive';\n    size?: 'sm' | 'md' | 'lg';\n    disabled?: boolean;\n    icon?: string;\n    href?: string;\n  };\n\n  // Primary variant uses theme accent color for brand coherence\n  const variantStyles: Record<string, React.CSSProperties> = {\n    primary: { backgroundColor: 'hsl(var(--theme-primary))', color: 'hsl(var(--theme-primary-foreground))' },\n  };\n\n  const variantClasses = {\n    primary: 'hover:opacity-90',\n    secondary: 'bg-white/10 hover:bg-white/20 text-white',\n    ghost: 'bg-transparent hover:bg-white/10 text-white',\n    destructive: 'bg-red-500 hover:bg-red-600 text-white',\n  };\n\n  const sizeClasses = {\n    sm: 'px-2 py-1 text-xs',\n    md: 'px-3 py-1.5 text-sm',\n    lg: 'px-4 py-2 text-base',\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n\n  const buttonContent = (\n    <>\n      {Icon && <Icon className={iconSizeClasses[size === 'lg' ? 'md' : 'sm']} />}\n      {label}\n    </>\n  );\n\n  const className = cn(\n    'rounded-lg font-medium transition-colors inline-flex items-center gap-1.5',\n    variantClasses[variant],\n    sizeClasses[size],\n    disabled && 'opacity-50 cursor-not-allowed'\n  );\n\n  // If href is provided, render as a link\n  if (href) {\n    return (\n      <Link href={href} className={className} style={variantStyles[variant]}>\n        {buttonContent}\n      </Link>\n    );\n  }\n\n  return (\n    <button\n      className={className}\n      style={variantStyles[variant]}\n      disabled={disabled}\n    >\n      {buttonContent}\n    </button>\n  );\n}\n\nfunction LinkComponent({ element }: ComponentRenderProps) {\n  const { label, href, external } = element.props as {\n    label: string;\n    href: string;\n    external?: boolean;\n  };\n\n  if (external) {\n    return (\n      <a\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"text-amber-400 hover:text-amber-300 inline-flex items-center gap-1 text-sm\"\n      >\n        {label}\n        <ExternalLink className=\"w-3 h-3\" />\n      </a>\n    );\n  }\n\n  return (\n    <Link href={href} className=\"text-amber-400 hover:text-amber-300 text-sm\">\n      {label}\n    </Link>\n  );\n}\n\nfunction BadgeComponent({ element }: ComponentRenderProps) {\n  const { label, variant = 'default' } = element.props as {\n    label: string;\n    variant?: 'default' | 'success' | 'warning' | 'error' | 'info';\n  };\n\n  const variantClasses = {\n    default: 'bg-white/10 text-white/80',\n    success: 'bg-green-500/20 text-green-400',\n    warning: 'bg-yellow-500/20 text-yellow-400',\n    error: 'bg-red-500/20 text-red-400',\n    info: 'bg-blue-500/20 text-blue-400',\n  };\n\n  return (\n    <span className={cn('px-2 py-0.5 rounded-full text-xs font-medium', variantClasses[variant])}>\n      {label}\n    </span>\n  );\n}\n\nfunction TagComponent({ element }: ComponentRenderProps) {\n  const { label, color, removable } = element.props as {\n    label: string;\n    color?: string;\n    removable?: boolean;\n  };\n\n  return (\n    <span\n      className=\"px-2 py-0.5 rounded text-xs font-medium bg-white/10 text-white/80 inline-flex items-center gap-1\"\n      style={color ? { backgroundColor: `${color}20`, color } : undefined}\n    >\n      {label}\n      {removable && <X className=\"w-3 h-3 cursor-pointer hover:opacity-70\" />}\n    </span>\n  );\n}\n\n// ============================================================================\n// DATA DISPLAY COMPONENTS\n// ============================================================================\n\nfunction StatCardComponent({ element }: ComponentRenderProps) {\n  const { label, value, change, trend = 'neutral', icon } = element.props as {\n    label: string;\n    value: string | number;\n    change?: number;\n    trend?: 'up' | 'down' | 'neutral';\n    icon?: string;\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n  const TrendIcon = trend === 'up' ? TrendingUp : trend === 'down' ? TrendingDown : Minus;\n  const trendColor = trend === 'up' ? 'text-green-400' : trend === 'down' ? 'text-red-400' : 'text-white/50';\n\n  return (\n    <div className=\"bg-white/5 rounded-xl p-4 border border-white/10\">\n      <div className=\"flex items-start justify-between\">\n        <p className=\"text-xs text-white/50 uppercase tracking-wider\">{label}</p>\n        {Icon && <Icon className=\"w-4 h-4 text-white/30\" />}\n      </div>\n      <p className=\"text-2xl font-bold text-white mt-1\">{value}</p>\n      {change !== undefined && (\n        <div className={cn('flex items-center gap-1 mt-1 text-xs', trendColor)}>\n          <TrendIcon className=\"w-3 h-3\" />\n          <span>{Math.abs(change)}%</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction ProgressComponent({ element }: ComponentRenderProps) {\n  const { value, label, showValue, variant = 'default' } = element.props as {\n    value: number;\n    label?: string;\n    showValue?: boolean;\n    variant?: 'default' | 'success' | 'warning' | 'error';\n  };\n\n  const variantClasses = {\n    default: 'bg-amber-500',\n    success: 'bg-green-500',\n    warning: 'bg-yellow-500',\n    error: 'bg-red-500',\n  };\n\n  return (\n    <div className=\"space-y-1\">\n      {(label || showValue) && (\n        <div className=\"flex justify-between text-xs text-white/60\">\n          {label && <span>{label}</span>}\n          {showValue && <span>{value}%</span>}\n        </div>\n      )}\n      <div className=\"h-2 bg-white/10 rounded-full overflow-hidden\">\n        <div\n          className={cn('h-full rounded-full transition-all', variantClasses[variant])}\n          style={{ width: `${Math.min(100, Math.max(0, value))}%` }}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction AvatarComponent({ element }: ComponentRenderProps) {\n  const { src, alt, fallback, size = 'md' } = element.props as {\n    src?: string;\n    alt: string;\n    fallback?: string;\n    size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n  };\n\n  const sizeClasses = {\n    xs: 'w-6 h-6 text-xs',\n    sm: 'w-8 h-8 text-xs',\n    md: 'w-10 h-10 text-sm',\n    lg: 'w-12 h-12 text-base',\n    xl: 'w-16 h-16 text-lg',\n  };\n\n  if (src) {\n    return (\n      <div className={cn('rounded-full overflow-hidden bg-white/10', sizeClasses[size])}>\n        <Image src={src} alt={alt} width={64} height={64} className=\"w-full h-full object-cover\" />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={cn(\n        'rounded-full bg-amber-500/20 text-amber-400 flex items-center justify-center font-medium',\n        sizeClasses[size]\n      )}\n    >\n      {fallback || alt.charAt(0).toUpperCase()}\n    </div>\n  );\n}\n\nfunction IconComponent({ element }: ComponentRenderProps) {\n  const { name, size = 'md', color } = element.props as {\n    name: string;\n    size?: keyof typeof iconSizeClasses;\n    color?: string;\n  };\n\n  const Icon = getIcon(name);\n  if (!Icon) return null;\n\n  return <Icon className={cn(iconSizeClasses[size], 'text-white/60')} style={color ? { color } : undefined} />;\n}\n\n// ============================================================================\n// LIST COMPONENTS\n// ============================================================================\n\nfunction ListComponent({ element, children }: ComponentRenderProps) {\n  const { variant = 'unordered' } = element.props as {\n    variant?: 'unordered' | 'ordered' | 'none';\n  };\n\n  if (variant === 'ordered') {\n    return <ol className=\"space-y-1 list-decimal list-inside text-white/80 text-sm\">{children}</ol>;\n  }\n\n  return <ul className={cn('space-y-1 text-white/80 text-sm', variant !== 'none' && 'list-disc list-inside')}>{children}</ul>;\n}\n\nfunction ListItemComponent({ element }: ComponentRenderProps) {\n  const { content, icon } = element.props as {\n    content: string;\n    icon?: string;\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n\n  if (Icon) {\n    return (\n      <li className=\"flex items-start gap-2\">\n        <Icon className=\"w-4 h-4 text-amber-400 mt-0.5 shrink-0\" />\n        <span>{content}</span>\n      </li>\n    );\n  }\n\n  return <li>{content}</li>;\n}\n\n// ============================================================================\n// MEDIA COMPONENTS\n// ============================================================================\n\nfunction ImageComponent({ element }: ComponentRenderProps) {\n  const { src, alt, width, height, caption } = element.props as {\n    src: string;\n    alt: string;\n    width?: number;\n    height?: number;\n    caption?: string;\n  };\n\n  return (\n    <figure className=\"space-y-2\">\n      <div className=\"rounded-lg overflow-hidden bg-white/5\">\n        <Image\n          src={src}\n          alt={alt}\n          width={width || 400}\n          height={height || 300}\n          className=\"w-full h-auto object-cover\"\n        />\n      </div>\n      {caption && <figcaption className=\"text-xs text-white/50 text-center\">{caption}</figcaption>}\n    </figure>\n  );\n}\n\n// ============================================================================\n// CODE COMPONENTS\n// ============================================================================\n\nfunction CodeBlockComponent({ element }: ComponentRenderProps) {\n  const { code, language, showLineNumbers, title } = element.props as {\n    code: string;\n    language?: string;\n    showLineNumbers?: boolean;\n    title?: string;\n  };\n\n  const lines = code.split('\\n');\n\n  return (\n    <div className=\"rounded-lg bg-black/30 border border-white/10 overflow-hidden\">\n      {(title || language) && (\n        <div className=\"px-3 py-1.5 bg-white/5 border-b border-white/10 flex items-center justify-between\">\n          {title && <span className=\"text-xs text-white/60\">{title}</span>}\n          {language && <span className=\"text-xs text-white/40\">{language}</span>}\n        </div>\n      )}\n      <pre className=\"p-3 overflow-x-auto text-sm\">\n        <code className=\"text-white/80 font-mono\">\n          {showLineNumbers\n            ? lines.map((line, i) => (\n                <div key={i} className=\"flex\">\n                  <span className=\"text-white/30 select-none w-8 text-right pr-4\">{i + 1}</span>\n                  <span>{line}</span>\n                </div>\n              ))\n            : code}\n        </code>\n      </pre>\n    </div>\n  );\n}\n\nfunction InlineCodeComponent({ element }: ComponentRenderProps) {\n  const { code } = element.props as { code: string };\n  return <code className=\"font-mono text-sm text-amber-400 bg-white/5 px-1.5 py-0.5 rounded\">{code}</code>;\n}\n\n// ============================================================================\n// ALERT COMPONENTS\n// ============================================================================\n\nfunction AlertComponent({ element }: ComponentRenderProps) {\n  const { title, message, variant = 'info', dismissible } = element.props as {\n    title?: string;\n    message: string;\n    variant?: 'info' | 'success' | 'warning' | 'error';\n    dismissible?: boolean;\n  };\n\n  const variantConfig = {\n    info: { bg: 'bg-blue-500/10', border: 'border-blue-500/30', icon: Info, color: 'text-blue-400' },\n    success: { bg: 'bg-green-500/10', border: 'border-green-500/30', icon: Check, color: 'text-green-400' },\n    warning: { bg: 'bg-yellow-500/10', border: 'border-yellow-500/30', icon: AlertTriangle, color: 'text-yellow-400' },\n    error: { bg: 'bg-red-500/10', border: 'border-red-500/30', icon: AlertCircle, color: 'text-red-400' },\n  };\n\n  const config = variantConfig[variant];\n  const Icon = config.icon;\n\n  return (\n    <div className={cn('rounded-lg p-3 border flex gap-3', config.bg, config.border)}>\n      <Icon className={cn('w-5 h-5 shrink-0', config.color)} />\n      <div className=\"flex-1 min-w-0\">\n        {title && <p className={cn('font-medium text-sm', config.color)}>{title}</p>}\n        <p className=\"text-sm text-white/70\">{message}</p>\n      </div>\n      {dismissible && (\n        <button className=\"shrink-0 text-white/40 hover:text-white/60\">\n          <X className=\"w-4 h-4\" />\n        </button>\n      )}\n    </div>\n  );\n}\n\nfunction CalloutComponent({ element }: ComponentRenderProps) {\n  const { title, content, variant = 'note', icon: customIcon } = element.props as {\n    title?: string;\n    content: string;\n    variant?: 'note' | 'tip' | 'important' | 'warning' | 'caution';\n    icon?: string;\n  };\n\n  const variantConfig = {\n    note: { bg: 'bg-blue-500/10', border: 'border-blue-500/30', icon: Info, color: 'text-blue-400' },\n    tip: { bg: 'bg-green-500/10', border: 'border-green-500/30', icon: Lightbulb, color: 'text-green-400' },\n    important: { bg: 'bg-purple-500/10', border: 'border-purple-500/30', icon: AlertCircle, color: 'text-purple-400' },\n    warning: { bg: 'bg-yellow-500/10', border: 'border-yellow-500/30', icon: AlertTriangle, color: 'text-yellow-400' },\n    caution: { bg: 'bg-red-500/10', border: 'border-red-500/30', icon: AlertCircle, color: 'text-red-400' },\n  };\n\n  const config = variantConfig[variant];\n  const Icon = customIcon ? getIcon(customIcon) || config.icon : config.icon;\n\n  return (\n    <div className={cn('rounded-lg p-3 border-l-4', config.bg, config.border)}>\n      <div className=\"flex items-center gap-2 mb-1\">\n        <Icon className={cn('w-4 h-4', config.color)} />\n        {title && <span className={cn('font-medium text-sm', config.color)}>{title}</span>}\n      </div>\n      <p className=\"text-sm text-white/70\">{content}</p>\n    </div>\n  );\n}\n\n// ============================================================================\n// TABLE COMPONENT\n// ============================================================================\n\nfunction TableComponent({ element }: ComponentRenderProps) {\n  const { headers, rows, caption } = element.props as {\n    headers: string[];\n    rows: string[][];\n    caption?: string;\n  };\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full text-sm\">\n        {caption && <caption className=\"text-xs text-white/50 mb-2\">{caption}</caption>}\n        <thead>\n          <tr className=\"border-b border-white/10\">\n            {headers.map((header, i) => (\n              <th key={i} className=\"px-3 py-2 text-left text-xs text-white/50 font-medium uppercase\">\n                {header}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map((row, i) => (\n            <tr key={i} className=\"border-b border-white/5\">\n              {row.map((cell, j) => (\n                <td key={j} className=\"px-3 py-2 text-white/80\">\n                  {cell}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\n// ============================================================================\n// KEY-VALUE COMPONENTS\n// ============================================================================\n\nfunction KeyValueComponent({ element }: ComponentRenderProps) {\n  const { label, value } = element.props as { label: string; value: string };\n\n  return (\n    <div className=\"flex justify-between items-center py-1\">\n      <span className=\"text-xs text-white/50\">{label}</span>\n      <span className=\"text-sm text-white/80\">{value}</span>\n    </div>\n  );\n}\n\nfunction KeyValueListComponent({ element }: ComponentRenderProps) {\n  const { items, layout = 'vertical' } = element.props as {\n    items: Array<{ label: string; value: string }>;\n    layout?: 'horizontal' | 'vertical' | 'grid';\n  };\n\n  const layoutClasses = {\n    horizontal: 'flex flex-wrap gap-4',\n    vertical: 'space-y-2',\n    grid: 'grid grid-cols-2 gap-3',\n  };\n\n  return (\n    <div className={layoutClasses[layout]}>\n      {items.map((item, i) => (\n        <div key={i} className={layout === 'horizontal' ? 'flex items-center gap-2' : ''}>\n          <span className=\"text-xs text-white/50\">{item.label}:</span>\n          <span className=\"text-sm text-white/80\">{item.value}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// TIMELINE COMPONENTS\n// ============================================================================\n\nfunction TimelineComponent({ element, children }: ComponentRenderProps) {\n  const { variant = 'default' } = element.props as {\n    variant?: 'default' | 'compact';\n  };\n\n  return (\n    <div className={cn('relative pl-6', variant === 'compact' ? 'space-y-2' : 'space-y-4')}>\n      <div className=\"absolute left-2 top-2 bottom-2 w-0.5 bg-white/10\" />\n      {children}\n    </div>\n  );\n}\n\nfunction TimelineItemComponent({ element }: ComponentRenderProps) {\n  const { title, description, date, status = 'upcoming', icon } = element.props as {\n    title: string;\n    description?: string;\n    date?: string;\n    status?: 'completed' | 'current' | 'upcoming';\n    icon?: string;\n  };\n\n  const statusConfig = {\n    completed: { bg: 'bg-green-500', ring: 'ring-green-500/30' },\n    current: { bg: 'bg-amber-500', ring: 'ring-amber-500/30' },\n    upcoming: { bg: 'bg-white/30', ring: 'ring-white/10' },\n  };\n\n  const config = statusConfig[status];\n  const Icon = icon ? getIcon(icon) : null;\n\n  return (\n    <div className=\"relative\">\n      <div\n        className={cn(\n          'absolute -left-6 top-1 w-4 h-4 rounded-full ring-4 flex items-center justify-center',\n          config.bg,\n          config.ring\n        )}\n      >\n        {Icon && <Icon className=\"w-2.5 h-2.5 text-white\" />}\n      </div>\n      <div>\n        <div className=\"flex items-center gap-2\">\n          <h4 className=\"text-sm font-medium text-white\">{title}</h4>\n          {date && <span className=\"text-xs text-white/40\">{date}</span>}\n        </div>\n        {description && <p className=\"text-xs text-white/60 mt-0.5\">{description}</p>}\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// CHART COMPONENTS\n// ============================================================================\n\nfunction BarChartComponent({ element }: ComponentRenderProps) {\n  const { data, title, showValues, maxValue } = element.props as {\n    data: Array<{ label: string; value: number; color?: string }>;\n    title?: string;\n    showValues?: boolean;\n    maxValue?: number;\n  };\n\n  const max = maxValue || Math.max(...data.map((d) => d.value));\n\n  return (\n    <div className=\"space-y-3\">\n      {title && <h4 className=\"text-sm font-medium text-white\">{title}</h4>}\n      <div className=\"space-y-2\">\n        {data.map((item, i) => (\n          <div key={i} className=\"flex items-center gap-3\">\n            <span className=\"text-xs text-white/50 w-20 truncate\">{item.label}</span>\n            <div className=\"flex-1 h-5 bg-white/5 rounded overflow-hidden\">\n              <div\n                className=\"h-full rounded transition-all\"\n                style={{\n                  width: `${(item.value / max) * 100}%`,\n                  backgroundColor: item.color || '#f59e0b',\n                }}\n              />\n            </div>\n            {showValues && <span className=\"text-xs text-white/60 w-10 text-right\">{item.value}</span>}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction PieChartComponent({ element }: ComponentRenderProps) {\n  const { data, title, showLegend } = element.props as {\n    data: Array<{ label: string; value: number; color?: string }>;\n    title?: string;\n    showLegend?: boolean;\n  };\n\n  const total = data.reduce((sum, d) => sum + d.value, 0);\n  const defaultColors = ['#f59e0b', '#3b82f6', '#10b981', '#8b5cf6', '#ef4444', '#06b6d4'];\n\n  // Calculate segments for the pie chart (using CSS conic-gradient)\n  let currentAngle = 0;\n  const segments = data.map((d, i) => {\n    const angle = (d.value / total) * 360;\n    const segment = {\n      ...d,\n      color: d.color || defaultColors[i % defaultColors.length],\n      startAngle: currentAngle,\n      endAngle: currentAngle + angle,\n    };\n    currentAngle += angle;\n    return segment;\n  });\n\n  const gradient = segments\n    .map((s) => `${s.color} ${s.startAngle}deg ${s.endAngle}deg`)\n    .join(', ');\n\n  return (\n    <div className=\"space-y-3\">\n      {title && <h4 className=\"text-sm font-medium text-white text-center\">{title}</h4>}\n      <div className=\"flex items-center justify-center gap-6\">\n        <div\n          className=\"w-24 h-24 rounded-full\"\n          style={{ background: `conic-gradient(${gradient})` }}\n        />\n        {showLegend && (\n          <div className=\"space-y-1\">\n            {segments.map((s, i) => (\n              <div key={i} className=\"flex items-center gap-2\">\n                <div className=\"w-3 h-3 rounded-sm\" style={{ backgroundColor: s.color }} />\n                <span className=\"text-xs text-white/60\">{s.label}</span>\n                <span className=\"text-xs text-white/40\">({Math.round((s.value / total) * 100)}%)</span>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// PORTFOLIO-SPECIFIC COMPONENTS\n// ============================================================================\n\nfunction WeatherWidgetComponent({ element }: ComponentRenderProps) {\n  const { location, temperature, condition, humidity, windSpeed } = element.props as {\n    location: string;\n    temperature: number;\n    condition: 'sunny' | 'cloudy' | 'rainy' | 'windy' | 'snowy';\n    humidity?: number;\n    windSpeed?: number;\n  };\n\n  const conditionIcons = {\n    sunny: Sun,\n    cloudy: Cloud,\n    rainy: CloudRain,\n    windy: Wind,\n    snowy: Snowflake,\n  };\n\n  const Icon = conditionIcons[condition];\n\n  return (\n    <div className=\"bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl p-4 border border-white/10\">\n      <div className=\"flex items-start justify-between\">\n        <div>\n          <p className=\"text-xs text-white/50\">{location}</p>\n          <p className=\"text-3xl font-bold text-white\">{temperature}Â°F</p>\n          <p className=\"text-sm text-white/60 capitalize\">{condition}</p>\n        </div>\n        <Icon className=\"w-12 h-12 text-white/40\" />\n      </div>\n      {(humidity !== undefined || windSpeed !== undefined) && (\n        <div className=\"flex gap-4 mt-3 pt-3 border-t border-white/10\">\n          {humidity !== undefined && (\n            <div className=\"text-xs text-white/50\">\n              Humidity: <span className=\"text-white/80\">{humidity}%</span>\n            </div>\n          )}\n          {windSpeed !== undefined && (\n            <div className=\"text-xs text-white/50\">\n              Wind: <span className=\"text-white/80\">{windSpeed} mph</span>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction TaskCardComponent({ element }: ComponentRenderProps) {\n  const { title, description, status, priority = 'medium', tags, assignee, dueDate } = element.props as {\n    title: string;\n    description?: string;\n    status: 'todo' | 'in-progress' | 'done' | 'backlog';\n    priority?: 'low' | 'medium' | 'high' | 'urgent';\n    tags?: string[];\n    assignee?: string;\n    dueDate?: string;\n  };\n\n  const statusColors = {\n    todo: 'bg-gray-500',\n    'in-progress': 'bg-blue-500',\n    done: 'bg-green-500',\n    backlog: 'bg-purple-500',\n  };\n\n  const priorityColors = {\n    low: 'text-gray-400',\n    medium: 'text-yellow-400',\n    high: 'text-orange-400',\n    urgent: 'text-red-400',\n  };\n\n  return (\n    <div className=\"bg-white/5 rounded-lg p-3 border border-white/10\">\n      <div className=\"flex items-start gap-2\">\n        <div className={cn('w-2 h-2 rounded-full mt-1.5 shrink-0', statusColors[status])} />\n        <div className=\"flex-1 min-w-0\">\n          <h4 className=\"text-sm font-medium text-white truncate\">{title}</h4>\n          {description && <p className=\"text-xs text-white/50 mt-0.5 line-clamp-2\">{description}</p>}\n          {tags && tags.length > 0 && (\n            <div className=\"flex flex-wrap gap-1 mt-2\">\n              {tags.map((tag, i) => (\n                <span key={i} className=\"text-[10px] px-1.5 py-0.5 rounded bg-white/10 text-white/60\">\n                  {tag}\n                </span>\n              ))}\n            </div>\n          )}\n          <div className=\"flex items-center gap-3 mt-2 text-xs\">\n            <span className={priorityColors[priority]}>{priority}</span>\n            {assignee && <span className=\"text-white/40\">{assignee}</span>}\n            {dueDate && <span className=\"text-white/40\">{dueDate}</span>}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProjectCardComponent({ element }: ComponentRenderProps) {\n  const { title, description, technologies, url, image } = element.props as {\n    title: string;\n    description?: string;\n    technologies?: string[];\n    url?: string;\n    image?: string;\n  };\n\n  return (\n    <div className=\"bg-white/5 rounded-xl overflow-hidden border border-white/10\">\n      {image && (\n        <div className=\"aspect-video bg-white/5\">\n          <Image src={image} alt={title} width={400} height={225} className=\"w-full h-full object-cover\" />\n        </div>\n      )}\n      <div className=\"p-4\">\n        <h4 className=\"text-base font-semibold text-white\">{title}</h4>\n        {description && <p className=\"text-sm text-white/60 mt-1\">{description}</p>}\n        {technologies && technologies.length > 0 && (\n          <div className=\"flex flex-wrap gap-1 mt-3\">\n            {technologies.map((tech, i) => (\n              <span key={i} className=\"text-xs px-2 py-0.5 rounded bg-amber-500/20 text-amber-400\">\n                {tech}\n              </span>\n            ))}\n          </div>\n        )}\n        {url && (\n          <a\n            href={url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"inline-flex items-center gap-1 mt-3 text-sm text-amber-400 hover:text-amber-300\"\n          >\n            View project <ExternalLink className=\"w-3 h-3\" />\n          </a>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction WorkExperienceCardComponent({ element }: ComponentRenderProps) {\n  const { company, role, period, description, technologies, logo } = element.props as {\n    company: string;\n    role: string;\n    period: string;\n    description?: string;\n    technologies?: string[];\n    logo?: string;\n  };\n\n  return (\n    <div className=\"bg-white/5 rounded-xl p-4 border border-white/10\">\n      <div className=\"flex items-start gap-3\">\n        {logo ? (\n          <div className=\"w-10 h-10 rounded-lg overflow-hidden bg-white/10 shrink-0\">\n            <Image src={logo} alt={company} width={40} height={40} className=\"w-full h-full object-cover\" />\n          </div>\n        ) : (\n          <div className=\"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center shrink-0\">\n            <span className=\"text-amber-400 font-bold\">{company.charAt(0)}</span>\n          </div>\n        )}\n        <div className=\"flex-1 min-w-0\">\n          <h4 className=\"text-base font-semibold text-white\">{role}</h4>\n          <p className=\"text-sm text-white/60\">{company}</p>\n          <p className=\"text-xs text-white/40 mt-0.5\">{period}</p>\n        </div>\n      </div>\n      {description && <p className=\"text-sm text-white/60 mt-3\">{description}</p>}\n      {technologies && technologies.length > 0 && (\n        <div className=\"flex flex-wrap gap-1 mt-3\">\n          {technologies.map((tech, i) => (\n            <span key={i} className=\"text-xs px-2 py-0.5 rounded bg-white/10 text-white/60\">\n              {tech}\n            </span>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction ThemePreviewCardComponent({ element }: ComponentRenderProps) {\n  const { name, label } = element.props as { name: string; label: string };\n\n  return (\n    <Link\n      href={`/design/${name}`}\n      className=\"block bg-white/5 rounded-lg p-3 border border-white/10 hover:border-amber-500/50 transition-colors\"\n    >\n      <div className=\"flex items-center justify-between\">\n        <span className=\"text-sm text-white/80\">{label}</span>\n        <ChevronRight className=\"w-4 h-4 text-white/30\" />\n      </div>\n    </Link>\n  );\n}\n\nfunction PhotoGalleryComponent({ element }: ComponentRenderProps) {\n  const { photos } = element.props as {\n    photos: Array<{ id: string; src: string; alt: string; caption?: string }>;\n  };\n\n  return (\n    <div className=\"grid grid-cols-2 gap-2\">\n      {photos.slice(0, 6).map((photo) => (\n        <div key={photo.id} className=\"aspect-square rounded-lg overflow-hidden bg-white/5\">\n          <Image\n            src={photo.src}\n            alt={photo.alt}\n            width={200}\n            height={200}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction SkillBadgeComponent({ element }: ComponentRenderProps) {\n  const { name, level, icon } = element.props as {\n    name: string;\n    level?: 'beginner' | 'intermediate' | 'advanced' | 'expert';\n    icon?: string;\n  };\n\n  const levelColors = {\n    beginner: 'bg-gray-500/20 text-gray-400',\n    intermediate: 'bg-blue-500/20 text-blue-400',\n    advanced: 'bg-purple-500/20 text-purple-400',\n    expert: 'bg-amber-500/20 text-amber-400',\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n\n  return (\n    <span className={cn('inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium', level ? levelColors[level] : 'bg-white/10 text-white/80')}>\n      {Icon && <Icon className=\"w-3 h-3\" />}\n      {name}\n      {level && <span className=\"opacity-60\">â¢ {level}</span>}\n    </span>\n  );\n}\n\n// ============================================================================\n// UTILITY COMPONENTS\n// ============================================================================\n\nfunction EmptyStateComponent({ element }: ComponentRenderProps) {\n  const { title, message, icon, actionLabel } = element.props as {\n    title: string;\n    message?: string;\n    icon?: string;\n    actionLabel?: string;\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n\n  return (\n    <div className=\"text-center py-8\">\n      {Icon && (\n        <div className=\"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-3\">\n          <Icon className=\"w-6 h-6 text-white/30\" />\n        </div>\n      )}\n      <h4 className=\"text-sm font-medium text-white/80\">{title}</h4>\n      {message && <p className=\"text-xs text-white/50 mt-1\">{message}</p>}\n      {actionLabel && (\n        <button className=\"mt-4 text-xs text-amber-400 hover:text-amber-300\">{actionLabel}</button>\n      )}\n    </div>\n  );\n}\n\nfunction SkeletonComponent({ element }: ComponentRenderProps) {\n  const { variant = 'text', width, height, count = 1 } = element.props as {\n    variant?: 'text' | 'circular' | 'rectangular' | 'card';\n    width?: number | string;\n    height?: number | string;\n    count?: number;\n  };\n\n  const variantClasses = {\n    text: 'h-4 w-full rounded',\n    circular: 'w-10 h-10 rounded-full',\n    rectangular: 'w-full h-20 rounded-lg',\n    card: 'w-full h-32 rounded-xl',\n  };\n\n  const skeletons = Array(count).fill(0);\n\n  return (\n    <div className=\"space-y-2\">\n      {skeletons.map((_, i) => (\n        <div\n          key={i}\n          className={cn('bg-white/10 animate-pulse', variantClasses[variant])}\n          style={{\n            width: width || undefined,\n            height: height || undefined,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// FORM COMPONENTS\n// ============================================================================\n\nfunction InputComponent({ element }: ComponentRenderProps) {\n  const { label, placeholder, value, type = 'text', disabled, helperText } = element.props as {\n    label?: string;\n    placeholder?: string;\n    value?: string;\n    type?: string;\n    disabled?: boolean;\n    helperText?: string;\n  };\n\n  return (\n    <div className=\"space-y-1.5\">\n      {label && <label className=\"text-xs font-medium text-white/70\">{label}</label>}\n      <input\n        type={type}\n        placeholder={placeholder}\n        defaultValue={value}\n        disabled={disabled}\n        className={cn(\n          'w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white/90',\n          'placeholder:text-white/30 focus:outline-none focus:border-amber-500/50 focus:ring-1 focus:ring-amber-500/30',\n          disabled && 'opacity-50 cursor-not-allowed'\n        )}\n      />\n      {helperText && <p className=\"text-[10px] text-white/40\">{helperText}</p>}\n    </div>\n  );\n}\n\nfunction TextareaComponent({ element }: ComponentRenderProps) {\n  const { label, placeholder, value, rows = 3, disabled } = element.props as {\n    label?: string;\n    placeholder?: string;\n    value?: string;\n    rows?: number;\n    disabled?: boolean;\n  };\n\n  return (\n    <div className=\"space-y-1.5\">\n      {label && <label className=\"text-xs font-medium text-white/70\">{label}</label>}\n      <textarea\n        placeholder={placeholder}\n        defaultValue={value}\n        rows={rows}\n        disabled={disabled}\n        className={cn(\n          'w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white/90 resize-y',\n          'placeholder:text-white/30 focus:outline-none focus:border-amber-500/50 focus:ring-1 focus:ring-amber-500/30',\n          disabled && 'opacity-50 cursor-not-allowed'\n        )}\n      />\n    </div>\n  );\n}\n\nfunction SelectComponent({ element }: ComponentRenderProps) {\n  const { label, placeholder, value, options, disabled } = element.props as {\n    label?: string;\n    placeholder?: string;\n    value?: string;\n    options: Array<{ label: string; value: string }>;\n    disabled?: boolean;\n  };\n\n  return (\n    <div className=\"space-y-1.5\">\n      {label && <label className=\"text-xs font-medium text-white/70\">{label}</label>}\n      <select\n        defaultValue={value || ''}\n        disabled={disabled}\n        className={cn(\n          'w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white/90',\n          'focus:outline-none focus:border-amber-500/50 focus:ring-1 focus:ring-amber-500/30',\n          disabled && 'opacity-50 cursor-not-allowed'\n        )}\n      >\n        {placeholder && <option value=\"\" disabled>{placeholder}</option>}\n        {options?.map((opt, i) => (\n          <option key={i} value={opt.value} className=\"bg-zinc-900\">{opt.label}</option>\n        ))}\n      </select>\n    </div>\n  );\n}\n\nfunction CheckboxComponent({ element }: ComponentRenderProps) {\n  const { label, checked, disabled } = element.props as {\n    label: string;\n    checked?: boolean;\n    disabled?: boolean;\n  };\n\n  return (\n    <label className={cn('flex items-center gap-2 cursor-pointer', disabled && 'opacity-50 cursor-not-allowed')}>\n      <div className={cn(\n        'w-4 h-4 rounded border flex items-center justify-center transition-colors',\n        checked ? 'bg-amber-500 border-amber-500' : 'bg-white/5 border-white/20'\n      )}>\n        {checked && <Check className=\"w-3 h-3 text-black\" />}\n      </div>\n      <span className=\"text-sm text-white/80\">{label}</span>\n    </label>\n  );\n}\n\nfunction SwitchComponent({ element }: ComponentRenderProps) {\n  const { label, checked, disabled, description } = element.props as {\n    label: string;\n    checked?: boolean;\n    disabled?: boolean;\n    description?: string;\n  };\n\n  return (\n    <div className={cn('flex items-center justify-between gap-3', disabled && 'opacity-50')}>\n      <div>\n        <span className=\"text-sm text-white/80\">{label}</span>\n        {description && <p className=\"text-[10px] text-white/40\">{description}</p>}\n      </div>\n      <div className={cn(\n        'w-9 h-5 rounded-full transition-colors relative',\n        checked ? 'bg-amber-500' : 'bg-white/20'\n      )}>\n        <div className={cn(\n          'w-4 h-4 rounded-full bg-white absolute top-0.5 transition-all',\n          checked ? 'left-[18px]' : 'left-0.5'\n        )} />\n      </div>\n    </div>\n  );\n}\n\nfunction RadioGroupComponent({ element }: ComponentRenderProps) {\n  const { label, value, options, direction = 'vertical' } = element.props as {\n    label?: string;\n    value?: string;\n    options: Array<{ label: string; value: string; description?: string }>;\n    direction?: 'horizontal' | 'vertical';\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      {label && <span className=\"text-xs font-medium text-white/70\">{label}</span>}\n      <div className={cn('flex gap-3', direction === 'horizontal' ? 'flex-row flex-wrap' : 'flex-col')}>\n        {options?.map((opt, i) => (\n          <label key={i} className=\"flex items-start gap-2 cursor-pointer\">\n            <div className={cn(\n              'w-4 h-4 rounded-full border-2 flex items-center justify-center mt-0.5',\n              opt.value === value ? 'border-amber-500' : 'border-white/20'\n            )}>\n              {opt.value === value && <div className=\"w-2 h-2 rounded-full bg-amber-500\" />}\n            </div>\n            <div>\n              <span className=\"text-sm text-white/80\">{opt.label}</span>\n              {opt.description && <p className=\"text-[10px] text-white/40\">{opt.description}</p>}\n            </div>\n          </label>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction SliderComponent({ element }: ComponentRenderProps) {\n  const { label, value = 50, min = 0, max = 100, showValue } = element.props as {\n    label?: string;\n    value?: number;\n    min?: number;\n    max?: number;\n    step?: number;\n    showValue?: boolean;\n  };\n\n  const percent = ((value - min) / (max - min)) * 100;\n\n  return (\n    <div className=\"space-y-1.5\">\n      {(label || showValue) && (\n        <div className=\"flex justify-between text-xs text-white/60\">\n          {label && <span>{label}</span>}\n          {showValue && <span>{value}</span>}\n        </div>\n      )}\n      <div className=\"relative h-5 flex items-center\">\n        <div className=\"w-full h-1.5 bg-white/10 rounded-full\">\n          <div className=\"h-full bg-amber-500 rounded-full\" style={{ width: `${percent}%` }} />\n        </div>\n        <div\n          className=\"absolute w-4 h-4 bg-amber-500 rounded-full border-2 border-amber-600 shadow-lg\"\n          style={{ left: `calc(${percent}% - 8px)` }}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction FormComponent({ element, children }: ComponentRenderProps) {\n  const { title, description } = element.props as { title?: string; description?: string };\n\n  return (\n    <div className=\"space-y-4 bg-white/5 rounded-xl p-4 border border-white/10\">\n      {title && <h3 className=\"text-base font-semibold text-white\">{title}</h3>}\n      {description && <p className=\"text-sm text-white/60\">{description}</p>}\n      <div className=\"space-y-3\">{children}</div>\n    </div>\n  );\n}\n\n// ============================================================================\n// NAVIGATION COMPONENTS\n// ============================================================================\n\nfunction TabsComponent({ element, children }: ComponentRenderProps) {\n  const { variant = 'default' } = element.props as {\n    activeTab?: string;\n    variant?: 'default' | 'pills' | 'underline';\n  };\n\n  const variantClasses = {\n    default: 'border-b border-white/10',\n    pills: 'bg-white/5 rounded-lg p-1',\n    underline: 'border-b-2 border-white/5',\n  };\n\n  return <div className={cn('', variantClasses[variant])}>{children}</div>;\n}\n\nfunction TabComponent({ element }: ComponentRenderProps) {\n  const { label, icon } = element.props as {\n    id: string;\n    label: string;\n    icon?: string;\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n\n  return (\n    <button className=\"inline-flex items-center gap-1.5 px-3 py-2 text-sm text-white/60 hover:text-white/80 border-b-2 border-transparent hover:border-amber-500/50 transition-colors\">\n      {Icon && <Icon className=\"w-3.5 h-3.5\" />}\n      {label}\n    </button>\n  );\n}\n\nfunction TabContentComponent({ children }: ComponentRenderProps) {\n  return <div className=\"py-3\">{children}</div>;\n}\n\nfunction BreadcrumbComponent({ element }: ComponentRenderProps) {\n  const { items, separator = '/' } = element.props as {\n    items: Array<{ label: string; href?: string }>;\n    separator?: string;\n  };\n\n  return (\n    <nav className=\"flex items-center gap-1.5 text-xs text-white/50\">\n      {items?.map((item, i) => (\n        <span key={i} className=\"flex items-center gap-1.5\">\n          {i > 0 && <span className=\"text-white/20\">{separator}</span>}\n          {item.href ? (\n            <Link href={item.href} className=\"hover:text-white/80 transition-colors\">{item.label}</Link>\n          ) : (\n            <span className=\"text-white/80\">{item.label}</span>\n          )}\n        </span>\n      ))}\n    </nav>\n  );\n}\n\nfunction PaginationComponent({ element }: ComponentRenderProps) {\n  const { currentPage, totalPages, showPageNumbers } = element.props as {\n    currentPage: number;\n    totalPages: number;\n    showPageNumbers?: boolean;\n  };\n\n  return (\n    <div className=\"flex items-center justify-center gap-2\">\n      <button className=\"px-2 py-1 rounded text-xs text-white/50 hover:text-white/80 disabled:opacity-30\" disabled={currentPage <= 1}>\n        Prev\n      </button>\n      {showPageNumbers && Array.from({ length: Math.min(totalPages, 5) }, (_, i) => {\n        const page = i + 1;\n        return (\n          <button\n            key={page}\n            className={cn(\n              'w-7 h-7 rounded text-xs transition-colors',\n              page === currentPage ? 'bg-amber-500 text-black' : 'text-white/50 hover:text-white/80'\n            )}\n          >\n            {page}\n          </button>\n        );\n      })}\n      {!showPageNumbers && <span className=\"text-xs text-white/50\">{currentPage} / {totalPages}</span>}\n      <button className=\"px-2 py-1 rounded text-xs text-white/50 hover:text-white/80 disabled:opacity-30\" disabled={currentPage >= totalPages}>\n        Next\n      </button>\n    </div>\n  );\n}\n\nfunction StepperComponent({ element }: ComponentRenderProps) {\n  const { steps, orientation = 'horizontal' } = element.props as {\n    steps: Array<{ label: string; description?: string; status?: 'completed' | 'current' | 'upcoming' }>;\n    orientation?: 'horizontal' | 'vertical';\n  };\n\n  const statusConfig = {\n    completed: { bg: 'bg-green-500', text: 'text-green-400' },\n    current: { bg: 'bg-amber-500', text: 'text-amber-400' },\n    upcoming: { bg: 'bg-white/20', text: 'text-white/40' },\n  };\n\n  return (\n    <div className={cn('flex gap-2', orientation === 'vertical' ? 'flex-col' : 'flex-row items-center')}>\n      {steps?.map((step, i) => {\n        const config = statusConfig[step.status || 'upcoming'];\n        return (\n          <div key={i} className={cn('flex items-center gap-2', orientation === 'horizontal' && 'flex-1')}>\n            <div className={cn('w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium', config.bg, step.status === 'completed' ? 'text-white' : 'text-black')}>\n              {step.status === 'completed' ? <Check className=\"w-3 h-3\" /> : i + 1}\n            </div>\n            <div className=\"min-w-0\">\n              <p className={cn('text-xs font-medium', config.text)}>{step.label}</p>\n              {step.description && <p className=\"text-[10px] text-white/30\">{step.description}</p>}\n            </div>\n            {orientation === 'horizontal' && i < steps.length - 1 && (\n              <div className=\"flex-1 h-0.5 bg-white/10 mx-2\" />\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// ============================================================================\n// EXTENDED LAYOUT COMPONENTS\n// ============================================================================\n\nfunction AccordionComponent({ children }: ComponentRenderProps) {\n  return <div className=\"space-y-1\">{children}</div>;\n}\n\nfunction AccordionItemComponent({ element, children }: ComponentRenderProps) {\n  const { title, subtitle, icon } = element.props as {\n    title: string;\n    subtitle?: string;\n    defaultOpen?: boolean;\n    icon?: string;\n  };\n\n  const Icon = icon ? getIcon(icon) : null;\n\n  return (\n    <details className=\"group bg-white/5 rounded-lg border border-white/10 overflow-hidden\">\n      <summary className=\"flex items-center justify-between px-3 py-2.5 cursor-pointer select-none list-none\">\n        <div className=\"flex items-center gap-2\">\n          {Icon && <Icon className=\"w-4 h-4 text-white/40\" />}\n          <div>\n            <span className=\"text-sm font-medium text-white/90\">{title}</span>\n            {subtitle && <p className=\"text-[10px] text-white/40\">{subtitle}</p>}\n          </div>\n        </div>\n        <ChevronRight className=\"w-4 h-4 text-white/30 transition-transform group-open:rotate-90\" />\n      </summary>\n      <div className=\"px-3 pb-3 pt-1\">{children}</div>\n    </details>\n  );\n}\n\nfunction DialogComponent({ element, children }: ComponentRenderProps) {\n  const { title, description } = element.props as {\n    title: string;\n    description?: string;\n    open?: boolean;\n  };\n\n  return (\n    <div className=\"bg-white/5 border border-white/20 rounded-xl p-4 shadow-2xl\">\n      <h3 className=\"text-base font-semibold text-white\">{title}</h3>\n      {description && <p className=\"text-sm text-white/50 mt-1\">{description}</p>}\n      <div className=\"mt-3\">{children}</div>\n    </div>\n  );\n}\n\nfunction DrawerComponent({ element, children }: ComponentRenderProps) {\n  const { title, description, side = 'right' } = element.props as {\n    title: string;\n    description?: string;\n    side?: 'left' | 'right' | 'top' | 'bottom';\n  };\n\n  const sideClasses = {\n    left: 'border-r',\n    right: 'border-l',\n    top: 'border-b',\n    bottom: 'border-t',\n  };\n\n  return (\n    <div className={cn('bg-white/5 border-white/10 p-4', sideClasses[side])}>\n      <h3 className=\"text-base font-semibold text-white\">{title}</h3>\n      {description && <p className=\"text-sm text-white/50 mt-1\">{description}</p>}\n      <div className=\"mt-3\">{children}</div>\n    </div>\n  );\n}\n\nfunction TooltipComponent({ element, children }: ComponentRenderProps) {\n  const { content } = element.props as { content: string; side?: string };\n\n  return (\n    <div className=\"relative group inline-block\">\n      {children}\n      <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-zinc-800 border border-white/10 rounded text-xs text-white/80 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\n        {content}\n      </div>\n    </div>\n  );\n}\n\nfunction SeparatorComponent({ element }: ComponentRenderProps) {\n  const { label, variant = 'solid' } = element.props as {\n    label?: string;\n    variant?: 'solid' | 'dashed' | 'dotted';\n  };\n\n  const variantClasses = {\n    solid: 'border-solid',\n    dashed: 'border-dashed',\n    dotted: 'border-dotted',\n  };\n\n  if (label) {\n    return (\n      <div className=\"flex items-center gap-3 my-3\">\n        <div className={cn('flex-1 border-t border-white/10', variantClasses[variant])} />\n        <span className=\"text-xs text-white/40\">{label}</span>\n        <div className={cn('flex-1 border-t border-white/10', variantClasses[variant])} />\n      </div>\n    );\n  }\n\n  return <div className={cn('border-t border-white/10 my-3', variantClasses[variant])} />;\n}\n\n// ============================================================================\n// MORE DATA VISUALIZATION\n// ============================================================================\n\nfunction LineChartComponent({ element }: ComponentRenderProps) {\n  const { data, title, showDots, showGrid, color = '#f59e0b' } = element.props as {\n    data: Array<{ label: string; value: number }>;\n    title?: string;\n    showDots?: boolean;\n    showGrid?: boolean;\n    color?: string;\n  };\n\n  if (!data || data.length < 2) return null;\n\n  const max = Math.max(...data.map(d => d.value));\n  const min = Math.min(...data.map(d => d.value));\n  const range = max - min || 1;\n  const width = 300;\n  const height = 120;\n  const padding = 20;\n\n  const points = data.map((d, i) => ({\n    x: padding + (i / (data.length - 1)) * (width - 2 * padding),\n    y: padding + (1 - (d.value - min) / range) * (height - 2 * padding),\n  }));\n\n  const pathD = points.map((p, i) => `${i === 0 ? 'M' : 'L'} ${p.x} ${p.y}`).join(' ');\n\n  return (\n    <div className=\"space-y-2\">\n      {title && <h4 className=\"text-sm font-medium text-white\">{title}</h4>}\n      <svg viewBox={`0 0 ${width} ${height}`} className=\"w-full h-auto\">\n        {showGrid && Array.from({ length: 4 }, (_, i) => (\n          <line key={i} x1={padding} x2={width - padding} y1={padding + (i / 3) * (height - 2 * padding)} y2={padding + (i / 3) * (height - 2 * padding)} stroke=\"rgba(255,255,255,0.05)\" />\n        ))}\n        <path d={pathD} fill=\"none\" stroke={color} strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n        {showDots && points.map((p, i) => (\n          <circle key={i} cx={p.x} cy={p.y} r={3} fill={color} />\n        ))}\n      </svg>\n      <div className=\"flex justify-between text-[10px] text-white/30 px-1\">\n        {data.map((d, i) => i === 0 || i === data.length - 1 ? <span key={i}>{d.label}</span> : <span key={i} />)}\n      </div>\n    </div>\n  );\n}\n\nfunction SparklineComponent({ element }: ComponentRenderProps) {\n  const { data, color = '#f59e0b', height = 24, showArea } = element.props as {\n    data: number[];\n    color?: string;\n    height?: number;\n    showArea?: boolean;\n  };\n\n  if (!data || data.length < 2) return null;\n\n  const max = Math.max(...data);\n  const min = Math.min(...data);\n  const range = max - min || 1;\n  const width = 100;\n\n  const points = data.map((v, i) => ({\n    x: (i / (data.length - 1)) * width,\n    y: (1 - (v - min) / range) * height,\n  }));\n\n  const pathD = points.map((p, i) => `${i === 0 ? 'M' : 'L'} ${p.x} ${p.y}`).join(' ');\n  const areaD = pathD + ` L ${width} ${height} L 0 ${height} Z`;\n\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`} className=\"w-full\" style={{ height }}>\n      {showArea && <path d={areaD} fill={color} opacity={0.1} />}\n      <path d={pathD} fill=\"none\" stroke={color} strokeWidth={1.5} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n    </svg>\n  );\n}\n\nfunction DonutChartComponent({ element }: ComponentRenderProps) {\n  const { data, title, centerLabel, centerValue } = element.props as {\n    data: Array<{ label: string; value: number; color?: string }>;\n    title?: string;\n    centerLabel?: string;\n    centerValue?: string;\n  };\n\n  const total = data.reduce((sum, d) => sum + d.value, 0);\n  const defaultColors = ['#f59e0b', '#3b82f6', '#10b981', '#8b5cf6', '#ef4444', '#06b6d4'];\n\n  let currentAngle = 0;\n  const segments = data.map((d, i) => {\n    const angle = (d.value / total) * 360;\n    const segment = {\n      ...d,\n      color: d.color || defaultColors[i % defaultColors.length],\n      startAngle: currentAngle,\n      endAngle: currentAngle + angle,\n    };\n    currentAngle += angle;\n    return segment;\n  });\n\n  const gradient = segments.map(s => `${s.color} ${s.startAngle}deg ${s.endAngle}deg`).join(', ');\n\n  return (\n    <div className=\"space-y-3\">\n      {title && <h4 className=\"text-sm font-medium text-white text-center\">{title}</h4>}\n      <div className=\"flex items-center justify-center gap-6\">\n        <div className=\"relative w-24 h-24\">\n          <div className=\"w-full h-full rounded-full\" style={{ background: `conic-gradient(${gradient})` }} />\n          <div className=\"absolute inset-3 rounded-full bg-zinc-900 flex flex-col items-center justify-center\">\n            {centerValue && <span className=\"text-sm font-bold text-white\">{centerValue}</span>}\n            {centerLabel && <span className=\"text-[9px] text-white/40\">{centerLabel}</span>}\n          </div>\n        </div>\n        <div className=\"space-y-1\">\n          {segments.map((s, i) => (\n            <div key={i} className=\"flex items-center gap-2\">\n              <div className=\"w-2.5 h-2.5 rounded-sm\" style={{ backgroundColor: s.color }} />\n              <span className=\"text-xs text-white/60\">{s.label}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction DataTableComponent({ element }: ComponentRenderProps) {\n  const { headers, rows, striped, compact, caption } = element.props as {\n    headers: Array<{ key: string; label: string; align?: 'left' | 'center' | 'right' }>;\n    rows: Array<Record<string, string>>;\n    striped?: boolean;\n    compact?: boolean;\n    caption?: string;\n  };\n\n  const alignClasses = { left: 'text-left', center: 'text-center', right: 'text-right' };\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full text-sm\">\n        {caption && <caption className=\"text-xs text-white/50 mb-2\">{caption}</caption>}\n        <thead>\n          <tr className=\"border-b border-white/10\">\n            {headers?.map((h, i) => (\n              <th key={i} className={cn('px-3 text-xs text-white/50 font-medium uppercase', compact ? 'py-1' : 'py-2', alignClasses[h.align || 'left'])}>\n                {h.label}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {rows?.map((row, i) => (\n            <tr key={i} className={cn('border-b border-white/5', striped && i % 2 === 1 && 'bg-white/[0.02]')}>\n              {headers?.map((h, j) => (\n                <td key={j} className={cn('px-3 text-white/80', compact ? 'py-1' : 'py-2', alignClasses[h.align || 'left'])}>\n                  {row[h.key] || ''}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\n// ============================================================================\n// FEEDBACK COMPONENTS\n// ============================================================================\n\nfunction SpinnerComponent({ element }: ComponentRenderProps) {\n  const { size = 'md', label } = element.props as { size?: string; label?: string };\n\n  const sizeClasses: Record<string, string> = { xs: 'w-3 h-3', sm: 'w-4 h-4', md: 'w-6 h-6', lg: 'w-8 h-8' };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className={cn('border-2 border-white/10 border-t-amber-500 rounded-full animate-spin', sizeClasses[size] || sizeClasses.md)} />\n      {label && <span className=\"text-xs text-white/50\">{label}</span>}\n    </div>\n  );\n}\n\nfunction RatingComponent({ element }: ComponentRenderProps) {\n  const { value, maxValue = 5, label, size = 'md' } = element.props as {\n    value: number;\n    maxValue?: number;\n    label?: string;\n    size?: 'sm' | 'md' | 'lg';\n  };\n\n  const sizeClasses = { sm: 'w-3 h-3', md: 'w-4 h-4', lg: 'w-5 h-5' };\n  const StarIcon = getIcon('star') || Star;\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"flex gap-0.5\">\n        {Array.from({ length: maxValue }, (_, i) => (\n          <StarIcon\n            key={i}\n            className={cn(sizeClasses[size], i < value ? 'text-amber-400 fill-amber-400' : 'text-white/20')}\n          />\n        ))}\n      </div>\n      {label && <span className=\"text-xs text-white/50\">{label}</span>}\n    </div>\n  );\n}\n\n// ============================================================================\n// RICH CONTENT COMPONENTS\n// ============================================================================\n\nfunction BlockquoteComponent({ element }: ComponentRenderProps) {\n  const { content, author, source } = element.props as {\n    content: string;\n    author?: string;\n    source?: string;\n  };\n\n  return (\n    <blockquote className=\"border-l-2 border-amber-500/50 pl-4 py-1\">\n      <p className=\"text-sm text-white/80 italic\">{content}</p>\n      {(author || source) && (\n        <footer className=\"mt-1.5 text-xs text-white/40\">\n          {author && <span>{author}</span>}\n          {author && source && <span> â </span>}\n          {source && <cite>{source}</cite>}\n        </footer>\n      )}\n    </blockquote>\n  );\n}\n\nfunction MarkdownComponent({ element }: ComponentRenderProps) {\n  const { content } = element.props as { content: string };\n\n  // Simple markdown rendering (bold, italic, code, links)\n  const rendered = content\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong class=\"font-semibold text-white\">$1</strong>')\n    .replace(/\\*(.*?)\\*/g, '<em class=\"italic\">$1</em>')\n    .replace(/`(.*?)`/g, '<code class=\"font-mono text-xs text-amber-400 bg-white/5 px-1 rounded\">$1</code>')\n    .replace(/\\n/g, '<br />');\n\n  return <div className=\"text-sm text-white/80 prose-invert\" dangerouslySetInnerHTML={{ __html: rendered }} />;\n}\n\nfunction MetricRowComponent({ element }: ComponentRenderProps) {\n  const { metrics } = element.props as {\n    metrics: Array<{ label: string; value: string | number; change?: number; trend?: 'up' | 'down' | 'neutral'; icon?: string }>;\n  };\n\n  return (\n    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n      {metrics?.map((m, i) => {\n        const Icon = m.icon ? getIcon(m.icon) : null;\n        const trendColor = m.trend === 'up' ? 'text-green-400' : m.trend === 'down' ? 'text-red-400' : 'text-white/40';\n        return (\n          <div key={i} className=\"bg-white/5 rounded-lg p-3 border border-white/10\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-[10px] text-white/40 uppercase tracking-wider\">{m.label}</span>\n              {Icon && <Icon className=\"w-3.5 h-3.5 text-white/20\" />}\n            </div>\n            <p className=\"text-lg font-bold text-white mt-0.5\">{m.value}</p>\n            {m.change !== undefined && (\n              <span className={cn('text-[10px]', trendColor)}>\n                {m.change > 0 ? '+' : ''}{m.change}%\n              </span>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction AvatarGroupComponent({ element }: ComponentRenderProps) {\n  const { avatars, max = 5, size = 'md' } = element.props as {\n    avatars: Array<{ src?: string; alt: string; fallback?: string }>;\n    max?: number;\n    size?: 'xs' | 'sm' | 'md' | 'lg';\n  };\n\n  const sizeClasses = { xs: 'w-6 h-6 text-[8px]', sm: 'w-8 h-8 text-xs', md: 'w-10 h-10 text-sm', lg: 'w-12 h-12 text-base' };\n  const visible = avatars?.slice(0, max) || [];\n  const remaining = (avatars?.length || 0) - max;\n\n  return (\n    <div className=\"flex -space-x-2\">\n      {visible.map((a, i) => (\n        <div key={i} className={cn('rounded-full border-2 border-zinc-900 bg-amber-500/20 text-amber-400 flex items-center justify-center font-medium', sizeClasses[size])}>\n          {a.src ? (\n            <Image src={a.src} alt={a.alt} width={40} height={40} className=\"w-full h-full rounded-full object-cover\" />\n          ) : (\n            a.fallback || a.alt.charAt(0).toUpperCase()\n          )}\n        </div>\n      ))}\n      {remaining > 0 && (\n        <div className={cn('rounded-full border-2 border-zinc-900 bg-white/10 text-white/60 flex items-center justify-center font-medium', sizeClasses[size])}>\n          +{remaining}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction CountdownComponent({ element }: ComponentRenderProps) {\n  const { targetDate, label, showDays = true, showHours = true, showMinutes = true, showSeconds = true } = element.props as {\n    targetDate: string;\n    label?: string;\n    showDays?: boolean;\n    showHours?: boolean;\n    showMinutes?: boolean;\n    showSeconds?: boolean;\n  };\n\n  const target = new Date(targetDate);\n  const now = new Date();\n  const diff = Math.max(0, target.getTime() - now.getTime());\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((diff % (1000 * 60)) / 1000);\n\n  const units = [\n    showDays && { value: days, label: 'Days' },\n    showHours && { value: hours, label: 'Hours' },\n    showMinutes && { value: minutes, label: 'Min' },\n    showSeconds && { value: seconds, label: 'Sec' },\n  ].filter(Boolean) as Array<{ value: number; label: string }>;\n\n  return (\n    <div className=\"text-center space-y-2\">\n      {label && <p className=\"text-xs text-white/50\">{label}</p>}\n      <div className=\"flex justify-center gap-3\">\n        {units.map((u, i) => (\n          <div key={i} className=\"bg-white/5 rounded-lg px-3 py-2 border border-white/10 min-w-[48px]\">\n            <p className=\"text-xl font-bold text-white tabular-nums\">{String(u.value).padStart(2, '0')}</p>\n            <p className=\"text-[9px] text-white/40 uppercase\">{u.label}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction ToggleGroupComponent({ element }: ComponentRenderProps) {\n  const { options, value } = element.props as {\n    options: Array<{ label: string; value: string; icon?: string }>;\n    value?: string;\n    allowMultiple?: boolean;\n  };\n\n  return (\n    <div className=\"inline-flex bg-white/5 rounded-lg p-0.5 border border-white/10\">\n      {options?.map((opt, i) => {\n        const Icon = opt.icon ? getIcon(opt.icon) : null;\n        const isActive = opt.value === value;\n        return (\n          <button\n            key={i}\n            className={cn(\n              'inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors',\n              isActive ? 'bg-amber-500 text-black' : 'text-white/60 hover:text-white/80'\n            )}\n          >\n            {Icon && <Icon className=\"w-3.5 h-3.5\" />}\n            {opt.label}\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n\n// ============================================================================\n// DESIGN GALLERY / THEME COMPONENTS\n// ============================================================================\n\n/** Map theme tokens to CSS variable references */\nfunction resolveThemeColor(color: string): string {\n  const tokenMap: Record<string, string> = {\n    primary: 'hsl(var(--theme-primary))',\n    'primary-foreground': 'hsl(var(--theme-primary-foreground))',\n    secondary: 'hsl(var(--theme-secondary))',\n    accent: 'hsl(var(--theme-accent))',\n    background: 'hsl(var(--theme-background))',\n    foreground: 'hsl(var(--theme-foreground))',\n    muted: 'hsl(var(--theme-muted))',\n    border: 'hsl(var(--theme-border))',\n    card: 'hsl(var(--theme-card))',\n  };\n  return tokenMap[color] || color;\n}\n\nfunction ColorSwatchComponent({ element }: ComponentRenderProps) {\n  const { color, label, size = 'md', showHex } = element.props as {\n    color: string;\n    label?: string;\n    size?: 'sm' | 'md' | 'lg';\n    showHex?: boolean;\n  };\n\n  const sizeClasses = { sm: 'w-8 h-8', md: 'w-12 h-12', lg: 'w-16 h-16' };\n  const resolved = resolveThemeColor(color);\n\n  return (\n    <div className=\"flex flex-col items-center gap-1\">\n      <div\n        className={cn('rounded-lg border border-white/10 shadow-sm', sizeClasses[size])}\n        style={{ backgroundColor: resolved }}\n      />\n      {label && <span className=\"text-[10px] text-white/50\">{label}</span>}\n      {showHex && <span className=\"text-[9px] font-mono text-white/30\">{color}</span>}\n    </div>\n  );\n}\n\nfunction ColorPaletteComponent({ element }: ComponentRenderProps) {\n  const { colors, title, layout = 'row' } = element.props as {\n    colors: Array<{ color: string; label: string }>;\n    title?: string;\n    layout?: 'row' | 'grid';\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      {title && <h4 className=\"text-sm font-medium\" style={{ color: 'hsl(var(--theme-foreground))' }}>{title}</h4>}\n      <div className={cn(\n        layout === 'grid' ? 'grid grid-cols-4 gap-3' : 'flex gap-3 flex-wrap'\n      )}>\n        {colors?.map((c, i) => {\n          const resolved = resolveThemeColor(c.color);\n          return (\n            <div key={i} className=\"flex flex-col items-center gap-1\">\n              <div\n                className=\"w-12 h-12 rounded-lg border border-white/10 shadow-sm\"\n                style={{ backgroundColor: resolved }}\n              />\n              <span className=\"text-[10px] text-white/50\">{c.label}</span>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction DesignThemeCardComponent({ element }: ComponentRenderProps) {\n  const { themeName, headline, tagline, font, colors, showApplyButton } = element.props as {\n    themeName: string;\n    headline?: string;\n    tagline?: string;\n    font?: string;\n    colors?: { primary?: string; secondary?: string; accent?: string; background?: string };\n    showApplyButton?: boolean;\n  };\n\n  const isValid = isValidTheme(themeName);\n  const label = isValid ? getThemeLabel(themeName) : themeName;\n\n  return (\n    <div\n      className=\"rounded-xl border overflow-hidden\"\n      data-design-theme={themeName}\n      style={{\n        borderColor: 'hsl(var(--theme-border))',\n        backgroundColor: 'hsl(var(--theme-card))',\n      }}\n    >\n      {/* Color bar */}\n      <div className=\"h-2 flex\">\n        {colors?.primary && <div className=\"flex-1\" style={{ backgroundColor: colors.primary }} />}\n        {colors?.accent && <div className=\"flex-1\" style={{ backgroundColor: colors.accent }} />}\n        {colors?.secondary && <div className=\"flex-1\" style={{ backgroundColor: colors.secondary }} />}\n        {!colors && <div className=\"flex-1\" style={{ background: 'hsl(var(--theme-primary))' }} />}\n      </div>\n\n      <div className=\"p-4 space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-base font-bold\" style={{ color: 'hsl(var(--theme-foreground))' }}>{label}</h3>\n          <span className=\"text-[10px] font-mono px-2 py-0.5 rounded-full\" style={{ backgroundColor: 'hsl(var(--theme-muted))', color: 'hsl(var(--theme-muted-foreground))' }}>\n            {themeName}\n          </span>\n        </div>\n\n        {headline && <p className=\"text-sm font-medium\" style={{ color: 'hsl(var(--theme-foreground))' }}>{headline}</p>}\n        {tagline && <p className=\"text-xs\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{tagline}</p>}\n        {font && (\n          <div className=\"flex items-center gap-1.5\">\n            <span className=\"text-[10px] uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Font:</span>\n            <span className=\"text-xs font-medium\" style={{ color: 'hsl(var(--theme-foreground))' }}>{font}</span>\n          </div>\n        )}\n\n        {/* Mini color swatches */}\n        {colors && (\n          <div className=\"flex gap-1.5 pt-1\">\n            {Object.entries(colors).map(([key, value]) => value && (\n              <div key={key} className=\"flex flex-col items-center gap-0.5\">\n                <div className=\"w-6 h-6 rounded-md border border-white/10\" style={{ backgroundColor: value }} />\n                <span className=\"text-[8px] text-white/30\">{key}</span>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {showApplyButton && isValid && (\n          <Link\n            href={`/design/${themeName}`}\n            className=\"block w-full mt-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors text-center\"\n            style={{\n              backgroundColor: 'hsl(var(--theme-primary))',\n              color: 'hsl(var(--theme-primary-foreground))',\n            }}\n          >\n            Apply {label}\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ThemeGridComponent({ element }: ComponentRenderProps) {\n  const { themes, columns = 3 } = element.props as {\n    themes: Array<{\n      themeName: string;\n      label: string;\n      headline?: string;\n      colors?: { primary?: string; accent?: string; background?: string };\n    }>;\n    columns?: number;\n  };\n\n  const gridCols: Record<number, string> = { 1: 'grid-cols-1', 2: 'grid-cols-2', 3: 'grid-cols-3', 4: 'grid-cols-4' };\n\n  return (\n    <div className={cn('grid gap-3', gridCols[columns] || 'grid-cols-3')}>\n      {themes?.map((t, i) => (\n        <Link\n          key={i}\n          href={`/design?theme=${t.themeName}`}\n          className=\"group rounded-xl overflow-hidden border border-white/10 hover:border-white/20 transition-all hover:scale-[1.02]\"\n        >\n          {/* Color preview bar */}\n          <div className=\"h-16 relative flex\">\n            <div className=\"flex-1\" style={{ backgroundColor: t.colors?.background || '#1a1a1a' }} />\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"flex gap-1\">\n                {t.colors?.primary && <div className=\"w-5 h-5 rounded-full shadow-lg\" style={{ backgroundColor: t.colors.primary }} />}\n                {t.colors?.accent && <div className=\"w-5 h-5 rounded-full shadow-lg\" style={{ backgroundColor: t.colors.accent }} />}\n              </div>\n            </div>\n          </div>\n          <div className=\"px-3 py-2 bg-white/5\">\n            <p className=\"text-xs font-medium text-white/80\">{t.label}</p>\n            {t.headline && <p className=\"text-[10px] text-white/40 truncate\">{t.headline}</p>}\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\nfunction ThemeShowcaseComponent({ element, children }: ComponentRenderProps) {\n  const { themeName, showColorTokens, showTypography, showComponents } = element.props as {\n    themeName: string;\n    showColorTokens?: boolean;\n    showTypography?: boolean;\n    showComponents?: boolean;\n  };\n\n  const isValid = isValidTheme(themeName);\n  const label = isValid ? getThemeLabel(themeName) : themeName;\n\n  const colorTokens = [\n    { name: 'Background', var: '--theme-background' },\n    { name: 'Foreground', var: '--theme-foreground' },\n    { name: 'Primary', var: '--theme-primary' },\n    { name: 'Secondary', var: '--theme-secondary' },\n    { name: 'Accent', var: '--theme-accent' },\n    { name: 'Muted', var: '--theme-muted' },\n    { name: 'Border', var: '--theme-border' },\n    { name: 'Card', var: '--theme-card' },\n  ];\n\n  return (\n    <div\n      className=\"rounded-xl border overflow-hidden\"\n      data-design-theme={themeName}\n      style={{\n        borderColor: 'hsl(var(--theme-border))',\n        backgroundColor: 'hsl(var(--theme-background))',\n        color: 'hsl(var(--theme-foreground))',\n        fontFamily: 'var(--theme-font)',\n      }}\n    >\n      {/* Header */}\n      <div className=\"px-4 py-3 border-b\" style={{ borderColor: 'hsl(var(--theme-border))' }}>\n        <h3 className=\"text-lg font-bold\" style={{ fontFamily: 'var(--theme-font-heading)' }}>{label}</h3>\n        <p className=\"text-xs\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Design Theme: {themeName}</p>\n      </div>\n\n      <div className=\"p-4 space-y-4\">\n        {/* Color tokens */}\n        {showColorTokens && (\n          <div className=\"space-y-2\">\n            <h4 className=\"text-xs font-semibold uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Color Tokens</h4>\n            <div className=\"grid grid-cols-4 gap-2\">\n              {colorTokens.map((token) => (\n                <div key={token.var} className=\"flex flex-col items-center gap-1\">\n                  <div\n                    className=\"w-full h-8 rounded-md border\"\n                    style={{ backgroundColor: `hsl(var(${token.var}))`, borderColor: 'hsl(var(--theme-border))' }}\n                  />\n                  <span className=\"text-[9px]\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{token.name}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Typography */}\n        {showTypography && (\n          <div className=\"space-y-2\">\n            <h4 className=\"text-xs font-semibold uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Typography</h4>\n            <div className=\"space-y-1\">\n              <p className=\"text-2xl font-bold\" style={{ fontFamily: 'var(--theme-font-heading)' }}>Heading Text</p>\n              <p className=\"text-base\" style={{ fontFamily: 'var(--theme-font)' }}>Body text in the theme&apos;s primary font. This is how regular content appears.</p>\n              <p className=\"text-sm\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Muted secondary text for supporting content.</p>\n            </div>\n          </div>\n        )}\n\n        {/* Sample components */}\n        {showComponents && (\n          <div className=\"space-y-2\">\n            <h4 className=\"text-xs font-semibold uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Components</h4>\n            <div className=\"flex gap-2 flex-wrap\">\n              <button className=\"px-3 py-1.5 rounded-lg text-xs font-medium\" style={{ backgroundColor: 'hsl(var(--theme-primary))', color: 'hsl(var(--theme-primary-foreground))' }}>\n                Primary\n              </button>\n              <button className=\"px-3 py-1.5 rounded-lg text-xs font-medium\" style={{ backgroundColor: 'hsl(var(--theme-secondary))', color: 'hsl(var(--theme-secondary-foreground))' }}>\n                Secondary\n              </button>\n              <button className=\"px-3 py-1.5 rounded-lg text-xs border font-medium\" style={{ borderColor: 'hsl(var(--theme-border))', color: 'hsl(var(--theme-foreground))' }}>\n                Outlined\n              </button>\n              <span className=\"px-2 py-0.5 rounded-full text-[10px] font-medium\" style={{ backgroundColor: 'hsl(var(--theme-accent))', color: 'hsl(var(--theme-accent-foreground))' }}>\n                Badge\n              </span>\n            </div>\n            <div className=\"p-3 rounded-lg border\" style={{ borderColor: 'hsl(var(--theme-border))', backgroundColor: 'hsl(var(--theme-card))' }}>\n              <p className=\"text-sm font-medium\" style={{ color: 'hsl(var(--theme-card-foreground))' }}>Sample Card</p>\n              <p className=\"text-xs mt-1\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>This card uses the theme&apos;s card tokens.</p>\n            </div>\n          </div>\n        )}\n\n        {/* Custom children */}\n        {children}\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// FALLBACK COMPONENT\n// ============================================================================\n\nfunction FallbackComponent({ element }: ComponentRenderProps) {\n  return (\n    <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-3\">\n      <p className=\"text-xs text-red-400\">Unknown component type: {element.type}</p>\n      <pre className=\"text-xs text-white/40 mt-1 overflow-auto\">\n        {JSON.stringify(element.props, null, 2)}\n      </pre>\n    </div>\n  );\n}\n\n// ============================================================================\n// COMPONENT REGISTRY\n// ============================================================================\n\nexport const clawAIRegistry: ComponentRegistry = {\n  // Text\n  text: TextComponent,\n  heading: HeadingComponent,\n\n  // Layout\n  card: CardComponent,\n  stack: StackComponent,\n  grid: GridComponent,\n  divider: DividerComponent,\n\n  // Interactive\n  button: ButtonComponent,\n  link: LinkComponent,\n  badge: BadgeComponent,\n  tag: TagComponent,\n\n  // Data display\n  statCard: StatCardComponent,\n  progress: ProgressComponent,\n  avatar: AvatarComponent,\n  icon: IconComponent,\n\n  // Lists\n  list: ListComponent,\n  listItem: ListItemComponent,\n\n  // Media\n  image: ImageComponent,\n\n  // Code\n  codeBlock: CodeBlockComponent,\n  inlineCode: InlineCodeComponent,\n\n  // Alerts\n  alert: AlertComponent,\n  callout: CalloutComponent,\n\n  // Table\n  table: TableComponent,\n\n  // Key-value\n  keyValue: KeyValueComponent,\n  keyValueList: KeyValueListComponent,\n\n  // Timeline\n  timeline: TimelineComponent,\n  timelineItem: TimelineItemComponent,\n\n  // Charts\n  barChart: BarChartComponent,\n  pieChart: PieChartComponent,\n\n  // Portfolio-specific\n  weatherWidget: WeatherWidgetComponent,\n  taskCard: TaskCardComponent,\n  projectCard: ProjectCardComponent,\n  workExperienceCard: WorkExperienceCardComponent,\n  themePreviewCard: ThemePreviewCardComponent,\n  photoGallery: PhotoGalleryComponent,\n  skillBadge: SkillBadgeComponent,\n\n  // Utility\n  emptyState: EmptyStateComponent,\n  skeleton: SkeletonComponent,\n\n  // Form components\n  input: InputComponent,\n  textarea: TextareaComponent,\n  select: SelectComponent,\n  checkbox: CheckboxComponent,\n  switch: SwitchComponent,\n  radioGroup: RadioGroupComponent,\n  slider: SliderComponent,\n  form: FormComponent,\n\n  // Navigation components\n  tabs: TabsComponent,\n  tab: TabComponent,\n  tabContent: TabContentComponent,\n  breadcrumb: BreadcrumbComponent,\n  pagination: PaginationComponent,\n  stepper: StepperComponent,\n\n  // Extended layout\n  accordion: AccordionComponent,\n  accordionItem: AccordionItemComponent,\n  dialog: DialogComponent,\n  drawer: DrawerComponent,\n  tooltip: TooltipComponent,\n  separator: SeparatorComponent,\n\n  // More data visualization\n  lineChart: LineChartComponent,\n  sparkline: SparklineComponent,\n  donutChart: DonutChartComponent,\n  dataTable: DataTableComponent,\n\n  // Feedback\n  spinner: SpinnerComponent,\n  rating: RatingComponent,\n\n  // Rich content\n  blockquote: BlockquoteComponent,\n  markdown: MarkdownComponent,\n  metricRow: MetricRowComponent,\n  avatarGroup: AvatarGroupComponent,\n  countdown: CountdownComponent,\n  toggleGroup: ToggleGroupComponent,\n\n  // Design Gallery / Theme components\n  colorSwatch: ColorSwatchComponent,\n  colorPalette: ColorPaletteComponent,\n  designThemeCard: DesignThemeCardComponent,\n  themeGrid: ThemeGridComponent,\n  themeShowcase: ThemeShowcaseComponent,\n};\n\nexport const fallbackRenderer = FallbackComponent;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7695, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/claw-ai/json-render-provider.tsx"],"sourcesContent":["/**\n * Claw AI JSON Render Provider\n *\n * Provides the json-render context for Claw AI chat.\n * Wraps JSONUIProvider with our catalog and registry.\n */\n\n'use client';\n\nimport { ReactNode } from 'react';\nimport { JSONUIProvider, Renderer } from '@json-render/react';\nimport type { UIElement, Spec } from '@json-render/core';\nimport { useRouter } from 'next/navigation';\nimport { clawAIRegistry, fallbackRenderer } from './json-render-registry';\nimport { isValidTheme } from '@/lib/themes/definitions';\nimport { useDesignThemeSafe } from '@/context/DesignThemeContext';\n\n/**\n * UITree structure for AI-generated UI\n * Alias for Spec from @json-render/core with optional data field\n */\nexport interface UITree {\n  root: string;\n  elements: Record<string, UIElement>;\n  data?: Record<string, unknown>;\n  state?: Record<string, unknown>;\n}\n\ninterface ClawAIJsonRenderProviderProps {\n  children: ReactNode;\n}\n\n/**\n * Provider for Claw AI JSON rendering capabilities\n */\nexport function ClawAIJsonRenderProvider({\n  children,\n}: ClawAIJsonRenderProviderProps) {\n  const router = useRouter();\n  const { setDesignTheme } = useDesignThemeSafe();\n\n  // Action handlers for the provider\n  const actionHandlers = {\n    navigate: async (params: Record<string, unknown>) => {\n      const path = params.path as string;\n      if (path) {\n        router.push(path);\n      }\n    },\n    openUrl: async (params: Record<string, unknown>) => {\n      const url = params.url as string;\n      const newTab = params.newTab as boolean;\n      if (url) {\n        if (newTab) {\n          window.open(url, '_blank');\n        } else {\n          window.location.href = url;\n        }\n      }\n    },\n    showToast: async (params: Record<string, unknown>) => {\n      // For now, just log - could integrate with a toast library\n    },\n    applyTheme: async (params: Record<string, unknown>) => {\n      const themeName = params.themeName as string;\n      if (themeName && isValidTheme(themeName)) {\n        setDesignTheme(themeName);\n      }\n    },\n  };\n\n  return (\n    <JSONUIProvider\n      registry={clawAIRegistry}\n      actionHandlers={actionHandlers}\n      navigate={(path) => router.push(path)}\n    >\n      {children}\n    </JSONUIProvider>\n  );\n}\n\ninterface ClawAIUIRendererProps {\n  tree: UITree | null;\n  loading?: boolean;\n}\n\n/**\n * Renderer component for Claw AI UI trees\n */\nexport function ClawAIUIRenderer({ tree, loading }: ClawAIUIRendererProps) {\n  if (!tree) return null;\n\n  // Convert UITree to Spec format (use state or data)\n  const spec: Spec = {\n    root: tree.root,\n    elements: tree.elements,\n    state: tree.state ?? tree.data,\n  };\n\n  return (\n    <Renderer\n      spec={spec}\n      registry={clawAIRegistry}\n      loading={loading}\n      fallback={fallbackRenderer}\n    />\n  );\n}\n\n/**\n * Validate and parse a UI tree from JSON\n */\nexport function parseUITree(json: unknown): UITree | null {\n  if (!json || typeof json !== 'object') return null;\n\n  const tree = json as UITree;\n  if (!tree.root || !tree.elements || typeof tree.elements !== 'object') {\n    return null;\n  }\n\n  return tree;\n}\n"],"names":[],"mappings":";;;;;;;;;AAUA;AAEA;AACA;AACA;AACA;;;AAfA;;;;;CAKC,GAED;;;;;;AA4BO,SAAS,yBAAyB,EACvC,QAAQ,EACsB;;IAC9B,MAAM,SAAS,IAAA,2VAAS;IACxB,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,8JAAkB;IAE7C,mCAAmC;IACnC,MAAM,iBAAiB;QACrB,UAAU,OAAO;YACf,MAAM,OAAO,OAAO,IAAI;YACxB,IAAI,MAAM;gBACR,OAAO,IAAI,CAAC;YACd;QACF;QACA,SAAS,OAAO;YACd,MAAM,MAAM,OAAO,GAAG;YACtB,MAAM,SAAS,OAAO,MAAM;YAC5B,IAAI,KAAK;gBACP,IAAI,QAAQ;oBACV,OAAO,IAAI,CAAC,KAAK;gBACnB,OAAO;oBACL,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACzB;YACF;QACF;QACA,WAAW,OAAO;QAChB,2DAA2D;QAC7D;QACA,YAAY,OAAO;YACjB,MAAM,YAAY,OAAO,SAAS;YAClC,IAAI,aAAa,IAAA,sJAAY,EAAC,YAAY;gBACxC,eAAe;YACjB;QACF;IACF;IAEA,qBACE,sYAAC,+SAAc;QACb,UAAU,4KAAc;QACxB,gBAAgB;QAChB,UAAU,CAAC,OAAS,OAAO,IAAI,CAAC;kBAE/B;;;;;;AAGP;GA7CgB;;QAGC,2VAAS;QACG,8JAAkB;;;KAJ/B;AAuDT,SAAS,iBAAiB,EAAE,IAAI,EAAE,OAAO,EAAyB;IACvE,IAAI,CAAC,MAAM,OAAO;IAElB,oDAAoD;IACpD,MAAM,OAAa;QACjB,MAAM,KAAK,IAAI;QACf,UAAU,KAAK,QAAQ;QACvB,OAAO,KAAK,KAAK,IAAI,KAAK,IAAI;IAChC;IAEA,qBACE,sYAAC,ySAAQ;QACP,MAAM;QACN,UAAU,4KAAc;QACxB,SAAS;QACT,UAAU,8KAAgB;;;;;;AAGhC;MAlBgB;AAuBT,SAAS,YAAY,IAAa;IACvC,IAAI,CAAC,QAAQ,OAAO,SAAS,UAAU,OAAO;IAE9C,MAAM,OAAO;IACb,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,QAAQ,IAAI,OAAO,KAAK,QAAQ,KAAK,UAAU;QACrE,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 7811, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/tpmjs/client.ts"],"sourcesContent":["/**\n * TPMJS Client - Minimal implementation for tool provider selector\n * Full implementation would connect to TPMJS registry API\n */\n\nexport interface TPMJSTool {\n  toolId?: string;\n  packageName: string;\n  toolName: string;\n  name: string;\n  description: string;\n  category?: string;\n  qualityScore?: number;\n}\n\nexport interface TPMJSSearchResult {\n  tools: TPMJSTool[];\n  total: number;\n}\n\nexport interface TPMJSConfig {\n  apiUrl?: string;\n  executorUrl?: string;\n  executorApiKey?: string;\n}\n\nclass TPMJSClient {\n  private apiUrl: string;\n  private executorUrl: string;\n  private executorApiKey?: string;\n\n  constructor(config: TPMJSConfig = {}) {\n    this.apiUrl = config.apiUrl || 'https://tpmjs.com';\n    this.executorUrl = config.executorUrl || 'https://executor.tpmjs.com';\n    this.executorApiKey = config.executorApiKey;\n  }\n\n  async searchTools(\n    query: string,\n    options?: { category?: string; limit?: number }\n  ): Promise<TPMJSSearchResult> {\n    // Stub implementation - would call actual TPMJS API\n    // For now, return empty results\n    return {\n      tools: [],\n      total: 0,\n    };\n  }\n\n  async executeTool(\n    toolId: string,\n    params: Record<string, unknown>,\n    env?: Record<string, string>\n  ): Promise<unknown> {\n    // Stub implementation\n    throw new Error('TPMJS executor not configured');\n  }\n\n  async checkExecutorHealth(): Promise<{ healthy: boolean; version?: string; error?: string }> {\n    // Stub implementation\n    return { healthy: false, error: 'Not configured' };\n  }\n}\n\nlet _client: TPMJSClient | null = null;\n\nexport function getTPMJSClient(): TPMJSClient {\n  if (!_client) {\n    _client = new TPMJSClient({\n      apiUrl: process.env.NEXT_PUBLIC_TPMJS_API_URL,\n      executorUrl: process.env.NEXT_PUBLIC_TPMJS_EXECUTOR_URL,\n      executorApiKey: process.env.NEXT_PUBLIC_TPMJS_EXECUTOR_API_KEY,\n    });\n  }\n  return _client;\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAkEa;AA3Cd,MAAM;IACI,OAAe;IACf,YAAoB;IACpB,eAAwB;IAEhC,YAAY,SAAsB,CAAC,CAAC,CAAE;QACpC,IAAI,CAAC,MAAM,GAAG,OAAO,MAAM,IAAI;QAC/B,IAAI,CAAC,WAAW,GAAG,OAAO,WAAW,IAAI;QACzC,IAAI,CAAC,cAAc,GAAG,OAAO,cAAc;IAC7C;IAEA,MAAM,YACJ,KAAa,EACb,OAA+C,EACnB;QAC5B,oDAAoD;QACpD,gCAAgC;QAChC,OAAO;YACL,OAAO,EAAE;YACT,OAAO;QACT;IACF;IAEA,MAAM,YACJ,MAAc,EACd,MAA+B,EAC/B,GAA4B,EACV;QAClB,sBAAsB;QACtB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,sBAAuF;QAC3F,sBAAsB;QACtB,OAAO;YAAE,SAAS;YAAO,OAAO;QAAiB;IACnD;AACF;AAEA,IAAI,UAA8B;AAE3B,SAAS;IACd,IAAI,CAAC,SAAS;QACZ,UAAU,IAAI,YAAY;YACxB,QAAQ,oXAAO,CAAC,GAAG,CAAC,yBAAyB;YAC7C,aAAa,oXAAO,CAAC,GAAG,CAAC,8BAA8B;YACvD,gBAAgB,oXAAO,CAAC,GAAG,CAAC,kCAAkC;QAChE;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 7866, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/claw-ai/ToolProviderSelector.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  Wrench,\n  Search,\n  Calendar,\n  Palette,\n  CloudSun,\n  FolderKanban,\n  Image as ImageIcon,\n  Boxes,\n  Brain,\n  MessageSquare,\n  Code,\n  GitBranch,\n  Package,\n  HeartPulse,\n  X,\n  Check,\n  Sparkles,\n} from 'lucide-react';\nimport { getTPMJSClient, type TPMJSTool } from '@/lib/tpmjs/client';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type ToolProvider = 'legacy' | 'tpmjs';\n\nexport interface SelectedTool {\n  name: string;\n  provider: ToolProvider;\n}\n\ninterface ToolProviderSelectorProps {\n  selectedTools: SelectedTool[];\n  onToolsChange: (tools: SelectedTool[]) => void;\n  className?: string;\n}\n\n// ============================================================================\n// Legacy Tool Groups (curated from CLAW_AI_TOOLS)\n// ============================================================================\n\ninterface ToolGroup {\n  label: string;\n  icon: typeof Search;\n  tools: { name: string; label: string; description: string }[];\n}\n\nconst LEGACY_TOOL_GROUPS: ToolGroup[] = [\n  {\n    label: 'Portfolio',\n    icon: Search,\n    tools: [\n      { name: 'search_portfolio', label: 'Search Portfolio', description: 'Search projects, skills, and experience' },\n      { name: 'navigate_to', label: 'Navigate', description: 'Route to any page in OpenClaw-OS' },\n      { name: 'list_themes', label: 'List Themes', description: 'Browse 50+ design themes' },\n      { name: 'open_search_app', label: 'Open Search', description: 'Full-text search interface' },\n    ],\n  },\n  {\n    label: 'Scheduling',\n    icon: Calendar,\n    tools: [\n      { name: 'schedule_call', label: 'Schedule Call', description: 'Open Calendly with topic' },\n      { name: 'get_available_times', label: 'Available Times', description: 'Query open calendar slots' },\n      { name: 'book_meeting', label: 'Book Meeting', description: 'Create a meeting' },\n    ],\n  },\n  {\n    label: 'Rich UI',\n    icon: Boxes,\n    tools: [\n      { name: 'render_ui', label: 'Render UI', description: 'Generate custom interface trees' },\n      { name: 'show_weather', label: 'Weather', description: 'Live weather widget' },\n      { name: 'show_kanban_tasks', label: 'Kanban', description: 'Task board view' },\n      { name: 'show_photos', label: 'Photos', description: 'Photo gallery display' },\n    ],\n  },\n  {\n    label: 'Memory',\n    icon: Brain,\n    tools: [\n      { name: 'remember', label: 'Remember', description: 'Search episodic memories' },\n      { name: 'recall_preference', label: 'Recall', description: 'Query semantic memory' },\n      { name: 'memorize', label: 'Memorize', description: 'Store new memories' },\n      { name: 'learn', label: 'Learn', description: 'Create semantic knowledge' },\n    ],\n  },\n  {\n    label: 'Product',\n    icon: FolderKanban,\n    tools: [\n      { name: 'create_project', label: 'Create Project', description: 'Start a product initiative' },\n      { name: 'create_prd', label: 'Create PRD', description: 'Product requirements document' },\n      { name: 'create_ticket', label: 'Create Ticket', description: 'BMAD user story' },\n      { name: 'update_ticket', label: 'Update Ticket', description: 'Modify ticket status' },\n    ],\n  },\n  {\n    label: 'Code',\n    icon: Code,\n    tools: [\n      { name: 'read_file', label: 'Read File', description: 'Read file contents' },\n      { name: 'write_file', label: 'Write File', description: 'Create or update files' },\n      { name: 'run_command', label: 'Run Command', description: 'Execute shell commands' },\n      { name: 'search_codebase', label: 'Search Code', description: 'Full codebase search' },\n    ],\n  },\n  {\n    label: 'Git',\n    icon: GitBranch,\n    tools: [\n      { name: 'git_status', label: 'Git Status', description: 'Current repo state' },\n      { name: 'git_diff', label: 'Git Diff', description: 'View file changes' },\n      { name: 'git_commit', label: 'Git Commit', description: 'Commit staged changes' },\n      { name: 'create_branch', label: 'Create Branch', description: 'New git branch' },\n    ],\n  },\n  {\n    label: 'Channels',\n    icon: MessageSquare,\n    tools: [\n      { name: 'send_channel_message', label: 'Send Message', description: 'Send via channel' },\n      { name: 'list_channel_integrations', label: 'List Channels', description: 'View connected platforms' },\n      { name: 'search_channel_messages', label: 'Search Messages', description: 'Find channel messages' },\n    ],\n  },\n  {\n    label: 'Canvas',\n    icon: Palette,\n    tools: [\n      { name: 'create_canvas', label: 'Create Canvas', description: 'New design workspace' },\n      { name: 'generate_on_canvas', label: 'Generate', description: 'AI generation on canvas' },\n      { name: 'list_canvases', label: 'List Canvases', description: 'Browse canvases' },\n    ],\n  },\n];\n\n// ============================================================================\n// TPMJS categories for browsing\n// ============================================================================\n\nconst TPMJS_CATEGORIES = [\n  { id: 'web-scraping', label: 'Web Scraping', icon: Search },\n  { id: 'search-engines', label: 'Search', icon: Search },\n  { id: 'ai-models', label: 'AI Models', icon: Sparkles },\n  { id: 'data-processing', label: 'Data', icon: Code },\n  { id: 'image-processing', label: 'Images', icon: ImageIcon },\n  { id: 'weather', label: 'Weather', icon: CloudSun },\n  { id: 'translation', label: 'Translation', icon: MessageSquare },\n  { id: 'utilities', label: 'Utilities', icon: Wrench },\n];\n\n// ============================================================================\n// Component\n// ============================================================================\n\nexport function ToolProviderSelector({\n  selectedTools,\n  onToolsChange,\n  className = '',\n}: ToolProviderSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [activeProvider, setActiveProvider] = useState<ToolProvider>('legacy');\n  const [tpmjsSearch, setTpmjsSearch] = useState('');\n  const [tpmjsResults, setTpmjsResults] = useState<\n    { toolId: string; name: string; description: string; category: string; qualityScore: number }[]\n  >([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const panelRef = useRef<HTMLDivElement>(null);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n\n  // Close on click outside\n  useEffect(() => {\n    if (!isOpen) return;\n    function handleClick(e: MouseEvent) {\n      if (\n        panelRef.current &&\n        !panelRef.current.contains(e.target as Node) &&\n        triggerRef.current &&\n        !triggerRef.current.contains(e.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    }\n    function handleEscape(e: KeyboardEvent) {\n      if (e.key === 'Escape') setIsOpen(false);\n    }\n    document.addEventListener('mousedown', handleClick);\n    document.addEventListener('keydown', handleEscape);\n    return () => {\n      document.removeEventListener('mousedown', handleClick);\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen]);\n\n  // Toggle tool selection\n  const toggleTool = useCallback(\n    (name: string, provider: ToolProvider) => {\n      const exists = selectedTools.some((t) => t.name === name && t.provider === provider);\n      if (exists) {\n        onToolsChange(selectedTools.filter((t) => !(t.name === name && t.provider === provider)));\n      } else {\n        onToolsChange([...selectedTools, { name, provider }]);\n      }\n    },\n    [selectedTools, onToolsChange]\n  );\n\n  const isToolSelected = useCallback(\n    (name: string, provider: ToolProvider) =>\n      selectedTools.some((t) => t.name === name && t.provider === provider),\n    [selectedTools]\n  );\n\n  // TPMJS search handler\n  const handleTPMJSSearch = useCallback(async () => {\n    if (!tpmjsSearch.trim()) return;\n    setIsSearching(true);\n    try {\n      const client = getTPMJSClient();\n      const result = await client.searchTools(tpmjsSearch, { limit: 10 });\n      setTpmjsResults(\n        result.tools.map((t: TPMJSTool) => ({\n          toolId: t.toolId || `${t.packageName}::${t.toolName}`,\n          name: t.name || t.toolName,\n          description: t.description || '',\n          category: t.category || 'general',\n          qualityScore: t.qualityScore || 0,\n        }))\n      );\n    } catch {\n      setTpmjsResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  }, [tpmjsSearch]);\n\n  const selectedCount = selectedTools.length;\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Trigger Button */}\n      <motion.button\n        ref={triggerRef}\n        onClick={() => setIsOpen(!isOpen)}\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        className=\"relative p-3 rounded-full transition-all flex-shrink-0 min-w-[44px] min-h-[44px]\"\n        style={{\n          background: isOpen\n            ? 'hsl(var(--theme-primary) / 0.2)'\n            : selectedCount > 0\n              ? 'hsl(var(--theme-primary) / 0.15)'\n              : 'hsl(var(--theme-chat-input-bg, var(--theme-muted)))',\n          color: isOpen || selectedCount > 0\n            ? 'hsl(var(--theme-primary))'\n            : 'hsl(var(--theme-chat-input-fg, var(--theme-muted-foreground)))',\n        }}\n        aria-label={`Tool provider selector${selectedCount > 0 ? ` (${selectedCount} selected)` : ''}`}\n        aria-expanded={isOpen}\n      >\n        <Wrench className=\"w-5 h-5\" />\n        {/* Count badge */}\n        <AnimatePresence>\n          {selectedCount > 0 && (\n            <motion.span\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0 }}\n              className=\"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] flex items-center justify-center rounded-full text-[10px] font-semibold\"\n              style={{\n                background: 'hsl(var(--theme-primary))',\n                color: 'hsl(var(--theme-primary-foreground))',\n              }}\n            >\n              {selectedCount}\n            </motion.span>\n          )}\n        </AnimatePresence>\n      </motion.button>\n\n      {/* Upward Panel */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            ref={panelRef}\n            initial={{ opacity: 0, y: 8, scale: 0.96 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 8, scale: 0.96 }}\n            transition={{ type: 'spring', stiffness: 400, damping: 30 }}\n            className=\"absolute bottom-full left-0 mb-2 w-[340px] max-h-[60vh] rounded-2xl overflow-hidden shadow-2xl z-50\"\n            style={{\n              background: 'hsl(var(--theme-card) / 0.95)',\n              backdropFilter: 'blur(24px) saturate(180%)',\n              WebkitBackdropFilter: 'blur(24px) saturate(180%)',\n              border: '1px solid hsl(var(--theme-border) / 0.5)',\n              boxShadow: '0 -8px 40px hsl(var(--theme-background) / 0.4), 0 -2px 12px hsl(var(--theme-border) / 0.2)',\n            }}\n          >\n            {/* Header */}\n            <div className=\"px-4 pt-3 pb-2 flex items-center justify-between\">\n              <span\n                className=\"text-xs font-semibold uppercase tracking-wider\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              >\n                Tool Provider\n              </span>\n              <button\n                onClick={() => setIsOpen(false)}\n                className=\"p-1 rounded-full transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                aria-label=\"Close tool selector\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            {/* Segmented Control */}\n            <div className=\"px-4 pb-3\">\n              <div\n                className=\"flex p-0.5 rounded-xl\"\n                style={{ background: 'hsl(var(--theme-muted) / 0.5)' }}\n                role=\"tablist\"\n                aria-label=\"Tool provider\"\n              >\n                {(['legacy', 'tpmjs'] as const).map((provider) => (\n                  <button\n                    key={provider}\n                    role=\"tab\"\n                    aria-selected={activeProvider === provider}\n                    onClick={() => setActiveProvider(provider)}\n                    className=\"relative flex-1 flex items-center justify-center gap-1.5 py-2 px-3 rounded-[10px] text-xs font-medium transition-colors min-h-[44px]\"\n                    style={{\n                      color: activeProvider === provider\n                        ? 'hsl(var(--theme-foreground))'\n                        : 'hsl(var(--theme-muted-foreground))',\n                    }}\n                  >\n                    {activeProvider === provider && (\n                      <motion.div\n                        layoutId=\"provider-tab-bg\"\n                        className=\"absolute inset-0 rounded-[10px]\"\n                        style={{\n                          background: 'hsl(var(--theme-card))',\n                          boxShadow: '0 1px 3px hsl(var(--theme-background) / 0.2)',\n                        }}\n                        transition={{ type: 'spring', stiffness: 500, damping: 35 }}\n                      />\n                    )}\n                    <span className=\"relative z-10 flex items-center gap-1.5\">\n                      {provider === 'legacy' ? (\n                        <Wrench className=\"w-3.5 h-3.5\" />\n                      ) : (\n                        <Package className=\"w-3.5 h-3.5\" />\n                      )}\n                      {provider === 'legacy' ? 'Legacy' : 'TPMJS'}\n                    </span>\n                    {/* Selected count per provider */}\n                    {selectedTools.filter((t) => t.provider === provider).length > 0 && (\n                      <span\n                        className=\"relative z-10 min-w-[16px] h-[16px] flex items-center justify-center rounded-full text-[9px] font-bold\"\n                        style={{\n                          background: 'hsl(var(--theme-primary) / 0.2)',\n                          color: 'hsl(var(--theme-primary))',\n                        }}\n                      >\n                        {selectedTools.filter((t) => t.provider === provider).length}\n                      </span>\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Separator */}\n            <div\n              className=\"h-px mx-4\"\n              style={{ background: 'hsl(var(--theme-border) / 0.3)' }}\n            />\n\n            {/* Content */}\n            <div\n              className=\"overflow-y-auto overscroll-contain\"\n              style={{ maxHeight: 'calc(60vh - 110px)' }}\n            >\n              <AnimatePresence mode=\"wait\">\n                {activeProvider === 'legacy' ? (\n                  <motion.div\n                    key=\"legacy\"\n                    initial={{ opacity: 0, x: -8 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: 8 }}\n                    transition={{ duration: 0.15 }}\n                    className=\"py-2\"\n                  >\n                    {LEGACY_TOOL_GROUPS.map((group) => (\n                      <div key={group.label} className=\"mb-1\">\n                        {/* Group header */}\n                        <div className=\"px-4 py-1.5 flex items-center gap-2\">\n                          <group.icon\n                            className=\"w-3.5 h-3.5\"\n                            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                          />\n                          <span\n                            className=\"text-[10px] font-semibold uppercase tracking-wider\"\n                            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                          >\n                            {group.label}\n                          </span>\n                        </div>\n                        {/* Tools */}\n                        {group.tools.map((tool) => (\n                          <ToolRow\n                            key={tool.name}\n                            name={tool.name}\n                            label={tool.label}\n                            description={tool.description}\n                            isSelected={isToolSelected(tool.name, 'legacy')}\n                            onToggle={() => toggleTool(tool.name, 'legacy')}\n                          />\n                        ))}\n                      </div>\n                    ))}\n                  </motion.div>\n                ) : (\n                  <motion.div\n                    key=\"tpmjs\"\n                    initial={{ opacity: 0, x: 8 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: -8 }}\n                    transition={{ duration: 0.15 }}\n                    className=\"py-2\"\n                  >\n                    {/* TPMJS Search */}\n                    <div className=\"px-4 pb-2\">\n                      <div\n                        className=\"flex items-center gap-2 rounded-xl px-3 py-2\"\n                        style={{\n                          background: 'hsl(var(--theme-muted) / 0.5)',\n                          border: '1px solid hsl(var(--theme-border) / 0.3)',\n                        }}\n                      >\n                        <Search\n                          className=\"w-3.5 h-3.5 flex-shrink-0\"\n                          style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                        />\n                        <input\n                          type=\"text\"\n                          value={tpmjsSearch}\n                          onChange={(e) => setTpmjsSearch(e.target.value)}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter') handleTPMJSSearch();\n                          }}\n                          placeholder=\"Search TPMJS registry...\"\n                          className=\"flex-1 bg-transparent text-xs outline-none min-h-[44px]\"\n                          style={{\n                            color: 'hsl(var(--theme-foreground))',\n                          }}\n                        />\n                        {isSearching && (\n                          <motion.div\n                            animate={{ rotate: 360 }}\n                            transition={{ repeat: Infinity, duration: 1, ease: 'linear' }}\n                          >\n                            <Sparkles\n                              className=\"w-3.5 h-3.5\"\n                              style={{ color: 'hsl(var(--theme-primary))' }}\n                            />\n                          </motion.div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* TPMJS Categories */}\n                    {tpmjsResults.length === 0 && !isSearching && (\n                      <div className=\"px-4 pb-2\">\n                        <span\n                          className=\"text-[10px] uppercase tracking-wider font-semibold\"\n                          style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                        >\n                          Browse Categories\n                        </span>\n                        <div className=\"flex flex-wrap gap-1.5 mt-2\">\n                          {TPMJS_CATEGORIES.map((cat) => (\n                            <button\n                              key={cat.id}\n                              onClick={() => {\n                                setTpmjsSearch(cat.label.toLowerCase());\n                                setTimeout(() => handleTPMJSSearch(), 0);\n                              }}\n                              className=\"flex items-center gap-1 px-2.5 py-1.5 rounded-lg text-[11px] font-medium transition-all active:scale-95 min-h-[44px]\"\n                              style={{\n                                background: 'hsl(var(--theme-muted) / 0.3)',\n                                color: 'hsl(var(--theme-muted-foreground))',\n                                border: '1px solid hsl(var(--theme-border) / 0.2)',\n                              }}\n                            >\n                              <cat.icon className=\"w-3 h-3\" />\n                              {cat.label}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {/* TPMJS Built-in tools (always available) */}\n                    <div className=\"px-4 py-1.5 flex items-center gap-2\">\n                      <HeartPulse\n                        className=\"w-3.5 h-3.5\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      />\n                      <span\n                        className=\"text-[10px] font-semibold uppercase tracking-wider\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      >\n                        Built-in TPMJS\n                      </span>\n                    </div>\n                    <ToolRow\n                      name=\"search_tpmjs_tools\"\n                      label=\"Search Registry\"\n                      description=\"Find tools in the TPMJS ecosystem\"\n                      isSelected={isToolSelected('search_tpmjs_tools', 'tpmjs')}\n                      onToggle={() => toggleTool('search_tpmjs_tools', 'tpmjs')}\n                    />\n                    <ToolRow\n                      name=\"execute_tpmjs_tool\"\n                      label=\"Execute Tool\"\n                      description=\"Run any TPMJS registry tool\"\n                      isSelected={isToolSelected('execute_tpmjs_tool', 'tpmjs')}\n                      onToggle={() => toggleTool('execute_tpmjs_tool', 'tpmjs')}\n                    />\n                    <ToolRow\n                      name=\"check_tpmjs_executor\"\n                      label=\"Health Check\"\n                      description=\"Verify TPMJS executor status\"\n                      isSelected={isToolSelected('check_tpmjs_executor', 'tpmjs')}\n                      onToggle={() => toggleTool('check_tpmjs_executor', 'tpmjs')}\n                    />\n\n                    {/* TPMJS Search Results */}\n                    {tpmjsResults.length > 0 && (\n                      <>\n                        <div className=\"px-4 pt-2 pb-1 flex items-center gap-2\">\n                          <Package\n                            className=\"w-3.5 h-3.5\"\n                            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                          />\n                          <span\n                            className=\"text-[10px] font-semibold uppercase tracking-wider\"\n                            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                          >\n                            Registry Results ({tpmjsResults.length})\n                          </span>\n                        </div>\n                        {tpmjsResults.map((tool) => (\n                          <ToolRow\n                            key={tool.toolId}\n                            name={tool.toolId}\n                            label={tool.name}\n                            description={tool.description}\n                            isSelected={isToolSelected(tool.toolId, 'tpmjs')}\n                            onToggle={() => toggleTool(tool.toolId, 'tpmjs')}\n                            badge={tool.category}\n                            quality={tool.qualityScore}\n                          />\n                        ))}\n                      </>\n                    )}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n\n            {/* Footer - clear all */}\n            {selectedCount > 0 && (\n              <div\n                className=\"px-4 py-2 flex items-center justify-between\"\n                style={{\n                  borderTop: '1px solid hsl(var(--theme-border) / 0.3)',\n                  background: 'hsl(var(--theme-muted) / 0.2)',\n                }}\n              >\n                <span\n                  className=\"text-[11px]\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  {selectedCount} tool{selectedCount !== 1 ? 's' : ''} selected\n                </span>\n                <button\n                  onClick={() => onToolsChange([])}\n                  className=\"text-[11px] font-medium px-2 py-1 rounded-lg transition-all active:scale-95 min-h-[44px]\"\n                  style={{ color: 'hsl(var(--theme-primary))' }}\n                >\n                  Clear All\n                </button>\n              </div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\n// ============================================================================\n// Tool Row Component\n// ============================================================================\n\ninterface ToolRowProps {\n  name: string;\n  label: string;\n  description: string;\n  isSelected: boolean;\n  onToggle: () => void;\n  badge?: string;\n  quality?: number;\n}\n\nfunction ToolRow({ label, description, isSelected, onToggle, badge, quality }: ToolRowProps) {\n  return (\n    <button\n      onClick={onToggle}\n      className=\"w-full flex items-center gap-3 px-4 py-2 transition-colors text-left group min-h-[44px]\"\n      style={{\n        background: isSelected ? 'hsl(var(--theme-primary) / 0.06)' : 'transparent',\n      }}\n      role=\"option\"\n      aria-selected={isSelected}\n    >\n      {/* Checkbox */}\n      <div\n        className=\"w-5 h-5 rounded-md flex items-center justify-center flex-shrink-0 transition-all\"\n        style={{\n          background: isSelected\n            ? 'hsl(var(--theme-primary))'\n            : 'hsl(var(--theme-muted) / 0.5)',\n          border: isSelected\n            ? 'none'\n            : '1.5px solid hsl(var(--theme-border) / 0.5)',\n        }}\n      >\n        <AnimatePresence>\n          {isSelected && (\n            <motion.div\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0 }}\n              transition={{ type: 'spring', stiffness: 500, damping: 30 }}\n            >\n              <Check\n                className=\"w-3 h-3\"\n                style={{ color: 'hsl(var(--theme-primary-foreground))' }}\n              />\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-1.5\">\n          <span\n            className=\"text-xs font-medium truncate\"\n            style={{ color: 'hsl(var(--theme-foreground))' }}\n          >\n            {label}\n          </span>\n          {badge && (\n            <span\n              className=\"text-[9px] px-1.5 py-0.5 rounded-full\"\n              style={{\n                background: 'hsl(var(--theme-muted) / 0.5)',\n                color: 'hsl(var(--theme-muted-foreground))',\n              }}\n            >\n              {badge}\n            </span>\n          )}\n          {quality !== undefined && quality > 0 && (\n            <span\n              className=\"text-[9px]\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            >\n              {(quality * 100).toFixed(0)}%\n            </span>\n          )}\n        </div>\n        <span\n          className=\"text-[11px] truncate block\"\n          style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n        >\n          {description}\n        </span>\n      </div>\n    </button>\n  );\n}\n\n// ============================================================================\n// Selected Tools Chips (for display above input)\n// ============================================================================\n\nexport function SelectedToolsChips({\n  tools,\n  onRemove,\n}: {\n  tools: SelectedTool[];\n  onRemove: (tool: SelectedTool) => void;\n}) {\n  if (tools.length === 0) return null;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, height: 0 }}\n      animate={{ opacity: 1, height: 'auto' }}\n      exit={{ opacity: 0, height: 0 }}\n      className=\"flex flex-wrap gap-1.5 mb-2\"\n    >\n      {tools.map((tool) => (\n        <motion.span\n          key={`${tool.provider}-${tool.name}`}\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          exit={{ scale: 0 }}\n          className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium transition-all min-h-[44px]\"\n          style={{\n            background: tool.provider === 'tpmjs'\n              ? 'hsl(var(--theme-primary) / 0.1)'\n              : 'hsl(var(--theme-muted) / 0.5)',\n            color: tool.provider === 'tpmjs'\n              ? 'hsl(var(--theme-primary))'\n              : 'hsl(var(--theme-muted-foreground))',\n            border: `1px solid ${tool.provider === 'tpmjs'\n                ? 'hsl(var(--theme-primary) / 0.2)'\n                : 'hsl(var(--theme-border) / 0.3)'\n              }`,\n          }}\n        >\n          {tool.provider === 'tpmjs' ? (\n            <Package className=\"w-2.5 h-2.5\" />\n          ) : (\n            <Wrench className=\"w-2.5 h-2.5\" />\n          )}\n          {tool.name.includes('::') ? tool.name.split('::')[1] : tool.name.replace(/_/g, ' ')}\n          <button\n            onClick={() => onRemove(tool)}\n            className=\"ml-0.5 rounded-full transition-colors hover:opacity-70 min-w-[44px] min-h-[44px] flex items-center justify-center\"\n            aria-label={`Remove ${tool.name}`}\n          >\n            <X className=\"w-2.5 h-2.5\" />\n          </button>\n        </motion.span>\n      ))}\n    </motion.div>\n  );\n}\n\nexport default ToolProviderSelector;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9122, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/app/chat/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Send, Mic, Loader2, ArrowLeft, Trash2, Volume2, VolumeX, Menu } from 'lucide-react';\nimport { ClawAIAvatar } from '@/components/claw-ai/ClawAIAvatar';\nimport Link from 'next/link';\nimport { Streamdown } from 'streamdown';\nimport { useVoiceRecorder } from '@/hooks/useVoiceRecorder';\nimport { useVoiceChat } from '@/hooks/useVoiceChat';\nimport { useChatThreads } from '@/hooks/useChatThreads';\nimport { VoiceRecordingIndicator } from '@/components/claw-ai/VoiceRecordingIndicator';\nimport { ChatThreadsSidebar } from '@/components/claw-ai/ChatThreadsSidebar';\nimport { ContextReferenceInput } from '@/components/ui/ContextReferenceInput';\nimport { ArtifactRenderer } from '@/components/claw-ai/ArtifactRenderer';\nimport { ClawAIUIRenderer, parseUITree } from '@/lib/claw-ai/json-render-provider';\nimport { useAppContext, formatAppContextForAI } from '@/context/AppContext';\nimport { usePauseMusicForVoice } from '@/hooks/usePauseMusicForVoice';\nimport { ToolProviderSelector, SelectedToolsChips, type SelectedTool } from '@/components/claw-ai/ToolProviderSelector';\nimport '@/lib/themes/themes.css';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface Message {\n  id: string;\n  role: 'assistant' | 'user';\n  content: string;\n  timestamp: number;\n  uiTree?: unknown; // For render_ui tool results\n}\n\n// ============================================================================\n// Initial Message\n// ============================================================================\n\nconst INITIAL_MESSAGE: Message = {\n  id: 'initial',\n  role: 'assistant',\n  content: \"Hey! I'm Claw AI. I can help you explore the site, learn about my work, or just chat. What's on your mind?\",\n  timestamp: Date.now(),\n};\n\n// ============================================================================\n// Time-based greeting\n// ============================================================================\n\nfunction getGreeting(): string {\n  const hour = new Date().getHours();\n  if (hour < 6) return 'Good evening';\n  if (hour < 12) return 'Good morning';\n  if (hour < 17) return 'Good afternoon';\n  if (hour < 21) return 'Good evening';\n  return 'Good evening';\n}\n\n// ============================================================================\n// Chat Page Component\n// ============================================================================\n\nexport default function ChatPage() {\n  // App context for contextual prompts\n  const { suggestedPrompts, currentApp, contextHints } = useAppContext();\n\n  // Chat threads management\n  const {\n    threads,\n    activeThread,\n    activeThreadId,\n    isLoaded,\n    createThread,\n    switchThread,\n    deleteThread,\n    addMessage,\n    clearActiveThread,\n    ensureThread,\n  } = useChatThreads();\n\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [isTranscribing, setIsTranscribing] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [selectedTools, setSelectedTools] = useState<SelectedTool[]>([]);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Voice recorder for voice messages\n  const voiceRecorder = useVoiceRecorder({\n    maxDuration: 120,\n    levelsCount: 20,\n  });\n\n  // Voice chat for TTS responses\n  const voiceChat = useVoiceChat({\n    voice: 'nova',\n    autoSpeak: false,\n  });\n\n  // Pause music when recording or AI is speaking\n  usePauseMusicForVoice({\n    isRecording: voiceRecorder.isRecording,\n    isSpeaking: voiceChat.mode === 'speaking',\n    isTranscribing,\n  });\n\n  // Load chat history from active thread\n  useEffect(() => {\n    if (!isLoaded) return;\n\n    if (activeThread && activeThread.messages.length > 0) {\n      setMessages(activeThread.messages.map(msg => ({\n        ...msg,\n        role: msg.role as 'assistant' | 'user',\n      })));\n    } else {\n      setMessages([INITIAL_MESSAGE]);\n    }\n  }, [isLoaded, activeThread, activeThreadId]);\n\n  // Scroll to bottom when messages change\n  const scrollToBottom = useCallback(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n\n  // Focus input on mount\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  // Send message with specific text\n  const handleSendWithText = useCallback(async (text: string) => {\n    if (!text.trim()) return;\n\n    const userContent = text.trim();\n\n    // Ensure we have an active thread\n    ensureThread();\n\n    // Add user message\n    const userMessage = addMessage('user', userContent);\n    if (userMessage) {\n      setMessages((prev) => [\n        ...prev,\n        {\n          id: userMessage.id,\n          role: 'user',\n          content: userContent,\n          timestamp: userMessage.timestamp,\n        },\n      ]);\n    }\n\n    setIsTyping(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            messages: [\n              ...messages.map((m) => ({ role: m.role, content: m.content })),\n              { role: 'user', content: userContent },\n            ],\n            model: 'default',\n            // Pass app context to Claw AI\n            appContext: currentApp ? {\n              appId: currentApp.id,\n              appName: currentApp.name,\n              route: currentApp.route,\n              description: currentApp.description,\n              contextHints,\n            } : null,\n            // Pass selected tools to filter available tools\n            selectedTools: selectedTools.length > 0 ? selectedTools.map((t) => ({\n              name: t.name,\n              provider: t.provider,\n            })) : undefined,\n          }),\n      });\n\n      let assistantContent = \"I'm having trouble connecting right now. Please try again in a moment.\";\n      let uiTree: unknown = null;\n\n      if (response.ok) {\n        const data = await response.json();\n        assistantContent = data.message || data.content || assistantContent;\n\n        // Extract UI tree from render_ui actions\n        if (data.actions && Array.isArray(data.actions)) {\n          const renderAction = data.actions.find(\n            (a: { type: string }) => a.type === 'render_ui'\n          );\n          if (renderAction?.payload?.ui_tree) {\n            uiTree = renderAction.payload.ui_tree;\n          }\n        }\n      } else {\n        // Log error for debugging but show user-friendly message\n        try {\n          const errorData = await response.json();\n          console.error('[Chat] API error:', errorData);\n          if (errorData.error?.includes('API key')) {\n            assistantContent = \"I'm not fully configured yet. James needs to set up the AI connection. In the meantime, feel free to explore the site!\";\n          }\n        } catch {\n          console.error('[Chat] Failed to parse error response');\n        }\n      }\n\n      const assistantMessage = addMessage('assistant', assistantContent);\n      if (assistantMessage) {\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: assistantMessage.id,\n            role: 'assistant',\n            content: assistantContent,\n            timestamp: assistantMessage.timestamp,\n            uiTree,\n          },\n        ]);\n      }\n\n      // Speak response if voice is enabled\n      if (voiceChat.isVoiceEnabled) {\n        voiceChat.speakResponse(assistantContent);\n      }\n    } catch {\n      const fallbackContent = \"I'm having trouble connecting right now. Please try again in a moment.\";\n      const assistantMessage = addMessage('assistant', fallbackContent);\n      if (assistantMessage) {\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: assistantMessage.id,\n            role: 'assistant',\n            content: fallbackContent,\n            timestamp: assistantMessage.timestamp,\n          },\n        ]);\n      }\n    }\n\n    setIsTyping(false);\n  }, [messages, addMessage, voiceChat, ensureThread]);\n\n  // Handle form submit\n  const handleSend = async () => {\n    if (!inputValue.trim()) return;\n    const text = inputValue;\n    setInputValue('');\n    await handleSendWithText(text);\n  };\n\n  // Handle voice recording complete\n  const handleVoiceRecordingComplete = useCallback(async () => {\n    const audioBlob = await voiceRecorder.stopRecording();\n    if (!audioBlob || audioBlob.size === 0) {\n      return;\n    }\n\n    setIsTranscribing(true);\n\n    try {\n      const formData = new FormData();\n      formData.append('audio', audioBlob, 'recording.webm');\n      formData.append('language', 'en');\n\n      const response = await fetch('/api/whisper', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Transcription failed');\n      }\n\n      const { text } = await response.json();\n\n      if (text && text.trim()) {\n        await handleSendWithText(text.trim());\n      }\n    } catch (error) {\n      console.error('[Voice] Transcription error:', error);\n    } finally {\n      setIsTranscribing(false);\n    }\n  }, [voiceRecorder, handleSendWithText]);\n\n  // Toggle voice recording\n  const handleMicToggle = useCallback(async () => {\n    if (voiceRecorder.isRecording) {\n      await handleVoiceRecordingComplete();\n    } else {\n      await voiceRecorder.startRecording();\n    }\n  }, [voiceRecorder, handleVoiceRecordingComplete]);\n\n  // Handle Enter key\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // Clear chat\n  const handleClearChat = () => {\n    clearActiveThread();\n    setMessages([INITIAL_MESSAGE]);\n  };\n\n  // Handle new thread\n  const handleNewThread = () => {\n    createThread();\n    setMessages([INITIAL_MESSAGE]);\n  };\n\n  return (\n    <div\n      className=\"min-h-screen flex flex-col\"\n      style={{\n        background: 'linear-gradient(to bottom, hsl(var(--theme-background)), hsl(var(--theme-card) / 0.5), hsl(var(--theme-background)))',\n      }}\n    >\n      {/* Chat Threads Sidebar */}\n      <ChatThreadsSidebar\n        isOpen={isSidebarOpen}\n        onClose={() => setIsSidebarOpen(false)}\n        threads={threads}\n        activeThreadId={activeThreadId}\n        onNewThread={handleNewThread}\n        onSelectThread={switchThread}\n        onDeleteThread={deleteThread}\n      />\n\n      {/* Header */}\n      <header\n        className=\"sticky top-0 z-10 backdrop-blur-xl\"\n        style={{\n          borderBottom: '1px solid hsl(var(--theme-border))',\n          background: 'hsl(var(--theme-background) / 0.8)',\n          paddingTop: 'env(safe-area-inset-top, 0px)',\n        }}\n      >\n        <div className=\"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            {/* Menu button for sidebar */}\n            <button\n              onClick={() => setIsSidebarOpen(true)}\n              className=\"p-2 rounded-full transition-colors\"\n              aria-label=\"Open conversations\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              onMouseEnter={(e) => e.currentTarget.style.background = 'hsl(var(--theme-muted) / 0.5)'}\n              onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n            >\n              <Menu className=\"w-5 h-5\" />\n            </button>\n\n            <Link\n              href=\"/\"\n              className=\"p-2 rounded-full transition-colors\"\n              aria-label=\"Back to home\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              onMouseEnter={(e) => e.currentTarget.style.background = 'hsl(var(--theme-muted) / 0.5)'}\n              onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Link>\n            <div className=\"flex items-center gap-3\">\n              <ClawAIAvatar\n                size={40}\n                isActive={isTyping || voiceChat.mode === 'speaking'}\n              />\n              <div>\n                <h1\n                  className=\"font-semibold\"\n                  style={{ color: 'hsl(var(--theme-foreground))' }}\n                >\n                  Claw AI\n                </h1>\n                <p\n                  className=\"text-xs\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  {voiceRecorder.isRecording ? 'Recording...' :\n                   isTranscribing ? 'Transcribing...' :\n                   voiceChat.mode === 'speaking' ? 'Speaking...' :\n                   isTyping ? 'Thinking...' :\n                   'Online'}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {/* Voice toggle */}\n            <button\n              onClick={voiceChat.toggleVoice}\n              className=\"p-2 rounded-full transition-colors\"\n              title={voiceChat.isVoiceEnabled ? 'Voice responses on' : 'Voice responses off'}\n              style={{\n                background: voiceChat.isVoiceEnabled ? 'hsl(var(--theme-primary) / 0.2)' : 'transparent',\n                color: voiceChat.isVoiceEnabled ? 'hsl(var(--theme-primary))' : 'hsl(var(--theme-muted-foreground))',\n              }}\n            >\n              {voiceChat.isVoiceEnabled ? (\n                <Volume2 className=\"w-5 h-5\" />\n              ) : (\n                <VolumeX className=\"w-5 h-5\" />\n              )}\n            </button>\n\n            {/* Clear chat */}\n            {messages.length > 1 && (\n              <button\n                onClick={handleClearChat}\n                className=\"p-2 rounded-full transition-colors\"\n                title=\"Clear chat\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.background = 'hsl(var(--theme-muted) / 0.5)';\n                  e.currentTarget.style.color = 'hsl(var(--theme-foreground))';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.background = 'transparent';\n                  e.currentTarget.style.color = 'hsl(var(--theme-muted-foreground))';\n                }}\n              >\n                <Trash2 className=\"w-5 h-5\" />\n              </button>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {/* Chat Area */}\n      <main className=\"flex-1 overflow-y-auto\">\n        <div className=\"max-w-4xl mx-auto px-4 py-6\">\n          {/* Welcome message on empty state */}\n          {messages.length <= 1 && (\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"text-center py-12\"\n            >\n              <div className=\"mx-auto mb-6\">\n                <ClawAIAvatar size={64} isActive={false} />\n              </div>\n              <h2\n                className=\"text-2xl font-semibold mb-2\"\n                style={{ color: 'hsl(var(--theme-foreground))' }}\n              >\n                {getGreeting()}!\n              </h2>\n              <p\n                className=\"max-w-md mx-auto\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              >\n                I&apos;m Claw AI, your creative technologist guide. Ask me about projects,\n                explore design themes, or just have a conversation.\n              </p>\n\n              {/* Suggested Prompts */}\n              {suggestedPrompts.length > 0 && (\n                <div className=\"mt-8 flex flex-wrap justify-center gap-2\">\n                  {suggestedPrompts.map((prompt, idx) => (\n                    <motion.button\n                      key={idx}\n                      initial={{ opacity: 0, y: 10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      transition={{ delay: 0.2 + idx * 0.1 }}\n                      onClick={() => {\n                        setInputValue(prompt.prompt);\n                        inputRef.current?.focus();\n                      }}\n                      className=\"px-4 py-2 rounded-full text-sm transition-all hover:scale-105\"\n                      style={{\n                        background: 'hsl(var(--theme-muted))',\n                        color: 'hsl(var(--theme-foreground))',\n                        border: '1px solid hsl(var(--theme-border))',\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.background = 'hsl(var(--theme-primary) / 0.1)';\n                        e.currentTarget.style.borderColor = 'hsl(var(--theme-primary) / 0.3)';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.background = 'hsl(var(--theme-muted))';\n                        e.currentTarget.style.borderColor = 'hsl(var(--theme-border))';\n                      }}\n                    >\n                      {prompt.label}\n                    </motion.button>\n                  ))}\n                </div>\n              )}\n            </motion.div>\n          )}\n\n          {/* Messages */}\n          <div className=\"space-y-6\">\n            {messages.map((message, index) => (\n              <motion.div\n                key={message.id}\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: index * 0.05 }}\n                className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-[85%] md:max-w-[75%] ${\n                    message.role === 'user' ? '' : 'flex gap-3'\n                  }`}\n                >\n                  {message.role === 'assistant' && (\n                    <ClawAIAvatar size={32} isActive={false} className=\"mt-1\" />\n                  )}\n                  <div\n                    className=\"px-4 py-3\"\n                    style={{\n                      background: message.role === 'user'\n                        ? 'var(--theme-chat-user-bg, linear-gradient(135deg, hsl(var(--theme-primary)), hsl(var(--theme-accent))))'\n                        : 'var(--theme-chat-assistant-bg, hsl(var(--theme-card)))',\n                      color: message.role === 'user'\n                        ? 'var(--theme-chat-user-fg, hsl(var(--theme-primary-foreground)))'\n                        : 'var(--theme-chat-assistant-fg, hsl(var(--theme-card-foreground)))',\n                      boxShadow: message.role === 'user'\n                        ? '0 4px 12px hsl(var(--theme-primary) / 0.2)'\n                        : undefined,\n                      borderRadius: message.role === 'user'\n                        ? 'var(--theme-chat-bubble-radius, 1.25rem) var(--theme-chat-bubble-radius, 1.25rem) var(--theme-chat-bubble-radius-tail, 0.25rem) var(--theme-chat-bubble-radius, 1.25rem)'\n                        : 'var(--theme-chat-bubble-radius-tail, 0.25rem) var(--theme-chat-bubble-radius, 1.25rem) var(--theme-chat-bubble-radius, 1.25rem) var(--theme-chat-bubble-radius, 1.25rem)',\n                    }}\n                  >\n                    {message.role === 'assistant' ? (\n                      <div className=\"prose prose-sm max-w-none prose-p:my-2 prose-headings:my-3 [&_*]:!text-inherit\">\n                        <div>\n                          <Streamdown>{message.content}</Streamdown>\n                        </div>\n                        {/* Render artifacts (code blocks, references) */}\n                        <ArtifactRenderer content={message.content} />\n                        {/* Render UI tree from render_ui tool */}\n                        {message.uiTree ? (\n                          <div className=\"mt-4 not-prose\">\n                            <ClawAIUIRenderer tree={parseUITree(message.uiTree)} />\n                          </div>\n                        ) : null}\n                      </div>\n                    ) : (\n                      <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">\n                        {message.content}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n\n            {/* Typing indicator */}\n            {isTyping && (\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"flex justify-start\"\n              >\n                <div className=\"flex gap-3\">\n                  <ClawAIAvatar size={32} isActive={true} />\n                  <div\n                    className=\"px-4 py-3\"\n                    style={{\n                      background: 'hsl(var(--theme-chat-assistant-bg, var(--theme-card)))',\n                      borderRadius: 'var(--theme-chat-bubble-radius-tail, 0.25rem) var(--theme-chat-bubble-radius, 1.25rem) var(--theme-chat-bubble-radius, 1.25rem) var(--theme-chat-bubble-radius, 1.25rem)',\n                    }}\n                  >\n                    <div className=\"flex gap-1.5\">\n                      <motion.span\n                        className=\"w-2 h-2 rounded-full\"\n                        style={{ background: 'hsl(var(--theme-chat-typing-dot, var(--theme-muted-foreground)))' }}\n                        animate={{ y: [0, -4, 0] }}\n                        transition={{ duration: 0.6, repeat: Infinity, delay: 0 }}\n                      />\n                      <motion.span\n                        className=\"w-2 h-2 rounded-full\"\n                        style={{ background: 'hsl(var(--theme-chat-typing-dot, var(--theme-muted-foreground)))' }}\n                        animate={{ y: [0, -4, 0] }}\n                        transition={{ duration: 0.6, repeat: Infinity, delay: 0.15 }}\n                      />\n                      <motion.span\n                        className=\"w-2 h-2 rounded-full\"\n                        style={{ background: 'hsl(var(--theme-chat-typing-dot, var(--theme-muted-foreground)))' }}\n                        animate={{ y: [0, -4, 0] }}\n                        transition={{ duration: 0.6, repeat: Infinity, delay: 0.3 }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </motion.div>\n            )}\n\n            <div ref={messagesEndRef} />\n          </div>\n        </div>\n      </main>\n\n      {/* Input Area */}\n      <footer\n        className=\"sticky bottom-0 backdrop-blur-xl\"\n        style={{\n          borderTop: '1px solid hsl(var(--theme-border))',\n          background: 'hsl(var(--theme-background) / 0.9)',\n          paddingBottom: 'calc(5rem + env(safe-area-inset-bottom, 0px))',\n        }}\n      >\n        <div className=\"max-w-4xl mx-auto px-4 py-4\">\n            {/* Selected Tools Chips */}\n            <SelectedToolsChips\n              tools={selectedTools}\n              onRemove={(tool) => setSelectedTools(selectedTools.filter((t) => !(t.name === tool.name && t.provider === tool.provider)))}\n            />\n\n            {/* Transcribing indicator */}\n            <AnimatePresence>\n              {isTranscribing && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  className=\"mb-3\"\n                >\n                  <div\n                    className=\"rounded-xl px-4 py-3\"\n                    style={{\n                      background: 'hsl(var(--theme-card))',\n                      border: '1px solid hsl(var(--theme-border))',\n                    }}\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Loader2\n                        className=\"w-4 h-4 animate-spin\"\n                        style={{ color: 'hsl(var(--theme-primary))' }}\n                      />\n                      <span\n                        className=\"text-sm\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      >\n                        Transcribing your message...\n                      </span>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            <div className=\"flex items-center gap-3\">\n            {/* Tool Provider Selector */}\n            <ToolProviderSelector\n              selectedTools={selectedTools}\n              onToolsChange={setSelectedTools}\n            />\n\n            {/* Microphone button */}\n            {voiceRecorder.isSupported && (\n              <motion.button\n                onClick={handleMicToggle}\n                disabled={isTranscribing || isTyping}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className=\"p-3 rounded-full transition-all flex-shrink-0\"\n                style={{\n                  background: voiceRecorder.isRecording\n                    ? 'hsl(0 84% 60%)'\n                    : isTranscribing\n                    ? 'hsl(var(--theme-primary) / 0.2)'\n                    : 'hsl(var(--theme-chat-input-bg, var(--theme-muted)))',\n                  color: voiceRecorder.isRecording\n                    ? 'white'\n                    : isTranscribing\n                    ? 'hsl(var(--theme-primary))'\n                    : 'hsl(var(--theme-chat-input-fg, var(--theme-muted-foreground)))',\n                }}\n                aria-label={voiceRecorder.isRecording ? 'Stop recording' : 'Start voice message'}\n              >\n                {isTranscribing ? (\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                ) : (\n                  <Mic className=\"w-5 h-5\" />\n                )}\n              </motion.button>\n            )}\n\n            {/* Recording indicator or input field */}\n            <AnimatePresence mode=\"wait\">\n              {voiceRecorder.isRecording ? (\n                <motion.div\n                  key=\"recording\"\n                  className=\"flex-1 flex items-center rounded-full px-4 py-3\"\n                  style={{ background: 'hsl(var(--theme-card))' }}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                >\n                  <VoiceRecordingIndicator\n                    isRecording={voiceRecorder.isRecording}\n                    duration={voiceRecorder.duration}\n                    audioLevels={voiceRecorder.audioLevels}\n                    className=\"flex-1\"\n                  />\n                </motion.div>\n              ) : (\n                <motion.div\n                  key=\"input\"\n                  className=\"flex-1\"\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                >\n                  <ContextReferenceInput\n                    value={inputValue}\n                    onChange={setInputValue}\n                    onKeyDown={handleKeyPress}\n                    placeholder=\"Message Claw AI... Use @ to reference data\"\n                    disabled={isTranscribing}\n                    className=\"w-full rounded-full px-4 py-3 text-base transition-all focus:outline-none focus:ring-2\"\n                    style={{\n                      background: 'hsl(var(--theme-chat-input-bg, var(--theme-muted)))',\n                      color: 'hsl(var(--theme-chat-input-fg, var(--theme-foreground)))',\n                      border: '1px solid hsl(var(--theme-chat-input-border, var(--theme-border)) / 0.5)',\n                      // @ts-expect-error CSS custom property for focus ring\n                      '--tw-ring-color': 'hsl(var(--theme-primary) / 0.5)',\n                    }}\n                  />\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            {/* Send button */}\n            <AnimatePresence>\n              {!voiceRecorder.isRecording && (\n                <motion.button\n                  onClick={handleSend}\n                  disabled={!inputValue.trim() || isTranscribing}\n                  whileHover={inputValue.trim() && !isTranscribing ? { scale: 1.05 } : {}}\n                  whileTap={inputValue.trim() && !isTranscribing ? { scale: 0.95 } : {}}\n                  initial={{ opacity: 0, scale: 0.8 }}\n                  animate={{ opacity: 1, scale: 1 }}\n                  exit={{ opacity: 0, scale: 0.8 }}\n                  className=\"p-3 rounded-full transition-all flex-shrink-0\"\n                  style={{\n                    background: inputValue.trim() && !isTranscribing\n                      ? 'hsl(var(--theme-chat-send-bg, var(--theme-primary)))'\n                      : 'hsl(var(--theme-chat-send-disabled-bg, var(--theme-muted)))',\n                    color: inputValue.trim() && !isTranscribing\n                      ? 'hsl(var(--theme-chat-send-fg, var(--theme-primary-foreground)))'\n                      : 'hsl(var(--theme-chat-send-disabled-fg, var(--theme-muted-foreground)))',\n                    boxShadow: inputValue.trim() && !isTranscribing\n                      ? '0 4px 15px hsl(var(--theme-primary) / 0.3)'\n                      : undefined,\n                  }}\n                  aria-label=\"Send message\"\n                >\n                  {isTyping ? (\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  ) : (\n                    <Send className=\"w-5 h-5\" />\n                  )}\n                </motion.button>\n              )}\n            </AnimatePresence>\n          </div>\n\n          {/* Voice error */}\n          <AnimatePresence>\n            {voiceRecorder.error && (\n              <motion.p\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mt-2 text-xs text-center\"\n                style={{ color: 'hsl(0 84% 60%)' }}\n              >\n                {voiceRecorder.error.message}\n              </motion.p>\n            )}\n          </AnimatePresence>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}