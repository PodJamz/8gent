{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/motion/index.ts"],"sourcesContent":["// Motion Primitives - Global Animation System\n// Inspired by https://motion-primitives.com\n\n// Configuration\nexport {\n  motionConfig,\n  presets,\n  containerVariants,\n  createStaggerContainer,\n  type PresetName,\n} from './config';\n\n// Provider\nexport { MotionProvider, useMotion } from './provider';\n\n// Core Components\nexport { InView, type InViewProps } from './in-view';\nexport { TextEffect, type TextEffectProps, type TextPreset, type PerType } from './text-effect';\nexport { AnimatedGroup, type AnimatedGroupProps } from './animated-group';\nexport { FadeIn, FadeInUp, FadeInDown, FadeInBlur, FadeInScale, type FadeInProps } from './fade-in';\n\n// Re-export motion for convenience\nexport { motion, AnimatePresence } from 'motion/react';\n"],"names":[],"mappings":";AAAA,8CAA8C;AAC9C,4CAA4C;AAE5C,gBAAgB;AAChB;AAQA,WAAW;AACX;AAEA,kBAAkB;AAClB;AACA;AACA;AACA"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ui/perspective-grid.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, useCallback } from 'react';\n\ninterface PerspectiveGridProps {\n  className?: string;\n  lineColor?: string;\n  glowColor?: string;\n  vanishY?: number; // 0-1, where 0 is top, 0.5 is middle\n  gridLines?: number;\n  horizontalLines?: number;\n  animated?: boolean;\n}\n\nexport function PerspectiveGrid({\n  className = '',\n  lineColor = 'rgba(255, 255, 255, 0.15)',\n  glowColor = 'rgba(120, 180, 255, 0.3)',\n  vanishY = 0.35,\n  gridLines = 24,\n  horizontalLines = 12,\n  animated = true,\n}: PerspectiveGridProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationRef = useRef<number>(0);\n  const timeRef = useRef(0);\n\n  const draw = useCallback((ctx: CanvasRenderingContext2D, width: number, height: number, time: number) => {\n    ctx.clearRect(0, 0, width, height);\n\n    const vanishX = width / 2;\n    const vanishYPos = height * vanishY;\n\n    // Subtle animation offset\n    const animOffset = animated ? Math.sin(time * 0.0005) * 0.02 : 0;\n    const pulseIntensity = animated ? 0.7 + Math.sin(time * 0.001) * 0.3 : 1;\n\n    // Draw radial lines from vanishing point to bottom edges\n    ctx.strokeStyle = lineColor;\n    ctx.lineWidth = 1;\n\n    // Vertical lines converging to vanishing point\n    for (let i = 0; i <= gridLines; i++) {\n      const t = i / gridLines;\n      const bottomX = width * t;\n\n      ctx.beginPath();\n      ctx.moveTo(vanishX, vanishYPos);\n      ctx.lineTo(bottomX, height);\n      ctx.stroke();\n    }\n\n    // Horizontal lines with perspective spacing (closer together near vanishing point)\n    for (let i = 1; i <= horizontalLines; i++) {\n      const t = i / horizontalLines;\n      // Exponential spacing for perspective effect\n      const perspectiveT = Math.pow(t, 1.8 + animOffset);\n      const y = vanishYPos + (height - vanishYPos) * perspectiveT;\n\n      // Calculate x intersection points with the outer diagonal lines\n      const progress = (y - vanishYPos) / (height - vanishYPos);\n      const leftX = vanishX - (vanishX * progress);\n      const rightX = vanishX + (vanishX * progress);\n\n      ctx.beginPath();\n      ctx.moveTo(leftX, y);\n      ctx.lineTo(rightX, y);\n      ctx.stroke();\n    }\n\n    // Add subtle glow at vanishing point\n    const gradient = ctx.createRadialGradient(\n      vanishX, vanishYPos, 0,\n      vanishX, vanishYPos, height * 0.4\n    );\n    gradient.addColorStop(0, glowColor.replace(/[\\d.]+\\)$/, `${0.4 * pulseIntensity})`));\n    gradient.addColorStop(0.5, glowColor.replace(/[\\d.]+\\)$/, `${0.1 * pulseIntensity})`));\n    gradient.addColorStop(1, 'transparent');\n\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, width, height);\n\n  }, [lineColor, glowColor, vanishY, gridLines, horizontalLines, animated]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const resize = () => {\n      const dpr = Math.min(window.devicePixelRatio, 2);\n      const rect = canvas.getBoundingClientRect();\n      canvas.width = rect.width * dpr;\n      canvas.height = rect.height * dpr;\n      ctx.scale(dpr, dpr);\n      draw(ctx, rect.width, rect.height, timeRef.current);\n    };\n\n    const animate = (time: number) => {\n      timeRef.current = time;\n      const rect = canvas.getBoundingClientRect();\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      const dpr = Math.min(window.devicePixelRatio, 2);\n      ctx.scale(dpr, dpr);\n      draw(ctx, rect.width, rect.height, time);\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    resize();\n\n    if (animated) {\n      animationRef.current = requestAnimationFrame(animate);\n    }\n\n    window.addEventListener('resize', resize);\n\n    return () => {\n      window.removeEventListener('resize', resize);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [draw, animated]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`absolute inset-0 w-full h-full ${className}`}\n      style={{ pointerEvents: 'none' }}\n    />\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/LockScreen.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, Suspense } from 'react';\nimport { motion, useMotionValue, useTransform, animate, useReducedMotion, AnimatePresence } from 'framer-motion';\nimport { useMusic } from '@/context/MusicContext';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { PerspectiveGrid } from '@/components/ui/perspective-grid';\nimport { Play, Pause, SkipBack, SkipForward, ChevronUp } from 'lucide-react';\nimport { springs, motionConfig } from '@/components/motion/config';\nimport dynamic from 'next/dynamic';\n\n// Dynamically import 3D tunnel to avoid SSR issues\nconst Tunnel3D = dynamic(\n  () => import('@/components/ui/tunnel-3d').then(mod => ({ default: mod.Tunnel3D })),\n  { ssr: false, loading: () => null }\n);\n\ninterface LockScreenProps {\n  onUnlock: () => void;\n  onBackgroundReady?: () => void;\n  backgroundReady?: boolean;\n}\n\nexport function LockScreen({ onUnlock, onBackgroundReady, backgroundReady = false }: LockScreenProps) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [tunnelMounted, setTunnelMounted] = useState(false);\n  const { currentTrack, isPlaying, currentTime: trackTime, duration, togglePlay, skipToNext, skipToPrevious } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n\n  // Track when tunnel is ready\n  const handleTunnelReady = useCallback(() => {\n    setTunnelMounted(true);\n    onBackgroundReady?.();\n  }, [onBackgroundReady]);\n\n  // Auto-trigger ready for reduced motion users\n  useEffect(() => {\n    if (prefersReducedMotion && !backgroundReady) {\n      onBackgroundReady?.();\n    }\n  }, [prefersReducedMotion, backgroundReady, onBackgroundReady]);\n\n  // Determine if UI should show (background ready or after timeout)\n  const showUI = backgroundReady || tunnelMounted || prefersReducedMotion;\n\n  const y = useMotionValue(0);\n  const opacity = useTransform(y, [-150, 0], [0, 1]);\n  const scale = useTransform(y, [-150, 0], [1.05, 1]);\n  const blur = useTransform(y, [-150, 0], [20, 0]);\n\n  // Update time every second\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: false,\n    });\n  };\n\n  const formatDate = (date: Date) => {\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric',\n    });\n  };\n\n  const formatTrackTime = (time: number) => {\n    if (isNaN(time)) return '0:00';\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const progressPercent = duration ? (trackTime / duration) * 100 : 0;\n\n  const handleDragEnd = useCallback(() => {\n    if (y.get() < -100) {\n      // Trigger unlock with smooth animation\n      animate(y, -300, {\n        ...springs.smooth,\n        onComplete: onUnlock,\n      });\n    } else {\n      // Snap back with snappy spring\n      animate(y, 0, springs.snappy);\n    }\n  }, [y, onUnlock]);\n\n  // Handle tap on bottom area to unlock\n  const handleUnlockTap = useCallback(() => {\n    if (prefersReducedMotion) {\n      // Skip animation for reduced motion\n      onUnlock();\n      return;\n    }\n    animate(y, -300, {\n      ...springs.smooth,\n      onComplete: onUnlock,\n    });\n  }, [y, onUnlock, prefersReducedMotion]);\n\n  const getGreeting = () => {\n    const hour = currentTime.getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 17) return 'Good afternoon';\n    return 'Good evening';\n  };\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 z-50 flex flex-col items-center justify-between overflow-hidden select-none\"\n      style={{\n        opacity,\n        scale,\n        filter: useTransform(blur, (v) => `blur(${v}px)`),\n      }}\n      drag=\"y\"\n      dragConstraints={{ top: -300, bottom: 0 }}\n      dragElastic={motionConfig.drag.elastic}\n      onDragEnd={handleDragEnd}\n      onDrag={(_, info) => {\n        y.set(info.offset.y);\n      }}\n    >\n      {/* 3D Tunnel Background - Loads first, always visible */}\n      {!prefersReducedMotion ? (\n        <Tunnel3D speed={0.4} lineColor=\"#475569\" onReady={handleTunnelReady} />\n      ) : (\n        <>\n          {/* Fallback for reduced motion */}\n          <div className=\"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900 to-indigo-950\" />\n          <PerspectiveGrid\n            lineColor=\"rgba(148, 163, 184, 0.12)\"\n            glowColor=\"rgba(99, 155, 255, 0.25)\"\n            vanishY={0.32}\n            gridLines={28}\n            horizontalLines={14}\n            animated={false}\n          />\n        </>\n      )}\n\n      {/* Subtle vignette overlay for depth */}\n      <div\n        className=\"absolute inset-0 pointer-events-none z-[1]\"\n        style={{\n          background: 'radial-gradient(ellipse at center 40%, transparent 0%, rgba(0,0,0,0.5) 100%)',\n        }}\n      />\n\n      {/* UI Components - Only animate in after background is ready */}\n      <AnimatePresence>\n        {showUI && (\n          <>\n            {/* Top section - Time & Date */}\n            <motion.div\n              className=\"relative z-10 pt-16 sm:pt-20 text-center\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.1, ...springs.smooth }}\n            >\n              <div className=\"text-white/60 text-sm sm:text-base font-medium mb-1\">\n                {formatDate(currentTime)}\n              </div>\n              <div className=\"text-white text-7xl sm:text-8xl md:text-9xl font-thin tracking-tight\">\n                {formatTime(currentTime)}\n              </div>\n            </motion.div>\n\n            {/* Middle section - Profile & Greeting */}\n            <div className=\"relative z-10 flex flex-col items-center\">\n              <motion.div\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 0.2, ...springs.smooth }}\n                className=\"mb-6\"\n              >\n                <div className=\"relative\">\n                  <div className=\"w-24 h-24 sm:w-28 sm:h-28 rounded-full overflow-hidden border-2 border-white/20 shadow-2xl\">\n                    <img\n                      src=\"/openclaw-logo.png\"\n                      alt=\"OpenClaw-OS\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  {/* Online indicator */}\n                  <div className=\"absolute bottom-1 right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-slate-900\" />\n                </div>\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.3, ...springs.smooth }}\n                className=\"text-center mb-8\"\n              >\n                <div className=\"text-white/40 text-xs uppercase tracking-widest mb-2\">Welcome to</div>\n                <div className=\"text-white text-2xl sm:text-3xl font-bold tracking-tight\">OpenClaw-OS</div>\n                <div className=\"text-white/50 text-sm mt-2 max-w-[280px] leading-relaxed\">\n                  Your AI-native operating system\n                </div>\n              </motion.div>\n\n              {/* Music Widget */}\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.4, ...springs.smooth }}\n              >\n                <LiquidGlass\n                  variant=\"card\"\n                  intensity=\"subtle\"\n                  className=\"w-[320px] sm:w-[360px] !p-4\"\n                  rippleEffect={false}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    {/* Album Art */}\n                    <div className=\"w-14 h-14 rounded-xl bg-white/10 flex-shrink-0 overflow-hidden\">\n                      {currentTrack.albumArt ? (\n                        <img\n                          src={currentTrack.albumArt}\n                          alt={currentTrack.album}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center text-2xl\">\n                          ðŸŽµ\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Track Info & Controls */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-white font-medium text-sm truncate\">\n                        {currentTrack.title}\n                      </div>\n                      <div className=\"text-white/50 text-xs truncate mb-2\">\n                        {currentTrack.artist}\n                      </div>\n\n                      {/* Progress Bar */}\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-[10px] text-white/40 w-8\">\n                          {formatTrackTime(trackTime)}\n                        </span>\n                        <div className=\"flex-1 h-1 bg-white/10 rounded-full overflow-hidden\">\n                          <div\n                            className=\"h-full bg-white/60 transition-all duration-150\"\n                            style={{ width: `${progressPercent}%` }}\n                          />\n                        </div>\n                        <span className=\"text-[10px] text-white/40 w-8 text-right\">\n                          {formatTrackTime(duration)}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Play Controls */}\n                    <div className=\"flex items-center gap-1\">\n                      <button\n                        onClick={(e) => { e.stopPropagation(); skipToPrevious(); }}\n                        className=\"p-2 text-white/60 hover:text-white transition-colors\"\n                      >\n                        <SkipBack className=\"w-4 h-4\" fill=\"currentColor\" />\n                      </button>\n                      <button\n                        onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n                        className=\"p-2 bg-white/20 rounded-full text-white hover:bg-white/30 transition-colors\"\n                      >\n                        {isPlaying ? (\n                          <Pause className=\"w-5 h-5\" fill=\"currentColor\" />\n                        ) : (\n                          <Play className=\"w-5 h-5\" fill=\"currentColor\" />\n                        )}\n                      </button>\n                      <button\n                        onClick={(e) => { e.stopPropagation(); skipToNext(); }}\n                        className=\"p-2 text-white/60 hover:text-white transition-colors\"\n                      >\n                        <SkipForward className=\"w-4 h-4\" fill=\"currentColor\" />\n                      </button>\n                    </div>\n                  </div>\n                </LiquidGlass>\n              </motion.div>\n            </div>\n\n            {/* Bottom section - Unlock hint (tappable) */}\n            <motion.div\n              className=\"relative z-10 pb-12 sm:pb-16 text-center cursor-pointer\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.5, ...springs.smooth }}\n              onClick={handleUnlockTap}\n              whileTap={{ scale: 0.95 }}\n              style={{ paddingTop: '60px', marginTop: '-60px' }} // Larger tap target\n            >\n              <motion.div\n                animate={prefersReducedMotion ? {} : { y: [0, -8, 0] }}\n                transition={{ repeat: Infinity, duration: 2, ease: 'easeInOut' }}\n                className=\"flex flex-col items-center text-white/40\"\n              >\n                <ChevronUp className=\"w-6 h-6 mb-1\" />\n                <span className=\"text-sm font-medium\">Swipe to begin your journey</span>\n              </motion.div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/DraggableAppIcon.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback, useState, useEffect } from 'react';\nimport type React from 'react';\nimport { motion, useMotionValue, animate, PanInfo, AnimatePresence } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\nimport { useHomeScreen, AppItem } from '@/context/HomeScreenContext';\nimport { X } from 'lucide-react';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface DraggableAppIconProps {\n  app: AppItem;\n  index: number;\n  delay?: number;\n  onClick?: () => void;\n  notificationCount?: number;\n  onAppOpen?: (appId: string) => void;\n  /** Tab index for keyboard navigation */\n  tabIndex?: number;\n  /** Focus handler for roving tabindex */\n  onFocus?: () => void;\n}\n\n// Store transition origin for page animations\nexport const APP_TRANSITION_KEY = 'openclaw_appTransition';\n\n// Long press duration (ms) to enter edit mode\nconst LONG_PRESS_DURATION = 500;\n\nexport function DraggableAppIcon({\n  app,\n  index,\n  delay = 0,\n  onClick,\n  notificationCount = 0,\n  onAppOpen,\n  tabIndex = 0,\n  onFocus,\n}: DraggableAppIconProps) {\n  const iconRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isDraggingRef = useRef(false);\n\n  const {\n    isEditMode,\n    enterEditMode,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n    gridItems,\n  } = useHomeScreen();\n\n  // Motion values for drag\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const scale = useMotionValue(1);\n  const zIndex = useMotionValue(0);\n\n  // Derived values\n  const isDragging = dragState.isDragging && dragState.draggedIndex === index;\n  const isDropTarget = dragState.dropTargetIndex === index && !isDragging;\n\n  // Reset position when not dragging\n  useEffect(() => {\n    if (!isDragging) {\n      animate(x, 0, springs.tight);\n      animate(y, 0, springs.tight);\n      animate(scale, 1, springs.tight);\n      zIndex.set(0);\n    }\n  }, [isDragging, x, y, scale, zIndex]);\n\n  // Long press handler to enter edit mode\n  const handleLongPressStart = useCallback(() => {\n    longPressTimerRef.current = setTimeout(() => {\n      if (!isDraggingRef.current) {\n        enterEditMode();\n        // Haptic feedback if available\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }, LONG_PRESS_DURATION);\n  }, [enterEditMode]);\n\n  const handleLongPressEnd = useCallback(() => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Handle tap/click\n  const handleTap = useCallback((e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault();\n\n    // Don't navigate if in edit mode or currently dragging\n    if (isEditMode || isDraggingRef.current) return;\n\n    // Mark notifications as read when opening app\n    if (onAppOpen) {\n      onAppOpen(app.id);\n    }\n\n    // Custom onClick handler (e.g., for Claw AI chat)\n    if (onClick) {\n      onClick();\n      return;\n    }\n\n    // External links open in new tab\n    if (app.external && app.href) {\n      window.open(app.href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Internal navigation with transition\n    if (app.href && !app.isChat) {\n      if (iconRef.current) {\n        const rect = iconRef.current.getBoundingClientRect();\n        const transitionData = {\n          x: rect.left + rect.width / 2,\n          y: rect.top + rect.height / 2,\n          width: rect.width,\n          height: rect.height,\n          gradient: app.gradient,\n          timestamp: Date.now(),\n        };\n        sessionStorage.setItem(APP_TRANSITION_KEY, JSON.stringify(transitionData));\n      }\n      router.push(app.href);\n    }\n  }, [app, router, onClick, isEditMode, onAppOpen]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode) return;\n\n    isDraggingRef.current = true;\n    handleLongPressEnd();\n\n    zIndex.set(100);\n    animate(scale, 1.1, springs.snappy);\n\n    const offset = {\n      x: info.point.x,\n      y: info.point.y,\n    };\n\n    startDrag({ type: 'app', item: app }, index, offset);\n  }, [isEditMode, app, index, startDrag, handleLongPressEnd, scale, zIndex]);\n\n  const handleDrag = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || !dragState.isDragging) return;\n\n    updateDragPosition({ x: info.point.x, y: info.point.y });\n\n    // Calculate which grid position we're over\n    if (iconRef.current) {\n      const iconCenter = {\n        x: info.point.x,\n        y: info.point.y,\n      };\n\n      // Find potential drop target\n      const gridContainer = iconRef.current.closest('.app-grid-container');\n      if (gridContainer) {\n        const icons = gridContainer.querySelectorAll('.app-icon-wrapper');\n        let closestIndex = -1;\n        let closestDistance = Infinity;\n\n        icons.forEach((icon, i) => {\n          if (i === index) return; // Skip self\n\n          const rect = icon.getBoundingClientRect();\n          const center = {\n            x: rect.left + rect.width / 2,\n            y: rect.top + rect.height / 2,\n          };\n\n          const distance = Math.hypot(iconCenter.x - center.x, iconCenter.y - center.y);\n\n          if (distance < closestDistance && distance < 80) {\n            closestDistance = distance;\n            closestIndex = i;\n          }\n        });\n\n        setDropTarget(closestIndex >= 0 ? closestIndex : null);\n      }\n    }\n  }, [isEditMode, dragState.isDragging, index, updateDragPosition, setDropTarget]);\n\n  const handleDragEnd = useCallback(() => {\n    isDraggingRef.current = false;\n    animate(scale, 1, springs.snappy);\n    zIndex.set(0);\n    endDrag();\n  }, [endDrag, scale, zIndex]);\n\n  // Mouse/Touch event handlers\n  const handlePointerDown = useCallback((e: React.PointerEvent) => {\n    handleLongPressStart();\n  }, [handleLongPressStart]);\n\n  const handlePointerUp = useCallback(() => {\n    handleLongPressEnd();\n  }, [handleLongPressEnd]);\n\n  const handlePointerCancel = useCallback(() => {\n    handleLongPressEnd();\n  }, [handleLongPressEnd]);\n\n  // Use CSS class for wiggle animation to avoid Framer Motion type issues\n  const shouldWiggle = isEditMode && !isDragging;\n\n  // Handle keyboard activation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (!isEditMode) {\n        handleTap(e as unknown as React.MouseEvent);\n      }\n    }\n  }, [isEditMode, handleTap]);\n\n  return (\n    <motion.div\n      className={`app-icon-wrapper flex flex-col items-center gap-2 relative ${shouldWiggle ? (index % 2 === 0 ? 'animate-ios-wiggle' : 'animate-ios-wiggle-alt') : ''\n        }`}\n      initial={{ opacity: 0, scale: 0.5, y: 20 }}\n      animate={{\n        opacity: dragState.isDragging && dragState.draggedIndex !== index && isDropTarget ? 0.5 : 1,\n        scale: 1,\n        y: 0,\n      }}\n      transition={{\n        delay,\n        ...springs.snappy,\n      }}\n      style={{\n        x: isDragging ? x : 0,\n        y: isDragging ? y : 0,\n        scale,\n        zIndex,\n      }}\n      drag={isEditMode}\n      dragMomentum={motionConfig.drag.momentum}\n      dragElastic={motionConfig.drag.elastic}\n      onDragStart={handleDragStart}\n      onDrag={handleDrag}\n      onDragEnd={handleDragEnd}\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n      onPointerCancel={handlePointerCancel}\n      whileHover={!isEditMode ? { scale: 1.05 } : undefined}\n      whileTap={!isEditMode ? { scale: 0.95 } : undefined}\n      tabIndex={tabIndex}\n      onFocus={onFocus}\n      onKeyDown={handleKeyDown}\n      role=\"gridcell\"\n      aria-label={`${app.name}${notificationCount > 0 ? `, ${notificationCount} notifications` : ''}`}\n      data-app-icon\n    >\n      {/* Delete button in edit mode */}\n      {isEditMode && (\n        <motion.button\n          className=\"absolute -top-1 -left-1 z-20 w-6 h-6 bg-black/70 rounded-full flex items-center justify-center border border-white/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0 }}\n          onClick={(e) => {\n            e.stopPropagation();\n            // Could implement remove functionality here\n          }}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n          aria-label={`Remove ${app.name}`}\n        >\n          <X className=\"w-3 h-3 text-white\" aria-hidden=\"true\" />\n        </motion.button>\n      )}\n\n      {/* Notification badge */}\n      <AnimatePresence>\n        {notificationCount > 0 && !isEditMode && (\n          <motion.div\n            className=\"absolute -top-1 -right-1 z-20 min-w-[18px] h-[18px] px-1 bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg shadow-red-500/30\"\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={springs.tight}\n          >\n            {notificationCount > 99 ? '99+' : notificationCount}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Drop target indicator */}\n      {isDropTarget && (\n        <motion.div\n          className=\"absolute inset-0 rounded-[22px] border-2 border-white/50 bg-white/10\"\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          layoutId=\"drop-indicator\"\n        />\n      )}\n\n      <div\n        ref={iconRef}\n        onClick={handleTap}\n        className=\"block cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent rounded-[20px]\"\n      >\n        <motion.div\n          className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n          animate={{\n            boxShadow: isDragging\n              ? '0 25px 50px -12px rgba(0, 0, 0, 0.5)'\n              : isDropTarget\n                ? '0 0 20px rgba(255, 255, 255, 0.3)'\n                : '0 10px 15px -3px rgba(0, 0, 0, 0.3)',\n          }}\n        >\n          {app.imageUrl ? (\n            <img\n              src={app.imageUrl}\n              alt={app.name}\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n          ) : (\n            <>\n              {/* Glass overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n\n              {/* Icon */}\n              <div className=\"relative z-10 text-white\">\n                {app.icon}\n              </div>\n            </>\n          )}\n        </motion.div>\n      </div>\n      <span className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate select-none\">\n        {app.name}\n      </span>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/AppFolder.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback, useState, useEffect, useMemo } from 'react';\nimport { motion, AnimatePresence, useMotionValue, animate, PanInfo } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\nimport { useHomeScreen, FolderItem, AppItem } from '@/context/HomeScreenContext';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\nimport { X, Pencil } from 'lucide-react';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { DraggableAppIcon } from './DraggableAppIcon';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface AppFolderProps {\n  folder: FolderItem;\n  index: number;\n  delay?: number;\n}\n\n// Long press duration (ms) to enter edit mode\nconst LONG_PRESS_DURATION = 500;\n\nexport function AppFolder({ folder, index, delay = 0 }: AppFolderProps) {\n  const folderRef = useRef<HTMLDivElement>(null);\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isDraggingRef = useRef(false);\n  const [isRenaming, setIsRenaming] = useState(false);\n  const [folderName, setFolderName] = useState(folder.name);\n\n  const {\n    isEditMode,\n    enterEditMode,\n    openFolderId,\n    openFolder,\n    closeFolder,\n    renameFolder,\n    removeFromFolder,\n    dragState,\n    startDrag,\n    updateDragPosition,\n    setDropTarget,\n    endDrag,\n  } = useHomeScreen();\n\n  const { getUnreadCountForApp, markAppNotificationsRead } = useSessionBrain();\n\n  const isOpen = openFolderId === folder.id;\n  const isDragging = dragState.isDragging && dragState.draggedIndex === index;\n  const isDropTarget = dragState.dropTargetIndex === index && !isDragging;\n\n  // Calculate total notification count for folder\n  const folderNotificationCount = useMemo(() => {\n    return folder.apps.reduce((count, app) => count + getUnreadCountForApp(app.id), 0);\n  }, [folder.apps, getUnreadCountForApp]);\n\n  // Mark notifications as read when opening an app\n  const handleAppOpen = useCallback((appId: string) => {\n    markAppNotificationsRead(appId);\n  }, [markAppNotificationsRead]);\n\n  // Motion values for drag\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const scale = useMotionValue(1);\n  const zIndex = useMotionValue(0);\n\n  // Reset position when not dragging\n  useEffect(() => {\n    if (!isDragging) {\n      animate(x, 0, springs.tight);\n      animate(y, 0, springs.tight);\n      animate(scale, 1, springs.tight);\n      zIndex.set(0);\n    }\n  }, [isDragging, x, y, scale, zIndex]);\n\n  // Long press handler\n  const handleLongPressStart = useCallback(() => {\n    longPressTimerRef.current = setTimeout(() => {\n      if (!isDraggingRef.current && !isOpen) {\n        enterEditMode();\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }, LONG_PRESS_DURATION);\n  }, [enterEditMode, isOpen]);\n\n  const handleLongPressEnd = useCallback(() => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Handle folder open\n  const handleFolderTap = useCallback(() => {\n    if (isEditMode || isDraggingRef.current) return;\n    openFolder(folder.id);\n  }, [isEditMode, folder.id, openFolder]);\n\n  // Handle rename\n  const handleRenameSubmit = useCallback(() => {\n    renameFolder(folder.id, folderName);\n    setIsRenaming(false);\n  }, [folder.id, folderName, renameFolder]);\n\n  // Drag handlers\n  const handleDragStart = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || isOpen) return;\n\n    isDraggingRef.current = true;\n    handleLongPressEnd();\n\n    zIndex.set(100);\n    animate(scale, 1.1, springs.snappy);\n\n    startDrag({ type: 'folder', item: folder }, index, { x: info.point.x, y: info.point.y });\n  }, [isEditMode, isOpen, folder, index, startDrag, handleLongPressEnd, scale, zIndex]);\n\n  const handleDrag = useCallback((event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (!isEditMode || !dragState.isDragging) return;\n\n    updateDragPosition({ x: info.point.x, y: info.point.y });\n\n    if (folderRef.current) {\n      const gridContainer = folderRef.current.closest('.app-grid-container');\n      if (gridContainer) {\n        const icons = gridContainer.querySelectorAll('.app-icon-wrapper, .folder-wrapper');\n        let closestIndex = -1;\n        let closestDistance = Infinity;\n\n        icons.forEach((icon, i) => {\n          if (i === index) return;\n          const rect = icon.getBoundingClientRect();\n          const center = { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 };\n          const distance = Math.hypot(info.point.x - center.x, info.point.y - center.y);\n\n          if (distance < closestDistance && distance < 80) {\n            closestDistance = distance;\n            closestIndex = i;\n          }\n        });\n\n        setDropTarget(closestIndex >= 0 ? closestIndex : null);\n      }\n    }\n  }, [isEditMode, dragState.isDragging, index, updateDragPosition, setDropTarget]);\n\n  const handleDragEnd = useCallback(() => {\n    isDraggingRef.current = false;\n    animate(scale, 1, springs.snappy);\n    zIndex.set(0);\n    endDrag();\n  }, [endDrag, scale, zIndex]);\n\n  // Preview icons (show up to 4 in a 2x2 grid)\n  const previewApps = folder.apps.slice(0, 4);\n\n  // Use CSS class for wiggle animation to avoid Framer Motion type issues\n  const shouldWiggle = isEditMode && !isDragging && !isOpen;\n\n  return (\n    <>\n      <motion.div\n        ref={folderRef}\n        className={`folder-wrapper flex flex-col items-center gap-2 relative ${\n          shouldWiggle ? (index % 2 === 0 ? 'animate-ios-wiggle' : 'animate-ios-wiggle-alt') : ''\n        }`}\n        initial={{ opacity: 0, scale: 0.5, y: 20 }}\n        animate={{\n          opacity: dragState.isDragging && dragState.draggedIndex !== index && isDropTarget ? 0.5 : 1,\n          scale: 1,\n          y: 0,\n        }}\n        transition={{\n          delay,\n          ...springs.snappy,\n        }}\n        style={{\n          x: isDragging ? x : 0,\n          y: isDragging ? y : 0,\n          scale,\n          zIndex,\n        }}\n        drag={isEditMode && !isOpen}\n        dragMomentum={motionConfig.drag.momentum}\n        dragElastic={motionConfig.drag.elastic}\n        onDragStart={handleDragStart}\n        onDrag={handleDrag}\n        onDragEnd={handleDragEnd}\n        onPointerDown={handleLongPressStart}\n        onPointerUp={handleLongPressEnd}\n        onPointerCancel={handleLongPressEnd}\n        whileHover={!isEditMode && !isOpen ? { scale: 1.05 } : undefined}\n        whileTap={!isEditMode && !isOpen ? { scale: 0.95 } : undefined}\n      >\n        {/* Delete button in edit mode */}\n        {isEditMode && !isOpen && (\n          <motion.button\n            className=\"absolute -top-1 -left-1 z-20 w-6 h-6 bg-black/70 rounded-full flex items-center justify-center border border-white/20\"\n            initial={{ opacity: 0, scale: 0 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0 }}\n            onClick={(e) => {\n              e.stopPropagation();\n              // Could implement delete folder functionality\n            }}\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.9 }}\n          >\n            <X className=\"w-3 h-3 text-white\" />\n          </motion.button>\n        )}\n\n        {/* Notification badge for folder */}\n        <AnimatePresence>\n          {folderNotificationCount > 0 && !isEditMode && (\n            <motion.div\n              className=\"absolute -top-1 -right-1 z-20 min-w-[18px] h-[18px] px-1 bg-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30\"\n              initial={{ scale: 0, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0, opacity: 0 }}\n              transition={springs.tight}\n            >\n              {/* Pulse ring */}\n              <motion.div\n                className=\"absolute inset-0 bg-red-500 rounded-full\"\n                animate={{\n                  scale: [1, 1.5, 1],\n                  opacity: [0.5, 0, 0.5],\n                }}\n                transition={{\n                  duration: 1.2,\n                  repeat: Infinity,\n                  ease: 'easeOut',\n                }}\n              />\n              <span className=\"relative text-[10px] font-bold text-white\">\n                {folderNotificationCount > 99 ? '99+' : folderNotificationCount}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Drop target indicator */}\n        {isDropTarget && (\n          <motion.div\n            className=\"absolute inset-0 rounded-[22px] border-2 border-white/50 bg-white/10\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n          />\n        )}\n\n        {/* Folder icon - shows 2x2 preview of apps */}\n        <div\n          onClick={handleFolderTap}\n          className=\"block cursor-pointer\"\n        >\n          <motion.div\n            className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden backdrop-blur-xl bg-white/10 border border-white/20\"\n            animate={{\n              boxShadow: isDragging\n                ? '0 25px 50px -12px rgba(0, 0, 0, 0.5)'\n                : isDropTarget\n                  ? '0 0 20px rgba(255, 255, 255, 0.3)'\n                  : '0 10px 15px -3px rgba(0, 0, 0, 0.3)',\n            }}\n          >\n            {/* 2x2 Preview grid */}\n            <div className=\"grid grid-cols-2 gap-1 p-2\">\n              {previewApps.map((app, i) => (\n                <div\n                  key={app.id}\n                  className=\"w-5 h-5 sm:w-6 sm:h-6 rounded-md overflow-hidden relative\"\n                  style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n                >\n                  {app.imageUrl ? (\n                    <img\n                      src={app.imageUrl}\n                      alt={app.name}\n                      className=\"w-full h-full object-cover\"\n                      draggable={false}\n                    />\n                  ) : (\n                    <>\n                      <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent\" />\n                      {app.icon && (\n                        <div className=\"absolute inset-0 flex items-center justify-center text-white scale-[0.45]\">\n                          {app.icon}\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              ))}\n              {/* Empty slots */}\n              {Array.from({ length: 4 - previewApps.length }).map((_, i) => (\n                <div\n                  key={`empty-${i}`}\n                  className=\"w-5 h-5 sm:w-6 sm:h-6 rounded-md bg-white/5\"\n                />\n              ))}\n            </div>\n          </motion.div>\n        </div>\n\n        {/* Folder name */}\n        {isRenaming ? (\n          <input\n            type=\"text\"\n            value={folderName}\n            onChange={(e) => setFolderName(e.target.value)}\n            onBlur={handleRenameSubmit}\n            onKeyDown={(e) => e.key === 'Enter' && handleRenameSubmit()}\n            className=\"text-white/90 text-xs font-medium text-center max-w-[72px] bg-transparent border border-white/30 rounded px-1 py-0.5 outline-none\"\n            autoFocus\n          />\n        ) : (\n          <span\n            className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate select-none\"\n            onClick={(e) => {\n              if (isEditMode) {\n                e.stopPropagation();\n                setIsRenaming(true);\n              }\n            }}\n          >\n            {folder.name}\n          </span>\n        )}\n      </motion.div>\n\n      {/* Expanded folder overlay */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            className=\"fixed inset-0 z-50 flex items-center justify-center\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={springs.smooth}\n            onClick={closeFolder}\n          >\n            {/* Backdrop blur */}\n            <motion.div\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={springs.smooth}\n            />\n\n            {/* Folder content */}\n            <motion.div\n              className=\"relative z-10 w-[90%] max-w-md\"\n              initial={{ scale: 0.5, opacity: 0, y: 50 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.5, opacity: 0, y: 50 }}\n              transition={springs.snappy}\n              onClick={(e) => e.stopPropagation()}\n            >\n              <LiquidGlass\n                variant=\"panel\"\n                intensity=\"medium\"\n                className=\"!p-6\"\n                rippleEffect={false}\n              >\n                {/* Folder header */}\n                <div className=\"flex items-center justify-between mb-6\">\n                  {isRenaming ? (\n                    <input\n                      type=\"text\"\n                      value={folderName}\n                      onChange={(e) => setFolderName(e.target.value)}\n                      onBlur={handleRenameSubmit}\n                      onKeyDown={(e) => e.key === 'Enter' && handleRenameSubmit()}\n                      className=\"text-white text-lg font-semibold bg-transparent border-b border-white/30 outline-none\"\n                      autoFocus\n                    />\n                  ) : (\n                    <h2\n                      className=\"text-white text-lg font-semibold flex items-center gap-2 cursor-pointer group\"\n                      onClick={() => setIsRenaming(true)}\n                    >\n                      {folder.name}\n                      <Pencil className=\"w-4 h-4 opacity-0 group-hover:opacity-50 transition-opacity\" />\n                    </h2>\n                  )}\n                  <button\n                    onClick={closeFolder}\n                    className=\"text-white/50 hover:text-white transition-colors\"\n                  >\n                    <X className=\"w-6 h-6\" />\n                  </button>\n                </div>\n\n                {/* Apps grid inside folder */}\n                <div className=\"grid grid-cols-4 gap-4\">\n                  {folder.apps.map((app, i) => (\n                    <FolderAppIcon\n                      key={app.id}\n                      app={app}\n                      folderId={folder.id}\n                      index={i}\n                      notificationCount={getUnreadCountForApp(app.id)}\n                      onAppOpen={handleAppOpen}\n                    />\n                  ))}\n                </div>\n              </LiquidGlass>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n\n// Simplified app icon inside folder\ninterface FolderAppIconProps {\n  app: AppItem;\n  folderId: string;\n  index: number;\n  notificationCount?: number;\n  onAppOpen?: (appId: string) => void;\n}\n\nfunction FolderAppIcon({ app, folderId, index, notificationCount = 0, onAppOpen }: FolderAppIconProps) {\n  const { isEditMode, removeFromFolder, closeFolder } = useHomeScreen();\n  const router = useRouter();\n\n  const handleTap = useCallback(() => {\n    if (isEditMode) return;\n\n    // Mark notifications as read\n    if (onAppOpen) {\n      onAppOpen(app.id);\n    }\n\n    if (app.external && app.href) {\n      window.open(app.href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    if (app.href && !app.isChat) {\n      closeFolder();\n      router.push(app.href);\n    }\n  }, [app, router, isEditMode, closeFolder, onAppOpen]);\n\n  return (\n    <motion.div\n      className=\"flex flex-col items-center gap-1 relative\"\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ delay: 0.05 }}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n    >\n      {/* Remove button in edit mode */}\n      {isEditMode && (\n        <motion.button\n          className=\"absolute -top-1 -left-1 z-20 w-5 h-5 bg-black/70 rounded-full flex items-center justify-center border border-white/20\"\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          onClick={(e) => {\n            e.stopPropagation();\n            removeFromFolder(folderId, app.id);\n          }}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n        >\n          <X className=\"w-2.5 h-2.5 text-white\" />\n        </motion.button>\n      )}\n\n      {/* Notification badge */}\n      <AnimatePresence>\n        {notificationCount > 0 && !isEditMode && (\n          <motion.div\n            className=\"absolute -top-1 -right-1 z-20 min-w-[16px] h-[16px] px-0.5 bg-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30\"\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={springs.tight}\n          >\n            <span className=\"text-[9px] font-bold text-white\">\n              {notificationCount > 99 ? '99+' : notificationCount}\n            </span>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <div\n        onClick={handleTap}\n        className=\"cursor-pointer\"\n      >\n        <div\n          className=\"w-14 h-14 rounded-[14px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: app.imageUrl ? 'transparent' : app.gradient }}\n        >\n          {app.imageUrl ? (\n            <img\n              src={app.imageUrl}\n              alt={app.name}\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n          ) : (\n            <>\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n              <div className=\"relative z-10 text-white scale-90\">\n                {app.icon}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <span className=\"text-white/90 text-[10px] font-medium text-center max-w-[56px] truncate select-none\">\n        {app.name}\n      </span>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1981, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/watch/watch-utils.ts"],"sourcesContent":["/**\n * Watch Utilities\n * Animation helpers and time calculations for watch faces\n */\n\n// Get current time angles for watch hands\nexport function getTimeAngles(date: Date = new Date()): {\n  hours: number;\n  minutes: number;\n  seconds: number;\n  milliseconds: number;\n} {\n  const hours = date.getHours() % 12;\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n  const milliseconds = date.getMilliseconds();\n\n  // Calculate smooth angles (continuous movement)\n  const secondsWithMs = seconds + milliseconds / 1000;\n  const minutesWithSeconds = minutes + secondsWithMs / 60;\n  const hoursWithMinutes = hours + minutesWithSeconds / 60;\n\n  return {\n    hours: hoursWithMinutes * 30, // 360Â° / 12 hours = 30Â° per hour\n    minutes: minutesWithSeconds * 6, // 360Â° / 60 minutes = 6Â° per minute\n    seconds: secondsWithMs * 6, // 360Â° / 60 seconds = 6Â° per second\n    milliseconds: milliseconds * 0.36, // For ultra-smooth if needed\n  };\n}\n\n// Convert HSL string to CSS\nexport function hslToCSS(hsl: string): string {\n  // If already a valid CSS color, return as-is\n  if (hsl.startsWith('hsl') || hsl.startsWith('rgb') || hsl.startsWith('#')) {\n    return hsl;\n  }\n  // Convert \"h s% l%\" format to \"hsl(h, s%, l%)\"\n  const parts = hsl.split(' ');\n  if (parts.length >= 3) {\n    return `hsl(${parts[0]}, ${parts[1]}, ${parts[2]})`;\n  }\n  return hsl;\n}\n\n// Convert to Roman numerals\nexport function toRoman(num: number): string {\n  const romanNumerals: [number, string][] = [\n    [12, 'XII'], [11, 'XI'], [10, 'X'], [9, 'IX'],\n    [8, 'VIII'], [7, 'VII'], [6, 'VI'], [5, 'V'],\n    [4, 'IV'], [3, 'III'], [2, 'II'], [1, 'I'],\n  ];\n\n  for (const [value, numeral] of romanNumerals) {\n    if (num === value) return numeral;\n  }\n  return String(num);\n}\n\n// Generate positions around the dial\nexport function getPositionOnCircle(\n  angle: number,\n  radius: number,\n  centerX: number = 50,\n  centerY: number = 50\n): { x: number; y: number } {\n  // Convert angle to radians, offset by -90Â° so 0Â° is at 12 o'clock\n  const radians = ((angle - 90) * Math.PI) / 180;\n  return {\n    x: centerX + radius * Math.cos(radians),\n    y: centerY + radius * Math.sin(radians),\n  };\n}\n\n// Generate tick marks for the dial\nexport function generateTickMarks(\n  count: number,\n  majorEvery: number = 5\n): Array<{ angle: number; isMajor: boolean }> {\n  const marks: Array<{ angle: number; isMajor: boolean }> = [];\n  for (let i = 0; i < count; i++) {\n    marks.push({\n      angle: (360 / count) * i,\n      isMajor: i % majorEvery === 0,\n    });\n  }\n  return marks;\n}\n\n// Format date for date window\nexport function formatDateWindow(date: Date = new Date()): string {\n  return date.getDate().toString().padStart(2, '0');\n}\n\n// Watch size presets\nexport const WATCH_SIZES = {\n  xs: 80,\n  sm: 120,\n  md: 180,\n  lg: 240,\n  xl: 320,\n  showcase: 400,\n} as const;\n\nexport type WatchSize = keyof typeof WATCH_SIZES;\n\n// Easing functions for smooth animations\nexport const easings = {\n  // Spring-like easing for hands\n  spring: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  // Smooth deceleration\n  easeOut: 'cubic-bezier(0.33, 1, 0.68, 1)',\n  // Linear for continuous rotation\n  linear: 'linear',\n};\n\n// Calculate hand dimensions based on style\nexport function getHandDimensions(\n  style: string,\n  type: 'hour' | 'minute' | 'second'\n): { length: number; width: number; tailLength: number } {\n  const dimensions: Record<string, Record<string, { length: number; width: number; tailLength: number }>> = {\n    dauphine: {\n      hour: { length: 28, width: 4, tailLength: 8 },\n      minute: { length: 38, width: 3, tailLength: 8 },\n      second: { length: 38, width: 1.5, tailLength: 12 },\n    },\n    baton: {\n      hour: { length: 26, width: 3.5, tailLength: 6 },\n      minute: { length: 38, width: 2.5, tailLength: 6 },\n      second: { length: 40, width: 1, tailLength: 14 },\n    },\n    mercedes: {\n      hour: { length: 26, width: 5, tailLength: 6 },\n      minute: { length: 38, width: 4, tailLength: 6 },\n      second: { length: 40, width: 1.5, tailLength: 14 },\n    },\n    snowflake: {\n      hour: { length: 26, width: 5, tailLength: 6 },\n      minute: { length: 38, width: 4, tailLength: 6 },\n      second: { length: 40, width: 1.5, tailLength: 14 },\n    },\n    sword: {\n      hour: { length: 28, width: 4, tailLength: 7 },\n      minute: { length: 40, width: 3, tailLength: 7 },\n      second: { length: 40, width: 1.2, tailLength: 14 },\n    },\n    leaf: {\n      hour: { length: 27, width: 5, tailLength: 7 },\n      minute: { length: 38, width: 4, tailLength: 7 },\n      second: { length: 38, width: 1.5, tailLength: 12 },\n    },\n    alpha: {\n      hour: { length: 26, width: 4.5, tailLength: 8 },\n      minute: { length: 38, width: 3.5, tailLength: 8 },\n      second: { length: 40, width: 1, tailLength: 14 },\n    },\n  };\n\n  return dimensions[style]?.[type] || dimensions.dauphine[type];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2254, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/WatchFace.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { type WatchDNA, type HandStyle, type IndexStyle } from '@/lib/watch/theme-to-watch';\nimport {\n  getTimeAngles,\n  toRoman,\n  getPositionOnCircle,\n  formatDateWindow,\n  WATCH_SIZES,\n  type WatchSize,\n  getHandDimensions,\n} from '@/lib/watch/watch-utils';\n\ninterface WatchFaceProps {\n  watchDNA: WatchDNA;\n  size?: WatchSize | number;\n  showCase?: boolean;\n  interactive?: boolean;\n  className?: string;\n  timezone?: string;\n}\n\nexport function WatchFace({\n  watchDNA,\n  size = 'md',\n  showCase = true,\n  interactive = true,\n  className = '',\n  timezone,\n}: WatchFaceProps) {\n  const [time, setTime] = useState(new Date());\n  const [isHovered, setIsHovered] = useState(false);\n\n  // Update time every 50ms for smooth seconds hand\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 50);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Get time for specific timezone if provided\n  const displayTime = useMemo(() => {\n    if (!timezone) return time;\n\n    const options: Intl.DateTimeFormatOptions = {\n      timeZone: timezone,\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n      fractionalSecondDigits: 3,\n      hour12: false,\n    };\n\n    try {\n      const formatter = new Intl.DateTimeFormat('en-US', options);\n      const parts = formatter.formatToParts(time);\n\n      const getPart = (type: string) => {\n        const part = parts.find(p => p.type === type);\n        return part ? parseInt(part.value, 10) : 0;\n      };\n\n      const tzDate = new Date(\n        getPart('year'),\n        getPart('month') - 1,\n        getPart('day'),\n        getPart('hour'),\n        getPart('minute'),\n        getPart('second'),\n        time.getMilliseconds()\n      );\n\n      return tzDate;\n    } catch {\n      return time;\n    }\n  }, [time, timezone]);\n\n  const angles = useMemo(() => getTimeAngles(displayTime), [displayTime]);\n  const pixelSize = typeof size === 'number' ? size : WATCH_SIZES[size];\n\n  // Determine if this is an iOS-style minimal watch or a tool watch\n  const isMinimalStyle = watchDNA.style === 'minimal' || watchDNA.style === 'elegant';\n  const isToolWatch = watchDNA.style === 'diver' || watchDNA.style === 'sporty';\n\n  return (\n    <motion.div\n      className={`relative ${className}`}\n      style={{ width: pixelSize, height: pixelSize }}\n      onMouseEnter={() => interactive && setIsHovered(true)}\n      onMouseLeave={() => interactive && setIsHovered(false)}\n      whileHover={interactive ? { scale: 1.02 } : undefined}\n      transition={{ type: 'spring', stiffness: 400, damping: 25 }}\n    >\n      <svg\n        viewBox=\"0 0 100 100\"\n        className=\"w-full h-full\"\n        style={{ filter: isHovered ? 'drop-shadow(0 8px 24px rgba(0,0,0,0.2))' : 'drop-shadow(0 4px 12px rgba(0,0,0,0.15))' }}\n      >\n        <defs>\n          {/* Gradients and filters */}\n          <radialGradient id={`dial-gradient-${watchDNA.theme}`} cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"rgba(255,255,255,0.15)\" />\n            <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0.05)\" />\n          </radialGradient>\n\n          <filter id={`crystal-${watchDNA.theme}`} x=\"-10%\" y=\"-10%\" width=\"120%\" height=\"120%\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"0.5\" result=\"blur\" />\n            <feOffset in=\"blur\" dx=\"0\" dy=\"1\" result=\"shadow\" />\n            <feComposite in=\"SourceGraphic\" in2=\"shadow\" operator=\"over\" />\n          </filter>\n\n          {/* Lume glow effect */}\n          <filter id={`lume-glow-${watchDNA.theme}`}>\n            <feGaussianBlur stdDeviation=\"1\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n        </defs>\n\n        {/* Case - iOS squircle style for minimal, round for others */}\n        {showCase && (\n          <WatchCase\n            watchDNA={watchDNA}\n            isMinimal={isMinimalStyle}\n            isHovered={isHovered}\n          />\n        )}\n\n        {/* Main dial */}\n        <Dial watchDNA={watchDNA} isMinimal={isMinimalStyle} />\n\n        {/* Chapter ring / minute track */}\n        {(watchDNA.hasChapterRing || isToolWatch) && (\n          <ChapterRing watchDNA={watchDNA} />\n        )}\n\n        {/* Hour indices */}\n        <Indices watchDNA={watchDNA} isMinimal={isMinimalStyle} />\n\n        {/* Date window */}\n        {watchDNA.hasDateWindow && (\n          <DateWindow\n            watchDNA={watchDNA}\n            date={formatDateWindow(displayTime)}\n          />\n        )}\n\n        {/* Hands */}\n        <Hands\n          watchDNA={watchDNA}\n          angles={angles}\n          isMinimal={isMinimalStyle}\n        />\n\n        {/* Center cap */}\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={isMinimalStyle ? 2.5 : 3}\n          fill={watchDNA.handColor}\n        />\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={isMinimalStyle ? 1.5 : 2}\n          fill={watchDNA.secondsHandColor}\n        />\n\n        {/* Crystal reflection overlay */}\n        {watchDNA.hasCrystalDome && (\n          <ellipse\n            cx=\"35\"\n            cy=\"35\"\n            rx=\"25\"\n            ry=\"20\"\n            fill={`url(#dial-gradient-${watchDNA.theme})`}\n            opacity=\"0.3\"\n          />\n        )}\n      </svg>\n    </motion.div>\n  );\n}\n\n// Watch Case Component\nfunction WatchCase({\n  watchDNA,\n  isMinimal,\n  isHovered,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n  isHovered: boolean;\n}) {\n  if (isMinimal) {\n    // iOS-style squircle case\n    return (\n      <>\n        {/* Outer case shadow */}\n        <rect\n          x=\"4\"\n          y=\"5\"\n          width=\"92\"\n          height=\"92\"\n          rx=\"22\"\n          fill=\"rgba(0,0,0,0.1)\"\n        />\n        {/* Case body */}\n        <rect\n          x=\"4\"\n          y=\"4\"\n          width=\"92\"\n          height=\"92\"\n          rx=\"22\"\n          fill={watchDNA.bezelColor}\n          stroke=\"rgba(255,255,255,0.2)\"\n          strokeWidth=\"0.5\"\n        />\n        {/* Inner bezel */}\n        <rect\n          x=\"6\"\n          y=\"6\"\n          width=\"88\"\n          height=\"88\"\n          rx=\"20\"\n          fill=\"none\"\n          stroke=\"rgba(0,0,0,0.1)\"\n          strokeWidth=\"0.5\"\n        />\n      </>\n    );\n  }\n\n  // Round case for tool watches\n  return (\n    <>\n      {/* Case shadow */}\n      <circle\n        cx=\"50\"\n        cy=\"51\"\n        r=\"48\"\n        fill=\"rgba(0,0,0,0.15)\"\n      />\n      {/* Outer case */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"48\"\n        fill={watchDNA.bezelColor}\n        stroke=\"rgba(255,255,255,0.1)\"\n        strokeWidth=\"0.5\"\n      />\n      {/* Bezel */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"46\"\n        fill=\"none\"\n        stroke={watchDNA.caseFinish === 'brushed' ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.1)'}\n        strokeWidth=\"3\"\n      />\n      {/* Inner bezel ring */}\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r=\"44\"\n        fill=\"none\"\n        stroke=\"rgba(0,0,0,0.15)\"\n        strokeWidth=\"0.5\"\n      />\n    </>\n  );\n}\n\n// Dial Component\nfunction Dial({\n  watchDNA,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n}) {\n  const dialRadius = isMinimal ? 42 : 43;\n  const dialRx = isMinimal ? 18 : 43;\n\n  if (isMinimal) {\n    return (\n      <rect\n        x={50 - dialRadius}\n        y={50 - dialRadius}\n        width={dialRadius * 2}\n        height={dialRadius * 2}\n        rx={dialRx}\n        fill={watchDNA.dialColor}\n      />\n    );\n  }\n\n  return (\n    <>\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        r={dialRadius}\n        fill={watchDNA.dialColor}\n      />\n      {/* Sunburst effect for elegant dials */}\n      {watchDNA.dialTexture === 'sunburst' && (\n        <circle\n          cx=\"50\"\n          cy=\"50\"\n          r={dialRadius}\n          fill={`url(#dial-gradient-${watchDNA.theme})`}\n          opacity=\"0.5\"\n        />\n      )}\n    </>\n  );\n}\n\n// Chapter Ring / Minute Track\nfunction ChapterRing({ watchDNA }: { watchDNA: WatchDNA }) {\n  const ticks = [];\n  for (let i = 0; i < 60; i++) {\n    const isMajor = i % 5 === 0;\n    const angle = i * 6;\n    const outerR = 42;\n    const innerR = isMajor ? 39 : 40.5;\n\n    const outer = getPositionOnCircle(angle, outerR);\n    const inner = getPositionOnCircle(angle, innerR);\n\n    ticks.push(\n      <line\n        key={`tick-${i}`}\n        x1={outer.x}\n        y1={outer.y}\n        x2={inner.x}\n        y2={inner.y}\n        stroke={watchDNA.indexColor}\n        strokeWidth={isMajor ? 0.8 : 0.4}\n        opacity={isMajor ? 0.8 : 0.5}\n      />\n    );\n  }\n\n  return <g>{ticks}</g>;\n}\n\n// Indices Component\nfunction Indices({\n  watchDNA,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  isMinimal: boolean;\n}) {\n  const { indexStyle, indexColor, font } = watchDNA;\n  const indices = [];\n\n  // Radius for index placement\n  const radius = isMinimal ? 34 : 36;\n  const textRadius = isMinimal ? 32 : 33;\n\n  for (let hour = 1; hour <= 12; hour++) {\n    const angle = hour * 30;\n    const pos = getPositionOnCircle(angle, radius);\n    const textPos = getPositionOnCircle(angle, textRadius);\n\n    // Determine what to show at this position\n    const isQuarter = hour === 12 || hour === 3 || hour === 6 || hour === 9;\n\n    if (indexStyle === 'none') {\n      // Minimal - just small dots at quarters\n      if (isQuarter) {\n        indices.push(\n          <circle\n            key={`index-${hour}`}\n            cx={pos.x}\n            cy={pos.y}\n            r={1}\n            fill={indexColor}\n            opacity={0.6}\n          />\n        );\n      }\n    } else if (indexStyle === 'arabic' || (indexStyle === 'mixed' && isQuarter)) {\n      // Arabic numerals\n      indices.push(\n        <text\n          key={`index-${hour}`}\n          x={textPos.x}\n          y={textPos.y}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill={indexColor}\n          fontSize={isMinimal ? 7 : 6}\n          fontFamily={font}\n          fontWeight={isMinimal ? 500 : 600}\n        >\n          {hour}\n        </text>\n      );\n    } else if (indexStyle === 'roman') {\n      // Roman numerals\n      indices.push(\n        <text\n          key={`index-${hour}`}\n          x={textPos.x}\n          y={textPos.y}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill={indexColor}\n          fontSize={5}\n          fontFamily=\"serif\"\n          fontWeight={400}\n        >\n          {toRoman(hour)}\n        </text>\n      );\n    } else if (indexStyle === 'dots') {\n      // Luminous dots (Explorer II style)\n      const dotSize = isQuarter ? 2.5 : 1.8;\n      indices.push(\n        <g key={`index-${hour}`} filter={`url(#lume-glow-${watchDNA.theme})`}>\n          <circle\n            cx={pos.x}\n            cy={pos.y}\n            r={dotSize}\n            fill={watchDNA.lumeColor}\n          />\n          <circle\n            cx={pos.x}\n            cy={pos.y}\n            r={dotSize * 0.6}\n            fill=\"rgba(255,255,255,0.8)\"\n          />\n        </g>\n      );\n      // Triangle at 12 for diver style\n      if (hour === 12) {\n        const triPos = getPositionOnCircle(0, radius + 2);\n        indices.push(\n          <polygon\n            key=\"triangle-12\"\n            points={`${triPos.x},${triPos.y - 4} ${triPos.x - 3},${triPos.y + 2} ${triPos.x + 3},${triPos.y + 2}`}\n            fill={watchDNA.lumeColor}\n            filter={`url(#lume-glow-${watchDNA.theme})`}\n          />\n        );\n      }\n    } else {\n      // Baton indices\n      const batonLength = isQuarter ? 5 : 3;\n      const outerPos = getPositionOnCircle(angle, radius + 2);\n      const innerPos = getPositionOnCircle(angle, radius + 2 - batonLength);\n\n      indices.push(\n        <line\n          key={`index-${hour}`}\n          x1={outerPos.x}\n          y1={outerPos.y}\n          x2={innerPos.x}\n          y2={innerPos.y}\n          stroke={indexColor}\n          strokeWidth={isQuarter ? 2 : 1.2}\n          strokeLinecap=\"round\"\n        />\n      );\n    }\n  }\n\n  return <g>{indices}</g>;\n}\n\n// Date Window Component\nfunction DateWindow({\n  watchDNA,\n  date,\n}: {\n  watchDNA: WatchDNA;\n  date: string;\n}) {\n  const position = watchDNA.datePosition === 3\n    ? { x: 68, y: 50 }\n    : { x: 50, y: 68 };\n\n  return (\n    <g>\n      {/* Date window frame */}\n      <rect\n        x={position.x - 6}\n        y={position.y - 4}\n        width={12}\n        height={8}\n        rx={1}\n        fill=\"rgba(255,255,255,0.95)\"\n        stroke={watchDNA.indexColor}\n        strokeWidth={0.5}\n      />\n      {/* Date text */}\n      <text\n        x={position.x}\n        y={position.y}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#1a1a1a\"\n        fontSize={5}\n        fontFamily=\"system-ui, sans-serif\"\n        fontWeight={600}\n      >\n        {date}\n      </text>\n    </g>\n  );\n}\n\n// Hands Component\nfunction Hands({\n  watchDNA,\n  angles,\n  isMinimal,\n}: {\n  watchDNA: WatchDNA;\n  angles: { hours: number; minutes: number; seconds: number };\n  isMinimal: boolean;\n}) {\n  const { handStyle, handColor, secondsHandColor } = watchDNA;\n  const hourDims = getHandDimensions(handStyle, 'hour');\n  const minuteDims = getHandDimensions(handStyle, 'minute');\n  const secondDims = getHandDimensions(handStyle, 'second');\n\n  return (\n    <g>\n      {/* Hour hand */}\n      <g transform={`rotate(${angles.hours}, 50, 50)`}>\n        <Hand\n          length={hourDims.length}\n          width={hourDims.width}\n          tailLength={hourDims.tailLength}\n          color={handColor}\n          style={handStyle}\n          type=\"hour\"\n          isMinimal={isMinimal}\n        />\n      </g>\n\n      {/* Minute hand */}\n      <g transform={`rotate(${angles.minutes}, 50, 50)`}>\n        <Hand\n          length={minuteDims.length}\n          width={minuteDims.width}\n          tailLength={minuteDims.tailLength}\n          color={handColor}\n          style={handStyle}\n          type=\"minute\"\n          isMinimal={isMinimal}\n        />\n      </g>\n\n      {/* Seconds hand - always uses accent color */}\n      <g transform={`rotate(${angles.seconds}, 50, 50)`}>\n        <SecondsHand\n          length={secondDims.length}\n          tailLength={secondDims.tailLength}\n          color={secondsHandColor}\n          isMinimal={isMinimal}\n        />\n      </g>\n    </g>\n  );\n}\n\n// Individual Hand Component\nfunction Hand({\n  length,\n  width,\n  tailLength,\n  color,\n  style,\n  type,\n  isMinimal,\n}: {\n  length: number;\n  width: number;\n  tailLength: number;\n  color: string;\n  style: string;\n  type: 'hour' | 'minute';\n  isMinimal: boolean;\n}) {\n  // Different hand shapes based on style\n  if (style === 'mercedes' && type === 'hour') {\n    // Mercedes/Rolex style hour hand with circle\n    return (\n      <g>\n        <rect\n          x={50 - width / 2}\n          y={50 - length + 8}\n          width={width}\n          height={length - 12}\n          fill={color}\n        />\n        <circle\n          cx={50}\n          cy={50 - length + 5}\n          r={4}\n          fill=\"none\"\n          stroke={color}\n          strokeWidth={width * 0.8}\n        />\n        <rect\n          x={50 - width / 2}\n          y={50}\n          width={width}\n          height={tailLength}\n          fill={color}\n        />\n      </g>\n    );\n  }\n\n  if (style === 'dauphine' || isMinimal) {\n    // Tapered dauphine hands (iOS Clock style)\n    const tipWidth = width * 0.3;\n    return (\n      <polygon\n        points={`\n          ${50 - width / 2},${50 + tailLength}\n          ${50 - width / 2},${50}\n          ${50 - tipWidth},${50 - length + 4}\n          ${50},${50 - length}\n          ${50 + tipWidth},${50 - length + 4}\n          ${50 + width / 2},${50}\n          ${50 + width / 2},${50 + tailLength}\n        `}\n        fill={color}\n      />\n    );\n  }\n\n  // Default baton style\n  return (\n    <g>\n      <rect\n        x={50 - width / 2}\n        y={50 - length}\n        width={width}\n        height={length + tailLength}\n        rx={width / 2}\n        fill={color}\n      />\n    </g>\n  );\n}\n\n// Seconds Hand Component - always thin with counterbalance\nfunction SecondsHand({\n  length,\n  tailLength,\n  color,\n  isMinimal,\n}: {\n  length: number;\n  tailLength: number;\n  color: string;\n  isMinimal: boolean;\n}) {\n  const width = isMinimal ? 1 : 1.2;\n\n  return (\n    <g>\n      {/* Main hand */}\n      <line\n        x1={50}\n        y1={50 + tailLength}\n        x2={50}\n        y2={50 - length}\n        stroke={color}\n        strokeWidth={width}\n        strokeLinecap=\"round\"\n      />\n      {/* Counterbalance circle */}\n      <circle\n        cx={50}\n        cy={50 + tailLength - 3}\n        r={isMinimal ? 2 : 2.5}\n        fill={color}\n      />\n      {/* Tip arrow for tool watches */}\n      {!isMinimal && (\n        <polygon\n          points={`${50},${50 - length - 2} ${50 - 2},${50 - length + 3} ${50 + 2},${50 - length + 3}`}\n          fill={color}\n        />\n      )}\n    </g>\n  );\n}\n\nexport default WatchFace;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3114, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/TimezoneDetailModal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimezoneDetailModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  timezone: {\n    id: string;\n    city: string;\n    timezone: string;\n  };\n  watchDNA: WatchDNA;\n}\n\nfunction formatDetailedTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatDetailedDate(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    timeZone: timezone,\n  }).format(date);\n}\n\nfunction getTimezoneOffset(timezone: string): string {\n  const now = new Date();\n  const formatter = new Intl.DateTimeFormat('en-US', {\n    timeZone: timezone,\n    timeZoneName: 'shortOffset',\n  });\n  const parts = formatter.formatToParts(now);\n  const offsetPart = parts.find(p => p.type === 'timeZoneName');\n  return offsetPart?.value || '';\n}\n\nfunction getTimeDifference(timezone: string): string {\n  const now = new Date();\n\n  // Get the offset for the target timezone\n  const targetDate = new Date(now.toLocaleString('en-US', { timeZone: timezone }));\n  const localDate = new Date(now.toLocaleString('en-US'));\n\n  const diffMs = targetDate.getTime() - localDate.getTime();\n  const diffHours = Math.round(diffMs / (1000 * 60 * 60));\n\n  if (diffHours === 0) return 'Same as local time';\n  if (diffHours > 0) return `${diffHours}h ahead`;\n  return `${Math.abs(diffHours)}h behind`;\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): { icon: string; label: string } {\n  const hour = getHourInTimezone(date, timezone);\n\n  if (hour >= 5 && hour < 7) {\n    return { icon: '/icons/weather/sunrise.svg', label: 'Dawn' };\n  } else if (hour >= 7 && hour < 12) {\n    return { icon: '/icons/weather/clear-day.svg', label: 'Morning' };\n  } else if (hour >= 12 && hour < 17) {\n    return { icon: '/icons/weather/partly-cloudy-day.svg', label: 'Afternoon' };\n  } else if (hour >= 17 && hour < 20) {\n    return { icon: '/icons/weather/sunset.svg', label: 'Evening' };\n  } else if (hour >= 20 && hour < 22) {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Dusk' };\n  } else {\n    return { icon: '/icons/weather/clear-night.svg', label: 'Night' };\n  }\n}\n\nfunction getTimeOfDay(date: Date, timezone: string): { period: string; weatherIcon: string; gradient: string; isNight: boolean } {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return { period: 'Dawn', weatherIcon: '/icons/weather/sunrise.svg', gradient: 'from-orange-500/30 to-pink-500/30', isNight: false };\n  } else if (hour >= 7 && hour < 12) {\n    return { period: 'Morning', weatherIcon: '/icons/weather/clear-day.svg', gradient: 'from-yellow-500/25 to-orange-500/25', isNight: false };\n  } else if (hour >= 12 && hour < 17) {\n    return { period: 'Afternoon', weatherIcon: '/icons/weather/partly-cloudy-day.svg', gradient: 'from-blue-500/25 to-cyan-500/25', isNight: false };\n  } else if (hour >= 17 && hour < 20) {\n    return { period: 'Evening', weatherIcon: '/icons/weather/sunset.svg', gradient: 'from-orange-500/30 to-red-500/30', isNight: false };\n  } else if (hour >= 20 && hour < 22) {\n    return { period: 'Dusk', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-purple-500/30 to-indigo-500/30', isNight: true };\n  } else {\n    return { period: 'Night', weatherIcon: '/icons/weather/clear-night.svg', gradient: 'from-indigo-600/40 to-slate-800/40', isNight: true };\n  }\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 25%, 10%)',\n    handColor: 'hsl(210, 20%, 85%)',\n    indexColor: 'hsl(210, 15%, 70%)',\n    bezelColor: 'hsl(220, 20%, 15%)',\n    lumeColor: 'hsl(200, 100%, 70%)',\n  };\n}\n\nexport function TimezoneDetailModal({\n  isOpen,\n  onClose,\n  timezone,\n  watchDNA,\n}: TimezoneDetailModalProps) {\n  const [time, setTime] = useState(new Date());\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isOpen]);\n\n  const formattedTime = useMemo(() => formatDetailedTime(time, timezone.timezone), [time, timezone.timezone]);\n  const formattedDate = useMemo(() => formatDetailedDate(time, timezone.timezone), [time, timezone.timezone]);\n  const timezoneOffset = useMemo(() => getTimezoneOffset(timezone.timezone), [timezone.timezone]);\n  const timeDifference = useMemo(() => getTimeDifference(timezone.timezone), [timezone.timezone]);\n  const timeOfDay = useMemo(() => getTimeOfDay(time, timezone.timezone), [time, timezone.timezone]);\n\n  // Get dark mode watch DNA for nighttime\n  const effectiveWatchDNA = useMemo(\n    () => (timeOfDay.isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA),\n    [watchDNA, timeOfDay.isNight]\n  );\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          className=\"fixed inset-0 z-[200] flex items-center justify-center p-4\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.2 }}\n        >\n          {/* Backdrop */}\n          <motion.div\n            className={`absolute inset-0 backdrop-blur-md ${timeOfDay.isNight ? 'bg-black/70' : 'bg-black/60'}`}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n          />\n\n          {/* Modal Content */}\n          <motion.div\n            className=\"relative z-10 w-full max-w-sm rounded-3xl overflow-hidden\"\n            style={{\n              background: timeOfDay.isNight\n                ? 'linear-gradient(180deg, rgba(15,23,42,0.98) 0%, rgba(2,6,23,0.98) 100%)'\n                : 'linear-gradient(180deg, rgba(30,30,30,0.98) 0%, rgba(15,15,15,0.98) 100%)',\n              border: timeOfDay.isNight\n                ? '1px solid rgba(71,85,105,0.3)'\n                : '1px solid rgba(255,255,255,0.1)',\n              boxShadow: timeOfDay.isNight\n                ? '0 25px 50px -12px rgba(0,0,0,0.8), inset 0 1px 0 rgba(148,163,184,0.1)'\n                : '0 25px 50px -12px rgba(0,0,0,0.6)',\n            }}\n            initial={{ scale: 0.9, opacity: 0, y: 20 }}\n            animate={{ scale: 1, opacity: 1, y: 0 }}\n            exit={{ scale: 0.9, opacity: 0, y: 20 }}\n            transition={{\n              type: 'spring',\n              stiffness: 400,\n              damping: 30,\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Close Button */}\n            <button\n              onClick={onClose}\n              className={`absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full transition-colors z-20 ${\n                timeOfDay.isNight\n                  ? 'bg-slate-700/50 hover:bg-slate-600/60'\n                  : 'bg-white/10 hover:bg-white/20'\n              }`}\n              aria-label=\"Close timezone detail\"\n            >\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                className={timeOfDay.isNight ? 'text-slate-400' : 'text-white/70'}\n              >\n                <path d=\"M18 6L6 18M6 6l12 12\" />\n              </svg>\n            </button>\n\n            {/* Header with gradient accent and weather icon */}\n            <div className={`px-6 pt-6 pb-4 bg-gradient-to-r ${timeOfDay.gradient}`}>\n              <div className=\"flex items-center gap-3 mb-2\">\n                {/* Weather Icon */}\n                <motion.div\n                  initial={{ scale: 0, rotate: -180 }}\n                  animate={{ scale: 1, rotate: 0 }}\n                  transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 20 }}\n                  className=\"w-12 h-12\"\n                >\n                  <img\n                    src={timeOfDay.weatherIcon}\n                    alt={timeOfDay.period}\n                    width={48}\n                    height={48}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: timeOfDay.isNight\n                        ? 'drop-shadow(0 0 8px rgba(147,197,253,0.5))'\n                        : 'drop-shadow(0 4px 8px rgba(0,0,0,0.3))',\n                    }}\n                  />\n                </motion.div>\n                <div>\n                  <span\n                    className={`text-sm font-medium ${\n                      timeOfDay.isNight ? 'text-slate-400' : 'text-white/60'\n                    }`}\n                  >\n                    {timeOfDay.period}\n                  </span>\n                  <h2\n                    className={`text-2xl font-semibold tracking-tight ${\n                      timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                    }`}\n                  >\n                    {timezone.city}\n                  </h2>\n                </div>\n              </div>\n              <p\n                className={`text-sm mt-1 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n              >\n                {timezoneOffset} â€¢ {timeDifference}\n              </p>\n            </div>\n\n            {/* Watch Face - Centered and larger */}\n            <div className=\"flex justify-center py-8 relative\">\n              {/* Nighttime glow effect */}\n              {timeOfDay.isNight && (\n                <div\n                  className=\"absolute inset-0 pointer-events-none\"\n                  style={{\n                    background: 'radial-gradient(circle at center, rgba(99,102,241,0.15) 0%, transparent 70%)',\n                  }}\n                />\n              )}\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay: 0.1, type: 'spring', stiffness: 300, damping: 25 }}\n                className=\"relative\"\n              >\n                <WatchFace\n                  watchDNA={effectiveWatchDNA}\n                  size={180}\n                  showCase={true}\n                  interactive={false}\n                  timezone={timezone.timezone}\n                />\n                {/* Lume glow for nighttime */}\n                {timeOfDay.isNight && (\n                  <div\n                    className=\"absolute inset-0 rounded-full pointer-events-none\"\n                    style={{\n                      boxShadow: 'inset 0 0 30px rgba(147,197,253,0.2)',\n                    }}\n                  />\n                )}\n              </motion.div>\n            </div>\n\n            {/* Digital Time Display */}\n            <div className=\"text-center px-6 pb-4\">\n              <motion.div\n                className={`text-5xl font-light tabular-nums tracking-tight ${\n                  timeOfDay.isNight ? 'text-slate-100' : 'text-white'\n                }`}\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.15 }}\n              >\n                {formattedTime}\n              </motion.div>\n              <motion.p\n                className={`text-sm mt-2 ${\n                  timeOfDay.isNight ? 'text-slate-500' : 'text-white/50'\n                }`}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.2 }}\n              >\n                {formattedDate}\n              </motion.p>\n            </div>\n\n            {/* Info Cards */}\n            <div className=\"grid grid-cols-2 gap-3 px-6 pb-6\">\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: -10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.25 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  Timezone\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezone.timezone.split('/').pop()?.replace('_', ' ')}\n                </p>\n              </motion.div>\n              <motion.div\n                className={`p-3 rounded-2xl border ${\n                  timeOfDay.isNight\n                    ? 'bg-slate-800/50 border-slate-700/50'\n                    : 'bg-white/5 border-white/10'\n                }`}\n                initial={{ opacity: 0, x: 10 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.3 }}\n              >\n                <p\n                  className={`text-[10px] uppercase tracking-wider mb-1 ${\n                    timeOfDay.isNight ? 'text-slate-500' : 'text-white/40'\n                  }`}\n                >\n                  UTC Offset\n                </p>\n                <p\n                  className={`text-sm font-medium ${\n                    timeOfDay.isNight ? 'text-slate-300' : 'text-white/90'\n                  }`}\n                >\n                  {timezoneOffset}\n                </p>\n              </motion.div>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport default TimezoneDetailModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3715, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/watch/WorldClockView.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { WatchFace } from './WatchFace';\nimport { TimezoneDetailModal } from './TimezoneDetailModal';\nimport { type WatchDNA } from '@/lib/watch/theme-to-watch';\n\ninterface TimeZone {\n  id: string;\n  city: string;\n  timezone: string;\n}\n\nconst TIME_ZONES: TimeZone[] = [\n  { id: 'dublin', city: 'Dublin', timezone: 'Europe/Dublin' },\n  { id: 'paris', city: 'Paris', timezone: 'Europe/Paris' },\n  { id: 'tokyo', city: 'Tokyo', timezone: 'Asia/Tokyo' },\n  { id: 'sanfrancisco', city: 'San Francisco', timezone: 'America/Los_Angeles' },\n  { id: 'salvador', city: 'Salvador', timezone: 'America/Bahia' },\n];\n\ninterface WorldClockViewProps {\n  watchDNA: WatchDNA;\n  onClose?: () => void;\n}\n\nfunction formatTime(date: Date, timezone: string): string {\n  return new Intl.DateTimeFormat('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    timeZone: timezone,\n    hour12: false,\n  }).format(date);\n}\n\nfunction formatFullDate(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }).format(date);\n}\n\nfunction getHourInTimezone(date: Date, timezone: string): number {\n  return parseInt(\n    new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false,\n      timeZone: timezone,\n    }).format(date)\n  );\n}\n\nfunction isNighttime(date: Date, timezone: string): boolean {\n  const hour = getHourInTimezone(date, timezone);\n  return hour >= 20 || hour < 6;\n}\n\n// Get weather icon path based on time of day\nfunction getWeatherIconForTime(date: Date, timezone: string): string {\n  const hour = getHourInTimezone(date, timezone);\n  const isNight = hour >= 20 || hour < 6;\n\n  if (hour >= 5 && hour < 7) {\n    return '/icons/weather/sunrise.svg';\n  } else if (hour >= 7 && hour < 12) {\n    return '/icons/weather/clear-day.svg';\n  } else if (hour >= 12 && hour < 17) {\n    return '/icons/weather/partly-cloudy-day.svg';\n  } else if (hour >= 17 && hour < 20) {\n    return '/icons/weather/sunset.svg';\n  } else {\n    return '/icons/weather/clear-night.svg';\n  }\n}\n\nfunction getTimeForTimezone(date: Date, timezone: string): Date {\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: timezone,\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n    hour12: false,\n  };\n\n  const formatter = new Intl.DateTimeFormat('en-US', options);\n  const parts = formatter.formatToParts(date);\n\n  const getPart = (type: string) => {\n    const part = parts.find(p => p.type === type);\n    return part ? parseInt(part.value, 10) : 0;\n  };\n\n  const tzDate = new Date(\n    getPart('year'),\n    getPart('month') - 1,\n    getPart('day'),\n    getPart('hour'),\n    getPart('minute'),\n    getPart('second')\n  );\n\n  return tzDate;\n}\n\n// Create a dark mode version of watchDNA for nighttime\nfunction getDarkModeWatchDNA(watchDNA: WatchDNA): WatchDNA {\n  return {\n    ...watchDNA,\n    dialColor: 'hsl(220, 20%, 12%)',\n    handColor: 'hsl(0, 0%, 90%)',\n    indexColor: 'hsl(0, 0%, 80%)',\n    bezelColor: 'hsl(220, 15%, 18%)',\n  };\n}\n\nexport function WorldClockView({ watchDNA, onClose }: WorldClockViewProps) {\n  const [time, setTime] = useState(new Date());\n  const [selectedTimezone, setSelectedTimezone] = useState<TimeZone | null>(null);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const formattedDate = useMemo(() => formatFullDate(time), [time]);\n\n  const handleTimezoneClick = useCallback((tz: TimeZone) => {\n    setSelectedTimezone(tz);\n  }, []);\n\n  const handleCloseDetail = useCallback(() => {\n    setSelectedTimezone(null);\n  }, []);\n\n  return (\n    <>\n      <motion.div\n        className=\"relative flex flex-col items-center gap-6 p-6 rounded-3xl backdrop-blur-xl\"\n        style={{\n          background: 'var(--glass-bg, rgba(255,255,255,0.1))',\n          border: '1px solid var(--glass-border, rgba(255,255,255,0.2))',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.2)',\n          minWidth: '320px',\n        }}\n        initial={{ opacity: 0, scale: 0.9, y: -20 }}\n        animate={{ opacity: 1, scale: 1, y: 0 }}\n        exit={{ opacity: 0, scale: 0.9, y: -20 }}\n        transition={{ type: 'spring', stiffness: 300, damping: 25 }}\n      >\n        {/* Close Button */}\n        {onClose && (\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10\"\n            aria-label=\"Close world clock\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              className=\"text-white/70\"\n            >\n              <path d=\"M18 6L6 18M6 6l12 12\" />\n            </svg>\n          </button>\n        )}\n\n        {/* Date Header */}\n        <div className=\"text-center border-b border-white/10 pb-4 w-full\">\n          <h2\n            className=\"text-lg font-light tracking-wide\"\n            style={{ color: 'var(--text-primary, white)' }}\n          >\n            {formattedDate}\n          </h2>\n        </div>\n\n        {/* Time Zones */}\n        <div className=\"flex flex-col gap-3 w-full\">\n          {TIME_ZONES.map((tz, index) => {\n            const isNight = isNighttime(time, tz.timezone);\n            const weatherIcon = getWeatherIconForTime(time, tz.timezone);\n            const effectiveWatchDNA = isNight ? getDarkModeWatchDNA(watchDNA) : watchDNA;\n\n            return (\n              <motion.button\n                key={tz.id}\n                onClick={() => handleTimezoneClick(tz)}\n                className=\"flex items-center gap-3 p-3 rounded-2xl transition-all cursor-pointer text-left hover:scale-[1.02] active:scale-[0.98]\"\n                style={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(15,23,42,0.9) 0%, rgba(30,41,59,0.8) 100%)'\n                    : 'var(--glass-bg-subtle, rgba(255,255,255,0.05))',\n                  border: isNight ? '1px solid rgba(71,85,105,0.3)' : 'none',\n                }}\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: index * 0.05, duration: 0.3 }}\n                whileHover={{\n                  background: isNight\n                    ? 'linear-gradient(135deg, rgba(30,41,59,0.95) 0%, rgba(51,65,85,0.9) 100%)'\n                    : 'rgba(255,255,255,0.1)',\n                }}\n              >\n                {/* Mini Watch Face */}\n                <div className=\"flex-shrink-0 relative\">\n                  <WatchFace\n                    watchDNA={effectiveWatchDNA}\n                    size={48}\n                    showCase={false}\n                    interactive={false}\n                    timezone={tz.timezone}\n                  />\n                  {/* Nighttime overlay glow */}\n                  {isNight && (\n                    <div\n                      className=\"absolute inset-0 rounded-full pointer-events-none\"\n                      style={{\n                        boxShadow: 'inset 0 0 12px rgba(99,102,241,0.3)',\n                      }}\n                    />\n                  )}\n                </div>\n\n                {/* Location & Time */}\n                <div className=\"flex flex-col flex-1 min-w-0\">\n                  <span\n                    className=\"text-sm font-medium truncate\"\n                    style={{ color: isNight ? 'rgba(226,232,240,0.9)' : 'var(--text-primary, white)' }}\n                  >\n                    {tz.city}\n                  </span>\n                  <span\n                    className=\"text-2xl font-light tabular-nums tracking-tight\"\n                    style={{ color: isNight ? 'rgba(248,250,252,0.95)' : 'var(--text-primary, white)' }}\n                  >\n                    {formatTime(time, tz.timezone)}\n                  </span>\n                </div>\n\n                {/* Weather Icon */}\n                <div className=\"flex-shrink-0 w-8 h-8\">\n                  <img\n                    src={weatherIcon}\n                    alt=\"weather\"\n                    width={32}\n                    height={32}\n                    className=\"w-full h-full object-contain\"\n                    style={{\n                      filter: isNight ? 'drop-shadow(0 0 4px rgba(147,197,253,0.4))' : 'drop-shadow(0 2px 4px rgba(0,0,0,0.2))',\n                    }}\n                  />\n                </div>\n\n                {/* Arrow indicator */}\n                <div className=\"flex-shrink-0\" style={{ color: isNight ? 'rgba(148,163,184,0.5)' : 'rgba(255,255,255,0.3)' }}>\n                  <svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  >\n                    <path d=\"M9 18l6-6-6-6\" />\n                  </svg>\n                </div>\n              </motion.button>\n            );\n          })}\n        </div>\n\n        {/* Hint text */}\n        <p className=\"text-[10px] text-white/30 text-center\">\n          Tap a timezone for details\n        </p>\n      </motion.div>\n\n      {/* Timezone Detail Modal */}\n      {selectedTimezone && (\n        <TimezoneDetailModal\n          isOpen={!!selectedTimezone}\n          onClose={handleCloseDetail}\n          timezone={selectedTimezone}\n          watchDNA={watchDNA}\n        />\n      )}\n    </>\n  );\n}\n\nexport default WorldClockView;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4116, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/watch/theme-to-watch.ts"],"sourcesContent":["/**\n * Theme to Watch DNA Algorithm\n *\n * Analyzes theme tokens and procedurally generates watch characteristics.\n * Each of the 43 themes will produce a unique, aesthetically matched watch face.\n */\n\nimport { themes, type ThemeName } from '@/lib/themes/definitions';\n\n// Watch style types - auto-detected from theme characteristics\nexport type WatchStyle =\n  | 'sporty'    // High contrast, bold - think Explorer II, Speedmaster\n  | 'elegant'   // Low saturation, refined - think Calatrava, Saxonia\n  | 'minimal'   // Clean, no numerals - think Nomos, Max Bill\n  | 'digital'   // Tech themes - LED/LCD segments\n  | 'vintage'   // Warm, aged - think patina, domed crystal\n  | 'field'     // Military, utilitarian - think field watches\n  | 'diver';    // Bold markers, high legibility\n\n// Hand styles\nexport type HandStyle = 'dauphine' | 'baton' | 'sword' | 'leaf' | 'alpha' | 'mercedes' | 'snowflake';\n\n// Index/marker styles\nexport type IndexStyle = 'baton' | 'roman' | 'arabic' | 'dots' | 'mixed' | 'none';\n\n// Watch DNA - the procedurally generated characteristics\nexport interface WatchDNA {\n  theme: ThemeName;\n  style: WatchStyle;\n\n  // Colors (HSL strings)\n  dialColor: string;\n  dialTexture: 'sunburst' | 'guilloche' | 'matte' | 'gradient' | 'brushed';\n  handColor: string;\n  secondsHandColor: string;\n  indexColor: string;\n  lumeColor: string;\n  bezelColor: string;\n\n  // Structure\n  handStyle: HandStyle;\n  indexStyle: IndexStyle;\n  hasDateWindow: boolean;\n  datePosition: 3 | 6;\n  hasSubdials: boolean;\n\n  // Aesthetics\n  hasCrystalDome: boolean;\n  hasChapterRing: boolean;\n  caseFinish: 'polished' | 'brushed' | 'mixed';\n\n  // Font for any text\n  font: string;\n}\n\n// HSL color structure\ninterface HSLColor {\n  h: number;\n  s: number;\n  l: number;\n}\n\n// Parse HSL string \"h s% l%\" to object\nfunction parseHSL(hsl: string): HSLColor {\n  const parts = hsl.split(' ').map(p => parseFloat(p.replace('%', '')));\n  return { h: parts[0] || 0, s: parts[1] || 0, l: parts[2] || 0 };\n}\n\n// Convert HSL object to CSS string\nfunction hslToCSS(color: HSLColor, alpha?: number): string {\n  if (alpha !== undefined) {\n    return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${alpha})`;\n  }\n  return `hsl(${color.h}, ${color.s}%, ${color.l}%)`;\n}\n\n// Adjust HSL values\nfunction adjustHSL(color: HSLColor, adjustments: Partial<HSLColor>): HSLColor {\n  return {\n    h: Math.max(0, Math.min(360, (color.h + (adjustments.h || 0)) % 360)),\n    s: Math.max(0, Math.min(100, color.s + (adjustments.s || 0))),\n    l: Math.max(0, Math.min(100, color.l + (adjustments.l || 0))),\n  };\n}\n\n// Theme color tokens (extracted from CSS variables)\n// This maps to the actual CSS --theme-* variables\ninterface ThemeTokens {\n  background: string;\n  foreground: string;\n  primary: string;\n  secondary: string;\n  accent: string;\n  muted: string;\n  border: string;\n  font: string;\n}\n\n// Manually extracted theme tokens from themes.css\n// In a real implementation, these would be read from CSS or a config\nconst THEME_TOKENS: Record<ThemeName, ThemeTokens> = {\n  'utilitarian': {\n    background: '45 30% 92%',\n    foreground: '0 0% 0%',\n    primary: '15 85% 55%',\n    secondary: '45 20% 85%',\n    accent: '15 85% 55%',\n    muted: '45 15% 88%',\n    border: '0 0% 0%',\n    font: 'SF Mono',\n  },\n  'base': {\n    background: '0 0% 100%',\n    foreground: '222 84% 5%',\n    primary: '222 47% 11%',\n    secondary: '210 40% 96%',\n    accent: '210 40% 96%',\n    muted: '210 40% 96%',\n    border: '214 32% 91%',\n    font: 'Inter',\n  },\n  'claude': {\n    background: '30 20% 98%',\n    foreground: '20 14% 10%',\n    primary: '24 90% 55%',\n    secondary: '30 20% 90%',\n    accent: '24 80% 60%',\n    muted: '30 15% 92%',\n    border: '30 20% 85%',\n    font: 'SÃ¶hne',\n  },\n  'chatgpt': {\n    background: '0 0% 98%',\n    foreground: '0 0% 10%',\n    primary: '161 23% 45%',\n    secondary: '0 0% 94%',\n    accent: '161 23% 45%',\n    muted: '0 0% 92%',\n    border: '0 0% 85%',\n    font: 'OpenAI Sans',\n  },\n  'vercel': {\n    background: '0 0% 100%',\n    foreground: '0 0% 5%',\n    primary: '0 0% 5%',\n    secondary: '0 0% 95%',\n    accent: '0 0% 5%',\n    muted: '0 0% 96%',\n    border: '0 0% 90%',\n    font: 'Geist',\n  },\n  'kodama-grove': {\n    background: '120 20% 97%',\n    foreground: '120 30% 10%',\n    primary: '142 70% 35%',\n    secondary: '120 20% 88%',\n    accent: '142 60% 40%',\n    muted: '120 15% 90%',\n    border: '120 20% 82%',\n    font: 'Nunito',\n  },\n  'vintage-paper': {\n    background: '40 30% 95%',\n    foreground: '30 20% 15%',\n    primary: '30 50% 35%',\n    secondary: '40 25% 85%',\n    accent: '30 60% 45%',\n    muted: '40 20% 88%',\n    border: '40 25% 78%',\n    font: 'Courier Prime',\n  },\n  'claymorphism': {\n    background: '220 20% 97%',\n    foreground: '220 30% 15%',\n    primary: '220 80% 55%',\n    secondary: '220 20% 88%',\n    accent: '260 70% 60%',\n    muted: '220 15% 90%',\n    border: '220 20% 85%',\n    font: 'Poppins',\n  },\n  'nature': {\n    background: '45 25% 96%',\n    foreground: '30 30% 12%',\n    primary: '85 50% 40%',\n    secondary: '45 20% 85%',\n    accent: '30 60% 50%',\n    muted: '45 15% 88%',\n    border: '45 20% 78%',\n    font: 'Lora',\n  },\n  'neo-brutalism': {\n    background: '60 100% 97%',\n    foreground: '0 0% 0%',\n    primary: '0 0% 0%',\n    secondary: '60 100% 85%',\n    accent: '350 100% 60%',\n    muted: '60 50% 90%',\n    border: '0 0% 0%',\n    font: 'Space Grotesk',\n  },\n  'elegant-luxury': {\n    background: '45 20% 96%',\n    foreground: '40 15% 12%',\n    primary: '45 70% 45%',\n    secondary: '45 15% 88%',\n    accent: '45 80% 50%',\n    muted: '45 10% 90%',\n    border: '45 20% 80%',\n    font: 'Playfair Display',\n  },\n  'pastel-dreams': {\n    background: '300 30% 97%',\n    foreground: '280 20% 20%',\n    primary: '280 60% 65%',\n    secondary: '300 25% 90%',\n    accent: '330 70% 70%',\n    muted: '300 20% 92%',\n    border: '300 25% 85%',\n    font: 'Quicksand',\n  },\n  'cosmic-night': {\n    background: '240 30% 8%',\n    foreground: '240 10% 95%',\n    primary: '270 80% 60%',\n    secondary: '240 25% 15%',\n    accent: '200 100% 65%',\n    muted: '240 20% 12%',\n    border: '240 25% 20%',\n    font: 'Orbitron',\n  },\n  'clean-slate': {\n    background: '210 20% 98%',\n    foreground: '210 25% 10%',\n    primary: '210 100% 50%',\n    secondary: '210 15% 92%',\n    accent: '210 90% 55%',\n    muted: '210 12% 94%',\n    border: '210 15% 88%',\n    font: 'Inter',\n  },\n  'caffeine': {\n    background: '30 25% 95%',\n    foreground: '25 40% 12%',\n    primary: '25 70% 35%',\n    secondary: '30 20% 88%',\n    accent: '25 80% 45%',\n    muted: '30 15% 90%',\n    border: '30 20% 80%',\n    font: 'Merriweather',\n  },\n  'ocean-breeze': {\n    background: '195 30% 97%',\n    foreground: '200 30% 12%',\n    primary: '195 80% 45%',\n    secondary: '195 25% 90%',\n    accent: '175 70% 50%',\n    muted: '195 20% 92%',\n    border: '195 25% 85%',\n    font: 'Nunito Sans',\n  },\n  'perpetuity': {\n    background: '0 0% 4%',\n    foreground: '0 0% 95%',\n    primary: '0 0% 85%',\n    secondary: '0 0% 10%',\n    accent: '0 0% 70%',\n    muted: '0 0% 8%',\n    border: '0 0% 15%',\n    font: 'Inter',\n  },\n  'midnight-bloom': {\n    background: '270 30% 8%',\n    foreground: '300 20% 95%',\n    primary: '300 70% 55%',\n    secondary: '270 25% 15%',\n    accent: '330 80% 60%',\n    muted: '270 20% 12%',\n    border: '270 25% 20%',\n    font: 'Cormorant Garamond',\n  },\n  'northern-lights': {\n    background: '220 25% 10%',\n    foreground: '180 30% 95%',\n    primary: '160 80% 50%',\n    secondary: '220 20% 18%',\n    accent: '280 70% 60%',\n    muted: '220 15% 15%',\n    border: '220 20% 22%',\n    font: 'Raleway',\n  },\n  'sunset-horizon': {\n    background: '25 30% 96%',\n    foreground: '15 30% 12%',\n    primary: '15 85% 55%',\n    secondary: '25 25% 88%',\n    accent: '35 90% 55%',\n    muted: '25 20% 90%',\n    border: '25 25% 82%',\n    font: 'Josefin Sans',\n  },\n  'modern-minimal': {\n    background: '0 0% 100%',\n    foreground: '0 0% 8%',\n    primary: '0 0% 15%',\n    secondary: '0 0% 96%',\n    accent: '0 0% 25%',\n    muted: '0 0% 94%',\n    border: '0 0% 90%',\n    font: 'Inter',\n  },\n  'candyland': {\n    background: '330 40% 97%',\n    foreground: '340 30% 15%',\n    primary: '340 85% 60%',\n    secondary: '330 35% 90%',\n    accent: '180 70% 50%',\n    muted: '330 30% 92%',\n    border: '330 35% 85%',\n    font: 'Baloo 2',\n  },\n  'cyberpunk': {\n    background: '260 30% 8%',\n    foreground: '180 100% 60%',\n    primary: '320 100% 55%',\n    secondary: '260 25% 15%',\n    accent: '60 100% 50%',\n    muted: '260 20% 12%',\n    border: '320 80% 40%',\n    font: 'Share Tech Mono',\n  },\n  'retro-arcade': {\n    background: '240 40% 8%',\n    foreground: '120 100% 60%',\n    primary: '350 100% 55%',\n    secondary: '240 35% 15%',\n    accent: '60 100% 55%',\n    muted: '240 30% 12%',\n    border: '240 40% 20%',\n    font: 'Press Start 2P',\n  },\n  'quantum-rose': {\n    background: '340 25% 96%',\n    foreground: '340 20% 12%',\n    primary: '340 75% 55%',\n    secondary: '340 20% 90%',\n    accent: '20 80% 55%',\n    muted: '340 15% 92%',\n    border: '340 20% 85%',\n    font: 'DM Sans',\n  },\n  'bold-tech': {\n    background: '220 25% 10%',\n    foreground: '0 0% 98%',\n    primary: '210 100% 55%',\n    secondary: '220 20% 18%',\n    accent: '150 80% 50%',\n    muted: '220 15% 15%',\n    border: '220 20% 22%',\n    font: 'Space Grotesk',\n  },\n  'violet-bloom': {\n    background: '270 25% 97%',\n    foreground: '270 25% 12%',\n    primary: '270 70% 55%',\n    secondary: '270 20% 90%',\n    accent: '300 65% 60%',\n    muted: '270 15% 92%',\n    border: '270 20% 85%',\n    font: 'Outfit',\n  },\n  't3-chat': {\n    background: '250 30% 6%',\n    foreground: '0 0% 98%',\n    primary: '270 80% 60%',\n    secondary: '250 25% 12%',\n    accent: '200 100% 55%',\n    muted: '250 20% 10%',\n    border: '250 25% 18%',\n    font: 'Cal Sans',\n  },\n  'mocha-mousse': {\n    background: '25 30% 94%',\n    foreground: '20 35% 15%',\n    primary: '20 55% 40%',\n    secondary: '25 25% 85%',\n    accent: '20 65% 50%',\n    muted: '25 20% 88%',\n    border: '25 25% 78%',\n    font: 'Libre Baskerville',\n  },\n  'amethyst-haze': {\n    background: '280 20% 96%',\n    foreground: '280 25% 15%',\n    primary: '280 60% 55%',\n    secondary: '280 15% 90%',\n    accent: '320 55% 60%',\n    muted: '280 12% 92%',\n    border: '280 18% 85%',\n    font: 'Spectral',\n  },\n  'doom-64': {\n    background: '0 0% 5%',\n    foreground: '0 100% 50%',\n    primary: '0 100% 45%',\n    secondary: '0 80% 10%',\n    accent: '30 100% 50%',\n    muted: '0 60% 8%',\n    border: '0 100% 30%',\n    font: 'Permanent Marker',\n  },\n  'amber-minimal': {\n    background: '45 35% 97%',\n    foreground: '40 30% 12%',\n    primary: '40 85% 50%',\n    secondary: '45 30% 92%',\n    accent: '35 90% 55%',\n    muted: '45 25% 94%',\n    border: '45 30% 88%',\n    font: 'Inter',\n  },\n  'solar-dusk': {\n    background: '25 35% 12%',\n    foreground: '35 30% 92%',\n    primary: '25 90% 55%',\n    secondary: '25 30% 18%',\n    accent: '45 95% 55%',\n    muted: '25 25% 15%',\n    border: '25 30% 22%',\n    font: 'Rubik',\n  },\n  'starry-night': {\n    background: '230 40% 10%',\n    foreground: '60 50% 90%',\n    primary: '220 70% 55%',\n    secondary: '230 35% 18%',\n    accent: '60 80% 60%',\n    muted: '230 30% 15%',\n    border: '230 35% 22%',\n    font: 'Crimson Pro',\n  },\n  'soft-pop': {\n    background: '15 40% 97%',\n    foreground: '10 35% 15%',\n    primary: '10 75% 60%',\n    secondary: '15 35% 92%',\n    accent: '340 70% 65%',\n    muted: '15 30% 94%',\n    border: '15 35% 88%',\n    font: 'Nunito',\n  },\n  'sage-garden': {\n    background: '120 15% 96%',\n    foreground: '130 25% 15%',\n    primary: '130 40% 45%',\n    secondary: '120 12% 90%',\n    accent: '90 50% 50%',\n    muted: '120 10% 92%',\n    border: '120 15% 85%',\n    font: 'Source Serif Pro',\n  },\n  'notebook': {\n    background: '45 40% 96%',\n    foreground: '220 80% 20%',\n    primary: '220 85% 45%',\n    secondary: '45 35% 90%',\n    accent: '0 75% 55%',\n    muted: '45 30% 92%',\n    border: '200 60% 75%',\n    font: 'Patrick Hand',\n  },\n  'research': {\n    background: '0 0% 100%',\n    foreground: '220 15% 15%',\n    primary: '220 75% 50%',\n    secondary: '0 0% 96%',\n    accent: '160 70% 45%',\n    muted: '0 0% 94%',\n    border: '220 20% 88%',\n    font: 'IBM Plex Sans',\n  },\n  'field-guide': {\n    background: '45 30% 94%',\n    foreground: '90 25% 18%',\n    primary: '90 45% 35%',\n    secondary: '45 25% 88%',\n    accent: '25 70% 50%',\n    muted: '45 20% 90%',\n    border: '90 30% 75%',\n    font: 'Vollkorn',\n  },\n  'denim': {\n    background: '215 35% 95%',\n    foreground: '220 40% 15%',\n    primary: '215 60% 45%',\n    secondary: '215 30% 88%',\n    accent: '200 70% 50%',\n    muted: '215 25% 90%',\n    border: '215 35% 78%',\n    font: 'Inter',\n  },\n  'google': {\n    background: '0 0% 100%',\n    foreground: '0 0% 15%',\n    primary: '217 89% 61%',\n    secondary: '214 12% 95%',\n    accent: '4 90% 58%',\n    muted: '220 14% 96%',\n    border: '214 32% 91%',\n    font: 'Google Sans',\n  },\n  'apple': {\n    background: '0 0% 100%',\n    foreground: '0 0% 0%',\n    primary: '211 100% 50%',\n    secondary: '220 10% 96%',\n    accent: '211 100% 50%',\n    muted: '220 10% 94%',\n    border: '220 13% 91%',\n    font: 'SF Pro',\n  },\n  'microsoft': {\n    background: '0 0% 100%',\n    foreground: '0 0% 11%',\n    primary: '206 100% 42%',\n    secondary: '210 14% 93%',\n    accent: '206 100% 42%',\n    muted: '210 11% 96%',\n    border: '210 14% 89%',\n    font: 'Segoe UI',\n  },\n  'notion': {\n    background: '0 0% 100%',\n    foreground: '0 0% 9%',\n    primary: '0 0% 9%',\n    secondary: '45 6% 97%',\n    accent: '0 0% 9%',\n    muted: '45 4% 95%',\n    border: '45 6% 90%',\n    font: 'Inter',\n  },\n  'cursor': {\n    background: '0 0% 0%',\n    foreground: '0 0% 100%',\n    primary: '191 100% 50%',\n    secondary: '240 2% 12%',\n    accent: '191 100% 50%',\n    muted: '240 2% 16%',\n    border: '240 2% 20%',\n    font: 'Inter',\n  },\n  'miro': {\n    background: '47 100% 98%',\n    foreground: '222 47% 11%',\n    primary: '39 100% 50%',\n    secondary: '47 20% 92%',\n    accent: '39 100% 50%',\n    muted: '47 15% 95%',\n    border: '47 10% 88%',\n    font: 'Inter',\n  },\n  'nike': {\n    background: '40 30% 95%',\n    foreground: '0 0% 8%',\n    primary: '0 0% 8%',\n    secondary: '40 20% 90%',\n    accent: '28 100% 55%',\n    muted: '40 15% 88%',\n    border: '40 20% 85%',\n    font: 'Helvetica Neue',\n  },\n  'adidas': {\n    background: '0 0% 98%',\n    foreground: '0 0% 8%',\n    primary: '210 100% 45%',\n    secondary: '0 0% 94%',\n    accent: '0 0% 8%',\n    muted: '0 0% 92%',\n    border: '0 0% 88%',\n    font: 'Helvetica Neue',\n  },\n  'tao': {\n    background: '220 30% 8%',\n    foreground: '210 20% 78%',\n    primary: '200 40% 55%',\n    secondary: '220 25% 15%',\n    accent: '200 45% 50%',\n    muted: '220 20% 12%',\n    border: '220 25% 20%',\n    font: 'Crimson Text',\n  },\n  'kinetic-editorial': {\n    background: '0 0% 4%',\n    foreground: '0 0% 96%',\n    primary: '0 0% 96%',\n    secondary: '0 0% 12%',\n    accent: '0 0% 80%',\n    muted: '0 0% 8%',\n    border: '0 0% 20%',\n    font: 'Space Grotesk',\n  },\n};\n\n// Detect watch style from theme characteristics\nfunction detectWatchStyle(tokens: ThemeTokens): WatchStyle {\n  const bg = parseHSL(tokens.background);\n  const fg = parseHSL(tokens.foreground);\n  const primary = parseHSL(tokens.primary);\n  const accent = parseHSL(tokens.accent);\n\n  // Calculate contrast and saturation metrics\n  const contrast = Math.abs(bg.l - fg.l);\n  const primarySat = primary.s;\n  const accentSat = accent.s;\n  const avgSat = (primarySat + accentSat) / 2;\n  const isDark = bg.l < 30;\n  const isMonochrome = primary.s < 15 && accent.s < 15;\n\n  // Font-based detection\n  const fontLower = tokens.font.toLowerCase();\n  const isMonospace = fontLower.includes('mono') || fontLower.includes('code');\n  const isSerif = fontLower.includes('serif') || fontLower.includes('times') || fontLower.includes('georgia');\n  const isPlayful = fontLower.includes('press start') || fontLower.includes('permanent') || fontLower.includes('hand');\n\n  // Digital/tech themes\n  if (isMonospace || fontLower.includes('orbitron') || fontLower.includes('share tech')) {\n    return 'digital';\n  }\n\n  // High contrast + bold = sporty or diver\n  if (contrast > 80 && avgSat > 60) {\n    return isDark ? 'diver' : 'sporty';\n  }\n\n  // Very high saturation accent = sporty\n  if (accentSat > 85) {\n    return 'sporty';\n  }\n\n  // Warm sepia/vintage tones\n  if (primary.h >= 20 && primary.h <= 45 && primary.s < 60 && bg.l > 85) {\n    return 'vintage';\n  }\n\n  // Military/field - utilitarian fonts or earthy tones\n  if (fontLower.includes('mono') && !isDark || (primary.h >= 80 && primary.h <= 130)) {\n    return 'field';\n  }\n\n  // Very low saturation + clean = minimal\n  if (isMonochrome || (avgSat < 30 && contrast > 60)) {\n    return 'minimal';\n  }\n\n  // Serif fonts or low saturation = elegant\n  if (isSerif || (avgSat < 50 && !isDark && primary.s < 40)) {\n    return 'elegant';\n  }\n\n  // Default based on darkness\n  return isDark ? 'diver' : 'elegant';\n}\n\n// Detect hand style based on watch style and theme\nfunction detectHandStyle(style: WatchStyle, tokens: ThemeTokens): HandStyle {\n  const fontLower = tokens.font.toLowerCase();\n\n  switch (style) {\n    case 'sporty':\n      return 'mercedes'; // Like Rolex sport watches\n    case 'diver':\n      return 'snowflake'; // Like Tudor Black Bay\n    case 'elegant':\n      return 'dauphine'; // Classic dress watch\n    case 'minimal':\n      return 'baton'; // Simple, modern\n    case 'vintage':\n      return 'leaf'; // Classic vintage look\n    case 'field':\n      return 'sword'; // Military heritage\n    case 'digital':\n      return 'baton'; // Digital style\n    default:\n      return 'dauphine';\n  }\n}\n\n// Detect index style based on watch style\nfunction detectIndexStyle(style: WatchStyle, tokens: ThemeTokens): IndexStyle {\n  const fontLower = tokens.font.toLowerCase();\n  const isSerif = fontLower.includes('serif') || fontLower.includes('playfair') || fontLower.includes('times');\n\n  switch (style) {\n    case 'sporty':\n      return 'baton'; // Applied indices\n    case 'diver':\n      return 'dots'; // Luminous dots\n    case 'elegant':\n      return isSerif ? 'roman' : 'baton';\n    case 'minimal':\n      return 'none'; // Very clean\n    case 'vintage':\n      return 'arabic'; // Classic numerals\n    case 'field':\n      return 'arabic'; // Legible military style\n    case 'digital':\n      return 'none'; // Digital display\n    default:\n      return 'baton';\n  }\n}\n\n// Detect dial texture based on theme\nfunction detectDialTexture(style: WatchStyle, tokens: ThemeTokens): WatchDNA['dialTexture'] {\n  const bg = parseHSL(tokens.background);\n\n  switch (style) {\n    case 'elegant':\n      return bg.l > 50 ? 'sunburst' : 'guilloche';\n    case 'sporty':\n      return 'matte';\n    case 'diver':\n      return 'matte';\n    case 'vintage':\n      return 'matte';\n    case 'minimal':\n      return 'matte';\n    case 'digital':\n      return 'matte';\n    case 'field':\n      return 'brushed';\n    default:\n      return 'matte';\n  }\n}\n\n/**\n * Main function: Convert theme tokens to Watch DNA\n */\nexport function themeToWatch(themeName: ThemeName): WatchDNA {\n  const tokens = THEME_TOKENS[themeName];\n  if (!tokens) {\n    throw new Error(`Unknown theme: ${themeName}`);\n  }\n\n  const style = detectWatchStyle(tokens);\n  const bg = parseHSL(tokens.background);\n  const fg = parseHSL(tokens.foreground);\n  const primary = parseHSL(tokens.primary);\n  const accent = parseHSL(tokens.accent);\n  const secondary = parseHSL(tokens.secondary);\n\n  // Determine dial color (usually darker for legibility)\n  const isDark = bg.l < 30;\n  let dialColor: HSLColor;\n\n  if (isDark) {\n    // Dark themes: use background or slightly adjusted\n    dialColor = adjustHSL(bg, { l: 5 });\n  } else {\n    // Light themes: create a darker dial or use background\n    dialColor = style === 'minimal' || style === 'elegant'\n      ? adjustHSL(bg, { l: -3 })\n      : adjustHSL(bg, { l: -10, s: 5 });\n  }\n\n  // Hand colors - high contrast against dial\n  const handColor = isDark ? fg : adjustHSL(fg, { l: -10 });\n\n  // Seconds hand - use accent color for pop\n  const secondsHandColor = accent;\n\n  // Index color - slightly muted from hand color\n  const indexColor = adjustHSL(handColor, { s: -10, l: isDark ? -5 : 5 });\n\n  // Lume color - greenish glow for most, blue for some\n  const lumeColor: HSLColor = style === 'diver'\n    ? { h: 180, s: 100, l: 70 } // Blue lume\n    : { h: 120, s: 80, l: 75 }; // Green lume\n\n  // Bezel color\n  const bezelColor = style === 'diver'\n    ? adjustHSL(primary, { l: -20 })\n    : adjustHSL(secondary, { l: -5 });\n\n  return {\n    theme: themeName,\n    style,\n\n    dialColor: hslToCSS(dialColor),\n    dialTexture: detectDialTexture(style, tokens),\n    handColor: hslToCSS(handColor),\n    secondsHandColor: hslToCSS(secondsHandColor),\n    indexColor: hslToCSS(indexColor),\n    lumeColor: hslToCSS(lumeColor),\n    bezelColor: hslToCSS(bezelColor),\n\n    handStyle: detectHandStyle(style, tokens),\n    indexStyle: detectIndexStyle(style, tokens),\n    hasDateWindow: style !== 'minimal' && style !== 'digital',\n    datePosition: style === 'diver' ? 3 : 6,\n    hasSubdials: style === 'sporty',\n\n    hasCrystalDome: style === 'vintage' || style === 'elegant',\n    hasChapterRing: style === 'field' || style === 'vintage',\n    caseFinish: style === 'sporty' || style === 'diver' ? 'brushed' : 'polished',\n\n    font: tokens.font,\n  };\n}\n\n/**\n * Get all theme watches - for gallery view\n */\nexport function getAllThemeWatches(): WatchDNA[] {\n  return themes.map(t => themeToWatch(t.name));\n}\n\n/**\n * Get watch style description\n */\nexport function getWatchStyleDescription(style: WatchStyle): string {\n  const descriptions: Record<WatchStyle, string> = {\n    sporty: 'Bold sport chronograph with high legibility',\n    elegant: 'Refined dress watch with classic proportions',\n    minimal: 'Ultra-clean design with essential elements only',\n    digital: 'Tech-inspired with modern digital aesthetic',\n    vintage: 'Heritage-inspired with warm, aged character',\n    field: 'Military-inspired with utilitarian precision',\n    diver: 'Professional tool watch built for depth',\n  };\n  return descriptions[style];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4871, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/StatusBarWatch.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { WatchFace } from '@/components/watch/WatchFace';\nimport { WorldClockView } from '@/components/watch/WorldClockView';\nimport { themeToWatch } from '@/lib/watch/theme-to-watch';\nimport { useDesignTheme } from '@/context/DesignThemeContext';\n\nexport function StatusBarWatch() {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const { theme } = useDesignTheme();\n\n  const watchDNA = useMemo(() => themeToWatch(theme), [theme]);\n\n  const toggleExpanded = useCallback(() => {\n    setIsExpanded((prev) => !prev);\n  }, []);\n\n  const handleBackdropClick = useCallback((e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      setIsExpanded(false);\n    }\n  }, []);\n\n  return (\n    <>\n      {/* Mini watch in status bar */}\n      <motion.button\n        onClick={toggleExpanded}\n        className=\"relative w-8 h-8 flex items-center justify-center cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-full\"\n        aria-label=\"Expand watch\"\n        aria-expanded={isExpanded}\n        whileHover={{ scale: 1.1 }}\n        whileTap={{ scale: 0.95 }}\n      >\n        <WatchFace\n          watchDNA={watchDNA}\n          size={28}\n          showCase={false}\n          interactive={false}\n          className=\"pointer-events-none\"\n        />\n      </motion.button>\n\n      {/* Expanded watch overlay */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            className=\"fixed inset-0 z-[100] flex items-start justify-center pt-20\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            onClick={handleBackdropClick}\n          >\n            {/* Backdrop */}\n            <motion.div\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            />\n\n            {/* World Clock View */}\n            <motion.div\n              className=\"relative z-10\"\n              initial={{ scale: 0.9, opacity: 0, y: -30 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.9, opacity: 0, y: -30 }}\n              transition={{\n                type: 'spring',\n                stiffness: 400,\n                damping: 30,\n              }}\n            >\n              <WorldClockView\n                watchDNA={watchDNA}\n                onClose={toggleExpanded}\n              />\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0ZAAQ,EAAC;IAC7C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,uJAAc;IAEhC,MAAM,WAAW,IAAA,yZAAO,EAAC,IAAM,IAAA,2JAAY,EAAC,QAAQ;QAAC;KAAM;IAE3D,MAAM,iBAAiB,IAAA,6ZAAW,EAAC;QACjC,cAAc,CAAC,OAAS,CAAC;IAC3B,GAAG,EAAE;IAEL,MAAM,sBAAsB,IAAA,6ZAAW,EAAC,CAAC;QACvC,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;YAChC,cAAc;QAChB;IACF,GAAG,EAAE;IAEL,qBACE;;0BAEE,ubAAC,gVAAM,CAAC,MAAM;gBACZ,SAAS;gBACT,WAAU;gBACV,cAAW;gBACX,iBAAe;gBACf,YAAY;oBAAE,OAAO;gBAAI;gBACzB,UAAU;oBAAE,OAAO;gBAAK;0BAExB,cAAA,ubAAC,qJAAS;oBACR,UAAU;oBACV,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,WAAU;;;;;;;;;;;0BAKd,ubAAC,wVAAe;0BACb,4BACC,ubAAC,gVAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,SAAS;;sCAGT,ubAAC,gVAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,SAAS;4BAAE;4BACtB,SAAS;gCAAE,SAAS;4BAAE;4BACtB,MAAM;gCAAE,SAAS;4BAAE;;;;;;sCAIrB,ubAAC,gVAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,OAAO;gCAAK,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BAC1C,SAAS;gCAAE,OAAO;gCAAG,SAAS;gCAAG,GAAG;4BAAE;4BACtC,MAAM;gCAAE,OAAO;gCAAK,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BACvC,YAAY;gCACV,MAAM;gCACN,WAAW;gCACX,SAAS;4BACX;sCAEA,cAAA,ubAAC,+JAAc;gCACb,UAAU;gCACV,SAAS;;;;;;;;;;;;;;;;;;;;;;;;AAQzB"}},
    {"offset": {"line": 5020, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/DynamicIsland.tsx"],"sourcesContent":["'use client';\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  ReactNode,\n} from 'react';\nimport { motion, AnimatePresence, useReducedMotion, Variants } from 'framer-motion';\nimport { useMusic } from '@/context/MusicContext';\nimport { useProviderStatus, type ProviderType, type ConnectionStatus } from '@/hooks/useProviderStatus';\nimport { Play, Pause, SkipForward, SkipBack, Timer, Bell, Phone, Mic, Check, X, ChevronDown, Cloud, Cpu, Wifi } from 'lucide-react';\n\n// ============================================================================\n// Types and Configuration\n// ============================================================================\n\nexport type DynamicIslandSize =\n  | 'default'\n  | 'compact'\n  | 'large'\n  | 'tall'\n  | 'long'\n  | 'medium'\n  | 'ultra';\n\nexport type IslandContentType =\n  | 'idle'\n  | 'music'\n  | 'timer'\n  | 'notification'\n  | 'call'\n  | 'recording'\n  | 'success'\n  | 'loading'\n  | 'ralph'\n  | 'provider';\n\ninterface IslandState {\n  size: DynamicIslandSize;\n  previousSize: DynamicIslandSize;\n  contentType: IslandContentType;\n  notification?: {\n    title: string;\n    message: string;\n    icon?: ReactNode;\n  };\n  ralph?: {\n    iteration: number;\n    maxIterations: number;\n    description: string;\n  };\n}\n\ninterface DynamicIslandContextType {\n  state: IslandState;\n  setSize: (size: DynamicIslandSize) => void;\n  setContentType: (type: IslandContentType) => void;\n  showNotification: (title: string, message: string, icon?: ReactNode, duration?: number) => void;\n  showRalphMode: (iteration: number, maxIterations: number, description: string) => void;\n  hideRalphMode: () => void;\n  expand: () => void;\n  collapse: () => void;\n  scheduleAnimation: (size: DynamicIslandSize, delay?: number) => void;\n}\n\n// Size dimensions - based on cult-ui reference and iPhone proportions\nconst SIZE_PRESETS: Record<DynamicIslandSize, { width: number; height: number; aspectRatio: string }> = {\n  default: { width: 126, height: 37, aspectRatio: '126/37' },\n  compact: { width: 100, height: 32, aspectRatio: '100/32' },\n  large: { width: 350, height: 100, aspectRatio: '350/100' }, // Taller for music player with progress\n  tall: { width: 350, height: 200, aspectRatio: '350/200' },\n  long: { width: 350, height: 56, aspectRatio: '350/56' },\n  medium: { width: 350, height: 130, aspectRatio: '350/130' },\n  ultra: { width: 350, height: 300, aspectRatio: '350/300' },\n};\n\n// ============================================================================\n// Context Provider\n// ============================================================================\n\nconst DynamicIslandContext = createContext<DynamicIslandContextType | null>(null);\n\nexport function useDynamicIsland() {\n  const context = useContext(DynamicIslandContext);\n  if (!context) {\n    throw new Error('useDynamicIsland must be used within DynamicIslandProvider');\n  }\n  return context;\n}\n\ninterface DynamicIslandProviderProps {\n  children: ReactNode;\n  initialSize?: DynamicIslandSize;\n}\n\nexport function DynamicIslandProvider({\n  children,\n  initialSize = 'default',\n}: DynamicIslandProviderProps) {\n  const [state, setState] = useState<IslandState>({\n    size: initialSize,\n    previousSize: initialSize,\n    contentType: 'idle',\n  });\n\n  const setSize = useCallback((size: DynamicIslandSize) => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size,\n    }));\n  }, []);\n\n  const setContentType = useCallback((contentType: IslandContentType) => {\n    setState((prev) => ({ ...prev, contentType }));\n  }, []);\n\n  const showNotification = useCallback(\n    (title: string, message: string, icon?: ReactNode, duration = 4000) => {\n      setState((prev) => ({\n        ...prev,\n        previousSize: prev.size,\n        size: 'long',\n        contentType: 'notification',\n        notification: { title, message, icon },\n      }));\n\n      if (duration > 0) {\n        setTimeout(() => {\n          setState((prev) => ({\n            ...prev,\n            previousSize: prev.size,\n            size: 'default',\n            contentType: 'idle',\n            notification: undefined,\n          }));\n        }, duration);\n      }\n    },\n    []\n  );\n\n  const showRalphMode = useCallback(\n    (iteration: number, maxIterations: number, description: string) => {\n      setState((prev) => ({\n        ...prev,\n        previousSize: prev.size,\n        size: 'long',\n        contentType: 'ralph',\n        ralph: { iteration, maxIterations, description },\n      }));\n    },\n    []\n  );\n\n  const hideRalphMode = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'default',\n      contentType: 'idle',\n      ralph: undefined,\n    }));\n  }, []);\n\n  const expand = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'large',\n    }));\n  }, []);\n\n  const collapse = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      previousSize: prev.size,\n      size: 'default',\n    }));\n  }, []);\n\n  const scheduleAnimation = useCallback((size: DynamicIslandSize, delay = 1000) => {\n    setTimeout(() => setSize(size), delay);\n  }, [setSize]);\n\n  return (\n    <DynamicIslandContext.Provider\n      value={{\n        state,\n        setSize,\n        setContentType,\n        showNotification,\n        showRalphMode,\n        hideRalphMode,\n        expand,\n        collapse,\n        scheduleAnimation,\n      }}\n    >\n      {children}\n    </DynamicIslandContext.Provider>\n  );\n}\n\n// ============================================================================\n// Styled Sub-components\n// ============================================================================\n\ninterface DynamicContainerProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function DynamicContainer({ children, className = '' }: DynamicContainerProps) {\n  return (\n    <div className={`absolute inset-0 flex items-center justify-center ${className}`}>\n      {children}\n    </div>\n  );\n}\n\ninterface DynamicTitleProps {\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function DynamicTitle({ children, className = '', style }: DynamicTitleProps) {\n  return (\n    <motion.h3\n      initial={{ opacity: 0, y: 5 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -5 }}\n      className={`font-bold tracking-tight ${className}`}\n      style={style}\n    >\n      {children}\n    </motion.h3>\n  );\n}\n\ninterface DynamicDescriptionProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function DynamicDescription({ children, className = '' }: DynamicDescriptionProps) {\n  return (\n    <motion.p\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className={`text-sm ${className}`}\n    >\n      {children}\n    </motion.p>\n  );\n}\n\n// ============================================================================\n// Content Renderers\n// ============================================================================\n\nfunction MusicContent({ expanded }: { expanded: boolean }) {\n  const { currentTrack, isPlaying, togglePlay, skipToNext, skipToPrevious, currentTime, duration } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n  const [imageError, setImageError] = useState(false);\n\n  const progressPercent = duration ? (currentTime / duration) * 100 : 0;\n\n  const formatTime = (time: number) => {\n    if (isNaN(time)) return '0:00';\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  if (!expanded) {\n    // Compact music view - like iPhone\n    return (\n      <DynamicContainer className=\"px-2\">\n        <div className=\"flex items-center justify-between w-full\">\n          {/* Album art or profile */}\n          <motion.div\n            className=\"w-7 h-7 rounded-lg overflow-hidden flex-shrink-0\"\n            animate={\n              isPlaying && !prefersReducedMotion\n                ? { scale: [1, 1.03, 1] }\n                : {}\n            }\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            {currentTrack.albumArt && !imageError ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={currentTrack.albumArt}\n                alt={currentTrack.album}\n                className=\"w-full h-full object-cover\"\n                onError={() => setImageError(true)}\n              />\n            ) : (\n              <div\n                className=\"w-full h-full flex items-center justify-center\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                }}\n              >\n                <span className=\"text-xs\">ðŸŽµ</span>\n              </div>\n            )}\n          </motion.div>\n\n          {/* Visualizer bars */}\n          {isPlaying && (\n            <motion.div\n              className=\"flex gap-0.5 items-end h-4\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n            >\n              {[...Array(3)].map((_, i) => (\n                <motion.div\n                  key={i}\n                  className=\"w-0.5 rounded-full\"\n                  style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                  animate={\n                    prefersReducedMotion\n                      ? { height: '8px' }\n                      : { height: ['4px', '14px', '6px'] }\n                  }\n                  transition={{\n                    duration: 0.5,\n                    repeat: Infinity,\n                    delay: i * 0.12,\n                  }}\n                />\n              ))}\n            </motion.div>\n          )}\n\n          {/* Track title */}\n          <span className=\"text-white/80 text-[11px] font-medium truncate max-w-[50px]\">\n            {currentTrack.title}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  // Expanded music view with full controls\n  return (\n    <DynamicContainer className=\"px-4 py-2\">\n      <div className=\"flex flex-col w-full gap-2\">\n        {/* Top row: Album art, track info, controls */}\n        <div className=\"flex items-center justify-between w-full gap-3\">\n          {/* Album art */}\n          <motion.div\n            className=\"w-14 h-14 rounded-xl overflow-hidden flex-shrink-0\"\n            style={{\n              boxShadow: '0 4px 20px hsl(var(--theme-primary) / 0.4)',\n            }}\n            animate={\n              isPlaying && !prefersReducedMotion\n                ? { scale: [1, 1.02, 1] }\n                : {}\n            }\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            {currentTrack.albumArt && !imageError ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img\n                src={currentTrack.albumArt}\n                alt={currentTrack.album}\n                className=\"w-full h-full object-cover\"\n                onError={() => setImageError(true)}\n              />\n            ) : (\n              <div\n                className=\"w-full h-full flex items-end justify-center gap-1 p-2\"\n                style={{\n                  background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                }}\n              >\n                {/* Visualizer bars when no album art */}\n                {isPlaying && [...Array(5)].map((_, i) => (\n                  <motion.div\n                    key={i}\n                    className=\"w-1.5 bg-white/80 rounded-full\"\n                    animate={\n                      prefersReducedMotion\n                        ? { height: '40%' }\n                        : { height: ['20%', '80%', '40%', '100%', '30%'] }\n                    }\n                    transition={{\n                      duration: 0.8,\n                      repeat: Infinity,\n                      delay: i * 0.1,\n                      ease: 'easeInOut',\n                    }}\n                  />\n                ))}\n              </div>\n            )}\n          </motion.div>\n\n          {/* Track info */}\n          <div className=\"flex-1 min-w-0\">\n            <DynamicTitle className=\"text-white text-sm truncate\">\n              {currentTrack.title}\n            </DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs truncate\">\n              {currentTrack.artist}\n            </DynamicDescription>\n          </div>\n\n          {/* Controls */}\n          <div className=\"flex items-center gap-1\" role=\"group\" aria-label=\"Music playback controls\">\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); skipToPrevious(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              aria-label=\"Previous track\"\n            >\n              <SkipBack className=\"w-4 h-4 text-white/70\" fill=\"currentColor\" aria-hidden=\"true\" />\n            </motion.button>\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); togglePlay(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-10 h-10 rounded-full flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              style={{\n                background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n              }}\n              aria-label={isPlaying ? 'Pause' : 'Play'}\n              aria-pressed={isPlaying}\n            >\n              {isPlaying ? (\n                <Pause className=\"w-5 h-5 text-white\" fill=\"currentColor\" aria-hidden=\"true\" />\n              ) : (\n                <Play className=\"w-5 h-5 text-white ml-0.5\" fill=\"currentColor\" aria-hidden=\"true\" />\n              )}\n            </motion.button>\n            <motion.button\n              onClick={(e) => { e.stopPropagation(); skipToNext(); }}\n              whileTap={{ scale: 0.9 }}\n              className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n              aria-label=\"Next track\"\n            >\n              <SkipForward className=\"w-4 h-4 text-white/70\" fill=\"currentColor\" aria-hidden=\"true\" />\n            </motion.button>\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"flex items-center gap-2 w-full\">\n          <span className=\"text-[10px] text-white/40 tabular-nums w-8 text-right\" aria-hidden=\"true\">\n            {formatTime(currentTime)}\n          </span>\n          <div\n            className=\"flex-1 h-1 bg-white/10 rounded-full overflow-hidden\"\n            role=\"progressbar\"\n            aria-label=\"Track progress\"\n            aria-valuenow={Math.round(progressPercent)}\n            aria-valuemin={0}\n            aria-valuemax={100}\n            aria-valuetext={`${formatTime(currentTime)} of ${formatTime(duration)}`}\n          >\n            <motion.div\n              className=\"h-full rounded-full\"\n              style={{\n                background: 'linear-gradient(90deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                width: `${progressPercent}%`,\n              }}\n              transition={{ duration: 0.1 }}\n            />\n          </div>\n          <span className=\"text-[10px] text-white/40 tabular-nums w-8\" aria-hidden=\"true\">\n            {formatTime(duration)}\n          </span>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction NotificationContent({ notification }: { notification?: { title: string; message: string; icon?: ReactNode } }) {\n  if (!notification) return null;\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center gap-3 w-full\">\n        <div\n          className=\"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0\"\n          style={{\n            background: 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n          }}\n        >\n          {notification.icon || <Bell className=\"w-5 h-5 text-white\" />}\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <DynamicTitle className=\"text-white text-sm truncate\">\n            {notification.title}\n          </DynamicTitle>\n          <DynamicDescription className=\"text-white/60 text-xs truncate\">\n            {notification.message}\n          </DynamicDescription>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction IdleContent() {\n  const { status, getStatusColor } = useProviderStatus();\n  const prefersReducedMotion = useReducedMotion();\n\n  return (\n    <DynamicContainer className=\"px-2\">\n      <div className=\"flex items-center justify-between w-full\">\n        {/* Profile image on left like iPhone */}\n        <div className=\"w-7 h-7 rounded-full overflow-hidden flex-shrink-0 border border-white/20\">\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img\n            src=\"/openclaw-logo.png\"\n            alt=\"James\"\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n        {/* Provider status indicator on right */}\n        <motion.div\n          className=\"w-3 h-3 rounded-full flex items-center justify-center\"\n          style={{ backgroundColor: getStatusColor() }}\n          animate={\n            status === 'connecting' && !prefersReducedMotion\n              ? { scale: [1, 1.2, 1], opacity: [1, 0.6, 1] }\n              : {}\n          }\n          transition={{ duration: 1.5, repeat: Infinity }}\n          title={`AI: ${status}`}\n        >\n          <div className=\"w-1.5 h-1.5 rounded-full bg-white/80\" />\n        </motion.div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction ProviderContent({ expanded }: { expanded: boolean }) {\n  const { providerType, status, latencyMs, getStatusColor, getProviderDisplayName } = useProviderStatus();\n  const prefersReducedMotion = useReducedMotion();\n\n  const getProviderIcon = () => {\n    switch (providerType) {\n      case 'lynkr':\n        return <Wifi className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n      case 'local':\n        return <Cpu className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n      case 'cloud':\n      default:\n        return <Cloud className=\"w-4 h-4\" style={{ color: getStatusColor() }} />;\n    }\n  };\n\n  if (!expanded) {\n    // Compact provider view\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <motion.div\n              className=\"w-2 h-2 rounded-full\"\n              style={{ backgroundColor: getStatusColor() }}\n              animate={\n                status === 'connecting' && !prefersReducedMotion\n                  ? { scale: [1, 1.3, 1], opacity: [1, 0.5, 1] }\n                  : {}\n              }\n              transition={{ duration: 1, repeat: Infinity }}\n            />\n            {getProviderIcon()}\n          </div>\n          <span className=\"text-white/70 text-xs font-medium\">\n            {getProviderDisplayName()}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  // Expanded provider view with full status\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div className=\"flex items-center gap-3\">\n          {/* Provider icon with status glow */}\n          <div\n            className=\"w-12 h-12 rounded-full flex items-center justify-center relative\"\n            style={{\n              background: `linear-gradient(135deg, ${getStatusColor()}20 0%, ${getStatusColor()}10 100%)`,\n            }}\n          >\n            {providerType === 'lynkr' && <Wifi className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {providerType === 'local' && <Cpu className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {providerType === 'cloud' && <Cloud className=\"w-6 h-6\" style={{ color: getStatusColor() }} />}\n            {/* Pulse ring for connecting state */}\n            {status === 'connecting' && !prefersReducedMotion && (\n              <motion.div\n                className=\"absolute inset-0 rounded-full\"\n                style={{ border: `2px solid ${getStatusColor()}` }}\n                animate={{ scale: [1, 1.3], opacity: [0.8, 0] }}\n                transition={{ duration: 1.5, repeat: Infinity }}\n              />\n            )}\n          </div>\n          <div>\n            <DynamicTitle\n              className=\"text-sm\"\n              style={{ color: getStatusColor() }}\n            >\n              {getProviderDisplayName()}\n            </DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs capitalize\">\n              {status}\n              {latencyMs !== undefined && status === 'connected' && (\n                <span className=\"ml-2 text-white/30\">{latencyMs}ms</span>\n              )}\n            </DynamicDescription>\n          </div>\n        </div>\n        {/* Status indicator */}\n        <motion.div\n          className=\"w-3 h-3 rounded-full\"\n          style={{ backgroundColor: getStatusColor() }}\n          animate={\n            status === 'connecting' && !prefersReducedMotion\n              ? { scale: [1, 1.2, 1], opacity: [1, 0.6, 1] }\n              : {}\n          }\n          transition={{ duration: 1, repeat: Infinity }}\n        />\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction TimerContent({ expanded }: { expanded: boolean }) {\n  const [time, setTime] = useState(125); // 2:05 in seconds\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime((t) => Math.max(0, t - 1));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const minutes = Math.floor(time / 60);\n  const seconds = time % 60;\n  const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n\n  if (!expanded) {\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <Timer className=\"w-4 h-4\" style={{ color: 'hsl(var(--theme-primary))' }} />\n          <span\n            className=\"text-sm font-bold tabular-nums\"\n            style={{ color: 'hsl(var(--theme-primary))' }}\n          >\n            {display}\n          </span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div\n          className=\"w-12 h-12 rounded-full flex items-center justify-center\"\n          style={{\n            background: 'linear-gradient(135deg, hsl(var(--theme-primary) / 0.2) 0%, hsl(var(--theme-accent) / 0.2) 100%)',\n          }}\n        >\n          <Timer className=\"w-6 h-6\" style={{ color: 'hsl(var(--theme-primary))' }} />\n        </div>\n        <div className=\"flex-1\">\n          <span\n            className=\"text-3xl font-bold tabular-nums\"\n            style={{ color: 'hsl(var(--theme-primary))' }}\n          >\n            {display}\n          </span>\n        </div>\n        <motion.button\n          whileTap={{ scale: 0.9 }}\n          className=\"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center\"\n        >\n          <X className=\"w-5 h-5 text-white/70\" />\n        </motion.button>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction CallContent({ expanded }: { expanded: boolean }) {\n  if (!expanded) {\n    return (\n      <DynamicContainer className=\"px-3\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <motion.div\n              className=\"w-2 h-2 rounded-full bg-green-400\"\n              animate={{ scale: [1, 1.2, 1], opacity: [1, 0.7, 1] }}\n              transition={{ duration: 1, repeat: Infinity }}\n            />\n            <Phone className=\"w-4 h-4 text-green-400\" />\n          </div>\n          <span className=\"text-white/70 text-xs font-medium\">12:34</span>\n        </div>\n      </DynamicContainer>\n    );\n  }\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center justify-between w-full gap-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center\">\n            <Phone className=\"w-6 h-6 text-white\" />\n          </div>\n          <div>\n            <DynamicTitle className=\"text-white text-sm\">Incoming Call</DynamicTitle>\n            <DynamicDescription className=\"text-white/50 text-xs\">Mobile â€¢ 12:34</DynamicDescription>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <motion.button\n            whileTap={{ scale: 0.9 }}\n            className=\"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5 text-white\" />\n          </motion.button>\n          <motion.button\n            whileTap={{ scale: 0.9 }}\n            className=\"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center\"\n          >\n            <Phone className=\"w-5 h-5 text-white\" />\n          </motion.button>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction RecordingContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center justify-between w-full\">\n        <div className=\"flex items-center gap-2\">\n          <motion.div\n            className=\"w-2 h-2 rounded-full bg-red-500\"\n            animate={{ opacity: [1, 0.3, 1] }}\n            transition={{ duration: 1, repeat: Infinity }}\n          />\n          <Mic className=\"w-4 h-4 text-red-400\" />\n        </div>\n        <span className=\"text-white/70 text-xs font-medium\">Recording...</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction SuccessContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center gap-2\">\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center\"\n        >\n          <Check className=\"w-3 h-3 text-white\" />\n        </motion.div>\n        <span className=\"text-green-400 text-xs font-medium\">Success</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction LoadingContent() {\n  return (\n    <DynamicContainer className=\"px-3\">\n      <div className=\"flex items-center gap-2\">\n        <motion.div\n          className=\"w-4 h-4 border-2 border-white/20 rounded-full\"\n          style={{ borderTopColor: 'hsl(var(--theme-primary))' }}\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n        />\n        <span className=\"text-white/50 text-xs font-medium\">Loading...</span>\n      </div>\n    </DynamicContainer>\n  );\n}\n\nfunction RalphModeContent({ ralph }: { ralph?: { iteration: number; maxIterations: number; description: string } }) {\n  const prefersReducedMotion = useReducedMotion();\n\n  if (!ralph) return null;\n\n  return (\n    <DynamicContainer className=\"px-4\">\n      <div className=\"flex items-center gap-3 w-full\">\n        {/* Animated icon */}\n        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0\">\n          <motion.div\n            animate={prefersReducedMotion ? {} : { rotate: 360 }}\n            transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\n          >\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\">\n              <path d=\"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83\" />\n            </svg>\n          </motion.div>\n        </div>\n\n        {/* Status text */}\n        <div className=\"flex-1 min-w-0\">\n          <DynamicTitle className=\"text-white text-sm\">\n            Refining {ralph.iteration}/{ralph.maxIterations}\n          </DynamicTitle>\n          <DynamicDescription className=\"text-white/50 text-xs truncate\">\n            {ralph.description}\n          </DynamicDescription>\n        </div>\n\n        {/* Progress indicator */}\n        <div className=\"w-8 h-8 relative flex-shrink-0\">\n          <svg className=\"w-8 h-8 -rotate-90\" viewBox=\"0 0 32 32\">\n            <circle\n              cx=\"16\"\n              cy=\"16\"\n              r=\"12\"\n              stroke=\"rgba(255,255,255,0.1)\"\n              strokeWidth=\"3\"\n              fill=\"none\"\n            />\n            <motion.circle\n              cx=\"16\"\n              cy=\"16\"\n              r=\"12\"\n              stroke=\"url(#ralph-gradient)\"\n              strokeWidth=\"3\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              strokeDasharray={75.4}\n              initial={{ strokeDashoffset: 75.4 }}\n              animate={{ strokeDashoffset: 75.4 * (1 - ralph.iteration / ralph.maxIterations) }}\n              transition={{ duration: 0.5 }}\n            />\n            <defs>\n              <linearGradient id=\"ralph-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                <stop offset=\"0%\" stopColor=\"#818cf8\" />\n                <stop offset=\"100%\" stopColor=\"#a855f7\" />\n              </linearGradient>\n            </defs>\n          </svg>\n        </div>\n      </div>\n    </DynamicContainer>\n  );\n}\n\n// ============================================================================\n// Main DynamicIsland Component\n// ============================================================================\n\ninterface DynamicIslandProps {\n  id?: string;\n  className?: string;\n  children?: ReactNode;\n}\n\nexport function DynamicIsland({ id, className = '', children }: DynamicIslandProps) {\n  const { state, expand, collapse } = useDynamicIsland();\n  const { isPlaying } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n  const [isHovered, setIsHovered] = useState(false);\n\n  const { size, contentType, notification } = state;\n  const isExpanded = ['large', 'tall', 'long', 'medium', 'ultra'].includes(size);\n  const preset = SIZE_PRESETS[size];\n\n  // Auto-expand for music when playing\n  useEffect(() => {\n    if (isPlaying && contentType === 'idle') {\n      // Don't auto-expand, just show music indicator\n    }\n  }, [isPlaying, contentType]);\n\n  // Handle hover to expand music\n  useEffect(() => {\n    if (isHovered && isPlaying && size === 'default') {\n      expand();\n    } else if (!isHovered && size === 'large' && contentType !== 'notification') {\n      collapse();\n    }\n  }, [isHovered, isPlaying, size, contentType, expand, collapse]);\n\n  const handleClick = () => {\n    if (size === 'default' || size === 'compact') {\n      expand();\n    } else {\n      collapse();\n    }\n  };\n\n  // Animation variants\n  const containerVariants: Variants = {\n    initial: {\n      width: SIZE_PRESETS.default.width,\n      height: SIZE_PRESETS.default.height,\n    },\n    animate: {\n      width: preset.width,\n      height: preset.height,\n      transition: prefersReducedMotion\n        ? { duration: 0.2 }\n        : {\n            type: 'spring',\n            stiffness: 400,\n            damping: 30,\n          },\n    },\n  };\n\n  // Render appropriate content\n  const renderContent = () => {\n    if (children) return children;\n\n    switch (contentType) {\n      case 'music':\n        return <MusicContent expanded={isExpanded} />;\n      case 'notification':\n        return <NotificationContent notification={notification} />;\n      case 'timer':\n        return <TimerContent expanded={isExpanded} />;\n      case 'call':\n        return <CallContent expanded={isExpanded} />;\n      case 'recording':\n        return <RecordingContent />;\n      case 'success':\n        return <SuccessContent />;\n      case 'loading':\n        return <LoadingContent />;\n      case 'ralph':\n        return <RalphModeContent ralph={state.ralph} />;\n      case 'provider':\n        return <ProviderContent expanded={isExpanded} />;\n      default:\n        // If music is playing, show music content\n        if (isPlaying) {\n          return <MusicContent expanded={isExpanded} />;\n        }\n        return <IdleContent />;\n    }\n  };\n\n  return (\n    <motion.div\n      id={id}\n      className={`dynamic-island relative cursor-pointer select-none ${className}`}\n      variants={containerVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n      onClick={handleClick}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      role=\"status\"\n      aria-label=\"Dynamic Island\"\n      style={{\n        transformOrigin: 'top center',\n      }}\n    >\n      {/* Background with glass effect */}\n      <motion.div\n        className=\"absolute inset-0 overflow-hidden\"\n        style={{\n          borderRadius: isExpanded ? 32 : 20,\n          background: 'linear-gradient(180deg, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.95) 100%)',\n          boxShadow: `\n            0 4px 30px rgba(0, 0, 0, 0.3),\n            inset 0 1px 0 rgba(255, 255, 255, 0.1),\n            0 0 0 1px rgba(255, 255, 255, 0.05)\n          `,\n        }}\n        layout\n      />\n\n      {/* Subtle glow effect when active */}\n      {(isPlaying || contentType !== 'idle') && !prefersReducedMotion && (\n        <motion.div\n          className=\"absolute inset-0 pointer-events-none\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 0.6 }}\n          style={{\n            borderRadius: isExpanded ? 32 : 20,\n            background: `radial-gradient(ellipse at center, hsl(var(--theme-primary) / 0.15) 0%, transparent 70%)`,\n            filter: 'blur(15px)',\n          }}\n        />\n      )}\n\n      {/* Content */}\n      <AnimatePresence mode=\"wait\">\n        <motion.div\n          key={`${size}-${contentType}`}\n          className=\"relative h-full w-full\"\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.9 }}\n          transition={{ duration: 0.15 }}\n        >\n          {renderContent()}\n        </motion.div>\n      </AnimatePresence>\n\n      {/* Expand indicator */}\n      {isExpanded && (\n        <motion.div\n          className=\"absolute -bottom-6 left-1/2 -translate-x-1/2\"\n          initial={{ opacity: 0, y: -5 }}\n          animate={{ opacity: 0.5, y: 0 }}\n          exit={{ opacity: 0 }}\n        >\n          <ChevronDown className=\"w-4 h-4 text-white/30\" />\n        </motion.div>\n      )}\n\n      {/* Breathing animation for idle state */}\n      {contentType === 'idle' && !isPlaying && !prefersReducedMotion && (\n        <motion.div\n          className=\"absolute inset-0 pointer-events-none\"\n          style={{\n            borderRadius: 20,\n            border: '1px solid rgba(255, 255, 255, 0.1)',\n          }}\n          animate={{\n            scale: [1, 1.02, 1],\n            opacity: [0.3, 0.6, 0.3],\n          }}\n          transition={{\n            duration: 3,\n            repeat: Infinity,\n            ease: 'easeInOut',\n          }}\n        />\n      )}\n    </motion.div>\n  );\n}\n\n// ============================================================================\n// Compact Version (for status bar)\n// ============================================================================\n\nexport function DynamicIslandCompact({ className = '' }: { className?: string }) {\n  const { isPlaying, currentTrack } = useMusic();\n  const prefersReducedMotion = useReducedMotion();\n\n  return (\n    <motion.div\n      className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full cursor-pointer ${className}`}\n      style={{\n        background: 'linear-gradient(180deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%)',\n        boxShadow: 'inset 0 1px 0 rgba(255, 255, 255, 0.1)',\n      }}\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n    >\n      {isPlaying ? (\n        <>\n          <motion.div\n            className=\"flex gap-0.5\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            {[...Array(3)].map((_, i) => (\n              <motion.div\n                key={i}\n                className=\"w-0.5 rounded-full\"\n                style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                animate={\n                  prefersReducedMotion\n                    ? { height: '8px' }\n                    : { height: ['4px', '10px', '4px'] }\n                }\n                transition={{\n                  duration: 0.5,\n                  repeat: Infinity,\n                  delay: i * 0.15,\n                }}\n              />\n            ))}\n          </motion.div>\n          <span className=\"text-white/70 text-xs font-medium truncate max-w-[100px]\">\n            {currentTrack.title}\n          </span>\n        </>\n      ) : (\n        <>\n          <div\n            className=\"w-1.5 h-1.5 rounded-full\"\n            style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n          />\n          <span className=\"text-white/50 text-xs font-medium\">James OS</span>\n        </>\n      )}\n    </motion.div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7066, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/lib/gallery-images.ts"],"sourcesContent":["// Shared gallery images used across OpenClaw-OS\n// Used by: Photos app, Desktop screensaver\n\nexport const GALLERY_IMAGES = [\n  { src: 'https://2oczblkb3byymav8.public.blob.vercel-storage.com/FB394334-6F13-446C-8B43-57C993D05E01.png', alt: 'OpenClaw-OS Vision' },\n  { src: 'https://2oczblkb3byymav8.public.blob.vercel-storage.com/0505D0AD-9EBF-4675-B3AC-ABF92501F024.png', alt: 'OpenClaw-OS Workspace' },\n  { src: '/photos/aurora.jpeg', alt: 'Aurora' },\n  { src: '/photos/Corballis.jpeg', alt: 'Corballis' },\n  { src: '/photos/Donabatebeach.jpeg', alt: 'Donabate Beach' },\n  { src: '/photos/Donabatebeach2.jpeg', alt: 'Donabate Beach' },\n  { src: '/photos/Glenofthedowns.jpeg', alt: 'Glen of the Downs' },\n  { src: '/photos/Mistysunrise.jpeg', alt: 'Misty Sunrise' },\n  { src: '/photos/Nightsky.jpeg', alt: 'Night Sky' },\n  { src: '/photos/Nightskytree.jpeg', alt: 'Night Sky Tree' },\n  { src: '/photos/Portranedemense.jpeg', alt: 'Portrane Demesne' },\n  { src: '/photos/Robin.jpeg', alt: 'Robin' },\n  { src: '/photos/Skygrange.jpeg', alt: 'Sky Grange' },\n  { src: '/photos/Sunriseoverhowth.jpeg', alt: 'Sunrise over Howth' },\n  { src: '/photos/Sunriseportrane.jpeg', alt: 'Sunrise Portrane' },\n  { src: '/photos/sunsetachill.jpeg', alt: 'Sunset Achill' },\n  { src: '/photos/SunsetPortrane.jpeg', alt: 'Sunset Portrane' },\n  { src: '/photos/SunsetSalvador.jpeg', alt: 'Sunset Salvador' },\n] as const;\n\nexport type GalleryImage = typeof GALLERY_IMAGES[number];\n"],"names":[],"mappings":"AAAA,gDAAgD;AAChD,2CAA2C;;;;;AAEpC,MAAM,iBAAiB;IAC5B;QAAE,KAAK;QAAoG,KAAK;IAAqB;IACrI;QAAE,KAAK;QAAoG,KAAK;IAAwB;IACxI;QAAE,KAAK;QAAuB,KAAK;IAAS;IAC5C;QAAE,KAAK;QAA0B,KAAK;IAAY;IAClD;QAAE,KAAK;QAA8B,KAAK;IAAiB;IAC3D;QAAE,KAAK;QAA+B,KAAK;IAAiB;IAC5D;QAAE,KAAK;QAA+B,KAAK;IAAoB;IAC/D;QAAE,KAAK;QAA6B,KAAK;IAAgB;IACzD;QAAE,KAAK;QAAyB,KAAK;IAAY;IACjD;QAAE,KAAK;QAA6B,KAAK;IAAiB;IAC1D;QAAE,KAAK;QAAgC,KAAK;IAAmB;IAC/D;QAAE,KAAK;QAAsB,KAAK;IAAQ;IAC1C;QAAE,KAAK;QAA0B,KAAK;IAAa;IACnD;QAAE,KAAK;QAAiC,KAAK;IAAqB;IAClE;QAAE,KAAK;QAAgC,KAAK;IAAmB;IAC/D;QAAE,KAAK;QAA6B,KAAK;IAAgB;IACzD;QAAE,KAAK;QAA+B,KAAK;IAAkB;IAC7D;QAAE,KAAK;QAA+B,KAAK;IAAkB;CAC9D"}},
    {"offset": {"line": 7150, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/Desktop.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport { LiquidGlass } from '@/components/ui/liquid-glass';\nimport { useHomeScreen, defaultApps, GridItem, AppItem } from '@/context/HomeScreenContext';\nimport { useControlCenter } from '@/context/ControlCenterContext';\nimport { DraggableAppIcon } from './DraggableAppIcon';\nimport { AppFolder } from './AppFolder';\nimport { StatusBarWatch } from './StatusBarWatch';\nimport { DynamicIsland, DynamicIslandProvider } from './DynamicIsland';\nimport {\n  BookOpen,\n  Palette,\n  FileText,\n  Music,\n  Lock,\n  NotebookText,\n  Camera,\n  FolderKanban,\n  Box,\n  Layers,\n  RotateCcw,\n  Settings,\n  Waves,\n  Users,\n  Navigation,\n  Calendar,\n  Contact,\n  StickyNote,\n  CloudSun,\n  Gamepad2,\n  Terminal,\n  Sparkles,\n  Briefcase,\n  Search,\n  PenTool,\n  Smartphone,\n  Wrench,\n  NotebookPen,\n  CircleDot,\n  GraduationCap,\n  Map,\n  Clapperboard,\n  HeartPulse,\n  BookHeart,\n  UtensilsCrossed,\n  Compass,\n  Target,\n  Globe,\n  MessageSquare,\n  Infinity,\n  Shield,\n  BookOpenCheck,\n  Clock,\n  Bell,\n  Timer,\n  Rotate3d,\n  CircleUser,\n} from 'lucide-react';\nimport { Icons } from '@/components/icons';\nimport { motionConfig } from '@/components/motion/config';\nimport { useRouter } from 'next/navigation';\nimport { GALLERY_IMAGES } from '@/lib/gallery-images';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\n\n// Screensaver rotation interval (60 seconds)\nconst SCREENSAVER_INTERVAL = 60000;\n\ninterface DesktopProps {\n  isVisible: boolean;\n}\n\n// App icons using lucide-react (same style as dock)\nconst AppIconComponents: Record<string, React.ReactNode> = {\n  // Entry/Core apps\n  story: <BookOpen className=\"w-7 h-7\" />,\n  blog: <NotebookText className=\"w-7 h-7\" />,\n  design: <Palette className=\"w-7 h-7\" />,\n  resume: <FileText className=\"w-7 h-7\" />,\n\n  // Create apps\n  music: <Music className=\"w-7 h-7\" />,\n  jamz: <Waves className=\"w-7 h-7\" />,\n  prototyping: <Layers className=\"w-7 h-7\" />,\n  notes: <StickyNote className=\"w-7 h-7\" />,\n  cowrite: <PenTool className=\"w-7 h-7\" />,\n  product: <Box className=\"w-7 h-7\" />,\n  projects: <FolderKanban className=\"w-7 h-7\" />,\n  mockit: <Smartphone className=\"w-7 h-7\" />,\n\n  // Work/Hire apps\n  humans: <Users className=\"w-7 h-7\" />,\n  activity: <Briefcase className=\"w-7 h-7\" />,\n  calendar: <Calendar className=\"w-7 h-7\" />,\n  contacts: <Contact className=\"w-7 h-7\" />,\n\n  // Explore apps\n  photos: <Camera className=\"w-7 h-7\" />,\n  inspirations: <Sparkles className=\"w-7 h-7\" />,\n  way: <Navigation className=\"w-7 h-7\" />,\n\n  // Theme showcases\n  claude: null, // uses imageUrl\n  chatgpt: null, // uses imageUrl\n  utilitarian: <Wrench className=\"w-7 h-7\" />,\n  notebook: <NotebookPen className=\"w-7 h-7\" />,\n  tao: <CircleDot className=\"w-7 h-7\" />,\n  research: <GraduationCap className=\"w-7 h-7\" />,\n  'field-guide': <Map className=\"w-7 h-7\" />,\n\n  // Social/Connect apps\n  github: <Icons.github className=\"w-7 h-7\" />,\n  linkedin: <Icons.linkedin className=\"w-7 h-7\" />,\n  x: <Icons.x className=\"w-7 h-7\" />,\n\n  // Vibes/Fun apps\n  weather: <CloudSun className=\"w-7 h-7\" />,\n  games: <Gamepad2 className=\"w-7 h-7\" />,\n  terminal: <Terminal className=\"w-7 h-7\" />,\n  reels: <Clapperboard className=\"w-7 h-7\" />,\n\n  // System apps\n  skills: <Sparkles className=\"w-7 h-7\" />,\n  vault: <Lock className=\"w-7 h-7\" />,\n  settings: <Settings className=\"w-7 h-7\" />,\n  search: <Search className=\"w-7 h-7\" />,\n\n  // Neurodiversity apps\n  regulation: <HeartPulse className=\"w-7 h-7\" />,\n  journal: <BookHeart className=\"w-7 h-7\" />,\n  food: <UtensilsCrossed className=\"w-7 h-7\" />,\n  sidequests: <Compass className=\"w-7 h-7\" />,\n  hyperfocus: <Target className=\"w-7 h-7\" />,\n\n  // Research & Knowledge apps\n  'research-app': <Globe className=\"w-7 h-7\" />,\n\n  // Missing icons - added for completeness\n  agent: <Infinity className=\"w-7 h-7\" />,\n  canvas: <Layers className=\"w-7 h-7\" />,\n  messages: <MessageSquare className=\"w-7 h-7\" />,\n  '3d-gallery': <Rotate3d className=\"w-7 h-7\" />,\n  avatar: <CircleUser className=\"w-7 h-7\" />,\n  'bubble-timer': <Timer className=\"w-7 h-7\" />,\n  security: <Shield className=\"w-7 h-7\" />,\n  wiki: <BookOpenCheck className=\"w-7 h-7\" />,\n  watch: <Clock className=\"w-7 h-7\" />,\n  updates: <Bell className=\"w-7 h-7\" />,\n  browser: <Globe className=\"w-7 h-7\" />,\n  threads: null, // uses imageUrl\n};\n\n// Helper to get icon for an app\nfunction getAppIcon(appId: string): React.ReactNode {\n  return AppIconComponents[appId] || null;\n}\n\n// Enrich app with icon\nfunction enrichAppWithIcon(app: AppItem): AppItem {\n  return {\n    ...app,\n    icon: getAppIcon(app.id),\n  };\n}\n\nexport function Desktop({ isVisible }: DesktopProps) {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const prefersReducedMotion = useReducedMotion();\n  const [focusedAppIndex, setFocusedAppIndex] = useState(0);\n  const { open: openControlCenter } = useControlCenter();\n  const [backgroundIndex, setBackgroundIndex] = useState(0);\n  const gridRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const {\n    gridItems,\n    isEditMode,\n    exitEditMode,\n    resetToDefault,\n  } = useHomeScreen();\n\n  const { getUnreadCountForApp, markAppNotificationsRead } = useSessionBrain();\n\n  // Handle app open - mark notifications as read\n  const handleAppOpen = useCallback((appId: string) => {\n    markAppNotificationsRead(appId);\n  }, [markAppNotificationsRead]);\n\n  // Time update\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Screensaver: rotate background every 60 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBackgroundIndex((prev) => (prev + 1) % GALLERY_IMAGES.length);\n    }, SCREENSAVER_INTERVAL);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle keyboard navigation for app grid\n  const handleGridKeyDown = useCallback((e: React.KeyboardEvent) => {\n    const columns = 4;\n    const itemCount = gridItems.length;\n    let newIndex = focusedAppIndex;\n    let handled = false;\n\n    switch (e.key) {\n      case 'ArrowRight':\n        newIndex = (focusedAppIndex + 1) % itemCount;\n        handled = true;\n        break;\n      case 'ArrowLeft':\n        newIndex = (focusedAppIndex - 1 + itemCount) % itemCount;\n        handled = true;\n        break;\n      case 'ArrowDown':\n        newIndex = Math.min(focusedAppIndex + columns, itemCount - 1);\n        handled = true;\n        break;\n      case 'ArrowUp':\n        newIndex = Math.max(focusedAppIndex - columns, 0);\n        handled = true;\n        break;\n      case 'Home':\n        newIndex = 0;\n        handled = true;\n        break;\n      case 'End':\n        newIndex = itemCount - 1;\n        handled = true;\n        break;\n      case 'Enter':\n      case ' ':\n        // Activate the focused app\n        const item = gridItems[focusedAppIndex];\n        if (item && item.type === 'app' && item.item.href) {\n          e.preventDefault();\n          router.push(item.item.href);\n        }\n        return;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      setFocusedAppIndex(newIndex);\n      // Focus the app icon\n      const icons = gridRef.current?.querySelectorAll<HTMLElement>('[data-app-icon]');\n      icons?.[newIndex]?.focus();\n    }\n  }, [focusedAppIndex, gridItems, router]);\n\n  // Close edit mode when clicking outside or pressing escape\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        if (isEditMode) {\n          exitEditMode();\n        } else {\n          // Global escape to go back\n          router.back();\n        }\n      }\n    };\n\n    const handleClickOutside = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      // Check if click is on the background area, not on icons\n      if (isEditMode && target.closest('.app-grid-container') === null && !target.closest('.edit-mode-toolbar')) {\n        exitEditMode();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('mousedown', handleClickOutside);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isEditMode, exitEditMode, router]);\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    });\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 z-20 flex flex-col\"\n      initial={prefersReducedMotion ? { opacity: 0 } : { opacity: 0, scale: 0.95, filter: 'blur(20px)' }}\n      animate={prefersReducedMotion ? { opacity: 1 } : { opacity: 1, scale: 1, filter: 'blur(0px)' }}\n      transition={prefersReducedMotion ? { duration: 0.15 } : { duration: 0.5, ease: motionConfig.ease.smooth }}\n    >\n      {/* Screensaver background with crossfade */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <AnimatePresence mode=\"sync\">\n          <motion.div\n            key={backgroundIndex}\n            className=\"absolute inset-0 bg-cover bg-center bg-no-repeat\"\n            style={{\n              backgroundImage: `url(${GALLERY_IMAGES[backgroundIndex].src})`,\n            }}\n            initial={{ opacity: 0, scale: 1.05 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 1.5, ease: 'easeInOut' }}\n          />\n        </AnimatePresence>\n      </div>\n\n      {/* Dark overlay for readability */}\n      <div className=\"absolute inset-0 bg-black/30\" />\n\n      {/* Edit Mode Indicator */}\n      <AnimatePresence>\n        {isEditMode && (\n          <motion.div\n            className=\"edit-mode-toolbar absolute top-20 left-1/2 z-50\"\n            initial={{ opacity: 0, y: -20, x: '-50%' }}\n            animate={{ opacity: 1, y: 0, x: '-50%' }}\n            exit={{ opacity: 0, y: -20, x: '-50%' }}\n            role=\"toolbar\"\n            aria-label=\"Edit mode controls\"\n          >\n            <LiquidGlass\n              variant=\"floating\"\n              intensity=\"medium\"\n              className=\"!px-4 !py-2 !rounded-full flex items-center gap-3\"\n              rippleEffect={false}\n            >\n              <span className=\"text-white/80 text-sm font-medium\" aria-live=\"polite\">Edit Mode</span>\n              <div className=\"w-px h-4 bg-white/20\" aria-hidden=\"true\" />\n              <button\n                onClick={resetToDefault}\n                className=\"text-white/60 hover:text-white transition-colors flex items-center gap-1.5 text-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-md px-2 py-1\"\n                aria-label=\"Reset to default layout\"\n              >\n                <RotateCcw className=\"w-3.5 h-3.5\" aria-hidden=\"true\" />\n                Reset\n              </button>\n              <button\n                onClick={exitEditMode}\n                className=\"text-white/90 hover:text-white transition-colors text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50 rounded-md px-2 py-1\"\n                aria-label=\"Exit edit mode\"\n              >\n                Done\n              </button>\n            </LiquidGlass>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Status Bar - iPhone style with Dynamic Island */}\n      <DynamicIslandProvider>\n        <motion.header\n          className=\"relative z-30 flex items-start justify-between px-6 pt-3 pb-2 text-white/80\"\n          initial={prefersReducedMotion ? false : { opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={prefersReducedMotion ? { duration: 0.15 } : { delay: 0.2 }}\n          role=\"banner\"\n          aria-label=\"System status bar\"\n        >\n          {/* Left - Watch */}\n          <StatusBarWatch />\n\n          {/* Center - Dynamic Island (prominent, like iPhone) */}\n          <div className=\"flex-1 flex justify-center -mt-1\">\n            <DynamicIsland className=\"z-50\" />\n          </div>\n\n          {/* Right - Tap area to open Control Center (icons are inside the shelf) */}\n          <button\n            onClick={openControlCenter}\n            className=\"w-16 h-8 flex items-center justify-end pt-2\"\n            aria-label=\"Open Control Center\"\n          >\n            {/* Subtle grip indicator */}\n            <div className=\"w-1 h-4 rounded-full bg-white/20\" />\n          </button>\n        </motion.header>\n      </DynamicIslandProvider>\n\n      {/* Main Content Area */}\n      <div className=\"relative z-10 flex-1 flex flex-col items-center justify-center px-6 pb-24\">\n        {/* Welcome Message */}\n        <motion.div\n          className=\"text-center mb-12\"\n          initial={prefersReducedMotion ? false : { opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={prefersReducedMotion ? { duration: 0.15 } : { delay: 0.15 }}\n        >\n          <h1 className=\"text-white text-3xl sm:text-4xl font-bold mb-2\">\n            Welcome to OpenClaw-OS\n          </h1>\n          <p className=\"text-white/50 text-sm sm:text-base\">\n            {isEditMode ? 'Long press and drag to rearrange â€¢ Drag icon onto another to create folder' : 'Your agentic workspace'}\n          </p>\n        </motion.div>\n\n        {/* App Grid - 4 columns, 3 rows with folders */}\n        <div\n          ref={gridRef}\n          className=\"app-grid-container grid grid-cols-4 gap-4 sm:gap-6 max-w-md sm:max-w-lg\"\n          role=\"grid\"\n          aria-label=\"Application grid\"\n          onKeyDown={handleGridKeyDown}\n        >\n          {gridItems.map((gridItem, index) => {\n            if (gridItem.type === 'folder') {\n              return (\n                <AppFolder\n                  key={gridItem.item.id}\n                  folder={{\n                    ...gridItem.item,\n                    apps: gridItem.item.apps.map(enrichAppWithIcon),\n                  }}\n                  index={index}\n                  delay={0.1}\n                />\n              );\n            } else {\n              const app = enrichAppWithIcon(gridItem.item);\n              return (\n                <DraggableAppIcon\n                  key={app.id}\n                  app={app}\n                  index={index}\n                  delay={0.1}\n                  tabIndex={index === focusedAppIndex ? 0 : -1}\n                  onFocus={() => setFocusedAppIndex(index)}\n                  notificationCount={getUnreadCountForApp(app.id)}\n                  onAppOpen={handleAppOpen}\n                />\n              );\n            }\n          })}\n        </div>\n      </div>\n\n      {/* Bottom Safe Area for Dock */}\n      <div className=\"h-24\" />\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8080, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/IOSHome.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { LockScreen } from './LockScreen';\nimport { Desktop } from './Desktop';\nimport { HomeScreenProvider } from '@/context/HomeScreenContext';\nimport { GALLERY_IMAGES } from '@/lib/gallery-images';\n\nconst UNLOCK_KEY = 'openclaw_unlocked';\n\n// Preload images in the background\nfunction preloadImages(urls: string[]): Promise<void[]> {\n  return Promise.all(\n    urls.map(\n      (url) =>\n        new Promise<void>((resolve) => {\n          const img = new Image();\n          img.onload = () => resolve();\n          img.onerror = () => resolve(); // Don't block on errors\n          img.src = url;\n        })\n    )\n  );\n}\n\nfunction IOSHomeContent() {\n  const [isLocked, setIsLocked] = useState(true);\n  const [showDesktop, setShowDesktop] = useState(false);\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [backgroundReady, setBackgroundReady] = useState(false);\n\n  // Check sessionStorage on mount to restore unlock state\n  useEffect(() => {\n    const wasUnlocked = sessionStorage.getItem(UNLOCK_KEY) === 'true';\n    if (wasUnlocked) {\n      setIsLocked(false);\n      setShowDesktop(true);\n    }\n    setIsHydrated(true);\n\n    // Preload home screen backgrounds in parallel\n    const imagesToPreload = [\n      '/openclaw-logo.png',\n      ...GALLERY_IMAGES.slice(0, 3).map((img) => img.src),\n    ];\n    preloadImages(imagesToPreload);\n  }, []);\n\n  // Callback when 3D background is ready\n  const handleBackgroundReady = useCallback(() => {\n    setBackgroundReady(true);\n  }, []);\n\n  const handleUnlock = () => {\n    setIsLocked(false);\n    sessionStorage.setItem(UNLOCK_KEY, 'true');\n    // Small delay before showing desktop for smooth transition\n    setTimeout(() => {\n      setShowDesktop(true);\n    }, 100);\n  };\n\n  // Allow re-locking with Escape key (for demo purposes)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && !isLocked) {\n        setShowDesktop(false);\n        sessionStorage.removeItem(UNLOCK_KEY);\n        setTimeout(() => {\n          setIsLocked(true);\n          setBackgroundReady(false);\n        }, 300);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [isLocked]);\n\n  // Don't render until hydrated to avoid flash\n  if (!isHydrated) {\n    return (\n      <div className=\"min-h-screen bg-slate-950\">\n        {/* Show a dark background while hydrating - matches tunnel start */}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 overflow-hidden\">\n      <AnimatePresence mode=\"wait\">\n        {isLocked && (\n          <motion.div\n            key=\"lockscreen\"\n            exit={{\n              opacity: 0,\n              scale: 1.02,\n              filter: 'blur(20px)',\n              y: -30,\n            }}\n            transition={{\n              duration: 0.4,\n              ease: [0.23, 1, 0.32, 1],\n            }}\n          >\n            <LockScreen\n              onUnlock={handleUnlock}\n              onBackgroundReady={handleBackgroundReady}\n              backgroundReady={backgroundReady}\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <Desktop isVisible={showDesktop} />\n    </div>\n  );\n}\n\nexport function IOSHome() {\n  return (\n    <HomeScreenProvider>\n      <IOSHomeContent />\n    </HomeScreenProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,aAAa;AAEnB,mCAAmC;AACnC,SAAS,cAAc,IAAc;IACnC,OAAO,QAAQ,GAAG,CAChB,KAAK,GAAG,CACN,CAAC,MACC,IAAI,QAAc,CAAC;YACjB,MAAM,MAAM,IAAI;YAChB,IAAI,MAAM,GAAG,IAAM;YACnB,IAAI,OAAO,GAAG,IAAM,WAAW,wBAAwB;YACvD,IAAI,GAAG,GAAG;QACZ;AAGR;AAEA,SAAS;IACP,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0ZAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,0ZAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0ZAAQ,EAAC;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,0ZAAQ,EAAC;IAEvD,wDAAwD;IACxD,IAAA,2ZAAS,EAAC;QACR,MAAM,cAAc,eAAe,OAAO,CAAC,gBAAgB;QAC3D,IAAI,aAAa;YACf,YAAY;YACZ,eAAe;QACjB;QACA,cAAc;QAEd,8CAA8C;QAC9C,MAAM,kBAAkB;YACtB;eACG,iJAAc,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAQ,IAAI,GAAG;SACnD;QACD,cAAc;IAChB,GAAG,EAAE;IAEL,uCAAuC;IACvC,MAAM,wBAAwB,IAAA,6ZAAW,EAAC;QACxC,mBAAmB;IACrB,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,YAAY;QACZ,eAAe,OAAO,CAAC,YAAY;QACnC,2DAA2D;QAC3D,WAAW;YACT,eAAe;QACjB,GAAG;IACL;IAEA,uDAAuD;IACvD,IAAA,2ZAAS,EAAC;QACR,MAAM,gBAAgB,CAAC;YACrB,IAAI,EAAE,GAAG,KAAK,YAAY,CAAC,UAAU;gBACnC,eAAe;gBACf,eAAe,UAAU,CAAC;gBAC1B,WAAW;oBACT,YAAY;oBACZ,mBAAmB;gBACrB,GAAG;YACL;QACF;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;KAAS;IAEb,6CAA6C;IAC7C,IAAI,CAAC,YAAY;QACf,qBACE,ubAAC;YAAI,WAAU;;;;;;IAInB;IAEA,qBACE,ubAAC;QAAI,WAAU;;0BACb,ubAAC,wVAAe;gBAAC,MAAK;0BACnB,0BACC,ubAAC,gVAAM,CAAC,GAAG;oBAET,MAAM;wBACJ,SAAS;wBACT,OAAO;wBACP,QAAQ;wBACR,GAAG,CAAC;oBACN;oBACA,YAAY;wBACV,UAAU;wBACV,MAAM;4BAAC;4BAAM;4BAAG;4BAAM;yBAAE;oBAC1B;8BAEA,cAAA,ubAAC,qJAAU;wBACT,UAAU;wBACV,mBAAmB;wBACnB,iBAAiB;;;;;;mBAff;;;;;;;;;;0BAqBV,ubAAC,+IAAO;gBAAC,WAAW;;;;;;;;;;;;AAG1B;AAEO,SAAS;IACd,qBACE,ubAAC,0JAAkB;kBACjB,cAAA,ubAAC;;;;;;;;;;AAGP"}},
    {"offset": {"line": 8240, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/AppIcon.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\ninterface AppIconProps {\n  name: string;\n  href?: string;\n  icon?: React.ReactNode;\n  imageUrl?: string;\n  gradient: string;\n  delay?: number;\n  external?: boolean;\n  onClick?: () => void;\n}\n\n// Store transition origin for page animations\nexport const APP_TRANSITION_KEY = 'openclaw_appTransition';\n\nexport function AppIcon({ name, href, icon, imageUrl, gradient, delay = 0, external, onClick }: AppIconProps) {\n  const iconRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.preventDefault();\n\n    // Custom onClick handler (e.g., for Claw AI chat)\n    if (onClick) {\n      onClick();\n      return;\n    }\n\n    // External links open in new tab\n    if (external && href) {\n      window.open(href, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Internal navigation with transition\n    if (href) {\n      if (iconRef.current) {\n        const rect = iconRef.current.getBoundingClientRect();\n        const transitionData = {\n          x: rect.left + rect.width / 2,\n          y: rect.top + rect.height / 2,\n          width: rect.width,\n          height: rect.height,\n          gradient,\n          timestamp: Date.now(),\n        };\n        sessionStorage.setItem(APP_TRANSITION_KEY, JSON.stringify(transitionData));\n      }\n      router.push(href);\n    }\n  }, [href, gradient, router, external, onClick]);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.5, y: 20 }}\n      animate={{ opacity: 1, scale: 1, y: 0 }}\n      transition={{\n        delay,\n        type: 'spring',\n        stiffness: 300,\n        damping: 20,\n      }}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      className=\"flex flex-col items-center gap-2\"\n    >\n      <div\n        ref={iconRef}\n        onClick={handleClick}\n        className=\"block cursor-pointer\"\n      >\n        <div\n          className=\"w-16 h-16 sm:w-[72px] sm:h-[72px] rounded-[18px] sm:rounded-[20px] flex items-center justify-center shadow-lg relative overflow-hidden\"\n          style={{ background: imageUrl ? 'transparent' : gradient }}\n        >\n          {imageUrl ? (\n            /* Custom image icon */\n            <img\n              src={imageUrl}\n              alt={name}\n              className=\"w-full h-full object-cover\"\n            />\n          ) : (\n            <>\n              {/* Glass overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/25 via-transparent to-transparent\" />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent\" />\n\n              {/* Icon */}\n              <div className=\"relative z-10 text-white\">\n                {icon}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <span className=\"text-white/90 text-xs font-medium text-center max-w-[72px] truncate\">\n        {name}\n      </span>\n    </motion.div>\n  );\n}\n\n// Custom SVG Icons with iOS-style aesthetics\nexport const AppIcons = {\n  // Story icon - open book\n  Story: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M6 8C6 6.89543 6.89543 6 8 6H14C15.1046 6 16 6.89543 16 8V26C16 26 14 24 10 24C6 24 6 26 6 26V8Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <path\n        d=\"M26 8C26 6.89543 25.1046 6 24 6H18C16.8954 6 16 6.89543 16 8V26C16 26 18 24 22 24C26 24 26 26 26 26V8Z\"\n        fill=\"white\"\n        fillOpacity=\"0.7\"\n      />\n      <path d=\"M9 11H13M9 15H13M9 19H11\" stroke=\"currentColor\" strokeOpacity=\"0.3\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n      <path d=\"M19 11H23M19 15H23M21 19H23\" stroke=\"currentColor\" strokeOpacity=\"0.3\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Design icon - palette/brush\n  Design: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"16\" cy=\"16\" r=\"11\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"12\" cy=\"11\" r=\"2.5\" fill=\"#FF6B6B\" />\n      <circle cx=\"20\" cy=\"11\" r=\"2.5\" fill=\"#4ECDC4\" />\n      <circle cx=\"11\" cy=\"18\" r=\"2.5\" fill=\"#45B7D1\" />\n      <circle cx=\"19\" cy=\"19\" r=\"2.5\" fill=\"#96CEB4\" />\n      <circle cx=\"16\" cy=\"16\" r=\"3\" fill=\"white\" />\n    </svg>\n  ),\n\n  // Resume icon - document with person\n  Resume: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"7\" y=\"4\" width=\"18\" height=\"24\" rx=\"2\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"16\" cy=\"12\" r=\"4\" fill=\"currentColor\" fillOpacity=\"0.2\" />\n      <path\n        d=\"M10 24C10 20.6863 12.6863 18 16 18C19.3137 18 22 20.6863 22 24\"\n        stroke=\"currentColor\"\n        strokeOpacity=\"0.2\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  ),\n\n  // Music icon - note with waves\n  Music: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"11\" cy=\"22\" r=\"4\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"23\" cy=\"19\" r=\"4\" fill=\"white\" fillOpacity=\"0.7\" />\n      <path d=\"M15 22V8L27 5V19\" stroke=\"white\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n      <path d=\"M5 12C7 10 9 10 11 12\" stroke=\"white\" strokeOpacity=\"0.5\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n      <path d=\"M3 16C6 13 8 13 11 16\" stroke=\"white\" strokeOpacity=\"0.3\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Jamz Studio icon - DAW waveform with mixing board aesthetic\n  Jamz: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* Main waveform bars */}\n      <rect x=\"4\" y=\"14\" width=\"3\" height=\"8\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.9\" />\n      <rect x=\"9\" y=\"10\" width=\"3\" height=\"16\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.85\" />\n      <rect x=\"14\" y=\"6\" width=\"3\" height=\"24\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.95\" />\n      <rect x=\"19\" y=\"11\" width=\"3\" height=\"14\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.8\" />\n      <rect x=\"24\" y=\"13\" width=\"3\" height=\"10\" rx=\"1.5\" fill=\"white\" fillOpacity=\"0.9\" />\n      {/* Mixing knob accents */}\n      <circle cx=\"7\" cy=\"26\" r=\"2\" fill=\"white\" fillOpacity=\"0.6\" />\n      <circle cx=\"16\" cy=\"26\" r=\"2\" fill=\"white\" fillOpacity=\"0.6\" />\n      <circle cx=\"25\" cy=\"26\" r=\"2\" fill=\"white\" fillOpacity=\"0.6\" />\n      {/* Top accent line */}\n      <path d=\"M4 4H28\" stroke=\"white\" strokeOpacity=\"0.4\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Vault icon - lock with shield\n  Vault: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M16 4L6 8V14C6 21.732 10.268 27.268 16 28C21.732 27.268 26 21.732 26 14V8L16 4Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <rect x=\"12\" y=\"14\" width=\"8\" height=\"8\" rx=\"1\" fill=\"currentColor\" fillOpacity=\"0.25\" />\n      <path d=\"M14 14V12C14 10.8954 14.8954 10 16 10C17.1046 10 18 10.8954 18 12V14\" stroke=\"currentColor\" strokeOpacity=\"0.3\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <circle cx=\"16\" cy=\"18\" r=\"1\" fill=\"currentColor\" fillOpacity=\"0.4\" />\n    </svg>\n  ),\n\n  // Blog icon - pencil with lines\n  Blog: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"6\" y=\"6\" width=\"20\" height=\"20\" rx=\"3\" fill=\"white\" fillOpacity=\"0.9\" />\n      <path d=\"M10 12H22\" stroke=\"currentColor\" strokeOpacity=\"0.2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path d=\"M10 16H22\" stroke=\"currentColor\" strokeOpacity=\"0.2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path d=\"M10 20H17\" stroke=\"currentColor\" strokeOpacity=\"0.2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path\n        d=\"M20 17L24 13L27 16L23 20L20 21L20 17Z\"\n        fill=\"#FFB347\"\n        stroke=\"#FFB347\"\n        strokeWidth=\"0.5\"\n      />\n    </svg>\n  ),\n\n  // Lab icon - beaker with bubbles\n  Lab: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M12 6H20V12L26 26H6L12 12V6Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <path d=\"M12 6H20\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n      <path\n        d=\"M9 20H23L26 26H6L9 20Z\"\n        fill=\"#A78BFA\"\n        fillOpacity=\"0.5\"\n      />\n      <circle cx=\"12\" cy=\"22\" r=\"1.5\" fill=\"white\" fillOpacity=\"0.8\" />\n      <circle cx=\"16\" cy=\"23\" r=\"1\" fill=\"white\" fillOpacity=\"0.6\" />\n      <circle cx=\"19\" cy=\"21\" r=\"1.5\" fill=\"white\" fillOpacity=\"0.7\" />\n    </svg>\n  ),\n\n  // Settings icon - gear\n  Settings: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M16 6L18.5 8.5L22 8L24 12L22 14.5V17.5L24 20L22 24L18.5 23.5L16 26L13.5 23.5L10 24L8 20L10 17.5V14.5L8 12L10 8L13.5 8.5L16 6Z\"\n        fill=\"white\"\n        fillOpacity=\"0.9\"\n      />\n      <circle cx=\"16\" cy=\"16\" r=\"4\" fill=\"currentColor\" fillOpacity=\"0.2\" />\n    </svg>\n  ),\n\n  // Humans icon - people silhouettes for people search\n  Humans: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* Main person in center */}\n      <circle cx=\"16\" cy=\"10\" r=\"4\" fill=\"white\" fillOpacity=\"0.95\" />\n      <path\n        d=\"M10 24C10 20.134 12.686 17 16 17C19.314 17 22 20.134 22 24\"\n        stroke=\"white\"\n        strokeOpacity=\"0.95\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n      />\n      {/* Person on left */}\n      <circle cx=\"7\" cy=\"12\" r=\"2.5\" fill=\"white\" fillOpacity=\"0.6\" />\n      <path\n        d=\"M3 22C3 19.5 4.8 17.5 7 17.5C9.2 17.5 11 19.5 11 22\"\n        stroke=\"white\"\n        strokeOpacity=\"0.5\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      {/* Person on right */}\n      <circle cx=\"25\" cy=\"12\" r=\"2.5\" fill=\"white\" fillOpacity=\"0.6\" />\n      <path\n        d=\"M21 22C21 19.5 22.8 17.5 25 17.5C27.2 17.5 29 19.5 29 22\"\n        stroke=\"white\"\n        strokeOpacity=\"0.5\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      {/* Search magnifier accent */}\n      <circle cx=\"24\" cy=\"8\" r=\"3\" stroke=\"white\" strokeOpacity=\"0.8\" strokeWidth=\"1.5\" fill=\"none\" />\n      <path d=\"M26.5 10.5L28.5 12.5\" stroke=\"white\" strokeOpacity=\"0.8\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n  ),\n\n  // Canvas icon - infinite canvas with shapes and grid\n  Canvas: () => (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* Grid background suggesting infinite canvas */}\n      <rect x=\"4\" y=\"4\" width=\"24\" height=\"24\" rx=\"3\" fill=\"white\" fillOpacity=\"0.15\" />\n      {/* Grid lines */}\n      <path d=\"M10 4V28M16 4V28M22 4V28\" stroke=\"white\" strokeOpacity=\"0.2\" strokeWidth=\"0.5\" />\n      <path d=\"M4 10H28M4 16H28M4 22H28\" stroke=\"white\" strokeOpacity=\"0.2\" strokeWidth=\"0.5\" />\n      {/* Creative shapes on canvas */}\n      <rect x=\"7\" y=\"7\" width=\"6\" height=\"6\" rx=\"1\" fill=\"white\" fillOpacity=\"0.9\" />\n      <circle cx=\"22\" cy=\"10\" r=\"4\" fill=\"white\" fillOpacity=\"0.8\" />\n      <path d=\"M8 19L12 25H4L8 19Z\" fill=\"white\" fillOpacity=\"0.85\" />\n      {/* Connection line suggesting flow */}\n      <path d=\"M13 10H18\" stroke=\"white\" strokeOpacity=\"0.6\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeDasharray=\"2 2\" />\n      <path d=\"M12 22L18 15\" stroke=\"white\" strokeOpacity=\"0.6\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeDasharray=\"2 2\" />\n      {/* Sticky note / text block */}\n      <rect x=\"17\" y=\"17\" width=\"9\" height=\"7\" rx=\"1\" fill=\"white\" fillOpacity=\"0.9\" />\n      <path d=\"M19 20H24M19 23H22\" stroke=\"currentColor\" strokeOpacity=\"0.25\" strokeWidth=\"1\" strokeLinecap=\"round\" />\n      {/* Pencil cursor accent */}\n      <path d=\"M25 5L27 7L24 10L22 8L25 5Z\" fill=\"#FFB347\" />\n    </svg>\n  ),\n};\n\n// Gradient presets for icons - uses theme variables where appropriate\nexport const AppGradients = {\n  story: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n  design: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n  resume: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n  music: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n  // Jamz uses theme gradient for consistency\n  jamz: 'linear-gradient(135deg, hsl(var(--theme-primary, 262 83% 58%)) 0%, hsl(var(--theme-accent, 187 94% 43%)) 100%)',\n  vault: 'linear-gradient(135deg, #30cfd0 0%, #330867 100%)',\n  blog: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',\n  lab: 'linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)',\n  // Settings uses theme gradient\n  settings: 'linear-gradient(135deg, hsl(var(--theme-primary, 262 83% 58%)) 0%, hsl(var(--theme-accent, 187 94% 43%)) 100%)',\n  claude: 'linear-gradient(135deg, #D97757 0%, #B8523A 100%)',\n  chatgpt: 'linear-gradient(135deg, #74AA9C 0%, #5A9086 100%)',\n  humans: 'linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)',\n  // Canvas - purple to cyan for creative/infinite feel\n  canvas: 'linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%)',\n};\n\n// Custom image URLs for app icons\nexport const AppImages = {\n  story: '/storyapp.svg',\n  design: '/designapp.svg',\n  resume: '/resumeapp.svg',\n  music: '/musicapp.svg',\n  vault: '/vaultapp.svg',\n  blog: '/blogapp.svg',\n  claude: '/claudeapp.svg',\n  chatgpt: '/chatgptapp.svg',\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9276, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/PageTransition.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, ReactNode, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { APP_TRANSITION_KEY } from './AppIcon';\nimport { springs, motionConfig } from '@/components/motion/config';\n\ninterface PageTransitionProps {\n  children: ReactNode;\n}\n\ninterface TransitionData {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  gradient: string;\n  timestamp: number;\n}\n\nexport function PageTransition({ children }: PageTransitionProps) {\n  const [transitionData, setTransitionData] = useState<TransitionData | null>(null);\n  const [showContent, setShowContent] = useState(false);\n  const [isHydrated, setIsHydrated] = useState(false);\n  // Store window dimensions safely in state to avoid SSR issues\n  const [windowDimensions, setWindowDimensions] = useState({ width: 1920, height: 1080 });\n\n  useEffect(() => {\n    // Safely capture window dimensions on client\n    setWindowDimensions({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n\n    // Check for stored transition data\n    const stored = sessionStorage.getItem(APP_TRANSITION_KEY);\n    if (stored) {\n      try {\n        const data = JSON.parse(stored) as TransitionData;\n        // Only use if recent (within last 2 seconds)\n        if (Date.now() - data.timestamp < 2000) {\n          setTransitionData(data);\n          // Clear it so it doesn't replay on refresh\n          sessionStorage.removeItem(APP_TRANSITION_KEY);\n        }\n      } catch (e) {\n        // Invalid data, ignore\n      }\n    }\n    setIsHydrated(true);\n\n    // Show content after a brief delay for animation\n    const timer = setTimeout(() => {\n      setShowContent(true);\n    }, 50);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Compute animation scale safely using state values\n  const animationScale = useMemo(() => {\n    if (!transitionData || transitionData.width === 0) return 50;\n    return Math.max(windowDimensions.width, windowDimensions.height) / transitionData.width * 2.5;\n  }, [transitionData, windowDimensions]);\n\n  if (!isHydrated) {\n    return null;\n  }\n\n  // If we have transition data, animate from the icon position\n  if (transitionData) {\n    return (\n      <>\n        {/* Expanding circle animation */}\n        <motion.div\n          className=\"fixed inset-0 z-50 pointer-events-none\"\n          initial={{ opacity: 1 }}\n          animate={{ opacity: 0 }}\n          transition={{ duration: motionConfig.duration.normal, delay: 0.3 }}\n        >\n          <motion.div\n            className=\"absolute rounded-[20px]\"\n            style={{\n              background: transitionData.gradient,\n              left: transitionData.x - transitionData.width / 2,\n              top: transitionData.y - transitionData.height / 2,\n              width: transitionData.width,\n              height: transitionData.height,\n            }}\n            initial={{\n              scale: 1,\n              borderRadius: '20px',\n            }}\n            animate={{\n              scale: animationScale,\n              borderRadius: '0px',\n            }}\n            transition={{\n              duration: motionConfig.duration.slow,\n              ease: motionConfig.ease.smooth,\n            }}\n          />\n        </motion.div>\n\n        {/* Page content */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{\n            ...springs.smooth,\n            delay: 0.15,\n          }}\n        >\n          {children}\n        </motion.div>\n      </>\n    );\n  }\n\n  // No transition data, just fade in\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={springs.smooth}\n    >\n      {children}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAoBO,SAAS,eAAe,EAAE,QAAQ,EAAuB;IAC9D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,0ZAAQ,EAAwB;IAC5E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,0ZAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0ZAAQ,EAAC;IAC7C,8DAA8D;IAC9D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,0ZAAQ,EAAC;QAAE,OAAO;QAAM,QAAQ;IAAK;IAErF,IAAA,2ZAAS,EAAC;QACR,6CAA6C;QAC7C,oBAAoB;YAClB,OAAO,OAAO,UAAU;YACxB,QAAQ,OAAO,WAAW;QAC5B;QAEA,mCAAmC;QACnC,MAAM,SAAS,eAAe,OAAO,CAAC,0JAAkB;QACxD,IAAI,QAAQ;YACV,IAAI;gBACF,MAAM,OAAO,KAAK,KAAK,CAAC;gBACxB,6CAA6C;gBAC7C,IAAI,KAAK,GAAG,KAAK,KAAK,SAAS,GAAG,MAAM;oBACtC,kBAAkB;oBAClB,2CAA2C;oBAC3C,eAAe,UAAU,CAAC,0JAAkB;gBAC9C;YACF,EAAE,OAAO,GAAG;YACV,uBAAuB;YACzB;QACF;QACA,cAAc;QAEd,iDAAiD;QACjD,MAAM,QAAQ,WAAW;YACvB,eAAe;QACjB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG,EAAE;IAEL,oDAAoD;IACpD,MAAM,iBAAiB,IAAA,yZAAO,EAAC;QAC7B,IAAI,CAAC,kBAAkB,eAAe,KAAK,KAAK,GAAG,OAAO;QAC1D,OAAO,KAAK,GAAG,CAAC,iBAAiB,KAAK,EAAE,iBAAiB,MAAM,IAAI,eAAe,KAAK,GAAG;IAC5F,GAAG;QAAC;QAAgB;KAAiB;IAErC,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,6DAA6D;IAC7D,IAAI,gBAAgB;QAClB,qBACE;;8BAEE,ubAAC,gVAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,YAAY;wBAAE,UAAU,qJAAY,CAAC,QAAQ,CAAC,MAAM;wBAAE,OAAO;oBAAI;8BAEjE,cAAA,ubAAC,gVAAM,CAAC,GAAG;wBACT,WAAU;wBACV,OAAO;4BACL,YAAY,eAAe,QAAQ;4BACnC,MAAM,eAAe,CAAC,GAAG,eAAe,KAAK,GAAG;4BAChD,KAAK,eAAe,CAAC,GAAG,eAAe,MAAM,GAAG;4BAChD,OAAO,eAAe,KAAK;4BAC3B,QAAQ,eAAe,MAAM;wBAC/B;wBACA,SAAS;4BACP,OAAO;4BACP,cAAc;wBAChB;wBACA,SAAS;4BACP,OAAO;4BACP,cAAc;wBAChB;wBACA,YAAY;4BACV,UAAU,qJAAY,CAAC,QAAQ,CAAC,IAAI;4BACpC,MAAM,qJAAY,CAAC,IAAI,CAAC,MAAM;wBAChC;;;;;;;;;;;8BAKJ,ubAAC,gVAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAK;oBACnC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBACV,GAAG,gJAAO,CAAC,MAAM;wBACjB,OAAO;oBACT;8BAEC;;;;;;;;IAIT;IAEA,mCAAmC;IACnC,qBACE,ubAAC,gVAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY,gJAAO,CAAC,MAAM;kBAEzB;;;;;;AAGP"}},
    {"offset": {"line": 9430, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/PageTransitionWrapper.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { PageTransition } from './PageTransition';\n\ninterface PageTransitionWrapperProps {\n  children: ReactNode;\n}\n\nexport function PageTransitionWrapper({ children }: PageTransitionWrapperProps) {\n  return <PageTransition>{children}</PageTransition>;\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,SAAS,sBAAsB,EAAE,QAAQ,EAA8B;IAC5E,qBAAO,ubAAC,6JAAc;kBAAE;;;;;;AAC1B"}},
    {"offset": {"line": 9452, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/index.ts"],"sourcesContent":["export { IOSHome } from './IOSHome';\nexport { LockScreen } from './LockScreen';\nexport { Desktop } from './Desktop';\nexport { AppIcon, AppIcons, AppGradients, AppImages, APP_TRANSITION_KEY } from './AppIcon';\nexport { PageTransition } from './PageTransition';\nexport { PageTransitionWrapper } from './PageTransitionWrapper';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 9469, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/design/DesignNavigation.tsx"],"sourcesContent":["'use client';\n\nimport { motion } from 'framer-motion';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { ArrowLeft, Palette, Code2, Sparkles } from 'lucide-react';\n\ntype Tab = 'themes' | 'components' | 'templates';\n\ninterface DesignNavigationProps {\n  /** Optional additional content on the right side */\n  rightContent?: React.ReactNode;\n}\n\nconst TABS: { id: Tab; label: string; href: string; icon: React.ComponentType<{ className?: string }> }[] = [\n  { id: 'themes', label: 'Themes', href: '/design', icon: Palette },\n  // Hidden for now - still being refined\n  // { id: 'components', label: 'Components', href: '/design/components', icon: Code2 },\n  // { id: 'templates', label: 'Templates', href: '/design/library', icon: Sparkles },\n];\n\nexport function DesignNavigation({ rightContent }: DesignNavigationProps) {\n  const pathname = usePathname();\n\n  // Determine active tab based on pathname\n  const getActiveTab = (): Tab => {\n    if (pathname === '/design/components') return 'components';\n    if (pathname === '/design/library') return 'templates';\n    return 'themes';\n  };\n\n  const activeTab = getActiveTab();\n\n  return (\n    <>\n      <motion.header\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.4, ease: [0.25, 0.46, 0.45, 0.94] }}\n        className=\"fixed top-0 left-0 right-0 z-50 backdrop-blur-md border-b\"\n        style={{\n          borderColor: 'hsl(var(--theme-border))',\n          backgroundColor: 'hsla(var(--theme-background) / 0.9)',\n        }}\n      >\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 h-14 flex items-center justify-between gap-4\">\n          {/* Left: Back to home */}\n          <motion.div\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.1, duration: 0.3 }}\n            className=\"flex-shrink-0\"\n          >\n            <Link\n              href=\"/\"\n              className=\"flex items-center gap-2 transition-all hover:opacity-70\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              <span className=\"text-sm font-medium hidden sm:inline\">Back</span>\n            </Link>\n          </motion.div>\n\n          {/* Center: Tab Navigation */}\n          <motion.nav\n            initial={{ opacity: 0, y: -5 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.15, duration: 0.3 }}\n            className=\"flex items-center\"\n          >\n            <div\n              className=\"flex items-center gap-1 p-1 rounded-lg\"\n              style={{ backgroundColor: 'hsl(var(--theme-muted) / 0.5)' }}\n            >\n              {TABS.map((tab) => {\n                const Icon = tab.icon;\n                const isActive = activeTab === tab.id;\n\n                return (\n                  <Link\n                    key={tab.id}\n                    href={tab.href}\n                    className=\"relative flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all\"\n                    style={{\n                      color: isActive\n                        ? 'hsl(var(--theme-foreground))'\n                        : 'hsl(var(--theme-muted-foreground))',\n                    }}\n                  >\n                    {isActive && (\n                      <motion.div\n                        layoutId=\"activeTab\"\n                        className=\"absolute inset-0 rounded-md\"\n                        style={{ backgroundColor: 'hsl(var(--theme-background))' }}\n                        transition={{ type: 'spring', bounce: 0.15, duration: 0.5 }}\n                      />\n                    )}\n                    <Icon className=\"w-4 h-4 relative z-10\" />\n                    <span className=\"relative z-10 hidden sm:inline\">{tab.label}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          </motion.nav>\n\n          {/* Right: Optional content */}\n          <motion.div\n            initial={{ opacity: 0, x: 10 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.2, duration: 0.3 }}\n            className=\"flex-shrink-0 min-w-[60px] flex justify-end\"\n          >\n            {rightContent}\n          </motion.div>\n        </div>\n      </motion.header>\n\n      {/* Spacer for fixed header */}\n      <div className=\"h-14\" />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AALA;;;;;;AAcA,MAAM,OAAsG;IAC1G;QAAE,IAAI;QAAU,OAAO;QAAU,MAAM;QAAW,MAAM,uSAAO;IAAC;CAIjE;AAEM,SAAS,iBAAiB,EAAE,YAAY,EAAyB;IACtE,MAAM,WAAW,IAAA,0VAAW;IAE5B,yCAAyC;IACzC,MAAM,eAAe;QACnB,IAAI,aAAa,sBAAsB,OAAO;QAC9C,IAAI,aAAa,mBAAmB,OAAO;QAC3C,OAAO;IACT;IAEA,MAAM,YAAY;IAElB,qBACE;;0BACE,ubAAC,gVAAM,CAAC,MAAM;gBACZ,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;oBAAK,MAAM;wBAAC;wBAAM;wBAAM;wBAAM;qBAAK;gBAAC;gBAC5D,WAAU;gBACV,OAAO;oBACL,aAAa;oBACb,iBAAiB;gBACnB;0BAEA,cAAA,ubAAC;oBAAI,WAAU;;sCAEb,ubAAC,gVAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BAC9B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,OAAO;gCAAK,UAAU;4BAAI;4BACxC,WAAU;sCAEV,cAAA,ubAAC,gXAAI;gCACH,MAAK;gCACL,WAAU;gCACV,OAAO;oCAAE,OAAO;gCAAqC;;kDAErD,ubAAC,iTAAS;wCAAC,WAAU;;;;;;kDACrB,ubAAC;wCAAK,WAAU;kDAAuC;;;;;;;;;;;;;;;;;sCAK3D,ubAAC,gVAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,SAAS;gCAAG,GAAG,CAAC;4BAAE;4BAC7B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,OAAO;gCAAM,UAAU;4BAAI;4BACzC,WAAU;sCAEV,cAAA,ubAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,iBAAiB;gCAAgC;0CAEzD,KAAK,GAAG,CAAC,CAAC;oCACT,MAAM,OAAO,IAAI,IAAI;oCACrB,MAAM,WAAW,cAAc,IAAI,EAAE;oCAErC,qBACE,ubAAC,gXAAI;wCAEH,MAAM,IAAI,IAAI;wCACd,WAAU;wCACV,OAAO;4CACL,OAAO,WACH,iCACA;wCACN;;4CAEC,0BACC,ubAAC,gVAAM,CAAC,GAAG;gDACT,UAAS;gDACT,WAAU;gDACV,OAAO;oDAAE,iBAAiB;gDAA+B;gDACzD,YAAY;oDAAE,MAAM;oDAAU,QAAQ;oDAAM,UAAU;gDAAI;;;;;;0DAG9D,ubAAC;gDAAK,WAAU;;;;;;0DAChB,ubAAC;gDAAK,WAAU;0DAAkC,IAAI,KAAK;;;;;;;uCAlBtD,IAAI,EAAE;;;;;gCAqBjB;;;;;;;;;;;sCAKJ,ubAAC,gVAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAG;4BAC7B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,OAAO;gCAAK,UAAU;4BAAI;4BACxC,WAAU;sCAET;;;;;;;;;;;;;;;;;0BAMP,ubAAC;gBAAI,WAAU;;;;;;;;AAGrB"}},
    {"offset": {"line": 9699, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/app/design/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { Copy, CheckCircle2, Check, X, ExternalLink, Palette, Sparkles, Search } from 'lucide-react';\nimport { useTheme } from 'next-themes';\nimport { themes, ThemeName } from '@/lib/themes';\nimport { useDesignTheme } from '@/context/DesignThemeContext';\nimport '@/lib/themes/themes.css';\nimport {\n  TextEffect,\n  AnimatedGroup,\n  FadeIn,\n  FadeInUp,\n  FadeInBlur\n} from '@/components/motion';\nimport { PageTransition } from '@/components/ios';\nimport { DesignNavigation } from '@/components/design/DesignNavigation';\n\ninterface ThemeCardContent {\n  headline: string;\n  subhead: string;\n  stat?: string;\n  statLabel?: string;\n  tagline?: string;\n  category?: string;\n}\n\n// Generate comprehensive design system prompt\nfunction generateThemePrompt(themeName: ThemeName, themeLabel: string): string {\n  const content = themeContent[themeName];\n  const fontName = themeFonts[themeName];\n\n  return `Design System: ${themeLabel}\n\nApply this complete design system to your interface. All color values are in HSL format.\n\nTHEME IDENTIFIER:\n  data-attribute: data-design-theme=\"${themeName}\"\n\nCOLOR TOKENS:\n  Background: --theme-background\n  Foreground: --theme-foreground\n  Card: --theme-card, --theme-card-foreground\n  Primary: --theme-primary, --theme-primary-foreground\n  Secondary: --theme-secondary, --theme-secondary-foreground\n  Muted: --theme-muted, --theme-muted-foreground\n  Accent: --theme-accent, --theme-accent-foreground\n  Border: --theme-border\n  Ring: --theme-ring\n\nTYPOGRAPHY:\n  Body Font: ${fontName} (--theme-font)\n  Heading Font: --theme-font-heading\n\nDESIGN PRINCIPLES:\n  ${content.tagline || 'Maintain visual consistency across all components'}\n\nUsage: hsl(var(--theme-[token]))\nDark mode: Add .dark class to parent element`;\n}\n\n// Map theme names to their primary font names\nconst themeFonts: Record<ThemeName, string> = {\n  'utilitarian': 'SF Mono',\n  'base': 'Inter',\n  'claude': 'SÃ¶hne',\n  'chatgpt': 'SÃ¶hne',\n  'vercel': 'Geist',\n  'kodama-grove': 'Nunito',\n  'vintage-paper': 'Courier Prime',\n  'claymorphism': 'Poppins',\n  'nature': 'Lora',\n  'neo-brutalism': 'Space Grotesk',\n  'elegant-luxury': 'Cormorant Garamond',\n  'pastel-dreams': 'Quicksand',\n  'cosmic-night': 'Orbitron',\n  'clean-slate': 'DM Sans',\n  'caffeine': 'Libre Baskerville',\n  'ocean-breeze': 'Source Sans Pro',\n  'perpetuity': 'EB Garamond',\n  'midnight-bloom': 'Crimson Text',\n  'northern-lights': 'Outfit',\n  'sunset-horizon': 'Rubik',\n  'modern-minimal': 'Manrope',\n  'candyland': 'Baloo 2',\n  'cyberpunk': 'Share Tech Mono',\n  'retro-arcade': 'Press Start 2P',\n  'quantum-rose': 'Raleway',\n  'bold-tech': 'JetBrains Mono',\n  'violet-bloom': 'Plus Jakarta Sans',\n  't3-chat': 'System UI',\n  'mocha-mousse': 'DM Sans',\n  'amethyst-haze': 'Geist',\n  'doom-64': 'Oxanium',\n  'amber-minimal': 'Inter',\n  'solar-dusk': 'Oxanium',\n  'starry-night': 'Libre Baskerville',\n  'soft-pop': 'DM Sans',\n  'sage-garden': 'Antic',\n  'notebook': 'Courier Prime',\n  'tao': 'Crimson Text',\n  'research': 'Crimson Pro',\n  'field-guide': 'DM Sans',\n  'denim': 'DM Sans',\n  'google': 'Google Sans',\n  'apple': 'SF Pro',\n  'microsoft': 'Segoe UI',\n  'notion': 'Inter',\n  'cursor': 'JetBrains Mono',\n  'miro': 'Inter',\n  'nike': 'Helvetica Neue',\n  'adidas': 'Helvetica Neue',\n  'kinetic-editorial': 'Space Grotesk',\n  'teenage-engineering': 'SF Mono',\n};\n\nconst themeContent: Record<ThemeName, ThemeCardContent> = {\n  'utilitarian': {\n    headline: 'Function Over Form',\n    subhead: 'Every element earns its place',\n    stat: '01',\n    statLabel: 'PRINCIPLE',\n    category: 'DESIGN SYSTEM',\n    tagline: 'Less, but better',\n  },\n  'base': {\n    headline: 'The Foundation',\n    subhead: 'Where every journey begins',\n    stat: 'âˆž',\n    statLabel: 'POSSIBILITIES',\n    category: 'DEFAULTS',\n    tagline: 'Built to extend',\n  },\n  'claude': {\n    headline: 'Warm Intelligence',\n    subhead: 'AI with humanity at its core',\n    stat: '24Â°',\n    statLabel: 'TERRACOTTA',\n    category: 'ANTHROPIC',\n    tagline: 'Thoughtful by design',\n  },\n  'chatgpt': {\n    headline: 'Invisible Complexity',\n    subhead: 'Power hidden in simplicity',\n    stat: '4o',\n    statLabel: 'MODEL',\n    category: 'OPENAI',\n    tagline: 'Just works',\n  },\n  'vercel': {\n    headline: 'Ship It',\n    subhead: 'Developer experience, perfected',\n    stat: 'â–²',\n    statLabel: 'DEPLOY',\n    category: 'INFRASTRUCTURE',\n    tagline: 'Zero config',\n  },\n  'kodama-grove': {\n    headline: 'Forest Spirits',\n    subhead: 'Where technology meets nature',\n    stat: 'æœ¨',\n    statLabel: 'TREE',\n    category: 'GHIBLI',\n    tagline: 'Whispers of the forest',\n  },\n  'vintage-paper': {\n    headline: 'Old Newsprint',\n    subhead: 'Stories told in sepia',\n    stat: '1923',\n    statLabel: 'EDITION',\n    category: 'VINTAGE',\n    tagline: 'Extra! Extra!',\n  },\n  'claymorphism': {\n    headline: 'Soft Surfaces',\n    subhead: 'Depth through light and shadow',\n    stat: '3D',\n    statLabel: 'STYLE',\n    category: 'MATERIAL',\n    tagline: 'Touch the interface',\n  },\n  'nature': {\n    headline: 'Organic Growth',\n    subhead: 'Rooted in natural forms',\n    stat: 'ðŸŒ±',\n    statLabel: 'LIFE',\n    category: 'BIOPHILIC',\n    tagline: 'Grow with purpose',\n  },\n  'neo-brutalism': {\n    headline: 'Raw Power',\n    subhead: 'Bold strokes, no apologies',\n    stat: '!!',\n    statLabel: 'IMPACT',\n    category: 'BOLD',\n    tagline: 'Make it loud',\n  },\n  'elegant-luxury': {\n    headline: 'Refined Taste',\n    subhead: 'Where excellence is standard',\n    stat: 'â˜…â˜…â˜…â˜…â˜…',\n    statLabel: 'RATING',\n    category: 'PREMIUM',\n    tagline: 'Only the finest',\n  },\n  'pastel-dreams': {\n    headline: 'Soft Whispers',\n    subhead: 'Gentle hues for gentle souls',\n    stat: 'â˜ï¸',\n    statLabel: 'CLOUDS',\n    category: 'DREAMY',\n    tagline: 'Float away',\n  },\n  'cosmic-night': {\n    headline: 'Infinite Space',\n    subhead: 'Among the stars',\n    stat: 'âˆž',\n    statLabel: 'LIGHT YEARS',\n    category: 'SPACE',\n    tagline: 'Beyond horizons',\n  },\n  'clean-slate': {\n    headline: 'Fresh Start',\n    subhead: 'Minimal by intention',\n    stat: '0',\n    statLabel: 'DISTRACTIONS',\n    category: 'MINIMAL',\n    tagline: 'Start fresh',\n  },\n  'caffeine': {\n    headline: 'Morning Ritual',\n    subhead: 'Warm tones, familiar comfort',\n    stat: 'â˜•',\n    statLabel: 'BREW',\n    category: 'COZY',\n    tagline: 'Daily grind',\n  },\n  'ocean-breeze': {\n    headline: 'Coastal Calm',\n    subhead: 'Where sky meets sea',\n    stat: 'ðŸŒŠ',\n    statLabel: 'WAVES',\n    category: 'MARINE',\n    tagline: 'Breathe deep',\n  },\n  'perpetuity': {\n    headline: 'Timeless Grace',\n    subhead: 'Classic never fades',\n    stat: 'âˆž',\n    statLabel: 'ETERNAL',\n    category: 'CLASSIC',\n    tagline: 'Forever elegant',\n  },\n  'midnight-bloom': {\n    headline: 'Night Garden',\n    subhead: 'Flowers that bloom in darkness',\n    stat: 'ðŸŒ™',\n    statLabel: 'MIDNIGHT',\n    category: 'DARK',\n    tagline: 'Beauty in shadows',\n  },\n  'northern-lights': {\n    headline: 'Aurora',\n    subhead: 'Dancing light in frozen skies',\n    stat: 'âœ¨',\n    statLabel: 'MAGIC',\n    category: 'ETHEREAL',\n    tagline: 'Nature\\'s wonder',\n  },\n  'sunset-horizon': {\n    headline: 'Golden Hour',\n    subhead: 'Chasing the dying light',\n    stat: 'ðŸŒ…',\n    statLabel: 'SUNSET',\n    category: 'WARM',\n    tagline: 'Every ending is beautiful',\n  },\n  'modern-minimal': {\n    headline: 'Less Is More',\n    subhead: 'Reduction to essence',\n    stat: '-',\n    statLabel: 'MINUS',\n    category: 'MODERN',\n    tagline: 'Subtract to add',\n  },\n  'candyland': {\n    headline: 'Sweet Dreams',\n    subhead: 'Where sugar meets code',\n    stat: 'ðŸ­',\n    statLabel: 'SUGAR',\n    category: 'PLAYFUL',\n    tagline: 'Life is sweet',\n  },\n  'cyberpunk': {\n    headline: 'Neon Nights',\n    subhead: 'High tech, low life',\n    stat: '2077',\n    statLabel: 'YEAR',\n    category: 'FUTURE',\n    tagline: 'Wake up, samurai',\n  },\n  'retro-arcade': {\n    headline: 'Insert Coin',\n    subhead: 'Press start to begin',\n    stat: '8-BIT',\n    statLabel: 'GRAPHICS',\n    category: 'GAMING',\n    tagline: 'Game over? Never.',\n  },\n  'quantum-rose': {\n    headline: 'Particle Dance',\n    subhead: 'Quantum mechanics meets rose',\n    stat: 'âš›',\n    statLabel: 'QUANTUM',\n    category: 'SCIENCE',\n    tagline: 'Observe and collapse',\n  },\n  'bold-tech': {\n    headline: 'Strong Type',\n    subhead: 'Commanding presence',\n    stat: '</>',\n    statLabel: 'CODE',\n    category: 'DEVELOPER',\n    tagline: 'Ship bold',\n  },\n  'violet-bloom': {\n    headline: 'Purple Reign',\n    subhead: 'Royal hues, humble purpose',\n    stat: 'ðŸ’œ',\n    statLabel: 'BLOOM',\n    category: 'REGAL',\n    tagline: 'Crown yourself',\n  },\n  't3-chat': {\n    headline: 'Type Safe',\n    subhead: 'The best stack for chat',\n    stat: 'T3',\n    statLabel: 'STACK',\n    category: 'TYPESCRIPT',\n    tagline: 'Full stack, type safe',\n  },\n  'mocha-mousse': {\n    headline: 'Chocolate Dreams',\n    subhead: 'Rich and creamy interface',\n    stat: 'ðŸ«',\n    statLabel: 'COCOA',\n    category: 'PANTONE 2025',\n    tagline: 'Indulge yourself',\n  },\n  'amethyst-haze': {\n    headline: 'Crystal Clear',\n    subhead: 'Mystical purple clarity',\n    stat: 'ðŸ’Ž',\n    statLabel: 'GEM',\n    category: 'CRYSTAL',\n    tagline: 'Clarity through color',\n  },\n  'doom-64': {\n    headline: 'Rip & Tear',\n    subhead: 'Until it is done',\n    stat: '666',\n    statLabel: 'HELL',\n    category: 'RETRO FPS',\n    tagline: 'Knee deep in the dead',\n  },\n  'amber-minimal': {\n    headline: 'Warm Glow',\n    subhead: 'Amber light, minimal design',\n    stat: 'ðŸ”¶',\n    statLabel: 'AMBER',\n    category: 'WARM',\n    tagline: 'Gentle warmth',\n  },\n  'solar-dusk': {\n    headline: 'Red Giant',\n    subhead: 'Dying star aesthetics',\n    stat: 'â˜€ï¸',\n    statLabel: 'SOLAR',\n    category: 'COSMIC',\n    tagline: 'Before the supernova',\n  },\n  'starry-night': {\n    headline: 'Van Gogh Mode',\n    subhead: 'Swirling with emotion',\n    stat: 'ðŸŒŒ',\n    statLabel: 'STARS',\n    category: 'ARTISTIC',\n    tagline: 'Paint with purpose',\n  },\n  'soft-pop': {\n    headline: 'Bubbly Fun',\n    subhead: 'Pop without the pressure',\n    stat: 'ðŸ’¥',\n    statLabel: 'POP',\n    category: 'PLAYFUL',\n    tagline: 'Colorful fun',\n  },\n  'sage-garden': {\n    headline: 'Earthy Greens',\n    subhead: 'Natural sage tranquility',\n    stat: 'ðŸŒ¿',\n    statLabel: 'SAGE',\n    category: 'ORGANIC',\n    tagline: 'Grow naturally',\n  },\n  'notebook': {\n    headline: 'Handwritten Notes',\n    subhead: 'Warm paper with ruled lines',\n    stat: 'ðŸ““',\n    statLabel: 'PAGES',\n    category: 'NOSTALGIC',\n    tagline: 'Write your story',\n  },\n  'research': {\n    headline: 'Academic Clarity',\n    subhead: 'Where ideas become knowledge',\n    stat: 'A+',\n    statLabel: 'GRADE',\n    category: 'SCHOLARLY',\n    tagline: 'Publish or perish',\n  },\n  'field-guide': {\n    headline: 'Model Designer',\n    subhead: 'The rise of AI-native design',\n    stat: '#01',\n    statLabel: 'ARTICLE',\n    category: 'AI DESIGN',\n    tagline: 'Navigate the frontier',\n  },\n  'tao': {\n    headline: 'The Way',\n    subhead: 'The still pond reflects',\n    stat: 'é“',\n    statLabel: 'TAO',\n    category: 'CONTEMPLATIVE',\n    tagline: 'Speak, and be reflected',\n  },\n  'denim': {\n    headline: 'Brand Studio',\n    subhead: 'Deep indigo elegance',\n    stat: 'Â©',\n    statLabel: 'STUDIO',\n    category: 'EDITORIAL',\n    tagline: 'Refined craftsmanship',\n  },\n  'google': {\n    headline: 'Material You',\n    subhead: 'Personal, adaptive, expressive',\n    stat: 'M3',\n    statLabel: 'DESIGN',\n    category: 'GOOGLE',\n    tagline: 'Design for everyone',\n  },\n  'apple': {\n    headline: 'Human Interface',\n    subhead: 'Technology meets liberal arts',\n    stat: 'HIG',\n    statLabel: 'GUIDELINES',\n    category: 'APPLE',\n    tagline: 'Designed in California',\n  },\n  'microsoft': {\n    headline: 'Fluent Design',\n    subhead: 'Light, depth, motion, material',\n    stat: '365',\n    statLabel: 'APPS',\n    category: 'MICROSOFT',\n    tagline: 'Empowering everyone',\n  },\n  'notion': {\n    headline: 'Block Everything',\n    subhead: 'Every block is a building block',\n    stat: '/',\n    statLabel: 'SLASH',\n    category: 'NOTION',\n    tagline: 'Write, plan, organize',\n  },\n  'cursor': {\n    headline: 'AI-Native Editor',\n    subhead: 'The IDE that writes code with you',\n    stat: 'Cmd',\n    statLabel: 'K',\n    category: 'CURSOR',\n    tagline: 'Code faster',\n  },\n  'miro': {\n    headline: 'Infinite Canvas',\n    subhead: 'Where teams think together',\n    stat: 'âˆž',\n    statLabel: 'BOARD',\n    category: 'MIRO',\n    tagline: 'Collaborate visually',\n  },\n  'nike': {\n    headline: 'Just Do It',\n    subhead: 'Where athletes become legends',\n    stat: 'âœ“',\n    statLabel: 'SWOOSH',\n    category: 'NIKE',\n    tagline: 'Impossible is nothing... wait',\n  },\n  'adidas': {\n    headline: 'Impossible Is Nothing',\n    subhead: 'Three stripes, infinite possibilities',\n    stat: 'â‰¡',\n    statLabel: 'STRIPES',\n    category: 'ADIDAS',\n    tagline: 'All day I dream about sports',\n  },\n  'kinetic-editorial': {\n    headline: 'Design In Motion',\n    subhead: 'Typography as architecture',\n    stat: 'â†’',\n    statLabel: 'SCROLL',\n    category: 'EDITORIAL',\n    tagline: 'Bold. Kinetic. Intentional.',\n  },\n  'teenage-engineering': {\n    headline: 'Function = Beauty',\n    subhead: 'Minimalist precision meets playful engineering',\n    stat: 'OP-1',\n    statLabel: 'ICONIC',\n    category: 'SCANDINAVIAN',\n    tagline: 'Constraints breed creativity',\n  },\n};\n\n// All themes now have dedicated sub-pages\nconst themesWithSubPages: ThemeName[] = themes.map(t => t.name);\n\nexport default function DesignPage() {\n  const { designTheme, setDesignTheme } = useDesignTheme();\n  const [selectedTheme, setSelectedTheme] = useState<ThemeName | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const { resolvedTheme: siteTheme } = useTheme();\n  const router = useRouter();\n  const isDarkMode = siteTheme === 'dark';\n\n  // Filter themes based on search query\n  const filteredThemes = useMemo(() => {\n    if (!searchQuery.trim()) return themes;\n    const query = searchQuery.toLowerCase();\n    return themes.filter((theme) => {\n      const content = themeContent[theme.name];\n      return (\n        theme.label.toLowerCase().includes(query) ||\n        theme.name.toLowerCase().includes(query) ||\n        content.headline?.toLowerCase().includes(query) ||\n        content.category?.toLowerCase().includes(query) ||\n        content.tagline?.toLowerCase().includes(query) ||\n        themeFonts[theme.name]?.toLowerCase().includes(query)\n      );\n    });\n  }, [searchQuery]);\n\n  const handleCardClick = (themeName: ThemeName) => {\n    setSelectedTheme(themeName);\n  };\n\n  const handleApplyTheme = () => {\n    if (selectedTheme) {\n      setDesignTheme(selectedTheme);\n      setSelectedTheme(null);\n    }\n  };\n\n  const handleExplore = () => {\n    if (selectedTheme) {\n      router.push(`/design/${selectedTheme}`);\n    }\n  };\n\n  const closeModal = () => {\n    setSelectedTheme(null);\n  };\n\n  return (\n    <PageTransition>\n    <div\n      data-design-theme={designTheme}\n      className=\"min-h-screen transition-all duration-500\"\n      style={{\n        backgroundColor: 'hsl(var(--theme-background))',\n        color: 'hsl(var(--theme-foreground))',\n        fontFamily: 'var(--theme-font)',\n      }}\n    >\n      {/* Navigation */}\n      <DesignNavigation />\n\n      {/* Hero */}\n      <section className=\"max-w-7xl mx-auto px-6 py-8 sm:py-12\">\n        <div className=\"flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-8\">\n          <div>\n            <FadeIn delay={0.1}>\n              <div className=\"flex items-center gap-3 mb-3\">\n                <Palette className=\"w-6 h-6\" style={{ color: 'hsl(var(--theme-primary))' }} />\n                <span\n                  className=\"text-xs font-medium tracking-wider uppercase\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  Design System\n                </span>\n              </div>\n            </FadeIn>\n\n            <TextEffect\n              per=\"word\"\n              preset=\"blur\"\n              as=\"h1\"\n              className=\"text-4xl md:text-5xl font-bold mb-3 tracking-tight\"\n            >\n              Theme Gallery\n            </TextEffect>\n\n            <FadeInBlur delay={0.2}>\n              <p\n                className=\"text-lg max-w-xl\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              >\n                {filteredThemes.length === themes.length\n                  ? `${themes.length} visual identities`\n                  : `${filteredThemes.length} of ${themes.length} themes`}\n                . Click any card to preview and explore.\n              </p>\n            </FadeInBlur>\n          </div>\n\n          {/* Search */}\n          <FadeInUp delay={0.3}>\n            <div className=\"relative w-full md:w-72\">\n              <Search\n                className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4\"\n                style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n              />\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search themes...\"\n                className=\"w-full pl-10 pr-10 py-2.5 rounded-xl border text-sm outline-none transition-all focus:ring-2\"\n                style={{\n                  borderColor: 'hsl(var(--theme-border))',\n                  backgroundColor: 'hsl(var(--theme-card))',\n                  color: 'hsl(var(--theme-foreground))',\n                  // @ts-ignore\n                  '--tw-ring-color': 'hsl(var(--theme-ring))',\n                }}\n              />\n              {searchQuery && (\n                <button\n                  onClick={() => setSearchQuery('')}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full hover:opacity-70 transition\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  <X className=\"w-4 h-4\" />\n                </button>\n              )}\n            </div>\n          </FadeInUp>\n        </div>\n      </section>\n\n      {/* Theme Grid */}\n      <section className=\"max-w-7xl mx-auto px-6 pb-24\">\n        {filteredThemes.length > 0 ? (\n          <AnimatedGroup\n            preset=\"blurSlide\"\n            stagger={0.04}\n            className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5\"\n          >\n            {filteredThemes.map((theme) => (\n              <ThemeCard\n                key={theme.name}\n                themeName={theme.name}\n                themeLabel={theme.label}\n                content={themeContent[theme.name]}\n                isActive={designTheme === theme.name}\n                onClick={() => handleCardClick(theme.name)}\n              />\n            ))}\n          </AnimatedGroup>\n        ) : (\n          <div className=\"text-center py-20\">\n            <Search\n              className=\"w-12 h-12 mx-auto mb-4\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            />\n            <h3\n              className=\"text-lg font-medium mb-2\"\n              style={{ color: 'hsl(var(--theme-foreground))' }}\n            >\n              No themes found\n            </h3>\n            <p\n              className=\"text-sm mb-4\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            >\n              Try a different search term\n            </p>\n            <button\n              onClick={() => setSearchQuery('')}\n              className=\"px-4 py-2 rounded-lg text-sm font-medium transition-all hover:opacity-80\"\n              style={{\n                backgroundColor: 'hsl(var(--theme-primary))',\n                color: 'hsl(var(--theme-primary-foreground))',\n              }}\n            >\n              Clear search\n            </button>\n          </div>\n        )}\n      </section>\n\n      {/* Theme Preview Modal */}\n      <AnimatePresence>\n        {selectedTheme && (\n          <>\n            {/* Backdrop + Modal Container */}\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={closeModal}\n              className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-0 sm:p-4\"\n            >\n              {/* Modal */}\n              <motion.div\n                initial={{ opacity: 0, y: 100 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: 100 }}\n                transition={{ type: 'spring', damping: 30, stiffness: 300 }}\n                onClick={(e) => e.stopPropagation()}\n                className=\"w-full max-w-4xl max-h-[90vh] sm:max-h-[min(85vh,800px)] overflow-hidden rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col\"\n              data-design-theme={selectedTheme}\n              style={{\n                backgroundColor: 'hsl(var(--theme-background))',\n                fontFamily: 'var(--theme-font)',\n              }}\n            >\n              {/* Modal Header */}\n              <div\n                className=\"flex-shrink-0 flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b\"\n                style={{ borderColor: 'hsl(var(--theme-border))' }}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className=\"w-3 h-3 rounded-full\"\n                    style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                  />\n                  <h2\n                    className=\"text-xl font-bold\"\n                    style={{ color: 'hsl(var(--theme-foreground))' }}\n                  >\n                    {themes.find(t => t.name === selectedTheme)?.label}\n                  </h2>\n                </div>\n                <button\n                  onClick={closeModal}\n                  className=\"p-2 rounded-full hover:opacity-70 transition-opacity\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Modal Content - Theme Preview */}\n              <div className=\"flex-1 min-h-0 p-4 sm:p-6 overflow-y-auto\">\n                {/* Preview Card */}\n                <div\n                  className=\"rounded-xl border p-4 sm:p-6 mb-4 sm:mb-6\"\n                  style={{\n                    borderColor: 'hsl(var(--theme-border))',\n                    backgroundColor: 'hsl(var(--theme-card))',\n                  }}\n                >\n                  <div className=\"flex flex-col md:flex-row gap-6\">\n                    {/* Left: Theme Showcase */}\n                    <div className=\"flex-1\">\n                      <span\n                        className=\"text-xs font-bold tracking-widest uppercase mb-2 block\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      >\n                        {themeContent[selectedTheme]?.category}\n                      </span>\n                      <h3\n                        className=\"text-3xl md:text-4xl font-black mb-3\"\n                        style={{ color: 'hsl(var(--theme-foreground))' }}\n                      >\n                        {themeContent[selectedTheme]?.headline}\n                      </h3>\n                      <p\n                        className=\"text-lg mb-4\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      >\n                        {themeContent[selectedTheme]?.subhead}\n                      </p>\n                      <p\n                        className=\"text-sm italic\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      >\n                        \"{themeContent[selectedTheme]?.tagline}\"\n                      </p>\n                    </div>\n\n                    {/* Right: Stats and Colors */}\n                    <div className=\"md:w-48 flex flex-col gap-4\">\n                      {themeContent[selectedTheme]?.stat && (\n                        <div\n                          className=\"text-center p-4 rounded-lg\"\n                          style={{ backgroundColor: 'hsl(var(--theme-secondary))' }}\n                        >\n                          <div\n                            className=\"text-4xl font-black\"\n                            style={{ color: 'hsl(var(--theme-primary))' }}\n                          >\n                            {themeContent[selectedTheme].stat}\n                          </div>\n                          <div\n                            className=\"text-[10px] font-bold tracking-widest uppercase mt-1\"\n                            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                          >\n                            {themeContent[selectedTheme].statLabel}\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Color Swatches */}\n                      <div className=\"flex gap-2\">\n                        <div\n                          className=\"flex-1 h-8 rounded\"\n                          style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n                          title=\"Primary\"\n                        />\n                        <div\n                          className=\"flex-1 h-8 rounded\"\n                          style={{ backgroundColor: 'hsl(var(--theme-secondary))' }}\n                          title=\"Secondary\"\n                        />\n                        <div\n                          className=\"flex-1 h-8 rounded\"\n                          style={{ backgroundColor: 'hsl(var(--theme-accent))' }}\n                          title=\"Accent\"\n                        />\n                      </div>\n                      <div\n                        className=\"text-xs text-center\"\n                        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                      >\n                        {themeFonts[selectedTheme]}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Sample UI Components */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4\">\n                  {/* Button Samples */}\n                  <div\n                    className=\"rounded-lg border p-4\"\n                    style={{ borderColor: 'hsl(var(--theme-border))' }}\n                  >\n                    <span\n                      className=\"text-xs font-medium mb-3 block\"\n                      style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                    >\n                      Buttons\n                    </span>\n                    <div className=\"flex flex-wrap gap-2\">\n                      <button\n                        className=\"px-4 py-2 rounded-lg text-sm font-medium\"\n                        style={{\n                          backgroundColor: 'hsl(var(--theme-primary))',\n                          color: 'hsl(var(--theme-primary-foreground))',\n                        }}\n                      >\n                        Primary\n                      </button>\n                      <button\n                        className=\"px-4 py-2 rounded-lg text-sm font-medium\"\n                        style={{\n                          backgroundColor: 'hsl(var(--theme-secondary))',\n                          color: 'hsl(var(--theme-secondary-foreground))',\n                        }}\n                      >\n                        Secondary\n                      </button>\n                      <button\n                        className=\"px-4 py-2 rounded-lg text-sm font-medium border\"\n                        style={{\n                          borderColor: 'hsl(var(--theme-border))',\n                          color: 'hsl(var(--theme-foreground))',\n                        }}\n                      >\n                        Outline\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Input Sample */}\n                  <div\n                    className=\"rounded-lg border p-4\"\n                    style={{ borderColor: 'hsl(var(--theme-border))' }}\n                  >\n                    <span\n                      className=\"text-xs font-medium mb-3 block\"\n                      style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                    >\n                      Input\n                    </span>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Type something...\"\n                      className=\"w-full px-4 py-2 rounded-lg text-sm border outline-none\"\n                      style={{\n                        borderColor: 'hsl(var(--theme-border))',\n                        backgroundColor: 'hsl(var(--theme-background))',\n                        color: 'hsl(var(--theme-foreground))',\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Modal Footer - Actions */}\n              <div\n                className=\"flex-shrink-0 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-4 sm:px-6 py-3 pb-6 sm:py-4 sm:pb-4 border-t\"\n                style={{ borderColor: 'hsl(var(--theme-border))' }}\n              >\n                {/* Action Buttons - Primary actions first on mobile */}\n                <div className=\"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3 order-1 sm:order-2\">\n                  <button\n                    onClick={handleApplyTheme}\n                    className=\"flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 rounded-lg text-sm font-medium transition-all hover:opacity-90\"\n                    style={{\n                      backgroundColor: 'hsl(var(--theme-secondary))',\n                      color: 'hsl(var(--theme-secondary-foreground))',\n                    }}\n                  >\n                    <Check className=\"w-4 h-4\" />\n                    Apply Theme\n                  </button>\n                  <button\n                    onClick={handleExplore}\n                    className=\"flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 rounded-lg text-sm font-medium transition-all hover:opacity-90\"\n                    style={{\n                      backgroundColor: 'hsl(var(--theme-primary))',\n                      color: 'hsl(var(--theme-primary-foreground))',\n                    }}\n                  >\n                    <Sparkles className=\"w-4 h-4\" />\n                    Explore Theme\n                    <ExternalLink className=\"w-3 h-3\" />\n                  </button>\n                </div>\n\n                {/* Copy Prompt Button - Secondary action */}\n                <div className=\"order-2 sm:order-1\">\n                  <CopyPromptButton themeName={selectedTheme} themeLabel={themes.find(t => t.name === selectedTheme)?.label || ''} />\n                </div>\n              </div>\n            </motion.div>\n          </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n\n      {/* Footer */}\n      <footer\n        className=\"border-t py-8 transition-colors\"\n        style={{ borderColor: 'hsl(var(--theme-border))' }}\n      >\n        <div className=\"max-w-7xl mx-auto px-6 text-center\">\n          <p className=\"text-sm\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>\n            Themes inspired by{' '}\n            <a\n              href=\"https://tweakcn.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"underline hover:no-underline\"\n              style={{ color: 'hsl(var(--theme-primary))' }}\n            >\n              tweakcn\n            </a>\n          </p>\n        </div>\n      </footer>\n    </div>\n    </PageTransition>\n  );\n}\n\nfunction CopyPromptButton({ themeName, themeLabel }: { themeName: ThemeName; themeLabel: string }) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = async () => {\n    const prompt = generateThemePrompt(themeName, themeLabel);\n    try {\n      await navigator.clipboard.writeText(prompt);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleCopy}\n      className=\"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2.5 sm:py-2 rounded-lg text-sm font-medium border transition-all hover:opacity-70\"\n      style={{\n        borderColor: 'hsl(var(--theme-border))',\n        color: 'hsl(var(--theme-foreground))',\n      }}\n    >\n      {copied ? (\n        <>\n          <CheckCircle2 className=\"w-4 h-4\" style={{ color: 'hsl(var(--theme-primary))' }} />\n          Copied!\n        </>\n      ) : (\n        <>\n          <Copy className=\"w-4 h-4\" />\n          Copy Prompt\n        </>\n      )}\n    </button>\n  );\n}\n\nfunction ThemeCard({\n  themeName,\n  themeLabel,\n  content,\n  isActive,\n  onClick,\n}: {\n  themeName: ThemeName;\n  themeLabel: string;\n  content: ThemeCardContent;\n  isActive: boolean;\n  onClick: () => void;\n}) {\n  return (\n    <motion.button\n      onClick={onClick}\n      whileHover={{ scale: 1.02, y: -4 }}\n      whileTap={{ scale: 0.98 }}\n      data-design-theme={themeName}\n      className={`\n        relative w-full aspect-[3/4] rounded-lg overflow-hidden text-left\n        transition-shadow duration-300\n        ${isActive ? 'ring-4 ring-offset-2' : ''}\n      `}\n      style={{\n        backgroundColor: 'hsl(var(--theme-background))',\n        color: 'hsl(var(--theme-foreground))',\n        fontFamily: 'var(--theme-font)',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\n      }}\n    >\n      {/* Card inner content */}\n      <div className=\"absolute inset-0 p-5 flex flex-col\">\n        {/* Top row */}\n        <div className=\"flex justify-between items-start mb-auto\">\n          <span\n            className=\"text-[10px] font-bold tracking-widest uppercase\"\n            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n          >\n            {content.category}\n          </span>\n          <div\n            className=\"w-2 h-2 rounded-full\"\n            style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n          />\n        </div>\n\n        {/* Center content */}\n        <div className=\"flex-1 flex flex-col justify-center\">\n          {content.tagline && (\n            <div\n              className=\"text-[9px] font-medium italic mb-3 text-center\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            >\n              {content.tagline}\n            </div>\n          )}\n\n          {content.stat && (\n            <div className=\"mb-4\">\n              <div\n                className=\"text-5xl md:text-6xl font-black tracking-tighter leading-none\"\n                style={{ color: 'hsl(var(--theme-primary))' }}\n              >\n                {content.stat}\n              </div>\n              {content.statLabel && (\n                <div\n                  className=\"text-[10px] font-bold tracking-widest uppercase mt-1\"\n                  style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n                >\n                  {content.statLabel}\n                </div>\n              )}\n            </div>\n          )}\n\n          <h3\n            className=\"text-xl md:text-2xl font-black tracking-tight leading-tight mb-2\"\n            style={{ color: 'hsl(var(--theme-foreground))' }}\n          >\n            {content.headline}\n          </h3>\n\n          <p\n            className=\"text-xs leading-relaxed mb-3\"\n            style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n          >\n            {content.subhead}\n          </p>\n        </div>\n\n        {/* Bottom row */}\n        <div className=\"flex justify-between items-end mt-auto pt-4 pb-10\">\n          <div>\n            <div\n              className=\"text-[10px] font-bold tracking-widest uppercase mb-1\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            >\n              Theme\n            </div>\n            <div\n              className=\"text-sm font-bold mb-1\"\n              style={{ color: 'hsl(var(--theme-foreground))' }}\n            >\n              {themeLabel}\n            </div>\n            <div\n              className=\"text-[9px] font-mono\"\n              style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n            >\n              {themeFonts[themeName]}\n            </div>\n          </div>\n        </div>\n\n        {/* Decorative border line */}\n        <div\n          className=\"absolute bottom-0 left-0 right-0 h-1\"\n          style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n        />\n      </div>\n\n      {/* Active indicator */}\n      {isActive && (\n        <div\n          className=\"absolute top-3 right-3 w-6 h-6 rounded-full flex items-center justify-center\"\n          style={{ backgroundColor: 'hsl(var(--theme-primary))' }}\n        >\n          <Check className=\"w-3 h-3\" style={{ color: 'hsl(var(--theme-primary-foreground))' }} />\n        </div>\n      )}\n    </motion.button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAOA;AAAA;AACA;AAnBA;;;;;;;;;;;;;AA8BA,8CAA8C;AAC9C,SAAS,oBAAoB,SAAoB,EAAE,UAAkB;IACnE,MAAM,UAAU,YAAY,CAAC,UAAU;IACvC,MAAM,WAAW,UAAU,CAAC,UAAU;IAEtC,OAAO,CAAC,eAAe,EAAE,WAAW;;;;;qCAKD,EAAE,UAAU;;;;;;;;;;;;;;aAcpC,EAAE,SAAS;;;;EAItB,EAAE,QAAQ,OAAO,IAAI,oDAAoD;;;4CAG/B,CAAC;AAC7C;AAEA,8CAA8C;AAC9C,MAAM,aAAwC;IAC5C,eAAe;IACf,QAAQ;IACR,UAAU;IACV,WAAW;IACX,UAAU;IACV,gBAAgB;IAChB,iBAAiB;IACjB,gBAAgB;IAChB,UAAU;IACV,iBAAiB;IACjB,kBAAkB;IAClB,iBAAiB;IACjB,gBAAgB;IAChB,eAAe;IACf,YAAY;IACZ,gBAAgB;IAChB,cAAc;IACd,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,kBAAkB;IAClB,aAAa;IACb,aAAa;IACb,gBAAgB;IAChB,gBAAgB;IAChB,aAAa;IACb,gBAAgB;IAChB,WAAW;IACX,gBAAgB;IAChB,iBAAiB;IACjB,WAAW;IACX,iBAAiB;IACjB,cAAc;IACd,gBAAgB;IAChB,YAAY;IACZ,eAAe;IACf,YAAY;IACZ,OAAO;IACP,YAAY;IACZ,eAAe;IACf,SAAS;IACT,UAAU;IACV,SAAS;IACT,aAAa;IACb,UAAU;IACV,UAAU;IACV,QAAQ;IACR,QAAQ;IACR,UAAU;IACV,qBAAqB;IACrB,uBAAuB;AACzB;AAEA,MAAM,eAAoD;IACxD,eAAe;QACb,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,QAAQ;QACN,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,WAAW;QACT,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,iBAAiB;QACf,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,iBAAiB;QACf,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,kBAAkB;QAChB,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,iBAAiB;QACf,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,eAAe;QACb,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,YAAY;QACV,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,cAAc;QACZ,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,kBAAkB;QAChB,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,mBAAmB;QACjB,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,kBAAkB;QAChB,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,kBAAkB;QAChB,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,aAAa;QACX,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,aAAa;QACX,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,aAAa;QACX,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,WAAW;QACT,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,iBAAiB;QACf,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,WAAW;QACT,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,iBAAiB;QACf,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,cAAc;QACZ,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,gBAAgB;QACd,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,YAAY;QACV,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,eAAe;QACb,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,YAAY;QACV,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,YAAY;QACV,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,eAAe;QACb,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,OAAO;QACL,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,SAAS;QACP,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,SAAS;QACP,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,aAAa;QACX,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,QAAQ;QACN,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,QAAQ;QACN,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,UAAU;QACR,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA,qBAAqB;QACnB,UAAU;QACV,SAAS;QACT,MAAM;QACN,WAAW;QACX,UAAU;QACV,SAAS;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"}}]
}