{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/app/skills/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@/lib/openclaw/hooks';\nimport { api } from '@/lib/convex-shim';\nimport {\n  ChevronLeft,\n  Search,\n  Grid3X3,\n  List,\n  Sparkles,\n  Bot,\n  Code,\n  Palette,\n  FlaskConical,\n  Briefcase,\n  Wand2,\n  SlidersHorizontal,\n  Shield,\n  Brain,\n  X,\n  Loader2,\n  Database,\n  Power,\n  PowerOff,\n  RotateCcw,\n  Wrench,\n  Lock,\n  Users,\n  Eye,\n} from 'lucide-react';\nimport { PageTransition } from '@/components/ios';\nimport { SkillCard3D } from '@/components/skills/SkillCard3D';\nimport { SkillDetailPanel } from '@/components/skills/SkillDetailPanel';\nimport {\n  SkillDefinition,\n  SkillMode,\n  SkillCategory,\n  SkillRarity,\n  CATEGORY_INFO,\n  RARITY_INFO,\n} from '@/lib/skills-registry';\nimport { buildToolsRegistry, TOOL_CATEGORY_INFO, ToolRegistryEntry, ToolCategory, ToolAccessLevel } from '@/lib/tools-registry';\n\ntype PageTab = 'skills' | 'tools';\ntype ViewMode = 'grid' | 'list';\ntype SortOption = 'name' | 'rarity' | 'power' | 'utility';\n\nconst CATEGORY_ICONS: Record<SkillCategory, React.ReactNode> = {\n  automation: <Bot className=\"w-4 h-4\" />,\n  development: <Code className=\"w-4 h-4\" />,\n  design: <Palette className=\"w-4 h-4\" />,\n  scientific: <FlaskConical className=\"w-4 h-4\" />,\n  management: <Briefcase className=\"w-4 h-4\" />,\n  creative: <Wand2 className=\"w-4 h-4\" />,\n  security: <Shield className=\"w-4 h-4\" />,\n  ml: <Brain className=\"w-4 h-4\" />,\n};\n\n// Transform Convex skill to SkillDefinition\nfunction transformConvexSkill(skill: {\n  skillId: string;\n  name: string;\n  shortName: string;\n  description: string;\n  longDescription: string;\n  category: string;\n  rarity: string;\n  icon: string;\n  gradient: string;\n  accentColor: string;\n  tags: string[];\n  statPower: number;\n  statComplexity: number;\n  statUtility: number;\n  defaultMode: string;\n  commands: { name: string; syntax: string; description: string }[];\n  dependencies: { name: string; type: string; installCommand?: string; url?: string }[];\n  sourceAuthor?: string;\n  sourceUrl?: string;\n  sourceLicense?: string;\n  sourceVersion?: string;\n}): SkillDefinition {\n  return {\n    id: skill.skillId,\n    name: skill.name,\n    shortName: skill.shortName,\n    description: skill.description,\n    longDescription: skill.longDescription,\n    category: skill.category as SkillCategory,\n    rarity: skill.rarity as SkillRarity,\n    icon: skill.icon,\n    gradient: skill.gradient,\n    accentColor: skill.accentColor,\n    tags: skill.tags,\n    stats: {\n      power: skill.statPower,\n      complexity: skill.statComplexity,\n      utility: skill.statUtility,\n    },\n    defaultMode: skill.defaultMode as SkillMode,\n    commands: skill.commands,\n    dependencies: skill.dependencies.map((dep) => ({\n      name: dep.name,\n      type: dep.type as 'cli' | 'npm' | 'api' | 'python' | 'native',\n      installCommand: dep.installCommand,\n      url: dep.url,\n    })),\n    source: skill.sourceAuthor\n      ? {\n          author: skill.sourceAuthor,\n          url: skill.sourceUrl,\n          license: skill.sourceLicense,\n          version: skill.sourceVersion,\n        }\n      : undefined,\n  };\n}\n\nexport default function SkillsPage() {\n  // Fetch skills from Convex\n  const convexSkills = useQuery(api.skills.getAllSkills, {});\n  const skillStats = useQuery(api.skills.getSkillStats, {});\n  const userModes = useQuery(api.skills.getUserSkillModes, {});\n  const setUserSkillMode = useMutation(api.skills.setUserSkillMode);\n  const setUserSkillModesBulk = useMutation(api.skills.setUserSkillModesBulk);\n\n  // Transform Convex skills to SkillDefinition format\n  const skills: SkillDefinition[] = useMemo(() => {\n    if (!convexSkills) return [];\n    return convexSkills.map(transformConvexSkill);\n  }, [convexSkills]);\n\n  // Local skill modes (merged with user's saved modes from Convex)\n  const [localModes, setLocalModes] = useState<Record<string, SkillMode>>({});\n  const [isLocalStorageLoaded, setIsLocalStorageLoaded] = useState(false);\n\n  // Load modes from localStorage on mount (for non-authenticated users)\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem('skill-modes');\n      if (saved) {\n        const parsed = JSON.parse(saved) as Record<string, SkillMode>;\n        setLocalModes(parsed);\n      }\n    } catch {\n      // localStorage not available or parse error\n    }\n    setIsLocalStorageLoaded(true);\n  }, []);\n\n  // Save modes to localStorage whenever they change\n  const saveToLocalStorage = useCallback((modes: Record<string, SkillMode>) => {\n    try {\n      localStorage.setItem('skill-modes', JSON.stringify(modes));\n    } catch {\n      // localStorage not available\n    }\n  }, []);\n\n  // Merge default modes with user's saved modes\n  const skillModes = useMemo(() => {\n    const modes: Record<string, SkillMode> = {};\n    skills.forEach((skill) => {\n      // Priority: localModes > userModes from DB > defaultMode\n      modes[skill.id] = localModes[skill.id] || userModes?.[skill.id] || skill.defaultMode;\n    });\n    return modes;\n  }, [skills, userModes, localModes]);\n\n  // Tab state\n  const [activeTab, setActiveTab] = useState<PageTab>('skills');\n\n  // Build tools registry\n  const toolsRegistry = useMemo(() => buildToolsRegistry(), []);\n\n  // Tools filtering state\n  const [toolCategory, setToolCategory] = useState<ToolCategory | 'all'>('all');\n  const [toolAccess, setToolAccess] = useState<ToolAccessLevel | 'all'>('all');\n  const [toolSearch, setToolSearch] = useState('');\n\n  // UI state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<SkillCategory | 'all'>('all');\n  const [selectedRarity, setSelectedRarity] = useState<SkillRarity | 'all'>('all');\n  const [viewMode, setViewMode] = useState<ViewMode>('grid');\n  const [sortBy, setSortBy] = useState<SortOption>('rarity');\n  const [selectedSkill, setSelectedSkill] = useState<SkillDefinition | null>(null);\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Filter and sort skills\n  const filteredSkills = useMemo(() => {\n    let filtered = [...skills];\n\n    // Search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (skill) =>\n          skill.name.toLowerCase().includes(query) ||\n          skill.description.toLowerCase().includes(query) ||\n          skill.tags.some((tag) => tag.toLowerCase().includes(query))\n      );\n    }\n\n    // Category filter\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter((skill) => skill.category === selectedCategory);\n    }\n\n    // Rarity filter\n    if (selectedRarity !== 'all') {\n      filtered = filtered.filter((skill) => skill.rarity === selectedRarity);\n    }\n\n    // Sort\n    const rarityOrder: SkillRarity[] = ['legendary', 'epic', 'rare', 'uncommon', 'common'];\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'rarity':\n          return rarityOrder.indexOf(a.rarity) - rarityOrder.indexOf(b.rarity);\n        case 'power':\n          return b.stats.power - a.stats.power;\n        case 'utility':\n          return b.stats.utility - a.stats.utility;\n        default:\n          return 0;\n      }\n    });\n\n    return filtered;\n  }, [skills, searchQuery, selectedCategory, selectedRarity, sortBy]);\n\n  // Filter tools\n  const filteredTools = useMemo(() => {\n    let filtered = [...toolsRegistry];\n    if (toolSearch) {\n      const q = toolSearch.toLowerCase();\n      filtered = filtered.filter(t => t.name.toLowerCase().includes(q) || t.description.toLowerCase().includes(q));\n    }\n    if (toolCategory !== 'all') {\n      filtered = filtered.filter(t => t.category === toolCategory);\n    }\n    if (toolAccess !== 'all') {\n      filtered = filtered.filter(t => t.accessLevel === toolAccess);\n    }\n    return filtered;\n  }, [toolsRegistry, toolSearch, toolCategory, toolAccess]);\n\n  // Tool stats\n  const toolStats = useMemo(() => {\n    const byCategory: Record<string, number> = {};\n    toolsRegistry.forEach(t => {\n      byCategory[t.category] = (byCategory[t.category] || 0) + 1;\n    });\n    return { total: toolsRegistry.length, byCategory };\n  }, [toolsRegistry]);\n\n  // Stats from Convex\n  const stats = useMemo(() => {\n    const total = skillStats?.total || skills.length;\n    const enabled = Object.values(skillModes).filter((m) => m === 'on').length;\n    const auto = Object.values(skillModes).filter((m) => m === 'auto').length;\n    const disabled = Object.values(skillModes).filter((m) => m === 'off').length;\n    return { total, enabled, auto, disabled };\n  }, [skillStats, skills.length, skillModes]);\n\n  const handleModeChange = useCallback(async (skillId: string, mode: SkillMode) => {\n    // Update local state immediately for responsiveness\n    setLocalModes((prev) => {\n      const updated = { ...prev, [skillId]: mode };\n      // Always save to localStorage as fallback\n      saveToLocalStorage(updated);\n      return updated;\n    });\n\n    // Try to persist to Convex (will fail silently if not authenticated)\n    try {\n      await setUserSkillMode({ skillId, mode });\n    } catch {\n      // User not authenticated - localStorage fallback already saved\n    }\n  }, [saveToLocalStorage, setUserSkillMode]);\n\n  // Bulk mode change handler\n  const [isBulkUpdating, setIsBulkUpdating] = useState(false);\n\n  const handleBulkModeChange = useCallback(async (mode: SkillMode | 'reset') => {\n    if (skills.length === 0) return;\n\n    setIsBulkUpdating(true);\n\n    // Build the new modes map\n    const newModes: Record<string, SkillMode> = {};\n    const bulkModes: { skillId: string; mode: SkillMode }[] = [];\n\n    skills.forEach((skill) => {\n      const targetMode = mode === 'reset' ? skill.defaultMode : mode;\n      newModes[skill.id] = targetMode;\n      bulkModes.push({ skillId: skill.id, mode: targetMode });\n    });\n\n    // Update local state immediately\n    setLocalModes(newModes);\n    saveToLocalStorage(newModes);\n\n    // Try to persist to Convex\n    try {\n      await setUserSkillModesBulk({ modes: bulkModes });\n    } catch {\n      // User not authenticated - localStorage fallback already saved\n    }\n\n    setIsBulkUpdating(false);\n  }, [skills, saveToLocalStorage, setUserSkillModesBulk]);\n\n  const isLoading = convexSkills === undefined || !isLocalStorageLoaded;\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-zinc-950 overflow-x-hidden\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-xl border-b border-white/10\">\n          <div className=\"max-w-7xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href=\"/\"\n                className=\"p-2 -ml-2 rounded-lg hover:bg-white/10 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-theme-primary\"\n              >\n                <ChevronLeft className=\"w-5 h-5 text-white\" />\n              </Link>\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3\">\n                  <button\n                    onClick={() => setActiveTab('skills')}\n                    className={`text-xl font-bold flex items-center gap-2 pb-0.5 border-b-2 transition-colors ${\n                      activeTab === 'skills'\n                        ? 'text-white border-theme-primary'\n                        : 'text-white/40 border-transparent hover:text-white/60'\n                    }`}\n                  >\n                    <Sparkles className=\"w-5 h-5\" />\n                    Skills\n                  </button>\n                  <button\n                    onClick={() => setActiveTab('tools')}\n                    className={`text-xl font-bold flex items-center gap-2 pb-0.5 border-b-2 transition-colors ${\n                      activeTab === 'tools'\n                        ? 'text-white border-theme-primary'\n                        : 'text-white/40 border-transparent hover:text-white/60'\n                    }`}\n                  >\n                    <Wrench className=\"w-5 h-5\" />\n                    Tools\n                  </button>\n                  {isLoading && <Loader2 className=\"w-4 h-4 animate-spin text-white/40\" />}\n                </div>\n                <p className=\"text-xs text-white/40 flex items-center gap-1 mt-1\">\n                  <Database className=\"w-3 h-3\" />\n                  {activeTab === 'skills'\n                    ? (isLoading ? 'Loading from database...' : `${stats.total} capabilities • Real-time`)\n                    : `${toolStats.total} AI tools • ${Object.keys(toolStats.byCategory).length} categories`\n                  }\n                </p>\n              </div>\n\n              {/* View toggles */}\n              <div className=\"flex items-center gap-1 bg-white/5 rounded-lg p-1\">\n                <button\n                  onClick={() => setViewMode('grid')}\n                  className={`p-2 rounded-md transition-colors ${\n                    viewMode === 'grid' ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white'\n                  }`}\n                >\n                  <Grid3X3 className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={() => setViewMode('list')}\n                  className={`p-2 rounded-md transition-colors ${\n                    viewMode === 'list' ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white'\n                  }`}\n                >\n                  <List className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Stats bar - Skills only */}\n        {activeTab === 'skills' && (\n          <div className=\"border-b border-white/10 bg-white/2\">\n            <div className=\"max-w-7xl mx-auto px-4 py-3\">\n              <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                {/* Stats */}\n                <div className=\"flex items-center gap-3 sm:gap-6 text-xs sm:text-sm overflow-x-auto\">\n                  <div className=\"flex items-center gap-1.5 sm:gap-2 shrink-0\">\n                    <span className=\"text-white/40\">Total:</span>\n                    <span className=\"text-white font-medium\">{stats.total}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1.5 sm:gap-2 shrink-0\">\n                    <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n                    <span className=\"text-white/40\">On:</span>\n                    <span className=\"text-white font-medium\">{stats.enabled}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1.5 sm:gap-2 shrink-0\">\n                    <div className=\"w-2 h-2 rounded-full bg-amber-500\" />\n                    <span className=\"text-white/40\">Auto:</span>\n                    <span className=\"text-white font-medium\">{stats.auto}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1.5 sm:gap-2 shrink-0\">\n                    <div className=\"w-2 h-2 rounded-full bg-red-500\" />\n                    <span className=\"text-white/40\">Off:</span>\n                    <span className=\"text-white font-medium\">{stats.disabled}</span>\n                  </div>\n                </div>\n\n                {/* Bulk actions - hidden on mobile */}\n                <div className=\"hidden sm:flex items-center gap-2\">\n                  <button\n                    onClick={() => handleBulkModeChange('on')}\n                    disabled={isBulkUpdating || isLoading}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium\n                      bg-green-500/20 text-green-400 hover:bg-green-500/30 border border-green-500/30\n                      disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    <Power className=\"w-3.5 h-3.5\" />\n                    Enable All\n                  </button>\n                  <button\n                    onClick={() => handleBulkModeChange('off')}\n                    disabled={isBulkUpdating || isLoading}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium\n                      bg-red-500/20 text-red-400 hover:bg-red-500/30 border border-red-500/30\n                      disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    <PowerOff className=\"w-3.5 h-3.5\" />\n                    Disable All\n                  </button>\n                  <button\n                    onClick={() => handleBulkModeChange('reset')}\n                    disabled={isBulkUpdating || isLoading}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium\n                      bg-white/5 text-white/60 hover:bg-white/10 hover:text-white border border-white/10\n                      disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    <RotateCcw className=\"w-3.5 h-3.5\" />\n                    Reset\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Glassmorphic Search Bar - Skills */}\n        {activeTab === 'skills' && (\n          <div className=\"sticky top-[73px] z-30\">\n            <div className=\"absolute inset-0 bg-gradient-to-b from-zinc-950 via-zinc-950/95 to-transparent pointer-events-none\" />\n            <div className=\"relative max-w-7xl mx-auto px-4 py-4\">\n              <div className=\"flex items-center gap-3\">\n                {/* Glassmorphic Search */}\n                <div className=\"relative flex-1 group\">\n                  <div className=\"absolute -inset-0.5 bg-gradient-to-r from-theme-primary/30 via-purple-500/20 to-pink-500/30 rounded-xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-300\" />\n                  <div className=\"relative flex items-center bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden group-focus-within:border-white/20 transition-colors\">\n                    <Search className=\"ml-4 w-5 h-5 text-white/40 group-focus-within:text-theme-primary transition-colors\" />\n                    <input\n                      type=\"text\"\n                      placeholder={`Search ${stats.total} skills...`}\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"flex-1 px-3 py-3 bg-transparent text-white placeholder:text-white/30 focus:outline-none text-sm\"\n                    />\n                    {searchQuery && (\n                      <button\n                        onClick={() => setSearchQuery('')}\n                        className=\"mr-2 p-1.5 rounded-lg hover:bg-white/10 text-white/40 hover:text-white transition-colors\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                {/* Filter toggle */}\n                <button\n                  onClick={() => setShowFilters(!showFilters)}\n                  className={`p-3 rounded-xl border backdrop-blur-xl transition-all duration-200 ${\n                    showFilters\n                      ? 'bg-theme-primary/20 border-theme-primary/50 text-theme-primary shadow-lg shadow-theme-primary/20'\n                      : 'bg-white/5 border-white/10 text-white/60 hover:text-white hover:bg-white/10'\n                  }`}\n                >\n                  <SlidersHorizontal className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Expanded filters */}\n              <AnimatePresence>\n                {showFilters && (\n                  <motion.div\n                    initial={{ height: 0, opacity: 0 }}\n                    animate={{ height: 'auto', opacity: 1 }}\n                    exit={{ height: 0, opacity: 0 }}\n                    className=\"overflow-hidden\"\n                  >\n                    <div className=\"pt-4 space-y-4\">\n                      {/* Category filter */}\n                      <div>\n                        <div className=\"text-xs text-white/40 uppercase tracking-wider mb-2\">Category</div>\n                        <div className=\"flex flex-wrap gap-2\">\n                          <FilterChip\n                            active={selectedCategory === 'all'}\n                            onClick={() => setSelectedCategory('all')}\n                          >\n                            All\n                          </FilterChip>\n                          {(Object.keys(CATEGORY_INFO) as SkillCategory[]).map((cat) => (\n                            <FilterChip\n                              key={cat}\n                              active={selectedCategory === cat}\n                              onClick={() => setSelectedCategory(cat)}\n                              icon={CATEGORY_ICONS[cat]}\n                            >\n                              {CATEGORY_INFO[cat].label}\n                            </FilterChip>\n                          ))}\n                        </div>\n                      </div>\n\n                      {/* Rarity filter */}\n                      <div>\n                        <div className=\"text-xs text-white/40 uppercase tracking-wider mb-2\">Rarity</div>\n                        <div className=\"flex flex-wrap gap-2\">\n                          <FilterChip\n                            active={selectedRarity === 'all'}\n                            onClick={() => setSelectedRarity('all')}\n                          >\n                            All\n                          </FilterChip>\n                          {(Object.keys(RARITY_INFO) as SkillRarity[]).map((rarity) => (\n                            <FilterChip\n                              key={rarity}\n                              active={selectedRarity === rarity}\n                              onClick={() => setSelectedRarity(rarity)}\n                              className={selectedRarity === rarity ? RARITY_INFO[rarity].color : ''}\n                            >\n                              {RARITY_INFO[rarity].label}\n                            </FilterChip>\n                          ))}\n                        </div>\n                      </div>\n\n                      {/* Sort */}\n                      <div>\n                        <div className=\"text-xs text-white/40 uppercase tracking-wider mb-2\">Sort By</div>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {(['rarity', 'name', 'power', 'utility'] as SortOption[]).map((option) => (\n                            <FilterChip\n                              key={option}\n                              active={sortBy === option}\n                              onClick={() => setSortBy(option)}\n                            >\n                              {option.charAt(0).toUpperCase() + option.slice(1)}\n                            </FilterChip>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n          </div>\n        )}\n\n        {/* Tools Search and Filters */}\n        {activeTab === 'tools' && (\n          <div className=\"sticky top-[73px] z-30\">\n            <div className=\"absolute inset-0 bg-gradient-to-b from-zinc-950 via-zinc-950/95 to-transparent pointer-events-none\" />\n            <div className=\"relative max-w-7xl mx-auto px-4 py-4\">\n              <div className=\"relative flex-1 group\">\n                <div className=\"absolute -inset-0.5 bg-gradient-to-r from-theme-primary/30 via-purple-500/20 to-pink-500/30 rounded-xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-300\" />\n                <div className=\"relative flex items-center bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden group-focus-within:border-white/20 transition-colors\">\n                  <Search className=\"ml-4 w-5 h-5 text-white/40 group-focus-within:text-theme-primary transition-colors\" />\n                  <input\n                    type=\"text\"\n                    placeholder={`Search ${toolStats.total} AI tools...`}\n                    value={toolSearch}\n                    onChange={(e) => setToolSearch(e.target.value)}\n                    className=\"flex-1 px-3 py-3 bg-transparent text-white placeholder:text-white/30 focus:outline-none text-sm\"\n                  />\n                  {toolSearch && (\n                    <button onClick={() => setToolSearch('')} className=\"mr-2 p-1.5 rounded-lg hover:bg-white/10 text-white/40 hover:text-white transition-colors\">\n                      <X className=\"w-4 h-4\" />\n                    </button>\n                  )}\n                </div>\n              </div>\n              {/* Category chips */}\n              <div className=\"flex flex-wrap gap-2 mt-3\">\n                <FilterChip active={toolCategory === 'all'} onClick={() => setToolCategory('all')}>\n                  All ({toolStats.total})\n                </FilterChip>\n                {(Object.keys(TOOL_CATEGORY_INFO) as ToolCategory[]).map(cat => (\n                  <FilterChip\n                    key={cat}\n                    active={toolCategory === cat}\n                    onClick={() => setToolCategory(cat)}\n                  >\n                    {TOOL_CATEGORY_INFO[cat].label} ({toolStats.byCategory[cat] || 0})\n                  </FilterChip>\n                ))}\n              </div>\n              {/* Access level chips */}\n              <div className=\"flex flex-wrap gap-2 mt-2\">\n                <FilterChip active={toolAccess === 'all'} onClick={() => setToolAccess('all')}>\n                  All Access\n                </FilterChip>\n                <FilterChip active={toolAccess === 'visitor'} onClick={() => setToolAccess('visitor')} icon={<Eye className=\"w-3 h-3\" />}>\n                  Visitor\n                </FilterChip>\n                <FilterChip active={toolAccess === 'collaborator'} onClick={() => setToolAccess('collaborator')} icon={<Users className=\"w-3 h-3\" />}>\n                  Collaborator\n                </FilterChip>\n                <FilterChip active={toolAccess === 'owner'} onClick={() => setToolAccess('owner')} icon={<Lock className=\"w-3 h-3\" />}>\n                  Owner Only\n                </FilterChip>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Skills grid/list */}\n        {activeTab === 'skills' && (\n          <main className=\"max-w-7xl mx-auto px-4 py-6\">\n            {isLoading ? (\n              <div className=\"flex flex-col items-center justify-center py-20 gap-4\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-theme-primary\" />\n                <p className=\"text-white/40\">Loading skills from database...</p>\n              </div>\n            ) : filteredSkills.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-white/40\">No skills found matching your criteria</p>\n                {skills.length === 0 && (\n                  <p className=\"text-white/30 text-sm mt-2\">\n                    Database may be empty. Run the seed script to populate.\n                  </p>\n                )}\n              </div>\n            ) : viewMode === 'grid' ? (\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4\">\n                {filteredSkills.map((skill, index) => (\n                  <motion.div\n                    key={skill.id}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: Math.min(index * 0.02, 0.5) }}\n                  >\n                    <SkillCard3D\n                      skill={skill}\n                      mode={skillModes[skill.id]}\n                      onModeChange={(mode) => handleModeChange(skill.id, mode)}\n                      onSelect={() => setSelectedSkill(skill)}\n                      isSelected={selectedSkill?.id === skill.id}\n                    />\n                  </motion.div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {filteredSkills.map((skill, index) => (\n                  <motion.div\n                    key={skill.id}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: Math.min(index * 0.01, 0.3) }}\n                  >\n                    <SkillListItem\n                      skill={skill}\n                      mode={skillModes[skill.id]}\n                      onModeChange={(mode) => handleModeChange(skill.id, mode)}\n                      onSelect={() => setSelectedSkill(skill)}\n                    />\n                  </motion.div>\n                ))}\n              </div>\n            )}\n          </main>\n        )}\n\n        {/* Tools list */}\n        {activeTab === 'tools' && (\n          <main className=\"max-w-7xl mx-auto px-4 py-6\">\n            {filteredTools.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-white/40\">No tools found matching your criteria</p>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {filteredTools.map((tool, index) => (\n                  <motion.div\n                    key={tool.name}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: Math.min(index * 0.01, 0.3) }}\n                  >\n                    <ToolListItem tool={tool} />\n                  </motion.div>\n                ))}\n              </div>\n            )}\n          </main>\n        )}\n\n        {/* Skill detail panel */}\n        <SkillDetailPanel\n          skill={selectedSkill}\n          mode={selectedSkill ? skillModes[selectedSkill.id] : 'auto'}\n          onModeChange={(mode) => {\n            if (selectedSkill) {\n              handleModeChange(selectedSkill.id, mode);\n            }\n          }}\n          onClose={() => setSelectedSkill(null)}\n        />\n      </div>\n    </PageTransition>\n  );\n}\n\n// Filter chip component\nfunction FilterChip({\n  children,\n  active,\n  onClick,\n  icon,\n  className = '',\n}: {\n  children: React.ReactNode;\n  active: boolean;\n  onClick: () => void;\n  icon?: React.ReactNode;\n  className?: string;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm transition-all\n        ${\n          active\n            ? 'bg-theme-primary text-white'\n            : 'bg-white/5 text-white/60 hover:text-white hover:bg-white/10'\n        }\n        ${className}\n      `}\n    >\n      {icon}\n      {children}\n    </button>\n  );\n}\n\n// List view item\nfunction SkillListItem({\n  skill,\n  mode,\n  onModeChange,\n  onSelect,\n}: {\n  skill: SkillDefinition;\n  mode: SkillMode;\n  onModeChange: (mode: SkillMode) => void;\n  onSelect: () => void;\n}) {\n  const rarityInfo = RARITY_INFO[skill.rarity];\n\n  return (\n    <div\n      onClick={onSelect}\n      className=\"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 cursor-pointer transition-colors\"\n    >\n      {/* Gradient icon */}\n      <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${skill.gradient} flex items-center justify-center flex-shrink-0`}>\n        <span className=\"text-white text-xl\">\n          {skill.shortName.charAt(0)}\n        </span>\n      </div>\n\n      {/* Info */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-white font-medium truncate\">{skill.name}</h3>\n          <span className={`text-xs font-medium ${rarityInfo.color}`}>\n            {rarityInfo.label}\n          </span>\n        </div>\n        <p className=\"text-sm text-white/50 truncate\">{skill.description}</p>\n      </div>\n\n      {/* Mode toggle */}\n      <div\n        className=\"flex items-center gap-1 bg-black/30 rounded-lg p-1\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {(['off', 'auto', 'on'] as SkillMode[]).map((m) => (\n          <button\n            key={m}\n            onClick={(e) => {\n              e.stopPropagation();\n              onModeChange(m);\n            }}\n            className={`\n              py-1 px-2 rounded-md text-xs font-medium uppercase\n              transition-all duration-200\n              ${\n                mode === m\n                  ? m === 'on'\n                    ? 'bg-green-500 text-white'\n                    : m === 'off'\n                    ? 'bg-red-500/80 text-white'\n                    : 'bg-amber-500 text-white'\n                  : 'text-white/40 hover:text-white/60'\n              }\n            `}\n          >\n            {m}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Tool list item\nfunction ToolListItem({ tool }: { tool: ToolRegistryEntry }) {\n  const categoryInfo = TOOL_CATEGORY_INFO[tool.category];\n  const accessColors: Record<ToolAccessLevel, string> = {\n    visitor: 'text-green-400 bg-green-500/20 border-green-500/30',\n    collaborator: 'text-blue-400 bg-blue-500/20 border-blue-500/30',\n    owner: 'text-amber-400 bg-amber-500/20 border-amber-500/30',\n  };\n\n  return (\n    <div className=\"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors\">\n      <div className=\"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center flex-shrink-0\">\n        <Wrench className=\"w-5 h-5 text-white/60\" />\n      </div>\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-white font-mono text-sm font-medium\">{tool.name}</h3>\n          <span className={`text-[10px] font-medium px-1.5 py-0.5 rounded border ${accessColors[tool.accessLevel]}`}>\n            {tool.accessLevel}\n          </span>\n        </div>\n        <p className=\"text-sm text-white/50 truncate\">{tool.description}</p>\n      </div>\n      <div className=\"text-xs text-white/30 shrink-0\">\n        {categoryInfo.label}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}