{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/ClawAIOrb.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback, useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence, useReducedMotion } from 'framer-motion';\nimport '@/lib/themes/themes.css';\nimport { springs } from '@/components/motion/config';\n\ninterface ClawAIOrbProps {\n  onClick: () => void;\n  isActive?: boolean;\n  hasNotification?: boolean;\n  notificationCount?: number;\n}\n\nexport function ClawAIOrb({ onClick, isActive = false, hasNotification = false, notificationCount = 0 }: ClawAIOrbProps) {\n  // Determine if we should show urgent pulse (notifications present)\n  const showUrgentPulse = hasNotification || notificationCount > 0;\n  const prefersReducedMotion = useReducedMotion();\n  const [isPressed, setIsPressed] = useState(false);\n  const [ripples, setRipples] = useState<{ id: number; x: number; y: number }[]>([]);\n  const rippleTimeoutsRef = useRef<Map<number, NodeJS.Timeout>>(new Map());\n\n  // Cleanup ripple timeouts on unmount to prevent memory leaks\n  useEffect(() => {\n    const timeouts = rippleTimeoutsRef.current;\n    return () => {\n      timeouts.forEach((timeout) => clearTimeout(timeout));\n      timeouts.clear();\n    };\n  }, []);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement>) => {\n      // Create ripple effect\n      const rect = e.currentTarget.getBoundingClientRect();\n      const x = e.clientX - rect.left - rect.width / 2;\n      const y = e.clientY - rect.top - rect.height / 2;\n\n      const rippleId = Date.now();\n      setRipples((prev) => [...prev, { id: rippleId, x, y }]);\n\n      // Remove ripple after animation with proper cleanup\n      const timeout = setTimeout(() => {\n        setRipples((prev) => prev.filter((r) => r.id !== rippleId));\n        rippleTimeoutsRef.current.delete(rippleId);\n      }, 600);\n      rippleTimeoutsRef.current.set(rippleId, timeout);\n\n      onClick();\n    },\n    [onClick]\n  );\n\n  return (\n    <motion.button\n      onClick={handleClick}\n      onMouseDown={() => setIsPressed(true)}\n      onMouseUp={() => setIsPressed(false)}\n      onMouseLeave={() => setIsPressed(false)}\n      onTouchStart={() => setIsPressed(true)}\n      onTouchEnd={() => setIsPressed(false)}\n      className=\"relative group focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent rounded-full\"\n      style={{\n        // @ts-expect-error CSS custom property\n        '--tw-ring-color': 'hsl(var(--theme-primary) / 0.5)',\n      }}\n      whileTap={prefersReducedMotion ? {} : { scale: 0.92 }}\n      transition={springs.snappy}\n      aria-label=\"Open Claw AI chat\"\n    >\n      {/* Outer glow rings - animated - uses theme primary */}\n      {/* When notifications present, glow is more intense and faster */}\n      <div className=\"absolute inset-0 -m-2\">\n        {/* Pulsing glow ring 1 */}\n        <motion.div\n          className=\"absolute inset-0 rounded-full\"\n          style={{\n            background: showUrgentPulse\n              ? 'radial-gradient(circle, hsl(var(--theme-primary) / 0.6) 0%, transparent 70%)'\n              : 'radial-gradient(circle, hsl(var(--theme-primary) / 0.35) 0%, transparent 70%)',\n          }}\n          animate={\n            prefersReducedMotion\n              ? {}\n              : showUrgentPulse\n                ? {\n                  scale: [1, 1.5, 1],\n                  opacity: [0.8, 0.3, 0.8],\n                }\n                : {\n                  scale: [1, 1.3, 1],\n                  opacity: [0.5, 0.2, 0.5],\n                }\n          }\n          transition={{\n            duration: showUrgentPulse ? 1.5 : 3,\n            repeat: Infinity,\n            ease: 'easeInOut',\n          }}\n        />\n        {/* Pulsing glow ring 2 - offset */}\n        <motion.div\n          className=\"absolute inset-0 rounded-full\"\n          style={{\n            background: showUrgentPulse\n              ? 'radial-gradient(circle, hsl(var(--theme-accent) / 0.5) 0%, transparent 70%)'\n              : 'radial-gradient(circle, hsl(var(--theme-accent) / 0.3) 0%, transparent 70%)',\n          }}\n          animate={\n            prefersReducedMotion\n              ? {}\n              : showUrgentPulse\n                ? {\n                  scale: [1.1, 1.6, 1.1],\n                  opacity: [0.7, 0.2, 0.7],\n                }\n                : {\n                  scale: [1.1, 1.4, 1.1],\n                  opacity: [0.4, 0.15, 0.4],\n                }\n          }\n          transition={{\n            duration: showUrgentPulse ? 1.8 : 3.5,\n            repeat: Infinity,\n            ease: 'easeInOut',\n            delay: 0.3,\n          }}\n        />\n        {/* Extra attention-grabbing ring when urgent */}\n        {showUrgentPulse && !prefersReducedMotion && (\n          <motion.div\n            className=\"absolute inset-0 rounded-full\"\n            style={{\n              background: 'radial-gradient(circle, rgba(255, 100, 100, 0.4) 0%, transparent 70%)',\n            }}\n            animate={{\n              scale: [1, 1.8, 1],\n              opacity: [0.6, 0, 0.6],\n            }}\n            transition={{\n              duration: 1.2,\n              repeat: Infinity,\n              ease: 'easeOut',\n            }}\n          />\n        )}\n      </div>\n\n      {/* Main orb container - dock size */}\n      <div className=\"relative w-10 h-10\">\n        {/* Gradient background orb - uses theme colors */}\n        {/* Glows brighter when there are notifications to grab attention */}\n        <motion.div\n          className=\"absolute inset-0 rounded-full overflow-hidden\"\n          style={{\n            background: isActive || showUrgentPulse\n              ? 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)'\n              : 'linear-gradient(135deg, hsl(var(--theme-primary) / 0.9) 0%, hsl(var(--theme-primary)) 50%, hsl(var(--theme-accent) / 0.9) 100%)',\n            boxShadow: isActive || showUrgentPulse\n              ? '0 0 30px hsl(var(--theme-primary) / 0.7), 0 0 60px hsl(var(--theme-accent) / 0.4), inset 0 0 15px rgba(255, 255, 255, 0.3)'\n              : '0 0 20px hsl(var(--theme-primary) / 0.4), 0 0 40px hsl(var(--theme-accent) / 0.2), inset 0 0 10px rgba(255, 255, 255, 0.2)',\n          }}\n          animate={\n            prefersReducedMotion\n              ? {}\n              : {\n                scale: isPressed ? 0.95 : [1, 1.02, 1],\n              }\n          }\n          transition={\n            isPressed\n              ? { duration: 0.1 }\n              : { duration: 4, repeat: Infinity, ease: 'easeInOut' }\n          }\n        >\n          {/* Inner glass effect */}\n          <div\n            className=\"absolute inset-0 rounded-full\"\n            style={{\n              background:\n                'radial-gradient(ellipse 80% 50% at 50% 20%, rgba(255, 255, 255, 0.45) 0%, transparent 50%)',\n            }}\n          />\n\n          {/* Shimmer effect */}\n          <motion.div\n            className=\"absolute inset-0 rounded-full overflow-hidden\"\n            animate={\n              prefersReducedMotion\n                ? {}\n                : {\n                  rotate: [0, 360],\n                }\n            }\n            transition={{\n              duration: 8,\n              repeat: Infinity,\n              ease: 'linear',\n            }}\n          >\n            <div\n              className=\"absolute inset-0\"\n              style={{\n                background:\n                  'conic-gradient(from 0deg, transparent 0%, rgba(255, 255, 255, 0.35) 10%, transparent 20%, transparent 100%)',\n              }}\n            />\n          </motion.div>\n\n          {/* Inner highlight */}\n          <div\n            className=\"absolute inset-1.5 rounded-full\"\n            style={{\n              background:\n                'radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)',\n            }}\n          />\n        </motion.div>\n\n        {/* Claw AI icon/avatar */}\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <motion.div\n            className=\"w-6 h-6 rounded-full overflow-hidden border border-white/40\"\n            style={{\n              boxShadow: 'inset 0 0 8px rgba(0, 0, 0, 0.2)',\n            }}\n            animate={\n              prefersReducedMotion\n                ? {}\n                : {\n                  y: [0, -1, 0],\n                }\n            }\n            transition={{\n              duration: 3,\n              repeat: Infinity,\n              ease: 'easeInOut',\n            }}\n          >\n            {/* eslint-disable-next-line @next/next/no-img-element */}\n            <img\n              src=\"/openclaw-logo.png\"\n              alt=\"Claw AI\"\n              className=\"w-full h-full object-cover\"\n            />\n          </motion.div>\n        </div>\n\n        {/* Ripple effects */}\n        <AnimatePresence>\n          {ripples.map((ripple) => (\n            <motion.div\n              key={ripple.id}\n              className=\"absolute rounded-full pointer-events-none\"\n              style={{\n                left: '50%',\n                top: '50%',\n                x: '-50%',\n                y: '-50%',\n                background: 'radial-gradient(circle, hsl(var(--theme-primary-foreground) / 0.5) 0%, transparent 70%)',\n              }}\n              initial={{ width: 0, height: 0, opacity: 0.8 }}\n              animate={{ width: 80, height: 80, opacity: 0 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.6, ease: 'easeOut' }}\n            />\n          ))}\n        </AnimatePresence>\n\n        {/* Notification indicator - iOS style with count and pulse */}\n        <AnimatePresence>\n          {(hasNotification || notificationCount > 0) && (\n            <motion.div className=\"absolute -top-1 -right-1\">\n              {/* Pulse ring for attention */}\n              {!prefersReducedMotion && (\n                <motion.div\n                  className=\"absolute inset-0 bg-red-500 rounded-full\"\n                  style={{\n                    minWidth: notificationCount > 9 ? '22px' : '18px',\n                    height: notificationCount > 9 ? '22px' : '18px',\n                  }}\n                  animate={{\n                    scale: [1, 1.6, 1],\n                    opacity: [0.5, 0, 0.5],\n                  }}\n                  transition={{\n                    duration: 1.2,\n                    repeat: Infinity,\n                    ease: 'easeOut',\n                  }}\n                />\n              )}\n              {/* Main badge */}\n              <motion.div\n                className=\"relative rounded-full flex items-center justify-center font-bold text-white shadow-lg\"\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                exit={{ scale: 0 }}\n                style={{\n                  backgroundColor: '#ef4444',\n                  boxShadow: '0 0 12px rgba(239, 68, 68, 0.6)',\n                  minWidth: notificationCount > 9 ? '22px' : '18px',\n                  height: notificationCount > 9 ? '22px' : '18px',\n                  padding: notificationCount > 9 ? '0 5px' : '0',\n                  fontSize: notificationCount > 9 ? '9px' : '10px',\n                }}\n              >\n                {notificationCount > 0 ? (notificationCount > 99 ? '99+' : notificationCount) : '!'}\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </motion.button>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/LiquidGlassChatOverlay.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence, useReducedMotion, PanInfo } from 'framer-motion';\nimport { Send, ChevronDown, Trash2, Mic, Loader2, Volume2, VolumeX, Sparkles, Phone, Paperclip, Wrench, Check, AlertCircle } from 'lucide-react';\nimport { useFileAttachment } from '@/hooks/useFileAttachment';\nimport { AttachmentPreview, HiddenFileInput } from '@/components/chat/AttachmentButton';\nimport { ClawAIAvatar } from '@/components/claw-ai/ClawAIAvatar';\nimport { Streamdown } from 'streamdown';\nimport { useSessionBrain } from '@/context/SessionBrainContext';\nimport { useAppContext } from '@/context/AppContext';\nimport { useVoiceRecorder } from '@/hooks/useVoiceRecorder';\nimport { useVoiceChat } from '@/hooks/useVoiceChat';\nimport { usePauseMusicForVoice } from '@/hooks/usePauseMusicForVoice';\nimport { VoiceRecordingIndicator } from '@/components/claw-ai/VoiceRecordingIndicator';\nimport { VoiceCallScreen, useVoiceCall, VoiceOverlay } from '@/components/voice-call';\nimport { useVoiceMode } from '@/hooks/useVoiceMode';\nimport '@/lib/themes/themes.css';\n\ninterface LiquidGlassChatOverlayProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface ToolUsed {\n  name: string;\n  result?: { success: boolean; data?: unknown; error?: string };\n}\n\ninterface Message {\n  id: string;\n  role: 'assistant' | 'user';\n  content: string;\n  timestamp: number;\n  toolsUsed?: ToolUsed[];\n}\n\n// Dynamic initial message based on context\nfunction getInitialMessage(appName?: string, appDescription?: string): Message {\n  let content = \"Hey! I'm Claw AI. Tell me what you're building or what brings you here today.\";\n\n  if (appName && appName !== 'Home') {\n    content = `Hey! I see you're in ${appName}. ${appDescription ? `That's the ${appDescription.toLowerCase()}. ` : ''}How can I help you here?`;\n  }\n\n  return {\n    id: 'initial',\n    role: 'assistant',\n    content,\n    timestamp: Date.now(),\n  };\n}\n\nexport function LiquidGlassChatOverlay({ isOpen, onClose }: LiquidGlassChatOverlayProps) {\n  const prefersReducedMotion = useReducedMotion();\n  const {\n    session,\n    addChatMessage,\n    clearChatHistory,\n    getChatHistory,\n  } = useSessionBrain();\n\n  // Get current app context for awareness\n  const { currentApp, suggestedPrompts, contextHints, currentRoute } = useAppContext();\n\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [isTranscribing, setIsTranscribing] = useState(false);\n  const [localMessages, setLocalMessages] = useState<Message[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(true);\n\n  // Memoized initial message based on current app\n  const initialMessage = useMemo(\n    () => getInitialMessage(currentApp?.name, currentApp?.description),\n    [currentApp?.name, currentApp?.description]\n  );\n\n  // Build app context payload for API\n  const appContextPayload = useMemo(() => {\n    if (!currentApp) return null;\n    return {\n      appId: currentApp.id,\n      appName: currentApp.name,\n      route: currentRoute,\n      description: currentApp.description,\n      contextHints,\n    };\n  }, [currentApp, currentRoute, contextHints]);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Voice recorder for iMessage/WhatsApp style voice messages\n  const voiceRecorder = useVoiceRecorder({\n    maxDuration: 120,\n    levelsCount: 16,\n  });\n\n  // Voice chat for TTS responses (uses ElevenLabs by default)\n  const voiceChat = useVoiceChat({\n    voice: 'nova',\n    autoSpeak: true,\n  });\n\n  // Pause music when recording or AI is speaking\n  usePauseMusicForVoice({\n    isRecording: voiceRecorder.isRecording,\n    isSpeaking: voiceChat.mode === 'speaking',\n    isTranscribing,\n  });\n\n  // Voice call for real-time conversation (FaceTime-style)\n  const [voiceCallState, voiceCallActions] = useVoiceCall();\n  const [isCallScreenOpen, setIsCallScreenOpen] = useState(false);\n\n  const handleStartCall = useCallback(async () => {\n    setIsCallScreenOpen(true);\n    await voiceCallActions.startCall();\n  }, [voiceCallActions]);\n\n  const handleEndCall = useCallback(() => {\n    voiceCallActions.endCall();\n  }, [voiceCallActions]);\n\n  const handleCloseCallScreen = useCallback(() => {\n    setIsCallScreenOpen(false);\n  }, []);\n\n  // New voice mode (Claude-style with ambient glow and tap-anywhere)\n  const [isVoiceModeOpen, setIsVoiceModeOpen] = useState(false);\n\n  // File attachment support\n  const fileAttachment = useFileAttachment({\n    maxFiles: 5,\n    maxSizeBytes: 10 * 1024 * 1024, // 10MB\n    onError: (error) => console.error('[Chat] Attachment error:', error),\n  });\n\n  const voiceMode = useVoiceMode({\n    onTranscriptUpdate: (transcript) => {\n      console.log('[VoiceMode] Transcript:', transcript);\n    },\n    onResponseStart: () => {\n      console.log('[VoiceMode] AI response starting');\n    },\n    onResponseEnd: (response) => {\n      console.log('[VoiceMode] AI response complete');\n      // Add messages to chat history\n      if (voiceMode.transcript) {\n        addChatMessage('user', voiceMode.transcript);\n      }\n      if (response) {\n        addChatMessage('assistant', response);\n      }\n    },\n    onError: (error) => {\n      console.error('[VoiceMode] Error:', error);\n    },\n  });\n\n  const handleStartVoiceMode = useCallback(async () => {\n    setIsVoiceModeOpen(true);\n    await voiceMode.start();\n  }, [voiceMode]);\n\n  const handleVoiceModeTap = useCallback(() => {\n    if (voiceMode.state === 'listening') {\n      voiceMode.send();\n    } else if (voiceMode.state === 'speaking') {\n      voiceMode.interrupt();\n    }\n  }, [voiceMode]);\n\n  const handleCloseVoiceMode = useCallback(() => {\n    voiceMode.stop();\n    setIsVoiceModeOpen(false);\n  }, [voiceMode]);\n\n  // Sync with SessionBrain on mount and when chat history changes\n  useEffect(() => {\n    const history = getChatHistory();\n    if (history.length > 0) {\n      const mapped = history.map((msg) => ({\n        id: msg.id,\n        role: msg.role as 'assistant' | 'user',\n        content: msg.content,\n        timestamp: msg.timestamp,\n      }));\n      setLocalMessages(mapped);\n      setShowSuggestions(false); // Hide suggestions once conversation started\n    } else {\n      setLocalMessages([initialMessage]);\n      setShowSuggestions(true);\n    }\n  }, [getChatHistory, session.chatHistory, initialMessage]);\n\n  const scrollToBottom = useCallback(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [localMessages, scrollToBottom]);\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => inputRef.current?.focus(), 300);\n    }\n  }, [isOpen]);\n\n  // Handle Escape key to close the overlay\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        e.preventDefault();\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, onClose]);\n\n  const handleSend = async () => {\n    const hasText = inputValue.trim().length > 0;\n    const hasAttachments = fileAttachment.hasAttachments;\n\n    if (!hasText && !hasAttachments) return;\n\n    const userContent = inputValue.trim();\n    const attachments = fileAttachment.attachments;\n\n    // Clear input and attachments\n    setInputValue('');\n    fileAttachment.clearAttachments();\n    setShowSuggestions(false); // Hide suggestions after first message\n\n    // Build message content including attachment info\n    let displayContent = userContent;\n    if (attachments.length > 0) {\n      const attachmentNames = attachments.map(a => a.name).join(', ');\n      displayContent = userContent\n        ? `${userContent}\\n\\n[Attached: ${attachmentNames}]`\n        : `[Attached: ${attachmentNames}]`;\n    }\n\n    // Add user message\n    const userMessage = addChatMessage('user', displayContent);\n    setLocalMessages((prev) => [\n      ...prev,\n      {\n        id: userMessage.id,\n        role: 'user',\n        content: displayContent,\n        timestamp: userMessage.timestamp,\n      },\n    ]);\n\n    setIsTyping(true);\n\n    // Get attachments as base64 for API\n    const attachmentsBase64 = await fileAttachment.getAttachmentsAsBase64();\n\n    // Call API for response - include app context so James knows what's behind the chat\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          messages: [\n            ...localMessages.map((m) => ({ role: m.role, content: m.content })),\n            { role: 'user', content: userContent || 'Please analyze the attached files.' },\n          ],\n          model: 'qualification',\n          enableTools: true, // Enable tools for hybrid provider\n          appContext: appContextPayload,\n          attachments: attachmentsBase64.length > 0 ? attachmentsBase64 : undefined,\n        }),\n      });\n\n      let assistantContent = \"I'm having trouble connecting right now. Let me try again in a moment.\";\n      let toolsUsed: ToolUsed[] | undefined;\n\n      if (response.ok) {\n        const data = await response.json();\n        assistantContent = data.message || data.content || assistantContent;\n        // Capture tools used from the response\n        if (data.toolsUsed && Array.isArray(data.toolsUsed) && data.toolsUsed.length > 0) {\n          toolsUsed = data.toolsUsed.map((t: { name: string; result?: unknown }) => ({\n            name: t.name,\n            result: t.result ? { success: true, data: t.result } : undefined,\n          }));\n        }\n      }\n\n      const assistantMessage = addChatMessage('assistant', assistantContent);\n      setLocalMessages((prev) => [\n        ...prev,\n        {\n          id: assistantMessage.id,\n          role: 'assistant',\n          content: assistantContent,\n          timestamp: assistantMessage.timestamp,\n          toolsUsed,\n        },\n      ]);\n\n      // Speak the response if voice is enabled\n      if (voiceChat.isVoiceEnabled) {\n        voiceChat.speakResponse(assistantContent);\n      }\n    } catch {\n      const fallbackContent = \"I'm having trouble connecting right now. Please try again in a moment.\";\n      const assistantMessage = addChatMessage('assistant', fallbackContent);\n      setLocalMessages((prev) => [\n        ...prev,\n        {\n          id: assistantMessage.id,\n          role: 'assistant',\n          content: fallbackContent,\n          timestamp: assistantMessage.timestamp,\n        },\n      ]);\n\n      // Speak fallback if voice is enabled\n      if (voiceChat.isVoiceEnabled) {\n        voiceChat.speakResponse(fallbackContent);\n      }\n    }\n\n    setIsTyping(false);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleClearChat = () => {\n    clearChatHistory();\n    setLocalMessages([initialMessage]);\n    setShowSuggestions(true);\n  };\n\n  // Handle sending message with specific text (for voice transcription)\n  const handleSendWithText = useCallback(async (text: string) => {\n    if (!text.trim()) return;\n\n    const userContent = text.trim();\n    setShowSuggestions(false); // Hide suggestions after first message\n\n    // Add user message\n    const userMessage = addChatMessage('user', userContent);\n    setLocalMessages((prev) => [\n      ...prev,\n      {\n        id: userMessage.id,\n        role: 'user',\n        content: userContent,\n        timestamp: userMessage.timestamp,\n      },\n    ]);\n\n    setIsTyping(true);\n\n    // Call API for response - include app context so James knows what's behind the chat\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          messages: [\n            ...localMessages.map((m) => ({ role: m.role, content: m.content })),\n            { role: 'user', content: userContent },\n          ],\n          model: 'qualification',\n          enableTools: true, // Enable tools for hybrid provider\n          appContext: appContextPayload,\n        }),\n      });\n\n      let assistantContent = \"I'm having trouble connecting right now. Let me try again in a moment.\";\n      let toolsUsedVoice: ToolUsed[] | undefined;\n\n      if (response.ok) {\n        const data = await response.json();\n        assistantContent = data.message || data.content || assistantContent;\n        // Capture tools used from the response\n        if (data.toolsUsed && Array.isArray(data.toolsUsed) && data.toolsUsed.length > 0) {\n          toolsUsedVoice = data.toolsUsed.map((t: { name: string; result?: unknown }) => ({\n            name: t.name,\n            result: t.result ? { success: true, data: t.result } : undefined,\n          }));\n        }\n      }\n\n      const assistantMessage = addChatMessage('assistant', assistantContent);\n      setLocalMessages((prev) => [\n        ...prev,\n        {\n          id: assistantMessage.id,\n          role: 'assistant',\n          content: assistantContent,\n          timestamp: assistantMessage.timestamp,\n          toolsUsed: toolsUsedVoice,\n        },\n      ]);\n\n      // Speak the response if voice is enabled\n      if (voiceChat.isVoiceEnabled) {\n        voiceChat.speakResponse(assistantContent);\n      }\n    } catch {\n      const fallbackContent = \"I'm having trouble connecting right now. Please try again in a moment.\";\n      const assistantMessage = addChatMessage('assistant', fallbackContent);\n      setLocalMessages((prev) => [\n        ...prev,\n        {\n          id: assistantMessage.id,\n          role: 'assistant',\n          content: fallbackContent,\n          timestamp: assistantMessage.timestamp,\n        },\n      ]);\n\n      // Speak fallback if voice is enabled\n      if (voiceChat.isVoiceEnabled) {\n        voiceChat.speakResponse(fallbackContent);\n      }\n    }\n\n    setIsTyping(false);\n  }, [localMessages, addChatMessage, voiceChat, appContextPayload]);\n\n  // Handle voice recording completion - transcribe and send\n  const handleVoiceRecordingComplete = useCallback(async () => {\n    const audioBlob = await voiceRecorder.stopRecording();\n    if (!audioBlob || audioBlob.size === 0) {\n      return;\n    }\n\n    setIsTranscribing(true);\n\n    try {\n      const formData = new FormData();\n      formData.append('audio', audioBlob, 'recording.webm');\n      formData.append('language', 'en');\n\n      const response = await fetch('/api/whisper', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Transcription failed');\n      }\n\n      const { text } = await response.json();\n\n      if (text && text.trim()) {\n        await handleSendWithText(text.trim());\n      }\n    } catch (error) {\n      console.error('[Voice] Transcription error:', error);\n    } finally {\n      setIsTranscribing(false);\n    }\n  }, [voiceRecorder, handleSendWithText]);\n\n  // Toggle voice recording\n  const handleMicToggle = useCallback(async () => {\n    if (voiceRecorder.isRecording) {\n      await handleVoiceRecordingComplete();\n    } else {\n      await voiceRecorder.startRecording();\n    }\n  }, [voiceRecorder, handleVoiceRecordingComplete]);\n\n  const handleDragEnd = (_: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    if (info.offset.y > 100 || info.velocity.y > 500) {\n      onClose();\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            key=\"chat-backdrop\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            onClick={onClose}\n            className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40\"\n          />\n\n          {/* Chat Sheet */}\n          <motion.div\n            key=\"chat-sheet\"\n            ref={containerRef}\n            initial={{ y: '100%', opacity: 0.5 }}\n            animate={{ y: 0, opacity: 1 }}\n            exit={{ y: '100%', opacity: 0.5 }}\n            transition={\n              prefersReducedMotion\n                ? { duration: 0.2 }\n                : { type: 'spring' as const, damping: 30, stiffness: 300 }\n            }\n            drag=\"y\"\n            dragConstraints={{ top: 0, bottom: 0 }}\n            dragElastic={0.2}\n            onDragEnd={handleDragEnd}\n            className=\"fixed inset-x-0 bottom-0 z-50 flex flex-col max-h-[85vh] sm:max-h-[70vh] touch-none px-2 sm:px-4\"\n            style={{ paddingBottom: 'env(safe-area-inset-bottom, 0px)' }}\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"chat-dialog-title\"\n            aria-describedby=\"chat-dialog-description\"\n          >\n            {/* Glass container */}\n            <div\n              className=\"flex flex-col h-full overflow-hidden rounded-t-3xl border border-border/30 border-b-0 bg-background/95\"\n              style={{\n                backdropFilter: 'blur(40px) saturate(180%)',\n                WebkitBackdropFilter: 'blur(40px) saturate(180%)',\n                boxShadow: '0 -10px 40px hsl(var(--theme-background) / 0.3), inset 0 1px 0 hsl(var(--theme-foreground) / 0.05)',\n              }}\n            >\n              {/* Drag handle - transparent area */}\n              <div\n                className=\"flex justify-center pt-3 pb-1 cursor-grab active:cursor-grabbing\"\n                style={{ background: 'transparent' }}\n              >\n                <div className=\"w-10 h-1 bg-muted-foreground/40 rounded-full\" />\n              </div>\n\n              {/* Header - more transparent, becomes glass on scroll */}\n              <div\n                className=\"flex items-center justify-between px-4 py-3 border-b border-border/30\"\n                style={{ background: 'hsl(var(--theme-card) / 0.5)' }}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <ClawAIAvatar\n                    size={40}\n                    isActive={isTyping || voiceChat.mode === 'speaking'}\n                  />\n                  <div>\n                    <h3 id=\"chat-dialog-title\" className=\"text-foreground font-semibold text-base\">Claw AI</h3>\n                    <div className=\"flex items-center gap-1.5\">\n                      <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\" aria-hidden=\"true\" />\n                      <p id=\"chat-dialog-description\" className=\"text-muted-foreground text-xs\">Online</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  {/* Voice mode button (Claude-style ambient) */}\n                  <motion.button\n                    onClick={handleStartVoiceMode}\n                    disabled={isVoiceModeOpen || voiceCallState.status !== 'idle'}\n                    className=\"p-2 rounded-full hover:bg-muted transition-colors group text-muted-foreground hover:text-primary disabled:opacity-50\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.95 }}\n                    aria-label=\"Start voice mode with Claw AI\"\n                  >\n                    <Phone className=\"w-4 h-4\" />\n                  </motion.button>\n\n                  {/* Speaker toggle for TTS */}\n                  <motion.button\n                    onClick={voiceChat.toggleVoice}\n                    className={`p-2 rounded-full hover:bg-muted transition-colors group ${\n                      voiceChat.isVoiceEnabled ? 'text-green-400' : 'text-muted-foreground'\n                    }`}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label={voiceChat.isVoiceEnabled ? 'Disable voice responses' : 'Enable voice responses'}\n                  >\n                    {voiceChat.isVoiceEnabled ? (\n                      <Volume2 className=\"w-4 h-4\" />\n                    ) : (\n                      <VolumeX className=\"w-4 h-4 group-hover:text-foreground/60\" />\n                    )}\n                  </motion.button>\n\n                  {localMessages.length > 1 && (\n                    <motion.button\n                      onClick={handleClearChat}\n                      className=\"p-2 rounded-full hover:bg-muted transition-colors group text-muted-foreground\"\n                      whileTap={{ scale: 0.9 }}\n                      aria-label=\"Clear chat\"\n                    >\n                      <Trash2 className=\"w-4 h-4 group-hover:text-foreground/60\" />\n                    </motion.button>\n                  )}\n                  <motion.button\n                    onClick={onClose}\n                    className=\"p-2 rounded-full hover:bg-muted transition-colors text-muted-foreground\"\n                    whileTap={{ scale: 0.9 }}\n                    aria-label=\"Close chat\"\n                  >\n                    <ChevronDown className=\"w-5 h-5\" />\n                  </motion.button>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div\n                className=\"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-3 min-h-[200px]\"\n                style={{\n                  background: 'linear-gradient(180deg, transparent 0%, hsl(var(--theme-background) / 0.3) 100%)',\n                }}\n              >\n                {localMessages.map((message, index) => (\n                <motion.div\n                  key={message.id}\n                  initial={prefersReducedMotion ? {} : { opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div\n                    className={`max-w-[85%] rounded-2xl px-4 py-3 ${\n                      message.role === 'user'\n                        ? 'text-primary-foreground'\n                        : 'bg-card/80 text-card-foreground border border-border/50'\n                    }`}\n                    style={{\n                      backdropFilter: message.role === 'assistant' ? 'blur(10px)' : undefined,\n                      background: message.role === 'user'\n                        ? 'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)'\n                        : undefined,\n                      boxShadow: message.role === 'user'\n                        ? '0 4px 12px hsl(var(--theme-primary) / 0.3)'\n                        : undefined,\n                    }}\n                  >\n                    {message.role === 'assistant' ? (\n                      <>\n                        <div className=\"text-sm leading-relaxed break-words prose prose-sm max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5 prose-code:text-xs prose-code:bg-muted prose-code:text-foreground prose-pre:my-2 prose-pre:bg-muted prose-pre:rounded-lg\">\n                          <Streamdown>{message.content}</Streamdown>\n                        </div>\n                        {/* Tool execution indicators */}\n                        {message.toolsUsed && message.toolsUsed.length > 0 && (\n                          <div className=\"mt-2 pt-2 border-t border-border/30 flex flex-wrap gap-1.5\">\n                            {message.toolsUsed.map((tool, i) => (\n                              <span\n                                key={`${tool.name}-${i}`}\n                                className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-muted/80 text-muted-foreground text-xs\"\n                              >\n                                {tool.result?.success ? (\n                                  <Check className=\"w-3 h-3 text-green-500\" />\n                                ) : tool.result?.error ? (\n                                  <AlertCircle className=\"w-3 h-3 text-destructive\" />\n                                ) : (\n                                  <Wrench className=\"w-3 h-3\" />\n                                )}\n                                {tool.name.replace(/_/g, ' ')}\n                              </span>\n                            ))}\n                          </div>\n                        )}\n                      </>\n                    ) : (\n                      <p className=\"text-sm leading-relaxed break-words whitespace-pre-wrap\">\n                        {message.content}\n                      </p>\n                    )}\n                  </div>\n                </motion.div>\n              ))}\n\n                {/* Suggested prompts - show when chat just started */}\n                <AnimatePresence>\n                  {showSuggestions && suggestedPrompts.length > 0 && localMessages.length <= 1 && !isTyping && (\n                    <motion.div\n                      initial={{ opacity: 0, y: 10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      exit={{ opacity: 0, y: -10 }}\n                      className=\"flex flex-wrap gap-2 py-2\"\n                    >\n                      {suggestedPrompts.slice(0, 3).map((prompt, i) => (\n                        <motion.button\n                          key={i}\n                          onClick={() => {\n                            setInputValue(prompt.prompt);\n                            inputRef.current?.focus();\n                          }}\n                          className=\"flex items-center gap-1.5 px-3 py-2 rounded-full bg-muted hover:bg-muted/80 text-muted-foreground hover:text-foreground text-xs transition-all backdrop-blur-sm border border-border/50\"\n                          whileHover={{ scale: 1.02 }}\n                          whileTap={{ scale: 0.98 }}\n                          initial={{ opacity: 0, scale: 0.9 }}\n                          animate={{ opacity: 1, scale: 1 }}\n                          transition={{ delay: i * 0.1 }}\n                        >\n                          <Sparkles className=\"w-3 h-3\" />\n                          {prompt.label}\n                        </motion.button>\n                      ))}\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n\n                {/* Typing indicator */}\n                {isTyping && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"flex justify-start\"\n                  >\n                    <div className=\"bg-card/80 border border-border/50 rounded-2xl px-4 py-3 backdrop-blur-sm\">\n                      <div className=\"flex gap-1.5\">\n                        <motion.span\n                          className=\"w-2 h-2 bg-muted-foreground rounded-full\"\n                          animate={{ y: [0, -4, 0] }}\n                          transition={{ duration: 0.6, repeat: Infinity, delay: 0 }}\n                        />\n                        <motion.span\n                          className=\"w-2 h-2 bg-muted-foreground rounded-full\"\n                          animate={{ y: [0, -4, 0] }}\n                          transition={{ duration: 0.6, repeat: Infinity, delay: 0.15 }}\n                        />\n                        <motion.span\n                          className=\"w-2 h-2 bg-muted-foreground rounded-full\"\n                          animate={{ y: [0, -4, 0] }}\n                          transition={{ duration: 0.6, repeat: Infinity, delay: 0.3 }}\n                        />\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Input area */}\n              <div\n                className=\"p-4 border-t border-border/30\"\n                style={{\n                  paddingBottom: 'max(1rem, calc(env(safe-area-inset-bottom, 0px) + 0.5rem))',\n                  background: 'hsl(var(--theme-card) / 0.3)',\n                }}\n              >\n                {/* Transcribing indicator */}\n                <AnimatePresence>\n                  {isTranscribing && (\n                    <motion.div\n                      initial={{ opacity: 0, height: 0 }}\n                      animate={{ opacity: 1, height: 'auto' }}\n                      exit={{ opacity: 0, height: 0 }}\n                      className=\"mb-3\"\n                    >\n                      <div className=\"bg-muted rounded-xl px-4 py-3 border border-border\">\n                        <div className=\"flex items-center gap-2\">\n                          <Loader2 className=\"w-4 h-4 text-primary animate-spin\" />\n                          <span className=\"text-muted-foreground text-sm\">\n                            Transcribing your message...\n                          </span>\n                        </div>\n                      </div>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n\n                {/* Hidden file input */}\n                <HiddenFileInput\n                  inputRef={fileAttachment.fileInputRef}\n                  onChange={fileAttachment.handleFileInputChange}\n                  accept={fileAttachment.acceptedTypesString}\n                />\n\n                {/* Attachment preview */}\n                <AnimatePresence>\n                  {fileAttachment.hasAttachments && (\n                    <motion.div\n                      initial={{ opacity: 0, height: 0 }}\n                      animate={{ opacity: 1, height: 'auto' }}\n                      exit={{ opacity: 0, height: 0 }}\n                      className=\"mb-2\"\n                    >\n                      <AttachmentPreview\n                        attachments={fileAttachment.attachments}\n                        onRemove={fileAttachment.removeAttachment}\n                        formatFileSize={fileAttachment.formatFileSize}\n                        variant=\"glass\"\n                      />\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n\n                <div className=\"flex items-center gap-3\">\n                  {/* Attachment button */}\n                  <motion.button\n                    onClick={fileAttachment.openFilePicker}\n                    disabled={isTranscribing || isTyping || voiceRecorder.isRecording}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    className=\"p-3 rounded-full transition-all flex-shrink-0 bg-muted text-muted-foreground hover:bg-muted/80 hover:text-foreground disabled:opacity-50\"\n                    aria-label=\"Attach file\"\n                  >\n                    <Paperclip className=\"w-5 h-5\" />\n                  </motion.button>\n\n                  {/* Microphone button */}\n                  {voiceRecorder.isSupported && (\n                    <motion.button\n                      onClick={handleMicToggle}\n                      disabled={isTranscribing || isTyping}\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                      className={`p-3 rounded-full transition-all flex-shrink-0 ${\n                        voiceRecorder.isRecording\n                          ? 'bg-destructive text-destructive-foreground'\n                          : isTranscribing\n                          ? 'bg-primary/20 text-primary'\n                          : 'bg-muted text-muted-foreground hover:bg-muted/80 hover:text-foreground'\n                      }`}\n                      aria-label={voiceRecorder.isRecording ? 'Stop recording' : 'Start voice message'}\n                    >\n                      {isTranscribing ? (\n                        <Loader2 className=\"w-5 h-5 animate-spin\" />\n                      ) : (\n                        <Mic className=\"w-5 h-5\" />\n                      )}\n                    </motion.button>\n                  )}\n\n                  {/* Recording indicator or input field */}\n                  <AnimatePresence mode=\"wait\">\n                    {voiceRecorder.isRecording ? (\n                      <motion.div\n                        key=\"recording\"\n                        className=\"flex-1 flex items-center\"\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                      >\n                        <VoiceRecordingIndicator\n                          isRecording={voiceRecorder.isRecording}\n                          duration={voiceRecorder.duration}\n                          audioLevels={voiceRecorder.audioLevels}\n                          className=\"flex-1\"\n                        />\n                      </motion.div>\n                    ) : (\n                      <motion.div\n                        key=\"input\"\n                        className=\"flex-1\"\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                      >\n                        <input\n                          ref={inputRef}\n                          type=\"text\"\n                          value={inputValue}\n                          onChange={(e) => setInputValue(e.target.value)}\n                          onKeyDown={handleKeyPress}\n                          placeholder=\"Message Claw AI...\"\n                          disabled={isTranscribing}\n                          className=\"w-full bg-muted rounded-full px-4 py-3 text-foreground text-base placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all border border-border/50\"\n                          style={{\n                            backdropFilter: 'blur(10px)',\n                          }}\n                        />\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n\n                  {/* Send button - hidden during recording */}\n                  <AnimatePresence>\n                    {!voiceRecorder.isRecording && (\n                      <motion.button\n                        onClick={handleSend}\n                        disabled={(!inputValue.trim() && !fileAttachment.hasAttachments) || isTranscribing}\n                        whileHover={(inputValue.trim() || fileAttachment.hasAttachments) && !isTranscribing ? { scale: 1.05 } : {}}\n                        whileTap={(inputValue.trim() || fileAttachment.hasAttachments) && !isTranscribing ? { scale: 0.95 } : {}}\n                        initial={{ opacity: 0, scale: 0.8 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        exit={{ opacity: 0, scale: 0.8 }}\n                        className={`p-3 rounded-full transition-all flex-shrink-0 ${\n                          (inputValue.trim() || fileAttachment.hasAttachments) && !isTranscribing\n                            ? 'bg-primary text-primary-foreground'\n                            : 'bg-muted text-muted-foreground'\n                        }`}\n                        style={(inputValue.trim() || fileAttachment.hasAttachments) && !isTranscribing ? {\n                          boxShadow: '0 4px 15px hsl(var(--theme-primary) / 0.4)',\n                        } : undefined}\n                        aria-label=\"Send message\"\n                      >\n                        <Send className=\"w-5 h-5\" />\n                      </motion.button>\n                    )}\n                  </AnimatePresence>\n                </div>\n\n                {/* Voice error messages */}\n                <AnimatePresence>\n                  {(voiceRecorder.error || voiceChat.error) && (\n                    <motion.p\n                      initial={{ opacity: 0, y: -10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      exit={{ opacity: 0, y: -10 }}\n                      className=\"mt-2 text-xs text-destructive text-center\"\n                    >\n                      {voiceRecorder.error?.message || voiceChat.error?.message}\n                    </motion.p>\n                  )}\n                </AnimatePresence>\n              </div>\n            </div>\n          </motion.div>\n        </>\n      )}\n\n      {/* Voice Mode Overlay (Claude-style ambient) */}\n      <VoiceOverlay\n        key=\"voice-mode-overlay\"\n        isOpen={isVoiceModeOpen}\n        state={voiceMode.state}\n        onTapAnywhere={handleVoiceModeTap}\n        onClose={handleCloseVoiceMode}\n        audioIntensity={voiceMode.audioIntensity}\n        transcript={voiceMode.transcript}\n        response={voiceMode.response}\n      />\n\n      {/* Legacy Voice Call Screen (FaceTime-style) - keeping for potential A/B testing */}\n      <VoiceCallScreen\n        key=\"voice-call-screen\"\n        isOpen={isCallScreenOpen}\n        onClose={handleCloseCallScreen}\n        status={voiceCallState.status === 'idle' ? 'connecting' : voiceCallState.status}\n        duration={voiceCallState.duration}\n        isMuted={voiceCallState.isMuted}\n        isSpeakerOn={voiceCallState.isSpeakerOn}\n        userAudioLevels={voiceCallState.userAudioLevels}\n        aiAudioLevels={voiceCallState.aiAudioLevels}\n        onToggleMute={voiceCallActions.toggleMute}\n        onToggleSpeaker={voiceCallActions.toggleSpeaker}\n        onEndCall={handleEndCall}\n      />\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAhBA;;;;;;;;;;;;;;;;;;AAqCA,2CAA2C;AAC3C,SAAS,kBAAkB,OAAgB,EAAE,cAAuB;IAClE,IAAI,UAAU;IAEd,IAAI,WAAW,YAAY,QAAQ;QACjC,UAAU,CAAC,qBAAqB,EAAE,QAAQ,EAAE,EAAE,iBAAiB,CAAC,WAAW,EAAE,eAAe,WAAW,GAAG,EAAE,CAAC,GAAG,GAAG,wBAAwB,CAAC;IAC9I;IAEA,OAAO;QACL,IAAI;QACJ,MAAM;QACN;QACA,WAAW,KAAK,GAAG;IACrB;AACF;AAEO,SAAS,uBAAuB,EAAE,MAAM,EAAE,OAAO,EAA+B;IACrF,MAAM,uBAAuB,IAAA,yWAAgB;IAC7C,MAAM,EACJ,OAAO,EACP,cAAc,EACd,gBAAgB,EAChB,cAAc,EACf,GAAG,IAAA,yJAAe;IAEnB,wCAAwC;IACxC,MAAM,EAAE,UAAU,EAAE,gBAAgB,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,IAAA,8IAAa;IAElF,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0ZAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0ZAAQ,EAAC;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,0ZAAQ,EAAC;IACrD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,0ZAAQ,EAAY,EAAE;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,0ZAAQ,EAAC;IAEvD,gDAAgD;IAChD,MAAM,iBAAiB,IAAA,yZAAO,EAC5B,IAAM,kBAAkB,YAAY,MAAM,YAAY,cACtD;QAAC,YAAY;QAAM,YAAY;KAAY;IAG7C,oCAAoC;IACpC,MAAM,oBAAoB,IAAA,yZAAO,EAAC;QAChC,IAAI,CAAC,YAAY,OAAO;QACxB,OAAO;YACL,OAAO,WAAW,EAAE;YACpB,SAAS,WAAW,IAAI;YACxB,OAAO;YACP,aAAa,WAAW,WAAW;YACnC;QACF;IACF,GAAG;QAAC;QAAY;QAAc;KAAa;IAC3C,MAAM,iBAAiB,IAAA,wZAAM,EAAiB;IAC9C,MAAM,WAAW,IAAA,wZAAM,EAAmB;IAC1C,MAAM,eAAe,IAAA,wZAAM,EAAiB;IAE5C,4DAA4D;IAC5D,MAAM,gBAAgB,IAAA,oJAAgB,EAAC;QACrC,aAAa;QACb,aAAa;IACf;IAEA,4DAA4D;IAC5D,MAAM,YAAY,IAAA,4IAAY,EAAC;QAC7B,OAAO;QACP,WAAW;IACb;IAEA,+CAA+C;IAC/C,IAAA,8JAAqB,EAAC;QACpB,aAAa,cAAc,WAAW;QACtC,YAAY,UAAU,IAAI,KAAK;QAC/B;IACF;IAEA,yDAAyD;IACzD,MAAM,CAAC,gBAAgB,iBAAiB,GAAG,IAAA,kKAAY;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,0ZAAQ,EAAC;IAEzD,MAAM,kBAAkB,IAAA,6ZAAW,EAAC;QAClC,oBAAoB;QACpB,MAAM,iBAAiB,SAAS;IAClC,GAAG;QAAC;KAAiB;IAErB,MAAM,gBAAgB,IAAA,6ZAAW,EAAC;QAChC,iBAAiB,OAAO;IAC1B,GAAG;QAAC;KAAiB;IAErB,MAAM,wBAAwB,IAAA,6ZAAW,EAAC;QACxC,oBAAoB;IACtB,GAAG,EAAE;IAEL,mEAAmE;IACnE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,0ZAAQ,EAAC;IAEvD,0BAA0B;IAC1B,MAAM,iBAAiB,IAAA,sJAAiB,EAAC;QACvC,UAAU;QACV,cAAc,KAAK,OAAO;QAC1B,SAAS,CAAC,QAAU,QAAQ,KAAK,CAAC,4BAA4B;IAChE;IAEA,MAAM,YAAY,IAAA,4IAAY,EAAC;QAC7B,oBAAoB,CAAC;YACnB,QAAQ,GAAG,CAAC,2BAA2B;QACzC;QACA,iBAAiB;YACf,QAAQ,GAAG,CAAC;QACd;QACA,eAAe,CAAC;YACd,QAAQ,GAAG,CAAC;YACZ,+BAA+B;YAC/B,IAAI,UAAU,UAAU,EAAE;gBACxB,eAAe,QAAQ,UAAU,UAAU;YAC7C;YACA,IAAI,UAAU;gBACZ,eAAe,aAAa;YAC9B;QACF;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC,sBAAsB;QACtC;IACF;IAEA,MAAM,uBAAuB,IAAA,6ZAAW,EAAC;QACvC,mBAAmB;QACnB,MAAM,UAAU,KAAK;IACvB,GAAG;QAAC;KAAU;IAEd,MAAM,qBAAqB,IAAA,6ZAAW,EAAC;QACrC,IAAI,UAAU,KAAK,KAAK,aAAa;YACnC,UAAU,IAAI;QAChB,OAAO,IAAI,UAAU,KAAK,KAAK,YAAY;YACzC,UAAU,SAAS;QACrB;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,uBAAuB,IAAA,6ZAAW,EAAC;QACvC,UAAU,IAAI;QACd,mBAAmB;IACrB,GAAG;QAAC;KAAU;IAEd,gEAAgE;IAChE,IAAA,2ZAAS,EAAC;QACR,MAAM,UAAU;QAChB,IAAI,QAAQ,MAAM,GAAG,GAAG;YACtB,MAAM,SAAS,QAAQ,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACnC,IAAI,IAAI,EAAE;oBACV,MAAM,IAAI,IAAI;oBACd,SAAS,IAAI,OAAO;oBACpB,WAAW,IAAI,SAAS;gBAC1B,CAAC;YACD,iBAAiB;YACjB,mBAAmB,QAAQ,6CAA6C;QAC1E,OAAO;YACL,iBAAiB;gBAAC;aAAe;YACjC,mBAAmB;QACrB;IACF,GAAG;QAAC;QAAgB,QAAQ,WAAW;QAAE;KAAe;IAExD,MAAM,iBAAiB,IAAA,6ZAAW,EAAC;QACjC,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D,GAAG,EAAE;IAEL,IAAA,2ZAAS,EAAC;QACR;IACF,GAAG;QAAC;QAAe;KAAe;IAElC,IAAA,2ZAAS,EAAC;QACR,IAAI,UAAU,SAAS,OAAO,EAAE;YAC9B,WAAW,IAAM,SAAS,OAAO,EAAE,SAAS;QAC9C;IACF,GAAG;QAAC;KAAO;IAEX,yCAAyC;IACzC,IAAA,2ZAAS,EAAC;QACR,MAAM,gBAAgB,CAAC;YACrB,IAAI,EAAE,GAAG,KAAK,YAAY,QAAQ;gBAChC,EAAE,cAAc;gBAChB;YACF;QACF;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,aAAa;QACjB,MAAM,UAAU,WAAW,IAAI,GAAG,MAAM,GAAG;QAC3C,MAAM,iBAAiB,eAAe,cAAc;QAEpD,IAAI,CAAC,WAAW,CAAC,gBAAgB;QAEjC,MAAM,cAAc,WAAW,IAAI;QACnC,MAAM,cAAc,eAAe,WAAW;QAE9C,8BAA8B;QAC9B,cAAc;QACd,eAAe,gBAAgB;QAC/B,mBAAmB,QAAQ,uCAAuC;QAElE,kDAAkD;QAClD,IAAI,iBAAiB;QACrB,IAAI,YAAY,MAAM,GAAG,GAAG;YAC1B,MAAM,kBAAkB,YAAY,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,EAAE,IAAI,CAAC;YAC1D,iBAAiB,cACb,GAAG,YAAY,eAAe,EAAE,gBAAgB,CAAC,CAAC,GAClD,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;QACtC;QAEA,mBAAmB;QACnB,MAAM,cAAc,eAAe,QAAQ;QAC3C,iBAAiB,CAAC,OAAS;mBACtB;gBACH;oBACE,IAAI,YAAY,EAAE;oBAClB,MAAM;oBACN,SAAS;oBACT,WAAW,YAAY,SAAS;gBAClC;aACD;QAED,YAAY;QAEZ,oCAAoC;QACpC,MAAM,oBAAoB,MAAM,eAAe,sBAAsB;QAErE,oFAAoF;QACpF,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;2BACL,cAAc,GAAG,CAAC,CAAC,IAAM,CAAC;gCAAE,MAAM,EAAE,IAAI;gCAAE,SAAS,EAAE,OAAO;4BAAC,CAAC;wBACjE;4BAAE,MAAM;4BAAQ,SAAS,eAAe;wBAAqC;qBAC9E;oBACD,OAAO;oBACP,aAAa;oBACb,YAAY;oBACZ,aAAa,kBAAkB,MAAM,GAAG,IAAI,oBAAoB;gBAClE;YACF;YAEA,IAAI,mBAAmB;YACvB,IAAI;YAEJ,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,mBAAmB,KAAK,OAAO,IAAI,KAAK,OAAO,IAAI;gBACnD,uCAAuC;gBACvC,IAAI,KAAK,SAAS,IAAI,MAAM,OAAO,CAAC,KAAK,SAAS,KAAK,KAAK,SAAS,CAAC,MAAM,GAAG,GAAG;oBAChF,YAAY,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,IAA0C,CAAC;4BACzE,MAAM,EAAE,IAAI;4BACZ,QAAQ,EAAE,MAAM,GAAG;gCAAE,SAAS;gCAAM,MAAM,EAAE,MAAM;4BAAC,IAAI;wBACzD,CAAC;gBACH;YACF;YAEA,MAAM,mBAAmB,eAAe,aAAa;YACrD,iBAAiB,CAAC,OAAS;uBACtB;oBACH;wBACE,IAAI,iBAAiB,EAAE;wBACvB,MAAM;wBACN,SAAS;wBACT,WAAW,iBAAiB,SAAS;wBACrC;oBACF;iBACD;YAED,yCAAyC;YACzC,IAAI,UAAU,cAAc,EAAE;gBAC5B,UAAU,aAAa,CAAC;YAC1B;QACF,EAAE,OAAM;YACN,MAAM,kBAAkB;YACxB,MAAM,mBAAmB,eAAe,aAAa;YACrD,iBAAiB,CAAC,OAAS;uBACtB;oBACH;wBACE,IAAI,iBAAiB,EAAE;wBACvB,MAAM;wBACN,SAAS;wBACT,WAAW,iBAAiB,SAAS;oBACvC;iBACD;YAED,qCAAqC;YACrC,IAAI,UAAU,cAAc,EAAE;gBAC5B,UAAU,aAAa,CAAC;YAC1B;QACF;QAEA,YAAY;IACd;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,MAAM,kBAAkB;QACtB;QACA,iBAAiB;YAAC;SAAe;QACjC,mBAAmB;IACrB;IAEA,sEAAsE;IACtE,MAAM,qBAAqB,IAAA,6ZAAW,EAAC,OAAO;QAC5C,IAAI,CAAC,KAAK,IAAI,IAAI;QAElB,MAAM,cAAc,KAAK,IAAI;QAC7B,mBAAmB,QAAQ,uCAAuC;QAElE,mBAAmB;QACnB,MAAM,cAAc,eAAe,QAAQ;QAC3C,iBAAiB,CAAC,OAAS;mBACtB;gBACH;oBACE,IAAI,YAAY,EAAE;oBAClB,MAAM;oBACN,SAAS;oBACT,WAAW,YAAY,SAAS;gBAClC;aACD;QAED,YAAY;QAEZ,oFAAoF;QACpF,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;2BACL,cAAc,GAAG,CAAC,CAAC,IAAM,CAAC;gCAAE,MAAM,EAAE,IAAI;gCAAE,SAAS,EAAE,OAAO;4BAAC,CAAC;wBACjE;4BAAE,MAAM;4BAAQ,SAAS;wBAAY;qBACtC;oBACD,OAAO;oBACP,aAAa;oBACb,YAAY;gBACd;YACF;YAEA,IAAI,mBAAmB;YACvB,IAAI;YAEJ,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,mBAAmB,KAAK,OAAO,IAAI,KAAK,OAAO,IAAI;gBACnD,uCAAuC;gBACvC,IAAI,KAAK,SAAS,IAAI,MAAM,OAAO,CAAC,KAAK,SAAS,KAAK,KAAK,SAAS,CAAC,MAAM,GAAG,GAAG;oBAChF,iBAAiB,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,IAA0C,CAAC;4BAC9E,MAAM,EAAE,IAAI;4BACZ,QAAQ,EAAE,MAAM,GAAG;gCAAE,SAAS;gCAAM,MAAM,EAAE,MAAM;4BAAC,IAAI;wBACzD,CAAC;gBACH;YACF;YAEA,MAAM,mBAAmB,eAAe,aAAa;YACrD,iBAAiB,CAAC,OAAS;uBACtB;oBACH;wBACE,IAAI,iBAAiB,EAAE;wBACvB,MAAM;wBACN,SAAS;wBACT,WAAW,iBAAiB,SAAS;wBACrC,WAAW;oBACb;iBACD;YAED,yCAAyC;YACzC,IAAI,UAAU,cAAc,EAAE;gBAC5B,UAAU,aAAa,CAAC;YAC1B;QACF,EAAE,OAAM;YACN,MAAM,kBAAkB;YACxB,MAAM,mBAAmB,eAAe,aAAa;YACrD,iBAAiB,CAAC,OAAS;uBACtB;oBACH;wBACE,IAAI,iBAAiB,EAAE;wBACvB,MAAM;wBACN,SAAS;wBACT,WAAW,iBAAiB,SAAS;oBACvC;iBACD;YAED,qCAAqC;YACrC,IAAI,UAAU,cAAc,EAAE;gBAC5B,UAAU,aAAa,CAAC;YAC1B;QACF;QAEA,YAAY;IACd,GAAG;QAAC;QAAe;QAAgB;QAAW;KAAkB;IAEhE,0DAA0D;IAC1D,MAAM,+BAA+B,IAAA,6ZAAW,EAAC;QAC/C,MAAM,YAAY,MAAM,cAAc,aAAa;QACnD,IAAI,CAAC,aAAa,UAAU,IAAI,KAAK,GAAG;YACtC;QACF;QAEA,kBAAkB;QAElB,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,SAAS,WAAW;YACpC,SAAS,MAAM,CAAC,YAAY;YAE5B,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;YAEpC,IAAI,QAAQ,KAAK,IAAI,IAAI;gBACvB,MAAM,mBAAmB,KAAK,IAAI;YACpC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD,SAAU;YACR,kBAAkB;QACpB;IACF,GAAG;QAAC;QAAe;KAAmB;IAEtC,yBAAyB;IACzB,MAAM,kBAAkB,IAAA,6ZAAW,EAAC;QAClC,IAAI,cAAc,WAAW,EAAE;YAC7B,MAAM;QACR,OAAO;YACL,MAAM,cAAc,cAAc;QACpC;IACF,GAAG;QAAC;QAAe;KAA6B;IAEhD,MAAM,gBAAgB,CAAC,GAA2C;QAChE,IAAI,KAAK,MAAM,CAAC,CAAC,GAAG,OAAO,KAAK,QAAQ,CAAC,CAAC,GAAG,KAAK;YAChD;QACF;IACF;IAEA,qBACE,ubAAC,wVAAe;;YACb,wBACC;;kCAEE,ubAAC,gVAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;wBAAE;wBACtB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,MAAM;4BAAE,SAAS;wBAAE;wBACnB,YAAY;4BAAE,UAAU;wBAAI;wBAC5B,SAAS;wBACT,WAAU;uBANN;;;;;kCAUN,ubAAC,gVAAM,CAAC,GAAG;wBAET,KAAK;wBACL,SAAS;4BAAE,GAAG;4BAAQ,SAAS;wBAAI;wBACnC,SAAS;4BAAE,GAAG;4BAAG,SAAS;wBAAE;wBAC5B,MAAM;4BAAE,GAAG;4BAAQ,SAAS;wBAAI;wBAChC,YACE,uBACI;4BAAE,UAAU;wBAAI,IAChB;4BAAE,MAAM;4BAAmB,SAAS;4BAAI,WAAW;wBAAI;wBAE7D,MAAK;wBACL,iBAAiB;4BAAE,KAAK;4BAAG,QAAQ;wBAAE;wBACrC,aAAa;wBACb,WAAW;wBACX,WAAU;wBACV,OAAO;4BAAE,eAAe;wBAAmC;wBAC3D,MAAK;wBACL,cAAW;wBACX,mBAAgB;wBAChB,oBAAiB;kCAGjB,cAAA,ubAAC;4BACC,WAAU;4BACV,OAAO;gCACL,gBAAgB;gCAChB,sBAAsB;gCACtB,WAAW;4BACb;;8CAGA,ubAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,YAAY;oCAAc;8CAEnC,cAAA,ubAAC;wCAAI,WAAU;;;;;;;;;;;8CAIjB,ubAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,YAAY;oCAA+B;;sDAEpD,ubAAC;4CAAI,WAAU;;8DACb,ubAAC,gKAAY;oDACX,MAAM;oDACN,UAAU,YAAY,UAAU,IAAI,KAAK;;;;;;8DAE3C,ubAAC;;sEACC,ubAAC;4DAAG,IAAG;4DAAoB,WAAU;sEAA0C;;;;;;sEAC/E,ubAAC;4DAAI,WAAU;;8EACb,ubAAC;oEAAI,WAAU;oEAAkD,eAAY;;;;;;8EAC7E,ubAAC;oEAAE,IAAG;oEAA0B,WAAU;8EAAgC;;;;;;;;;;;;;;;;;;;;;;;;sDAKhF,ubAAC;4CAAI,WAAU;;8DAEb,ubAAC,gVAAM,CAAC,MAAM;oDACZ,SAAS;oDACT,UAAU,mBAAmB,eAAe,MAAM,KAAK;oDACvD,WAAU;oDACV,YAAY;wDAAE,OAAO;oDAAI;oDACzB,UAAU;wDAAE,OAAO;oDAAK;oDACxB,cAAW;8DAEX,cAAA,ubAAC,iSAAK;wDAAC,WAAU;;;;;;;;;;;8DAInB,ubAAC,gVAAM,CAAC,MAAM;oDACZ,SAAS,UAAU,WAAW;oDAC9B,WAAW,CAAC,wDAAwD,EAClE,UAAU,cAAc,GAAG,mBAAmB,yBAC9C;oDACF,UAAU;wDAAE,OAAO;oDAAI;oDACvB,cAAY,UAAU,cAAc,GAAG,4BAA4B;8DAElE,UAAU,cAAc,iBACvB,ubAAC,2SAAO;wDAAC,WAAU;;;;;6EAEnB,ubAAC,2SAAO;wDAAC,WAAU;;;;;;;;;;;gDAItB,cAAc,MAAM,GAAG,mBACtB,ubAAC,gVAAM,CAAC,MAAM;oDACZ,SAAS;oDACT,WAAU;oDACV,UAAU;wDAAE,OAAO;oDAAI;oDACvB,cAAW;8DAEX,cAAA,ubAAC,wSAAM;wDAAC,WAAU;;;;;;;;;;;8DAGtB,ubAAC,gVAAM,CAAC,MAAM;oDACZ,SAAS;oDACT,WAAU;oDACV,UAAU;wDAAE,OAAO;oDAAI;oDACvB,cAAW;8DAEX,cAAA,ubAAC,uTAAW;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8CAM7B,ubAAC;oCACC,WAAU;oCACV,OAAO;wCACL,YAAY;oCACd;;wCAEC,cAAc,GAAG,CAAC,CAAC,SAAS,sBAC7B,ubAAC,gVAAM,CAAC,GAAG;gDAET,SAAS,uBAAuB,CAAC,IAAI;oDAAE,SAAS;oDAAG,GAAG;gDAAG;gDACzD,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;gDAC5B,YAAY;oDAAE,OAAO,QAAQ;gDAAK;gDAClC,WAAW,CAAC,KAAK,EAAE,QAAQ,IAAI,KAAK,SAAS,gBAAgB,iBAAiB;0DAE9E,cAAA,ubAAC;oDACC,WAAW,CAAC,kCAAkC,EAC5C,QAAQ,IAAI,KAAK,SACb,4BACA,2DACJ;oDACF,OAAO;wDACL,gBAAgB,QAAQ,IAAI,KAAK,cAAc,eAAe;wDAC9D,YAAY,QAAQ,IAAI,KAAK,SACzB,yFACA;wDACJ,WAAW,QAAQ,IAAI,KAAK,SACxB,+CACA;oDACN;8DAEC,QAAQ,IAAI,KAAK,4BAChB;;0EACE,ubAAC;gEAAI,WAAU;0EACb,cAAA,ubAAC,qRAAU;8EAAE,QAAQ,OAAO;;;;;;;;;;;4DAG7B,QAAQ,SAAS,IAAI,QAAQ,SAAS,CAAC,MAAM,GAAG,mBAC/C,ubAAC;gEAAI,WAAU;0EACZ,QAAQ,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,kBAC5B,ubAAC;wEAEC,WAAU;;4EAET,KAAK,MAAM,EAAE,wBACZ,ubAAC,iSAAK;gFAAC,WAAU;;;;;uFACf,KAAK,MAAM,EAAE,sBACf,ubAAC,uTAAW;gFAAC,WAAU;;;;;qGAEvB,ubAAC,oSAAM;gFAAC,WAAU;;;;;;4EAEnB,KAAK,IAAI,CAAC,OAAO,CAAC,MAAM;;uEAVpB,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,GAAG;;;;;;;;;;;qFAiBlC,ubAAC;wDAAE,WAAU;kEACV,QAAQ,OAAO;;;;;;;;;;;+CAlDjB,QAAQ,EAAE;;;;;sDA0DjB,ubAAC,wVAAe;sDACb,mBAAmB,iBAAiB,MAAM,GAAG,KAAK,cAAc,MAAM,IAAI,KAAK,CAAC,0BAC/E,ubAAC,gVAAM,CAAC,GAAG;gDACT,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAG;gDAC7B,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;gDAC5B,MAAM;oDAAE,SAAS;oDAAG,GAAG,CAAC;gDAAG;gDAC3B,WAAU;0DAET,iBAAiB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,QAAQ,kBACzC,ubAAC,gVAAM,CAAC,MAAM;wDAEZ,SAAS;4DACP,cAAc,OAAO,MAAM;4DAC3B,SAAS,OAAO,EAAE;wDACpB;wDACA,WAAU;wDACV,YAAY;4DAAE,OAAO;wDAAK;wDAC1B,UAAU;4DAAE,OAAO;wDAAK;wDACxB,SAAS;4DAAE,SAAS;4DAAG,OAAO;wDAAI;wDAClC,SAAS;4DAAE,SAAS;4DAAG,OAAO;wDAAE;wDAChC,YAAY;4DAAE,OAAO,IAAI;wDAAI;;0EAE7B,ubAAC,0SAAQ;gEAAC,WAAU;;;;;;4DACnB,OAAO,KAAK;;uDAbR;;;;;;;;;;;;;;;wCAqBd,0BACC,ubAAC,gVAAM,CAAC,GAAG;4CACT,SAAS;gDAAE,SAAS;gDAAG,GAAG;4CAAG;4CAC7B,SAAS;gDAAE,SAAS;gDAAG,GAAG;4CAAE;4CAC5B,WAAU;sDAEV,cAAA,ubAAC;gDAAI,WAAU;0DACb,cAAA,ubAAC;oDAAI,WAAU;;sEACb,ubAAC,gVAAM,CAAC,IAAI;4DACV,WAAU;4DACV,SAAS;gEAAE,GAAG;oEAAC;oEAAG,CAAC;oEAAG;iEAAE;4DAAC;4DACzB,YAAY;gEAAE,UAAU;gEAAK,QAAQ;gEAAU,OAAO;4DAAE;;;;;;sEAE1D,ubAAC,gVAAM,CAAC,IAAI;4DACV,WAAU;4DACV,SAAS;gEAAE,GAAG;oEAAC;oEAAG,CAAC;oEAAG;iEAAE;4DAAC;4DACzB,YAAY;gEAAE,UAAU;gEAAK,QAAQ;gEAAU,OAAO;4DAAK;;;;;;sEAE7D,ubAAC,gVAAM,CAAC,IAAI;4DACV,WAAU;4DACV,SAAS;gEAAE,GAAG;oEAAC;oEAAG,CAAC;oEAAG;iEAAE;4DAAC;4DACzB,YAAY;gEAAE,UAAU;gEAAK,QAAQ;gEAAU,OAAO;4DAAI;;;;;;;;;;;;;;;;;;;;;;sDAOpE,ubAAC;4CAAI,KAAK;;;;;;;;;;;;8CAIZ,ubAAC;oCACC,WAAU;oCACV,OAAO;wCACL,eAAe;wCACf,YAAY;oCACd;;sDAGA,ubAAC,wVAAe;sDACb,gCACC,ubAAC,gVAAM,CAAC,GAAG;gDACT,SAAS;oDAAE,SAAS;oDAAG,QAAQ;gDAAE;gDACjC,SAAS;oDAAE,SAAS;oDAAG,QAAQ;gDAAO;gDACtC,MAAM;oDAAE,SAAS;oDAAG,QAAQ;gDAAE;gDAC9B,WAAU;0DAEV,cAAA,ubAAC;oDAAI,WAAU;8DACb,cAAA,ubAAC;wDAAI,WAAU;;0EACb,ubAAC,gTAAO;gEAAC,WAAU;;;;;;0EACnB,ubAAC;gEAAK,WAAU;0EAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;sDAU1D,ubAAC,iKAAe;4CACd,UAAU,eAAe,YAAY;4CACrC,UAAU,eAAe,qBAAqB;4CAC9C,QAAQ,eAAe,mBAAmB;;;;;;sDAI5C,ubAAC,wVAAe;sDACb,eAAe,cAAc,kBAC5B,ubAAC,gVAAM,CAAC,GAAG;gDACT,SAAS;oDAAE,SAAS;oDAAG,QAAQ;gDAAE;gDACjC,SAAS;oDAAE,SAAS;oDAAG,QAAQ;gDAAO;gDACtC,MAAM;oDAAE,SAAS;oDAAG,QAAQ;gDAAE;gDAC9B,WAAU;0DAEV,cAAA,ubAAC,mKAAiB;oDAChB,aAAa,eAAe,WAAW;oDACvC,UAAU,eAAe,gBAAgB;oDACzC,gBAAgB,eAAe,cAAc;oDAC7C,SAAQ;;;;;;;;;;;;;;;;sDAMhB,ubAAC;4CAAI,WAAU;;8DAEb,ubAAC,gVAAM,CAAC,MAAM;oDACZ,SAAS,eAAe,cAAc;oDACtC,UAAU,kBAAkB,YAAY,cAAc,WAAW;oDACjE,YAAY;wDAAE,OAAO;oDAAK;oDAC1B,UAAU;wDAAE,OAAO;oDAAK;oDACxB,WAAU;oDACV,cAAW;8DAEX,cAAA,ubAAC,6SAAS;wDAAC,WAAU;;;;;;;;;;;gDAItB,cAAc,WAAW,kBACxB,ubAAC,gVAAM,CAAC,MAAM;oDACZ,SAAS;oDACT,UAAU,kBAAkB;oDAC5B,YAAY;wDAAE,OAAO;oDAAK;oDAC1B,UAAU;wDAAE,OAAO;oDAAK;oDACxB,WAAW,CAAC,8CAA8C,EACxD,cAAc,WAAW,GACrB,+CACA,iBACA,+BACA,0EACJ;oDACF,cAAY,cAAc,WAAW,GAAG,mBAAmB;8DAE1D,+BACC,ubAAC,gTAAO;wDAAC,WAAU;;;;;6EAEnB,ubAAC,2RAAG;wDAAC,WAAU;;;;;;;;;;;8DAMrB,ubAAC,wVAAe;oDAAC,MAAK;8DACnB,cAAc,WAAW,iBACxB,ubAAC,gVAAM,CAAC,GAAG;wDAET,WAAU;wDACV,SAAS;4DAAE,SAAS;wDAAE;wDACtB,SAAS;4DAAE,SAAS;wDAAE;wDACtB,MAAM;4DAAE,SAAS;wDAAE;kEAEnB,cAAA,ubAAC,sLAAuB;4DACtB,aAAa,cAAc,WAAW;4DACtC,UAAU,cAAc,QAAQ;4DAChC,aAAa,cAAc,WAAW;4DACtC,WAAU;;;;;;uDAVR;;;;6EAcN,ubAAC,gVAAM,CAAC,GAAG;wDAET,WAAU;wDACV,SAAS;4DAAE,SAAS;wDAAE;wDACtB,SAAS;4DAAE,SAAS;wDAAE;wDACtB,MAAM;4DAAE,SAAS;wDAAE;kEAEnB,cAAA,ubAAC;4DACC,KAAK;4DACL,MAAK;4DACL,OAAO;4DACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4DAC7C,WAAW;4DACX,aAAY;4DACZ,UAAU;4DACV,WAAU;4DACV,OAAO;gEACL,gBAAgB;4DAClB;;;;;;uDAjBE;;;;;;;;;;8DAwBV,ubAAC,wVAAe;8DACb,CAAC,cAAc,WAAW,kBACzB,ubAAC,gVAAM,CAAC,MAAM;wDACZ,SAAS;wDACT,UAAU,AAAC,CAAC,WAAW,IAAI,MAAM,CAAC,eAAe,cAAc,IAAK;wDACpE,YAAY,CAAC,WAAW,IAAI,MAAM,eAAe,cAAc,KAAK,CAAC,iBAAiB;4DAAE,OAAO;wDAAK,IAAI,CAAC;wDACzG,UAAU,CAAC,WAAW,IAAI,MAAM,eAAe,cAAc,KAAK,CAAC,iBAAiB;4DAAE,OAAO;wDAAK,IAAI,CAAC;wDACvG,SAAS;4DAAE,SAAS;4DAAG,OAAO;wDAAI;wDAClC,SAAS;4DAAE,SAAS;4DAAG,OAAO;wDAAE;wDAChC,MAAM;4DAAE,SAAS;4DAAG,OAAO;wDAAI;wDAC/B,WAAW,CAAC,8CAA8C,EACxD,CAAC,WAAW,IAAI,MAAM,eAAe,cAAc,KAAK,CAAC,iBACrD,uCACA,kCACJ;wDACF,OAAO,CAAC,WAAW,IAAI,MAAM,eAAe,cAAc,KAAK,CAAC,iBAAiB;4DAC/E,WAAW;wDACb,IAAI;wDACJ,cAAW;kEAEX,cAAA,ubAAC,8RAAI;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;sDAOxB,ubAAC,wVAAe;sDACb,CAAC,cAAc,KAAK,IAAI,UAAU,KAAK,mBACtC,ubAAC,gVAAM,CAAC,CAAC;gDACP,SAAS;oDAAE,SAAS;oDAAG,GAAG,CAAC;gDAAG;gDAC9B,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;gDAC5B,MAAM;oDAAE,SAAS;oDAAG,GAAG,CAAC;gDAAG;gDAC3B,WAAU;0DAET,cAAc,KAAK,EAAE,WAAW,UAAU,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;uBAtZxD;;;;;;;0BAiaV,ubAAC,mKAAY;gBAEX,QAAQ;gBACR,OAAO,UAAU,KAAK;gBACtB,eAAe;gBACf,SAAS;gBACT,gBAAgB,UAAU,cAAc;gBACxC,YAAY,UAAU,UAAU;gBAChC,UAAU,UAAU,QAAQ;eAPxB;;;;;0BAWN,ubAAC,yKAAe;gBAEd,QAAQ;gBACR,SAAS;gBACT,QAAQ,eAAe,MAAM,KAAK,SAAS,eAAe,eAAe,MAAM;gBAC/E,UAAU,eAAe,QAAQ;gBACjC,SAAS,eAAe,OAAO;gBAC/B,aAAa,eAAe,WAAW;gBACvC,iBAAiB,eAAe,eAAe;gBAC/C,eAAe,eAAe,aAAa;gBAC3C,cAAc,iBAAiB,UAAU;gBACzC,iBAAiB,iBAAiB,aAAa;gBAC/C,WAAW;eAXP;;;;;;;;;;;AAeZ"}},
    {"offset": {"line": 1803, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/StatusBar.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback } from 'react';\nimport { motion, useMotionValue, PanInfo } from 'framer-motion';\nimport { useControlCenter } from '@/context/ControlCenterContext';\nimport { cn } from '@/lib/utils';\n\ninterface StatusBarProps {\n  className?: string;\n}\n\n/**\n * StatusBar - Minimal invisible drag area for Control Center\n *\n * Super subtle - just an invisible touch/drag area at the very top\n * of the screen. Swipe down to open Control Center on any page.\n */\nexport function StatusBar({ className }: StatusBarProps) {\n  const { open, isOpen } = useControlCenter();\n  const y = useMotionValue(0);\n\n  const handleDragEnd = useCallback(\n    (_: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n      if (info.offset.y > 30 || info.velocity.y > 300) {\n        open();\n      }\n      y.set(0);\n    },\n    [open, y]\n  );\n\n  return (\n    <motion.div\n      className={cn(\n        'fixed top-0 left-0 right-0 z-[10000]',\n        'h-3', // Very small - just enough to drag\n        'cursor-ns-resize',\n        isOpen && 'pointer-events-none',\n        className\n      )}\n      style={{ y }}\n      drag=\"y\"\n      dragConstraints={{ top: 0, bottom: 0 }}\n      dragElastic={0.3}\n      onDragEnd={handleDragEnd}\n      aria-label=\"Drag down to open Control Center\"\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          open();\n        }\n      }}\n    >\n      {/* Invisible but draggable - only shows subtle indicator on hover */}\n      <div className=\"w-full h-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity\">\n        <div className=\"w-8 h-1 rounded-full bg-white/30\" />\n      </div>\n    </motion.div>\n  );\n}\n\nexport default StatusBar;\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAiBO,SAAS,UAAU,EAAE,SAAS,EAAkB;IACrD,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,2JAAgB;IACzC,MAAM,IAAI,IAAA,gVAAc,EAAC;IAEzB,MAAM,gBAAgB,IAAA,6ZAAW,EAC/B,CAAC,GAA2C;QAC1C,IAAI,KAAK,MAAM,CAAC,CAAC,GAAG,MAAM,KAAK,QAAQ,CAAC,CAAC,GAAG,KAAK;YAC/C;QACF;QACA,EAAE,GAAG,CAAC;IACR,GACA;QAAC;QAAM;KAAE;IAGX,qBACE,ubAAC,gVAAM,CAAC,GAAG;QACT,WAAW,IAAA,yHAAE,EACX,wCACA,OACA,oBACA,UAAU,uBACV;QAEF,OAAO;YAAE;QAAE;QACX,MAAK;QACL,iBAAiB;YAAE,KAAK;YAAG,QAAQ;QAAE;QACrC,aAAa;QACb,WAAW;QACX,cAAW;QACX,MAAK;QACL,UAAU;QACV,WAAW,CAAC;YACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;gBACtC;YACF;QACF;kBAGA,cAAA,ubAAC;YAAI,WAAU;sBACb,cAAA,ubAAC;gBAAI,WAAU;;;;;;;;;;;;;;;;AAIvB;uCAEe"}},
    {"offset": {"line": 1878, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/ControlCenterAuth.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { User } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface QuickTileProps {\n  icon: React.ReactNode;\n  label: string;\n  sublabel?: string;\n  onClick?: () => void;\n  className?: string;\n}\n\nfunction QuickTile({ icon, label, sublabel, onClick, className }: QuickTileProps) {\n  return (\n    <button\n      onClick={onClick}\n      className={cn(\n        'flex flex-col items-center justify-center p-3 rounded-2xl',\n        'transition-all duration-200',\n        'hover:scale-105',\n        'active:scale-95',\n        'focus:outline-none focus-visible:ring-2',\n        className\n      )}\n      style={{\n        backgroundColor: 'hsl(var(--theme-card))',\n        border: '1px solid hsl(var(--theme-border) / 0.3)',\n      }}\n    >\n      <div className=\"mb-1\" style={{ color: 'hsl(var(--theme-foreground) / 0.8)' }}>{icon}</div>\n      <span className=\"text-[11px] font-medium\" style={{ color: 'hsl(var(--theme-foreground) / 0.9)' }}>{label}</span>\n      {sublabel && <span className=\"text-[9px]\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{sublabel}</span>}\n    </button>\n  );\n}\n\n// Single-user mode - no authentication needed\nexport function ControlCenterAuth() {\n  return (\n    <div\n      className=\"flex flex-col items-center justify-center p-3 rounded-2xl\"\n      style={{\n        backgroundColor: 'hsl(var(--theme-primary) / 0.15)',\n        border: '1px solid hsl(var(--theme-primary) / 0.3)',\n      }}\n    >\n      <User className=\"w-8 h-8\" style={{ color: 'hsl(var(--theme-primary))' }} />\n      <span className=\"text-[10px] mt-1.5\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Owner</span>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAcA,SAAS,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAkB;IAC9E,qBACE,ubAAC;QACC,SAAS;QACT,WAAW,IAAA,yHAAE,EACX,6DACA,+BACA,mBACA,mBACA,2CACA;QAEF,OAAO;YACL,iBAAiB;YACjB,QAAQ;QACV;;0BAEA,ubAAC;gBAAI,WAAU;gBAAO,OAAO;oBAAE,OAAO;gBAAqC;0BAAI;;;;;;0BAC/E,ubAAC;gBAAK,WAAU;gBAA0B,OAAO;oBAAE,OAAO;gBAAqC;0BAAI;;;;;;YAClG,0BAAY,ubAAC;gBAAK,WAAU;gBAAa,OAAO;oBAAE,OAAO;gBAAqC;0BAAI;;;;;;;;;;;;AAGzG;AAGO,SAAS;IACd,qBACE,ubAAC;QACC,WAAU;QACV,OAAO;YACL,iBAAiB;YACjB,QAAQ;QACV;;0BAEA,ubAAC,8RAAI;gBAAC,WAAU;gBAAU,OAAO;oBAAE,OAAO;gBAA4B;;;;;;0BACtE,ubAAC;gBAAK,WAAU;gBAAqB,OAAO;oBAAE,OAAO;gBAAqC;0BAAG;;;;;;;;;;;;AAGnG"}},
    {"offset": {"line": 1978, "column": 0}, "map": {"version":3,"sources":["file:///Users/jamesspalding/OpenClaw-OS/src/components/ios/ControlCenter.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence, PanInfo } from 'framer-motion';\nimport { useControlCenter } from '@/context/ControlCenterContext';\nimport { useTheme } from 'next-themes';\nimport { useMusic } from '@/context/MusicContext';\nimport { usePerformanceMetrics } from '@/hooks/usePerformanceMetrics';\nimport { cn } from '@/lib/utils';\nimport {\n  Sun,\n  Moon,\n  Cloud,\n  Zap,\n  Bell,\n  BellOff,\n  Palette,\n  Github,\n  Music,\n  Settings,\n  X,\n  Play,\n  Pause,\n  SkipForward,\n  SkipBack,\n  Type,\n  Volume2,\n  Download,\n  Cpu,\n  Wifi,\n} from 'lucide-react';\nimport { useProviderStatus } from '@/hooks/useProviderStatus';\nimport { ControlCenterAuth } from './ControlCenterAuth';\n\n// Check if Clerk is configured\nconst isClerkConfigured = typeof window !== 'undefined'\n  ? !!process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY\n  : !!process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY;\n\n\n\ninterface ControlCenterProps {\n  className?: string;\n}\n\nexport function ControlCenter({ className }: ControlCenterProps) {\n  const { isOpen, close } = useControlCenter();\n  const { theme, setTheme } = useTheme();\n  const { isPlaying, currentTrack, togglePlay, skipToNext, skipToPrevious } = useMusic();\n  const { metrics } = usePerformanceMetrics();\n  const { providerType, status, latencyMs, getStatusColor, getProviderDisplayName } = useProviderStatus();\n\n  const [currentTime, setCurrentTime] = useState<string>('');\n  const [currentDate, setCurrentDate] = useState<string>('');\n  const [weather, setWeather] = useState<{ temp: number; condition: string } | null>(null);\n  const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n  const [isInstallable, setIsInstallable] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [textSize, setTextSize] = useState(100); // percentage\n  const [volume, setVolume] = useState(75); // percentage\n\n  interface BeforeInstallPromptEvent extends Event {\n    prompt: () => Promise<void>;\n    userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n  }\n\n  // Update time every second\n  useEffect(() => {\n    const updateTime = () => {\n      const now = new Date();\n      setCurrentTime(\n        now.toLocaleTimeString('en-IE', {\n          hour: '2-digit',\n          minute: '2-digit',\n          hour12: false,\n        })\n      );\n      setCurrentDate(\n        now.toLocaleDateString('en-IE', {\n          weekday: 'long',\n          day: 'numeric',\n          month: 'long',\n        })\n      );\n    };\n\n    updateTime();\n    const interval = setInterval(updateTime, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Fetch weather (simplified - Dublin weather)\n  useEffect(() => {\n    // Simulated weather for Dublin - in production would fetch from API\n    setWeather({ temp: 8, condition: 'cloudy' });\n  }, []);\n\n\n  const handleInstall = useCallback(async () => {\n    if (!deferredPrompt) return;\n    try {\n      await deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      if (outcome === 'accepted') {\n        setIsInstallable(false);\n        setDeferredPrompt(null);\n      }\n    } catch (error) {\n      console.error('Error showing install prompt:', error);\n    }\n  }, [deferredPrompt]);\n\n  // Get performance status\n  const getSpeedStatus = () => {\n    const ms = metrics.primaryMetric;\n    if (ms === null) return { text: 'Measuring...', color: 'text-neutral-400', ms: null };\n    if (ms < 1000) return { text: 'Fast', color: 'text-emerald-400', ms };\n    if (ms < 2000) return { text: 'Good', color: 'text-yellow-400', ms };\n    if (ms < 3000) return { text: 'Moderate', color: 'text-orange-400', ms };\n    return { text: 'Slow', color: 'text-red-400', ms };\n  };\n\n  const speedStatus = getSpeedStatus();\n\n  // Close on escape\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        close();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, close]);\n\n  const handleDragEnd = useCallback(\n    (_: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n      if (info.offset.y < -100 || info.velocity.y < -500) {\n        close();\n      }\n    },\n    [close]\n  );\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            className=\"fixed inset-0 z-[9998] backdrop-blur-md\"\n            style={{ backgroundColor: 'hsl(var(--theme-foreground) / 0.4)' }}\n            onClick={close}\n          />\n\n          {/* Control Center Panel */}\n          <motion.div\n            initial={{ y: '-100%', opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            exit={{ y: '-100%', opacity: 0 }}\n            transition={{\n              type: 'spring',\n              stiffness: 300,\n              damping: 30,\n            }}\n            drag=\"y\"\n            dragConstraints={{ top: 0, bottom: 0 }}\n            dragElastic={{ top: 0.1, bottom: 0.3 }}\n            onDragEnd={handleDragEnd}\n            className={cn(\n              'fixed top-0 left-0 right-0 z-[9999]',\n              'max-h-[85vh] overflow-y-auto',\n              'rounded-b-[32px]',\n              'backdrop-blur-2xl',\n              className\n            )}\n            style={{\n              backgroundColor: 'hsl(var(--theme-background) / 0.97)',\n              borderBottom: '1px solid hsl(var(--theme-border) / 0.3)',\n              boxShadow: '0 25px 50px -12px hsl(var(--theme-foreground) / 0.25)',\n            }}\n          >\n            {/* Drag Handle */}\n            <div className=\"flex justify-center pt-2 pb-1\">\n              <div className=\"w-10 h-1 rounded-full\" style={{ backgroundColor: 'hsl(var(--theme-foreground) / 0.3)' }} />\n            </div>\n\n            {/* Close Button */}\n            <button\n              onClick={close}\n              className=\"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all\"\n              style={{\n                backgroundColor: 'hsl(var(--theme-muted))',\n                color: 'hsl(var(--theme-muted-foreground))',\n              }}\n              aria-label=\"Close Control Center\"\n            >\n              <X size={16} />\n            </button>\n\n            {/* Main Content */}\n            <div className=\"px-5 pb-8\">\n              {/* Date & Time Display - iPhone Style */}\n              <div className=\"text-center pt-4 pb-6\">\n                <p className=\"text-sm font-medium tracking-wide\" style={{ color: 'hsl(var(--theme-primary) / 0.8)' }}>\n                  {currentDate}\n                </p>\n                <p\n                  className=\"text-7xl font-extralight tabular-nums tracking-tight mt-1\"\n                  style={{\n                    fontFeatureSettings: '\"tnum\"',\n                    color: 'hsl(var(--theme-primary) / 0.9)',\n                  }}\n                >\n                  {currentTime}\n                </p>\n              </div>\n\n              {/* Top Row - Account, Speed, Install */}\n              <div className=\"grid grid-cols-3 gap-3 mb-4\">\n                {/* Account / Sign In */}\n                {isClerkConfigured ? (\n                  <ControlCenterAuth />\n                ) : (\n                  <QuickTile\n                    icon={<Github size={20} />}\n                    label=\"GitHub\"\n                    sublabel=\"Profile\"\n                    onClick={() => window.open('https://github.com/PodJamz', '_blank')}\n                  />\n                )}\n\n                {/* Speed */}\n                <QuickTile\n                  icon={<Zap size={20} className={speedStatus.color} />}\n                  label={speedStatus.text}\n                  sublabel={speedStatus.ms ? `${Math.round(speedStatus.ms)}ms` : '...'}\n                />\n\n                {/* Install App */}\n                {isInstallable ? (\n                  <QuickTile\n                    icon={<Download size={20} />}\n                    label=\"Install\"\n                    sublabel=\"Add App\"\n                    onClick={handleInstall}\n                    active\n                  />\n                ) : (\n                  <QuickTile\n                    icon={<Download size={20} style={{ opacity: 0.3 }} />}\n                    label=\"Installed\"\n                    sublabel=\"\"\n                    disabled\n                  />\n                )}\n              </div>\n\n              {/* Sliders Row - iOS style */}\n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                {/* Text Size Slider */}\n                <div\n                  className=\"rounded-2xl p-3\"\n                  style={{\n                    backgroundColor: 'hsl(var(--theme-card))',\n                    border: '1px solid hsl(var(--theme-border) / 0.3)',\n                  }}\n                >\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Type size={14} style={{ color: 'hsl(var(--theme-muted-foreground))' }} />\n                    <span className=\"text-[10px] uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Text Size</span>\n                  </div>\n                  <input\n                    type=\"range\"\n                    min=\"75\"\n                    max=\"150\"\n                    value={textSize}\n                    onChange={(e) => setTextSize(Number(e.target.value))}\n                    className=\"w-full h-8 appearance-none rounded-full cursor-pointer\n                      [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6\n                      [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:shadow-lg\"\n                    style={{\n                      backgroundColor: 'hsl(var(--theme-muted))',\n                    }}\n                  />\n                  <p className=\"text-xs text-center mt-1\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{textSize}%</p>\n                </div>\n\n                {/* Volume Slider */}\n                <div\n                  className=\"rounded-2xl p-3\"\n                  style={{\n                    backgroundColor: 'hsl(var(--theme-card))',\n                    border: '1px solid hsl(var(--theme-border) / 0.3)',\n                  }}\n                >\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Volume2 size={14} style={{ color: 'hsl(var(--theme-muted-foreground))' }} />\n                    <span className=\"text-[10px] uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>Volume</span>\n                  </div>\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={volume}\n                    onChange={(e) => setVolume(Number(e.target.value))}\n                    className=\"w-full h-8 appearance-none rounded-full cursor-pointer\n                      [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6\n                      [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:shadow-lg\"\n                    style={{\n                      backgroundColor: 'hsl(var(--theme-muted))',\n                    }}\n                  />\n                  <p className=\"text-xs text-center mt-1\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{volume}%</p>\n                </div>\n              </div>\n\n              {/* Quick Controls Grid */}\n              <div className=\"grid grid-cols-5 gap-2 mb-5\">\n                {/* AI Provider Status */}\n                <QuickTile\n                  icon={\n                    providerType === 'lynkr' ? (\n                      <Wifi size={20} style={{ color: getStatusColor() }} />\n                    ) : providerType === 'local' ? (\n                      <Cpu size={20} style={{ color: getStatusColor() }} />\n                    ) : (\n                      <Cloud size={20} style={{ color: getStatusColor() }} />\n                    )\n                  }\n                  label={getProviderDisplayName()}\n                  sublabel={status === 'connected' && latencyMs ? `${latencyMs}ms` : status}\n                  active={status === 'connected'}\n                  onClick={() => {\n                    close();\n                    window.location.href = '/settings/ai';\n                  }}\n                />\n\n                {/* Weather */}\n                <QuickTile\n                  icon={<Cloud size={20} />}\n                  label={weather ? `${weather.temp}C` : '...'}\n                  sublabel=\"Dublin\"\n                />\n\n                {/* Theme Toggle */}\n                <QuickTile\n                  icon={theme === 'dark' ? <Moon size={20} /> : <Sun size={20} />}\n                  label=\"Theme\"\n                  sublabel={theme === 'dark' ? 'Dark' : 'Light'}\n                  onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}\n                />\n\n                {/* Notifications */}\n                <QuickTile\n                  icon={\n                    notificationsEnabled ? (\n                      <Bell size={20} />\n                    ) : (\n                      <BellOff size={20} className=\"text-red-400\" />\n                    )\n                  }\n                  label=\"Alerts\"\n                  sublabel={notificationsEnabled ? 'On' : 'Off'}\n                  onClick={() => setNotificationsEnabled(!notificationsEnabled)}\n                  active={notificationsEnabled}\n                />\n\n                {/* Design */}\n                <QuickTile\n                  icon={<Palette size={20} />}\n                  label=\"Design\"\n                  sublabel=\"Themes\"\n                  onClick={() => {\n                    close();\n                    window.location.href = '/design';\n                  }}\n                />\n              </div>\n\n              {/* Music Player Widget */}\n              <div className=\"mb-5\">\n                <div\n                  className=\"rounded-2xl p-4\"\n                  style={{\n                    backgroundColor: 'hsl(var(--theme-card))',\n                    border: '1px solid hsl(var(--theme-border) / 0.3)',\n                  }}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                      {/* Album Art / Music Icon */}\n                      <div\n                        className=\"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0\"\n                        style={{\n                          background:\n                            'linear-gradient(135deg, hsl(var(--theme-primary)) 0%, hsl(var(--theme-accent)) 100%)',\n                        }}\n                      >\n                        {currentTrack.albumArt ? (\n                          // eslint-disable-next-line @next/next/no-img-element\n                          <img\n                            src={currentTrack.albumArt}\n                            alt={currentTrack.title}\n                            className=\"w-full h-full object-cover rounded-xl\"\n                          />\n                        ) : (\n                          <Music size={20} style={{ color: 'hsl(var(--theme-primary-foreground))' }} />\n                        )}\n                      </div>\n\n                      {/* Track Info */}\n                      <div className=\"min-w-0\">\n                        <p className=\"text-sm font-medium truncate\" style={{ color: 'hsl(var(--theme-foreground))' }}>\n                          {currentTrack.title || 'Not Playing'}\n                        </p>\n                        <p className=\"text-xs truncate\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>\n                          {currentTrack.artist || 'Select a track'}\n                        </p>\n                      </div>\n                    </div>\n\n                    {/* Controls */}\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={skipToPrevious}\n                        className=\"w-8 h-8 rounded-full flex items-center justify-center transition-all\"\n                        style={{\n                          backgroundColor: 'hsl(var(--theme-muted))',\n                          color: 'hsl(var(--theme-foreground) / 0.7)',\n                        }}\n                        aria-label=\"Previous track\"\n                      >\n                        <SkipBack size={14} fill=\"currentColor\" />\n                      </button>\n                      <button\n                        onClick={togglePlay}\n                        className=\"w-10 h-10 rounded-full flex items-center justify-center transition-all\"\n                        style={{\n                          backgroundColor: 'hsl(var(--theme-primary))',\n                          color: 'hsl(var(--theme-primary-foreground))',\n                        }}\n                        aria-label={isPlaying ? 'Pause' : 'Play'}\n                      >\n                        {isPlaying ? (\n                          <Pause size={18} fill=\"currentColor\" />\n                        ) : (\n                          <Play size={18} fill=\"currentColor\" className=\"ml-0.5\" />\n                        )}\n                      </button>\n                      <button\n                        onClick={skipToNext}\n                        className=\"w-8 h-8 rounded-full flex items-center justify-center transition-all\"\n                        style={{\n                          backgroundColor: 'hsl(var(--theme-muted))',\n                          color: 'hsl(var(--theme-foreground) / 0.7)',\n                        }}\n                        aria-label=\"Next track\"\n                      >\n                        <SkipForward size={14} fill=\"currentColor\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Recent Updates / Notifications */}\n              <div className=\"mb-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h3 className=\"text-xs font-medium uppercase tracking-wider\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>\n                    Recent Updates\n                  </h3>\n                  <button className=\"text-[10px] transition-colors\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>\n                    Clear\n                  </button>\n                </div>\n                <div className=\"space-y-2\">\n                  <NotificationCard\n                    icon={<Zap size={14} className=\"text-emerald-400\" />}\n                    title=\"Claw AI OS\"\n                    message=\"New Control Center deployed\"\n                    time=\"Just now\"\n                  />\n                  <NotificationCard\n                    icon={<Github size={14} style={{ color: 'hsl(var(--theme-foreground))' }} />}\n                    title=\"GitHub\"\n                    message=\"3 new commits to main branch\"\n                    time=\"2h ago\"\n                  />\n                </div>\n              </div>\n\n              {/* Quick Launch Apps */}\n              <div className=\"pt-2\" style={{ borderTop: '1px solid hsl(var(--theme-border) / 0.3)' }}>\n                <div className=\"flex justify-center gap-6 pt-3\">\n                  <AppIcon\n                    icon={<Github size={22} />}\n                    label=\"GitHub\"\n                    onClick={() => window.open('https://github.com/PodJamz', '_blank')}\n                  />\n                  <AppIcon\n                    icon={<Music size={22} />}\n                    label=\"Music\"\n                    onClick={() => {\n                      close();\n                      window.location.href = '/music';\n                    }}\n                  />\n                  <AppIcon\n                    icon={<Cloud size={22} />}\n                    label=\"Weather\"\n                    onClick={() => {\n                      // Could show weather widget\n                    }}\n                  />\n                  <AppIcon\n                    icon={<Settings size={22} />}\n                    label=\"Settings\"\n                    onClick={() => {\n                      // Could open settings\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n}\n\n// Quick Access Tile Component\ninterface QuickTileProps {\n  icon: React.ReactNode;\n  label: string;\n  sublabel?: string;\n  onClick?: () => void;\n  className?: string;\n  active?: boolean;\n  disabled?: boolean;\n}\n\nfunction QuickTile({ icon, label, sublabel, onClick, className, active, disabled }: QuickTileProps) {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className={cn(\n        'flex flex-col items-center justify-center p-3 rounded-2xl',\n        'transition-all duration-200',\n        'hover:scale-105',\n        'active:scale-95',\n        'focus:outline-none focus-visible:ring-2',\n        disabled && 'opacity-50 cursor-not-allowed',\n        className\n      )}\n      style={{\n        backgroundColor: active ? 'hsl(var(--theme-primary) / 0.2)' : 'hsl(var(--theme-card))',\n        border: '1px solid hsl(var(--theme-border) / 0.3)',\n      }}\n    >\n      <div className=\"mb-1\" style={{ color: active ? 'hsl(var(--theme-primary))' : 'hsl(var(--theme-foreground) / 0.8)' }}>{icon}</div>\n      <span className=\"text-[11px] font-medium\" style={{ color: 'hsl(var(--theme-foreground) / 0.9)' }}>{label}</span>\n      {sublabel && <span className=\"text-[9px]\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{sublabel}</span>}\n    </button>\n  );\n}\n\n// Notification Card Component\ninterface NotificationCardProps {\n  icon: React.ReactNode;\n  title: string;\n  message: string;\n  time: string;\n}\n\nfunction NotificationCard({ icon, title, message, time }: NotificationCardProps) {\n  return (\n    <div\n      className=\"flex items-start gap-3 p-3 rounded-xl\"\n      style={{\n        backgroundColor: 'hsl(var(--theme-card))',\n        border: '1px solid hsl(var(--theme-border) / 0.3)',\n      }}\n    >\n      <div\n        className=\"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\"\n        style={{ backgroundColor: 'hsl(var(--theme-muted))' }}\n      >\n        {icon}\n      </div>\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <span className=\"text-xs font-medium\" style={{ color: 'hsl(var(--theme-foreground) / 0.9)' }}>{title}</span>\n          <span className=\"text-[10px]\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{time}</span>\n        </div>\n        <p className=\"text-[11px] mt-0.5 truncate\" style={{ color: 'hsl(var(--theme-muted-foreground))' }}>{message}</p>\n      </div>\n    </div>\n  );\n}\n\n// App Icon Component\ninterface AppIconProps {\n  icon: React.ReactNode;\n  label: string;\n  onClick?: () => void;\n}\n\nfunction AppIcon({ icon, label, onClick }: AppIconProps) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"flex flex-col items-center gap-1.5 group\"\n      aria-label={label}\n    >\n      <div\n        className=\"w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-200 group-hover:scale-110 group-active:scale-95\"\n        style={{\n          backgroundColor: 'hsl(var(--theme-primary) / 0.2)',\n          color: 'hsl(var(--theme-primary))',\n        }}\n      >\n        {icon}\n      </div>\n      <span\n        className=\"text-[10px] transition-colors\"\n        style={{ color: 'hsl(var(--theme-muted-foreground))' }}\n      >\n        {label}\n      </span>\n    </button>\n  );\n}\n\nexport default ControlCenter;\n"],"names":[],"mappings":"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"}}]
}